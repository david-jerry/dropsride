/*! For license information please see 186.7454792c.js.LICENSE.txt */
(self.webpackChunkdropsride=self.webpackChunkdropsride||[]).push([[186],{4394:(e,t,r)=>{"use strict";function n(e){if(e.includes("full"))return.99;if(e.includes("half"))return.5;if(!e.includes("threshold"))return 0;let t=e[e.indexOf("threshold")+1];return"100"===t?1:"0"===t?0:Number(`.${t}`)}function o(e){let t=e.match(/^(-?[0-9]+)(px|%)?$/);return t?t[1]+(t[2]||"px"):void 0}function i(e){const t="0px 0px 0px 0px",r=e.indexOf("margin");if(-1===r)return t;let n=[];for(let t=1;t<5;t++)n.push(o(e[r+t]||""));return n=n.filter((e=>void 0!==e)),n.length?n.join(" ").trim():t}r.d(t,{Z:()=>s});var s=function(e){e.directive("intersect",((e,{value:t,expression:r,modifiers:o},{evaluateLater:s,cleanup:a})=>{let l=s(r),c={rootMargin:i(o),threshold:n(o)},h=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting!==("leave"===t)&&(l(),o.includes("once")&&h.disconnect())}))}),c);h.observe(e),a((()=>{h.disconnect()}))}))}},886:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _asyncIterator(e){var t,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator(e)}var REACT_ELEMENT_TYPE;function _jsx(e,t,r,n){REACT_ELEMENT_TYPE||(REACT_ELEMENT_TYPE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var s=new Array(i),a=0;a<i;a++)s[a]=arguments[a+3];t.children=s}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:REACT_ELEMENT_TYPE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _wrapRegExp(){_wrapRegExp=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),_setPrototypeOf(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce((function(t,r){return t[r]=e[n[r]],t}),Object.create(null))}return _inherits(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+i[t]})))}if("function"==typeof o){var s=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,s)),o.apply(this,e)}))}return e[Symbol.replace].call(this,r,o)},_wrapRegExp.apply(this,arguments)}function _AwaitValue(e){this.wrapped=e}function _AsyncGenerator(e){var t,r;function n(t,r){try{var i=e[t](r),s=i.value,a=s instanceof _AwaitValue;Promise.resolve(a?s.wrapped:s).then((function(e){a?n("return"===t?"return":"next",e):o(i.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,o){return new Promise((function(i,s){var a={key:e,arg:o,resolve:i,reject:s,next:null};r?r=r.next=a:(t=r=a,n(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function _wrapAsyncGenerator(e){return function(){return new _AsyncGenerator(e.apply(this,arguments))}}function _awaitAsyncGenerator(e){return new _AwaitValue(e)}function _asyncGeneratorDelegate(e,t){var r={},n=!1;function o(r,o){return n=!0,o=new Promise((function(t){t(e[r](o))})),{done:!1,value:t(o)}}return r["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},r.next=function(e){return n?(n=!1,e):o("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return o("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return n?(n=!1,e):o("return",e)}),r}function asyncGeneratorStep(e,t,r,n,o,i,s){try{var a=e[i](s),l=a.value}catch(e){return void r(e)}a.done?t(l):Promise.resolve(l).then(n,o)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){asyncGeneratorStep(i,n,o,s,a,"next",e)}function a(e){asyncGeneratorStep(i,n,o,s,a,"throw",e)}s(void 0)}))}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineEnumerableProperties(e,t){for(var r in t)(i=t[r]).configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r,i);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(t),o=0;o<n.length;o++){var i,s=n[o];(i=t[s]).configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s,i)}return e}function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_extends.apply(this,arguments)}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach((function(t){_defineProperty(e,t,r[t])}))}return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_setPrototypeOf(e,t)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _construct(e,t,r){return _construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&_setPrototypeOf(o,r.prototype),o},_construct.apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(r,e)},_wrapNativeSuper(e)}function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function _newArrowCheck(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,o=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=_superPropBase(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},_get.apply(this,arguments)}function set(e,t,r,n){return set="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,r,n){var o,i=_superPropBase(e,t);if(i){if((o=Object.getOwnPropertyDescriptor(i,t)).set)return o.set.call(n,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(n,t)){if(!o.writable)return!1;o.value=r,Object.defineProperty(n,t,o)}else _defineProperty(n,t,r);return!0},set(e,t,r,n)}function _set(e,t,r,n,o){if(!set(e,t,r,n||e)&&o)throw new Error("failed to set property");return r}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _taggedTemplateLiteralLoose(e,t){return t||(t=e.slice(0)),e.raw=t,e}function _readOnlyError(e){throw new TypeError('"'+e+'" is read-only')}function _writeOnlyError(e){throw new TypeError('"'+e+'" is write-only')}function _classNameTDZError(e){throw new Error('Class "'+e+'" cannot be referenced in computed property keys.')}function _temporalUndefined(){}function _tdz(e){throw new ReferenceError(e+" is not defined - temporal dead zone")}function _temporalRef(e,t){return e===_temporalUndefined?_tdz(t):e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _slicedToArrayLoose(e,t){return _arrayWithHoles(e)||_iterableToArrayLimitLoose(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _maybeArrayLike(e,t,r){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var n=t.length;return _arrayLikeToArray(t,void 0!==r&&r<n?r:n)}return e(t,r)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}}function _iterableToArrayLimitLoose(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n=[];for(r=r.call(e),_step;!(_step=r.next()).done&&(n.push(_step.value),!t||n.length!==t););return n}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function _createForOfIteratorHelperLoose(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _skipFirstGeneratorNext(e){return function(){var t=e.apply(this,arguments);return t.next(),t}}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}function _initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _applyDecoratedDescriptor(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}_AsyncGenerator.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},_AsyncGenerator.prototype.next=function(e){return this._invoke("next",e)},_AsyncGenerator.prototype.throw=function(e){return this._invoke("throw",e)},_AsyncGenerator.prototype.return=function(e){return this._invoke("return",e)};var id=0;function _classPrivateFieldLooseKey(e){return"__private_"+id+++"_"+e}function _classPrivateFieldLooseBase(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}function _classPrivateFieldGet(e,t){return _classApplyDescriptorGet(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateFieldSet(e,t,r){return _classApplyDescriptorSet(e,_classExtractFieldDescriptor(e,t,"set"),r),r}function _classPrivateFieldDestructureSet(e,t){return _classApplyDescriptorDestructureSet(e,_classExtractFieldDescriptor(e,t,"set"))}function _classExtractFieldDescriptor(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function _classStaticPrivateFieldSpecGet(e,t,r){return _classCheckPrivateStaticAccess(e,t),_classCheckPrivateStaticFieldDescriptor(r,"get"),_classApplyDescriptorGet(e,r)}function _classStaticPrivateFieldSpecSet(e,t,r,n){return _classCheckPrivateStaticAccess(e,t),_classCheckPrivateStaticFieldDescriptor(r,"set"),_classApplyDescriptorSet(e,r,n),n}function _classStaticPrivateMethodGet(e,t,r){return _classCheckPrivateStaticAccess(e,t),r}function _classStaticPrivateMethodSet(){throw new TypeError("attempted to set read only static private field")}function _classApplyDescriptorGet(e,t){return t.get?t.get.call(e):t.value}function _classApplyDescriptorSet(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function _classApplyDescriptorDestructureSet(e,t){if(t.set)return"__destrObj"in t||(t.__destrObj={set value(r){t.set.call(e,r)}}),t.__destrObj;if(!t.writable)throw new TypeError("attempted to set read only private field");return t}function _classStaticPrivateFieldDestructureSet(e,t,r){return _classCheckPrivateStaticAccess(e,t),_classCheckPrivateStaticFieldDescriptor(r,"set"),_classApplyDescriptorDestructureSet(e,r)}function _classCheckPrivateStaticAccess(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function _classCheckPrivateStaticFieldDescriptor(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function _decorate(e,t,r,n){var o=_getDecoratorsApi();if(n)for(var i=0;i<n.length;i++)o=n[i](o);var s=t((function(e){o.initializeInstanceElements(e,a.elements)}),r),a=o.decorateClass(_coalesceClassElements(s.d.map(_createElementDescriptor)),e);return o.initializeClassElements(s.F,a.elements),o.runClassFinishers(s.F,a.finishers)}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(r){t.forEach((function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r=e.prototype;["method","field"].forEach((function(n){t.forEach((function(t){var o=t.placement;if(t.kind===n&&("static"===o||"prototype"===o)){var i="static"===o?e:r;this.defineClassElement(i,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var n=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===n?void 0:n.call(e)}}Object.defineProperty(e,t.key,r)},decorateClass:function(e,t){var r=[],n=[],o={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,o)}),this),e.forEach((function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,o);r.push(t.element),r.push.apply(r,t.extras),n.push.apply(n,t.finishers)}),this),!t)return{elements:r,finishers:n};var i=this.decorateConstructor(r,t);return n.push.apply(n,i.finishers),i.finishers=n,i},addElementPlacement:function(e,t,r){var n=t[e.placement];if(!r&&-1!==n.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");n.push(e.key)},decorateElement:function(e,t){for(var r=[],n=[],o=e.decorators,i=o.length-1;i>=0;i--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,o[i])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&n.push(l.finisher);var c=l.extras;if(c){for(var h=0;h<c.length;h++)this.addElementPlacement(c[h],t);r.push.apply(r,c)}}return{element:e,finishers:n,extras:r}},decorateConstructor:function(e,t){for(var r=[],n=t.length-1;n>=0;n--){var o=this.fromClassDescriptor(e),i=this.toClassDescriptor((0,t[n])(o)||o);if(void 0!==i.finisher&&r.push(i.finisher),void 0!==i.elements){e=i.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(void 0!==e)return _toArray(e).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),n=String(e.placement);if("static"!==n&&"prototype"!==n&&"own"!==n)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+n+'"');var o=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var i={kind:t,key:r,placement:n,descriptor:Object.assign({},o)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(o,"get","The property descriptor of a field descriptor"),this.disallowProperty(o,"set","The property descriptor of a field descriptor"),this.disallowProperty(o,"value","The property descriptor of a field descriptor"),i.initializer=e.initializer),i},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(void 0!==n){if("function"!=typeof n)throw new TypeError("Finishers must return a constructor.");e=n}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var n={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(n.decorators=e.decorators),"field"===e.kind&&(n.initializer=e.value),n}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _coalesceClassElements(e){for(var t=[],r=function(e){return"method"===e.kind&&e.key===i.key&&e.placement===i.placement},n=0;n<e.length;n++){var o,i=e[n];if("method"===i.kind&&(o=t.find(r)))if(_isDataDescriptor(i.descriptor)||_isDataDescriptor(o.descriptor)){if(_hasDecorators(i)||_hasDecorators(o))throw new ReferenceError("Duplicated methods ("+i.key+") can't be decorated.");o.descriptor=i.descriptor}else{if(_hasDecorators(i)){if(_hasDecorators(o))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+i.key+").");o.decorators=i.decorators}_coalesceGetterSetter(i,o)}else t.push(i)}return t}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _classPrivateMethodGet(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec(e,t,r){_checkPrivateRedeclaration(e,t),t.set(e,r)}function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t),t.add(e)}function _classPrivateMethodSet(){throw new TypeError("attempted to reassign private method")}var _extendStatics=function(e,t){return _extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},_extendStatics(e,t)};function __extends(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}_extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var _assign=function(){return _assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_assign.apply(this,arguments)};function __rest(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function __decorate(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function __param(e,t){return function(r,n){t(r,n,e)}}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}function __generator(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var __createBinding=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function __exportStar(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||__createBinding(t,e,r)}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __spreadArrays(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}function __spreadArray(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{!function(e){e.value instanceof __await?Promise.resolve(e.value.v).then(l,c):h(i[0][2],e)}(o[e](t))}catch(e){h(i[0][3],e)}}function l(e){a("next",e)}function c(e){a("throw",e)}function h(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function __asyncDelegator(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:__await(e[n](t)),done:"return"===n}:o?o(t):t}:o}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}}function __makeTemplateObject(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var __setModuleDefault=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function __importStar(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}function __classPrivateFieldGet(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function __classPrivateFieldSet(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r}var t$3=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$8=Symbol(),n$5=new Map;class s$3{constructor(e,t){if(this._$cssResult$=!0,t!==e$8)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){var e=n$5.get(this.cssText);return t$3&&void 0===e&&(n$5.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}var o$5=e=>new s$3("string"==typeof e?e:e+"",e$8),r$3=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=1===e.length?e[0]:r.reduce(((t,r,n)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+e[n+1]),e[0]);return new s$3(o,e$8)},i$3=(e,t)=>{t$3?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{var r=document.createElement("style"),n=window.litNonce;void 0!==n&&r.setAttribute("nonce",n),r.textContent=t.cssText,e.appendChild(r)}))},S$1=t$3?e=>e:e=>e instanceof CSSStyleSheet?(e=>{var t="";for(var r of e.cssRules)t+=r.cssText;return o$5(t)})(e):e,s$2,e$7=window.trustedTypes,r$2=e$7?e$7.emptyScript:"",h$2=window.reactiveElementPolyfillSupport,o$4={toAttribute(e,t){switch(t){case Boolean:e=e?r$2:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){var r=e;switch(t){case Boolean:r=null!==e;break;case Number:r=null===e?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(e){r=null}}return r}},n$4=(e,t)=>t!==e&&(t==t||e==e),l$3={attribute:!0,type:String,converter:o$4,reflect:!1,hasChanged:n$4},t$2;class a$1 extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(e){var t;null!==(t=this.l)&&void 0!==t||(this.l=[]),this.l.push(e)}static get observedAttributes(){this.finalize();var e=[];return this.elementProperties.forEach(((t,r)=>{var n=this._$Eh(r,t);void 0!==n&&(this._$Eu.set(n,r),e.push(n))})),e}static createProperty(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l$3;if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var r="symbol"==typeof e?Symbol():"__"+e,n=this.getPropertyDescriptor(e,r,t);void 0!==n&&Object.defineProperty(this.prototype,e,n)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(n){var o=this[e];this[t]=n,this.requestUpdate(e,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||l$3}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){var t=this.properties,r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(var n of r)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){var t=[];if(Array.isArray(e)){var r=new Set(e.flat(1/0).reverse());for(var n of r)t.unshift(S$1(n))}else void 0!==e&&t.push(S$1(e));return t}static _$Eh(e,t){var r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}o(){var e;this._$Ep=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(e=this.constructor.l)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,r;(null!==(t=this._$Eg)&&void 0!==t?t:this._$Eg=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(r=e.hostConnected)||void 0===r||r.call(e))}removeController(e){var t;null===(t=this._$Eg)||void 0===t||t.splice(this._$Eg.indexOf(e)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Et.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e,t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return i$3(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$ES(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l$3,i=this.constructor._$Eh(e,o);if(void 0!==i&&!0===o.reflect){var s=(null!==(n=null===(r=o.converter)||void 0===r?void 0:r.toAttribute)&&void 0!==n?n:o$4.toAttribute)(t,o.type);this._$Ei=e,null==s?this.removeAttribute(i):this.setAttribute(i,s),this._$Ei=null}}_$AK(e,t){var r,n,o,i=this.constructor,s=i._$Eu.get(e);if(void 0!==s&&this._$Ei!==s){var a=i.getPropertyOptions(s),l=a.converter,c=null!==(o=null!==(n=null===(r=l)||void 0===r?void 0:r.fromAttribute)&&void 0!==n?n:"function"==typeof l?l:null)&&void 0!==o?o:o$4.fromAttribute;this._$Ei=s,this[s]=c(t,a.type),this._$Ei=null}}requestUpdate(e,t,r){var n=!0;void 0!==e&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||n$4)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===r.reflect&&this._$Ei!==e&&(void 0===this._$E_&&(this._$E_=new Map),this._$E_.set(e,r))):n=!1),!this.isUpdatePending&&n&&(this._$Ep=this._$EC())}_$EC(){var e=this;return _asyncToGenerator((function*(){e.isUpdatePending=!0;try{yield e._$Ep}catch(t){Promise.reject(t)}var t=e.scheduleUpdate();return null!=t&&(yield t),!e.isUpdatePending}))()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(this.isUpdatePending){this.hasUpdated,this._$Et&&(this._$Et.forEach(((e,t)=>this[t]=e)),this._$Et=void 0);var t=!1,r=this._$AL;try{(t=this.shouldUpdate(r))?(this.willUpdate(r),null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(r)):this._$EU()}catch(e){throw t=!1,this._$EU(),e}t&&this._$AE(r)}}willUpdate(e){}_$AE(e){var t;null===(t=this._$Eg)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(e){return!0}update(e){void 0!==this._$E_&&(this._$E_.forEach(((e,t)=>this._$ES(t,this[t],e))),this._$E_=void 0),this._$EU()}updated(e){}firstUpdated(e){}}a$1.finalized=!0,a$1.elementProperties=new Map,a$1.elementStyles=[],a$1.shadowRootOptions={mode:"open"},null==h$2||h$2({ReactiveElement:a$1}),(null!==(s$2=globalThis.reactiveElementVersions)&&void 0!==s$2?s$2:globalThis.reactiveElementVersions=[]).push("1.2.1");var i$2=globalThis.trustedTypes,s$1=i$2?i$2.createPolicy("lit-html",{createHTML:e=>e}):void 0,e$6="lit$".concat((Math.random()+"").slice(9),"$"),o$3="?"+e$6,n$3="<".concat(o$3,">"),l$2=document,h$1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l$2.createComment(e)},r$1=e=>null===e||"object"!=typeof e&&"function"!=typeof e,d=Array.isArray,u=e=>{var t;return d(e)||"function"==typeof(null===(t=e)||void 0===t?void 0:t[Symbol.iterator])},c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m=/"/g,g=/^(?:script|style|textarea)$/i,p=e=>function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return{_$litType$:e,strings:t,values:n}},$=p(1),y=p(2),b=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),T=new WeakMap,x=(e,t,r)=>{var n,o,i=null!==(n=null==r?void 0:r.renderBefore)&&void 0!==n?n:t,s=i._$litPart$;if(void 0===s){var a=null!==(o=null==r?void 0:r.renderBefore)&&void 0!==o?o:null;i._$litPart$=s=new N(t.insertBefore(h$1(),a),a,void 0,null!=r?r:{})}return s._$AI(e),s},A=l$2.createTreeWalker(l$2,129,null,!1),C=(e,t)=>{for(var r,n=e.length-1,o=[],i=2===t?"<svg>":"",s=c,l=0;l<n;l++){for(var h=e[l],d=void 0,u=void 0,p=-1,y=0;y<h.length&&(s.lastIndex=y,null!==(u=s.exec(h)));)y=s.lastIndex,s===c?"!--"===u[1]?s=v:void 0!==u[1]?s=a:void 0!==u[2]?(g.test(u[2])&&(r=RegExp("</"+u[2],"g")),s=f):void 0!==u[3]&&(s=f):s===f?">"===u[0]?(s=null!=r?r:c,p=-1):void 0===u[1]?p=-2:(p=s.lastIndex-u[2].length,d=u[1],s=void 0===u[3]?f:'"'===u[3]?m:_):s===m||s===_?s=f:s===v||s===a?s=c:(s=f,r=void 0);var b=s===f&&e[l+1].startsWith("/>")?" ":"";i+=s===c?h+n$3:p>=0?(o.push(d),h.slice(0,p)+"$lit$"+h.slice(p)+e$6+b):h+e$6+(-2===p?(o.push(void 0),l):b)}var w=i+(e[n]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==s$1?s$1.createHTML(w):w,o]};class E{constructor(e,t){var r,{strings:n,_$litType$:o}=e;this.parts=[];var i=0,s=0,a=n.length-1,l=this.parts,[c,h]=C(n,o);if(this.el=E.createElement(c,t),A.currentNode=this.el.content,2===o){var d=this.el.content,u=d.firstChild;u.remove(),d.append(...u.childNodes)}for(;null!==(r=A.nextNode())&&l.length<a;){if(1===r.nodeType){if(r.hasAttributes()){var p=[];for(var f of r.getAttributeNames())if(f.endsWith("$lit$")||f.startsWith(e$6)){var m=h[s++];if(p.push(f),void 0!==m){var v=r.getAttribute(m.toLowerCase()+"$lit$").split(e$6),y=/([.?@])?(.*)/.exec(m);l.push({type:1,index:i,name:y[2],strings:v,ctor:"."===y[1]?M:"?"===y[1]?H:"@"===y[1]?I:S})}else l.push({type:6,index:i})}for(var b of p)r.removeAttribute(b)}if(g.test(r.tagName)){var w=r.textContent.split(e$6),x=w.length-1;if(x>0){r.textContent=i$2?i$2.emptyScript:"";for(var _=0;_<x;_++)r.append(w[_],h$1()),A.nextNode(),l.push({type:2,index:++i});r.append(w[x],h$1())}}}else if(8===r.nodeType)if(r.data===o$3)l.push({type:2,index:i});else for(var k=-1;-1!==(k=r.data.indexOf(e$6,k+1));)l.push({type:7,index:i}),k+=e$6.length-1;i++}}static createElement(e,t){var r=l$2.createElement("template");return r.innerHTML=e,r}}function P(e,t){var r,n,o,i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0;if(t===b)return t;var l=void 0!==a?null===(r=s._$Cl)||void 0===r?void 0:r[a]:s._$Cu,c=r$1(t)?void 0:t._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(n=null==l?void 0:l._$AO)||void 0===n||n.call(l,!1),void 0===c?l=void 0:(l=new c(e))._$AT(e,s,a),void 0!==a?(null!==(o=(i=s)._$Cl)&&void 0!==o?o:i._$Cl=[])[a]=l:s._$Cu=l),void 0!==l&&(t=P(e,l._$AS(e,t.values),l,a)),t}class V{constructor(e,t){this.v=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(e){var t,{el:{content:r},parts:n}=this._$AD,o=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:l$2).importNode(r,!0);A.currentNode=o;for(var i=A.nextNode(),s=0,a=0,l=n[0];void 0!==l;){if(s===l.index){var c=void 0;2===l.type?c=new N(i,i.nextSibling,this,e):1===l.type?c=new l.ctor(i,l.name,l.strings,this,e):6===l.type&&(c=new L(i,this,e)),this.v.push(c),l=n[++a]}s!==(null==l?void 0:l.index)&&(i=A.nextNode(),s++)}return o}m(e){var t=0;for(var r of this.v)void 0!==r&&(void 0!==r.strings?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}}class N{constructor(e,t,r,n){var o;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=n,this._$Cg=null===(o=null==n?void 0:n.isConnected)||void 0===o||o}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cg}get parentNode(){var e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e){e=P(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),r$1(e)?e===w||null==e||""===e?(this._$AH!==w&&this._$AR(),this._$AH=w):e!==this._$AH&&e!==b&&this.$(e):void 0!==e._$litType$?this.T(e):void 0!==e.nodeType?this.S(e):u(e)?this.A(e):this.$(e)}M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(e,t)}S(e){this._$AH!==e&&(this._$AR(),this._$AH=this.M(e))}$(e){this._$AH!==w&&r$1(this._$AH)?this._$AA.nextSibling.data=e:this.S(l$2.createTextNode(e)),this._$AH=e}T(e){var t,{values:r,_$litType$:n}=e,o="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=E.createElement(n.h,this.options)),n);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===o)this._$AH.m(r);else{var i=new V(o,this),s=i.p(this.options);i.m(r),this.S(s),this._$AH=i}}_$AC(e){var t=T.get(e.strings);return void 0===t&&T.set(e.strings,t=new E(e)),t}A(e){d(this._$AH)||(this._$AH=[],this._$AR());var t,r=this._$AH,n=0;for(var o of e)n===r.length?r.push(t=new N(this.M(h$1()),this.M(h$1()),this,this.options)):t=r[n],t._$AI(o),n++;n<r.length&&(this._$AR(t&&t._$AB.nextSibling,n),r.length=n)}_$AR(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,r=arguments.length>1?arguments[1]:void 0;for(null===(e=this._$AP)||void 0===e||e.call(this,!1,!0,r);t&&t!==this._$AB;){var n=t.nextSibling;t.remove(),t=n}}setConnected(e){var t;void 0===this._$AM&&(this._$Cg=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class S{constructor(e,t,r,n,o){this.type=1,this._$AH=w,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=o,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=this.strings,i=!1;if(void 0===o)e=P(this,e,t,0),(i=!r$1(e)||e!==this._$AH&&e!==b)&&(this._$AH=e);else{var s,a,l=e;for(e=o[0],s=0;s<o.length-1;s++)(a=P(this,l[r+s],t,s))===b&&(a=this._$AH[s]),i||(i=!r$1(a)||a!==this._$AH[s]),a===w?e=w:e!==w&&(e+=(null!=a?a:"")+o[s+1]),this._$AH[s]=a}i&&!n&&this.k(e)}k(e){e===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class M extends S{constructor(){super(...arguments),this.type=3}k(e){this.element[this.name]=e===w?void 0:e}}var k=i$2?i$2.emptyScript:"";class H extends S{constructor(){super(...arguments),this.type=4}k(e){e&&e!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S{constructor(e,t,r,n,o){super(e,t,r,n,o),this.type=5}_$AI(e){var t;if((e=null!==(t=P(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==t?t:w)!==b){var r=this._$AH,n=e===w&&r!==w||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,o=e!==w&&(r===w||n);n&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}}handleEvent(e){var t,r;"function"==typeof this._$AH?this._$AH.call(null!==(r=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==r?r:this.element,e):this._$AH.handleEvent(e)}}class L{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){P(this,e)}}var R={P:"$lit$",V:e$6,L:o$3,I:1,N:C,R:V,D:u,j:P,H:N,O:S,F:H,B:I,W:M,Z:L},z=window.litHtmlPolyfillSupport,l$1,o$2;null==z||z(E,N),(null!==(t$2=globalThis.litHtmlVersions)&&void 0!==t$2?t$2:globalThis.litHtmlVersions=[]).push("2.1.2");var r=a$1;class s extends a$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,t,r=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=r.firstChild),r}update(e){var t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Dt=x(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!1)}render(){return b}}s.finalized=!0,s._$litElement$=!0,null===(l$1=globalThis.litElementHydrateSupport)||void 0===l$1||l$1.call(globalThis,{LitElement:s});var n$2=globalThis.litElementPolyfillSupport;null==n$2||n$2({LitElement:s});var h={_$AK:(e,t,r)=>{e._$AK(t,r)},_$AL:e=>e._$AL};(null!==(o$2=globalThis.litElementVersions)&&void 0!==o$2?o$2:globalThis.litElementVersions=[]).push("3.1.2");var n$1=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{var{kind:r,elements:n}=t;return{kind:r,elements:n,finisher(t){window.customElements.define(e,t)}}})(e,t),i$1=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?_objectSpread2(_objectSpread2({},t),{},{finisher(r){r.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}};function e$5(e){return(t,r)=>void 0!==r?((e,t,r)=>{t.constructor.createProperty(r,e)})(e,t,r):i$1(e,t)}function t$1(e){return e$5(_objectSpread2(_objectSpread2({},e),{},{state:!0}))}var e$4=(e,t,r)=>{Object.defineProperty(t,r,e)},t=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e}),o$1=e=>{var{finisher:t,descriptor:r}=e;return(e,n)=>{var o;if(void 0===n){var i=null!==(o=e.originalKey)&&void 0!==o?o:e.key,s=null!=r?{kind:"method",placement:"prototype",key:i,descriptor:r(e.key)}:_objectSpread2(_objectSpread2({},e),{},{key:i});return null!=t&&(s.finisher=function(e){t(e,i)}),s}var a=e.constructor;void 0!==r&&Object.defineProperty(e,n,r(n)),null==t||t(a,n)}},n;function e$3(e){return o$1({finisher:(t,r)=>{Object.assign(t.prototype[r],e)}})}function i(e,t){return o$1({descriptor:r=>{var n={get(){var t,r;return null!==(r=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==r?r:null},enumerable:!0,configurable:!0};if(t){var o="symbol"==typeof r?Symbol():"__"+r;n.get=function(){var t,r;return void 0===this[o]&&(this[o]=null!==(r=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==r?r:null),this[o]}}return n}})}function e$2(e){return o$1({descriptor:t=>({get(){var t,r;return null!==(r=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelectorAll(e))&&void 0!==r?r:[]},enumerable:!0,configurable:!0})})}function e$1(e){return o$1({descriptor:t=>({get(){var t=this;return _asyncToGenerator((function*(){var r;return yield t.updateComplete,null===(r=t.renderRoot)||void 0===r?void 0:r.querySelector(e)}))()},enumerable:!0,configurable:!0})})}var e=null!=(null===(n=window.HTMLSlotElement)||void 0===n?void 0:n.prototype.assignedElements)?(e,t)=>e.assignedElements(t):(e,t)=>e.assignedNodes(t).filter((e=>e.nodeType===Node.ELEMENT_NODE));function l(t){var{slot:r,selector:n}=null!=t?t:{};return o$1({descriptor:o=>({get(){var o,i="slot"+(r?"[name=".concat(r,"]"):":not([name])"),s=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(i),a=null!=s?e(s,t):[];return n?a.filter((e=>e.matches(n))):a},enumerable:!0,configurable:!0})})}function o(e,t,r){var n,o=e;return"object"==typeof e?(o=e.slot,n=e):n={flatten:t},r?l({slot:o,flatten:t,selector:r}):o$1({descriptor:e=>({get(){var e,t,r="slot"+(o?"[name=".concat(o,"]"):":not([name])"),i=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(r);return null!==(t=null==i?void 0:i.assignedNodes(n))&&void 0!==t?t:[]},enumerable:!0,configurable:!0})})}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getDefaultExportFromNamespaceIfPresent(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getDefaultExportFromNamespaceIfNotNamed(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")&&1===Object.keys(e).length?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lottie$1={exports:{}};(function(module,exports){var factory;"undefined"!=typeof navigator&&(factory=function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var r,n,o=e.length;for(r=0;r<o;r+=1)for(var i in n=e[r].prototype)Object.prototype.hasOwnProperty.call(n,i)&&(t.prototype[i]=n[i])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(e,t){var r,n=0,o=[];switch(e){case"int16":case"uint8c":r=1;break;default:r=1.1}for(n=0;n<t;n+=1)o.push(r);return o}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,r){return"float32"===t?new Float32Array(r):"int16"===t?new Int16Array(r):"uint8c"===t?new Uint8ClampedArray(r):e(t,r)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=t.length;for(e=0;e<r;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===_typeof$6(e)&&e.length){var t,r=createSizedArray(e.length),n=e.length;for(t=0;t<n;t+=1)r[t]=Math.abs(e[t]);return r}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){_shouldRoundValues=!!e}function bmRnd(e){return _shouldRoundValues?Math.round(e):e}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,r,n){this.type=e,this.currentTime=t,this.totalTime=r,this.direction=n<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,r,n){this.type=e,this.currentLoop=r,this.totalLoops=t,this.direction=n<0?-1:1}function BMSegmentStartEvent(e,t,r){this.type=e,this.firstFrame=t,this.totalFrames=r}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(e,t,r){var n,o,i,s,a,l,c,h;switch(l=r*(1-t),c=r*(1-(a=6*e-(s=Math.floor(6*e)))*t),h=r*(1-(1-a)*t),s%6){case 0:n=r,o=h,i=l;break;case 1:n=c,o=r,i=l;break;case 2:n=l,o=r,i=h;break;case 3:n=l,o=c,i=r;break;case 4:n=h,o=l,i=r;break;case 5:n=r,o=l,i=c}return[n,o,i]}function RGBtoHSV(e,t,r){var n,o=Math.max(e,t,r),i=Math.min(e,t,r),s=o-i,a=0===o?0:s/o,l=o/255;switch(o){case i:n=0;break;case e:n=t-r+s*(t<r?6:0),n/=6*s;break;case t:n=r-e+2*s,n/=6*s;break;case r:n=e-t+4*s,n/=6*s}return[n,a,l]}function addSaturationToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[1]+=t,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[2]+=t,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[0]+=t/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var e,t,r=[];for(e=0;e<256;e+=1)t=e.toString(16),r[e]=1===t.length?"0"+t:t;return function(e,t,n){return e<0&&(e=0),t<0&&(t=0),n<0&&(n=0),"#"+r[e]+r[t]+r[n]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e},getIdPrefix=function(){return idPrefix$1};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(e)}var dataManager=function(){var e,t,r=1,n=[],o={onmessage:function(){},postMessage:function(t){e({data:t})}},i={postMessage:function(e){o.onmessage({data:e})}};function s(){t||(t=function(t){if(window.Worker&&window.Blob&&getWebWorker()){var r=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"}),n=URL.createObjectURL(r);return new Worker(n)}return e=t,o}((function(e){if(i.dataManager||(i.dataManager=function(){function e(o,i){var s,a,l,c,h,u,p=o.length;for(a=0;a<p;a+=1)if("ks"in(s=o[a])&&!s.completed){if(s.completed=!0,s.hasMask){var f=s.masksProperties;for(c=f.length,l=0;l<c;l+=1)if(f[l].pt.k.i)n(f[l].pt.k);else for(u=f[l].pt.k.length,h=0;h<u;h+=1)f[l].pt.k[h].s&&n(f[l].pt.k[h].s[0]),f[l].pt.k[h].e&&n(f[l].pt.k[h].e[0])}0===s.ty?(s.layers=t(s.refId,i),e(s.layers,i)):4===s.ty?r(s.shapes):5===s.ty&&d(s)}}function t(e,t){var r=function(e,t){for(var r=0,n=t.length;r<n;){if(t[r].id===e)return t[r];r+=1}return null}(e,t);return r?r.layers.__used?JSON.parse(JSON.stringify(r.layers)):(r.layers.__used=!0,r.layers):null}function r(e){var t,o,i;for(t=e.length-1;t>=0;t-=1)if("sh"===e[t].ty)if(e[t].ks.k.i)n(e[t].ks.k);else for(i=e[t].ks.k.length,o=0;o<i;o+=1)e[t].ks.k[o].s&&n(e[t].ks.k[o].s[0]),e[t].ks.k[o].e&&n(e[t].ks.k[o].e[0]);else"gr"===e[t].ty&&r(e[t].it)}function n(e){var t,r=e.i.length;for(t=0;t<r;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function o(e,t){var r=t?t.split("."):[100,100,100];return e[0]>r[0]||!(r[0]>e[0])&&(e[1]>r[1]||!(r[1]>e[1])&&(e[2]>r[2]||!(r[2]>e[2])&&null))}var i,s=function(){var e=[4,4,14];function t(e){var t,r,n,o=e.length;for(t=0;t<o;t+=1)5===e[t].ty&&(n=(r=e[t]).t.d,r.t.d={k:[{s:n,t:0}]})}return function(r){if(o(e,r.v)&&(t(r.layers),r.assets)){var n,i=r.assets.length;for(n=0;n<i;n+=1)r.assets[n].layers&&t(r.assets[n].layers)}}}(),a=(i=[4,7,99],function(e){if(e.chars&&!o(i,e.v)){var t,n=e.chars.length;for(t=0;t<n;t+=1){var s=e.chars[t];s.data&&s.data.shapes&&(r(s.data.shapes),s.data.ip=0,s.data.op=99999,s.data.st=0,s.data.sr=1,s.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},e.chars[t].t||(s.data.shapes.push({ty:"no"}),s.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),l=function(){var e=[5,7,15];function t(e){var t,r,n=e.length;for(t=0;t<n;t+=1)5===e[t].ty&&(r=void 0,"number"==typeof(r=e[t].t.p).a&&(r.a={a:0,k:r.a}),"number"==typeof r.p&&(r.p={a:0,k:r.p}),"number"==typeof r.r&&(r.r={a:0,k:r.r}))}return function(r){if(o(e,r.v)&&(t(r.layers),r.assets)){var n,i=r.assets.length;for(n=0;n<i;n+=1)r.assets[n].layers&&t(r.assets[n].layers)}}}(),c=function(){var e=[4,1,9];function t(e){var r,n,o,i=e.length;for(r=0;r<i;r+=1)if("gr"===e[r].ty)t(e[r].it);else if("fl"===e[r].ty||"st"===e[r].ty)if(e[r].c.k&&e[r].c.k[0].i)for(o=e[r].c.k.length,n=0;n<o;n+=1)e[r].c.k[n].s&&(e[r].c.k[n].s[0]/=255,e[r].c.k[n].s[1]/=255,e[r].c.k[n].s[2]/=255,e[r].c.k[n].s[3]/=255),e[r].c.k[n].e&&(e[r].c.k[n].e[0]/=255,e[r].c.k[n].e[1]/=255,e[r].c.k[n].e[2]/=255,e[r].c.k[n].e[3]/=255);else e[r].c.k[0]/=255,e[r].c.k[1]/=255,e[r].c.k[2]/=255,e[r].c.k[3]/=255}function r(e){var r,n=e.length;for(r=0;r<n;r+=1)4===e[r].ty&&t(e[r].shapes)}return function(t){if(o(e,t.v)&&(r(t.layers),t.assets)){var n,i=t.assets.length;for(n=0;n<i;n+=1)t.assets[n].layers&&r(t.assets[n].layers)}}}(),h=function(){var e=[4,4,18];function t(e){var r,n,o;for(r=e.length-1;r>=0;r-=1)if("sh"===e[r].ty)if(e[r].ks.k.i)e[r].ks.k.c=e[r].closed;else for(o=e[r].ks.k.length,n=0;n<o;n+=1)e[r].ks.k[n].s&&(e[r].ks.k[n].s[0].c=e[r].closed),e[r].ks.k[n].e&&(e[r].ks.k[n].e[0].c=e[r].closed);else"gr"===e[r].ty&&t(e[r].it)}function r(e){var r,n,o,i,s,a,l=e.length;for(n=0;n<l;n+=1){if((r=e[n]).hasMask){var c=r.masksProperties;for(i=c.length,o=0;o<i;o+=1)if(c[o].pt.k.i)c[o].pt.k.c=c[o].cl;else for(a=c[o].pt.k.length,s=0;s<a;s+=1)c[o].pt.k[s].s&&(c[o].pt.k[s].s[0].c=c[o].cl),c[o].pt.k[s].e&&(c[o].pt.k[s].e[0].c=c[o].cl)}4===r.ty&&t(r.shapes)}}return function(t){if(o(e,t.v)&&(r(t.layers),t.assets)){var n,i=t.assets.length;for(n=0;n<i;n+=1)t.assets[n].layers&&r(t.assets[n].layers)}}}();function d(e){0===e.t.a.length&&e.t.p}var u={completeData:function(r){r.__complete||(c(r),s(r),a(r),l(r),h(r),e(r.layers,r.assets),function(r,n){if(r){var o=0,i=r.length;for(o=0;o<i;o+=1)1===r[o].t&&(r[o].data.layers=t(r[o].data.refId,n),e(r[o].data.layers,n))}}(r.chars,r.assets),r.__complete=!0)}};return u.checkColors=c,u.checkChars=a,u.checkPathProperties=l,u.checkShapes=h,u.completeLayers=e,u}()),i.assetLoader||(i.assetLoader=function(){function e(e){var t=e.getResponseHeader("content-type");return t&&"json"===e.responseType&&-1!==t.indexOf("json")||e.response&&"object"===_typeof$5(e.response)?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}return{load:function(t,r,n,o){var i,s=new XMLHttpRequest;try{s.responseType="json"}catch(e){}s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)i=e(s),n(i);else try{i=e(s),n(i)}catch(e){o&&o(e)}};try{s.open(["G","E","T"].join(""),t,!0)}catch(e){s.open(["G","E","T"].join(""),r+"/"+t,!0)}s.send()}}}()),"loadAnimation"===e.data.type)i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}));else if("complete"===e.data.type){var t=e.data.animation;i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}else"loadData"===e.data.type&&i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}))})),t.onmessage=function(e){var t=e.data,r=t.id,o=n[r];n[r]=null,"success"===t.status?o.onComplete(t.payload):o.onError&&o.onError()})}function a(e,t){var o="processId_"+(r+=1);return n[o]={onComplete:e,onError:t},o}return{loadAnimation:function(e,r,n){s();var o=a(r,n);t.postMessage({type:"loadAnimation",path:e,fullPath:window.location.origin+window.location.pathname,id:o})},loadData:function(e,r,n){s();var o=a(r,n);t.postMessage({type:"loadData",path:e,fullPath:window.location.origin+window.location.pathname,id:o})},completeAnimation:function(e,r,n){s();var o=a(r,n);t.postMessage({type:"complete",animation:e,id:o})}}}(),ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(e,t,r){var n="";if(e.e)n=e.p;else if(t){var o=e.p;-1!==o.indexOf("images/")&&(o=o.split("/")[1]),n=t+o}else n=r,n+=e.u?e.u:"",n+=e.p;return n}function o(e){var t=0,r=setInterval(function(){(e.getBBox().width||t>500)&&(this._imageLoaded(),clearInterval(r)),t+=1}.bind(this),50)}function i(e){var t={assetData:e},r=n(e,this.assetsPath,this.path);return dataManager.loadData(r,function(e){t.img=e,this._footageLoaded()}.bind(this),function(){t.img={},this._footageLoaded()}.bind(this)),t}function s(){this._imageLoaded=t.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=o.bind(this),this.createFootageData=i.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return s.prototype={loadAssets:function(e,t){var r;this.imagesLoadedCb=t;var n=e.length;for(r=0;r<n;r+=1)e[r].layers||(e[r].t&&"seq"!==e[r].t?3===e[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[r]))):(this.totalImages+=1,this.images.push(this._createImageData(e[r]))))},setAssetsPath:function(e){this.assetsPath=e||""},setPath:function(e){this.path=e||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(e){for(var t=0,r=this.images.length;t<r;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}return null},createImgData:function(t){var r=n(t,this.assetsPath,this.path),o=createTag("img");o.crossOrigin="anonymous",o.addEventListener("load",this._imageLoaded,!1),o.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),o.src=r;var i={img:o,assetData:t};return i},createImageData:function(t){var r=n(t,this.assetsPath,this.path),o=createNS("image");isSafari?this.testImageLoaded(o):o.addEventListener("load",this._imageLoaded,!1),o.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),o.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this._elementHelper.append?this._elementHelper.append(o):this._elementHelper.appendChild(o);var i={img:o,assetData:t};return i},imageLoaded:t,footageLoaded:r,setCacheType:function(e,t){"svg"===e?(this._elementHelper=t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},s}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var r=this._cbs[e],n=0;n<r.length;n+=1)r[n](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var r=0,n=this._cbs[e].length;r<n;)this._cbs[e][r]===t&&(this._cbs[e].splice(r,1),r-=1,n-=1),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var markerParser=function(){function e(e){for(var t,r=e.split("\r\n"),n={},o=0,i=0;i<r.length;i+=1)2===(t=r[i].split(":")).length&&(n[t[0]]=t[1].trim(),o+=1);if(0===o)throw new Error;return n}return function(t){for(var r=[],n=0;n<t.length;n+=1){var o=t[n],i={time:o.tm,duration:o.dr};try{i.payload=JSON.parse(t[n].cm)}catch(r){try{i.payload=e(t[n].cm)}catch(e){i.payload={name:t[n].cm}}}r.push(i)}return r}}(),ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,r=this.compositions.length;t<r;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),renderers={},registerRenderer=function(e,t){renderers[e]=t};function getRenderer(e){return renderers[e]}function _typeof$4(e){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var r=getRenderer(t);this.renderer=new r(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&"object"!==_typeof$4(t)&&(t=JSON.parse(t));var r={wrapper:e,animationData:t},n=e.attributes;r.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",r.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:"canvas";var o=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";"false"===o?r.loop=!1:"true"===o?r.loop=!0:""!==o&&(r.loop=parseInt(o,10));var i=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;r.autoplay="false"!==i,r.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,r,n=this.animationData.layers,o=n.length,i=e.layers,s=i.length;for(r=0;r<s;r+=1)for(t=0;t<o;){if(n[t].id===i[r].id){n[t]=i[r];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(o=e.assets.length,t=0;t<o;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,t){var r="number"==typeof e?e:void 0,n="number"==typeof t?t:void 0;this.renderer.updateContainerSize(r,n)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,r=0;r<this.markers.length;r+=1)if((t=this.markers[r]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,r){if(!r||this.name===r){var n=Number(e);if(isNaN(n)){var o=this.getMarkerData(e);o&&this.goToAndStop(o.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,r){if(!r||this.name===r){var n=Number(e);if(isNaN(n)){var o=this.getMarkerData(e);o&&(o.duration?this.playSegments([o.time,o.time+o.duration],!0):this.goToAndStop(o.time,!0))}else this.goToAndStop(n,t,r);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,r=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(r=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),r&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?r=e:this.currentRawFrame+this.firstFrame>t&&(r=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"===_typeof$4(e[0])){var r,n=e.length;for(r=0;r<n;r+=1)this.segments.push(e[r])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),t=this.assetsPath+r}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,r=this.assets.length;t<r;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,r){try{this.renderer.getElementByPath(e).updateDocumentData(t,r)}catch(e){}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var e={},t=[],r=0,n=0,o=0,i=!0,s=!1;function a(e){for(var r=0,o=e.target;r<n;)t[r].animation===o&&(t.splice(r,1),r-=1,n-=1,o.isPaused||h()),r+=1}function l(e,r){if(!e)return null;for(var o=0;o<n;){if(t[o].elem===e&&null!==t[o].elem)return t[o].animation;o+=1}var i=new AnimationItem;return d(i,e),i.setData(e,r),i}function c(){o+=1,f()}function h(){o-=1}function d(e,r){e.addEventListener("destroy",a),e.addEventListener("_active",c),e.addEventListener("_idle",h),t.push({elem:r,animation:e}),n+=1}function u(e){var a,l=e-r;for(a=0;a<n;a+=1)t[a].animation.advanceTime(l);r=e,o&&!s?window.requestAnimationFrame(u):i=!0}function p(e){r=e,window.requestAnimationFrame(u)}function f(){!s&&o&&i&&(window.requestAnimationFrame(p),i=!1)}return e.registerAnimation=l,e.loadAnimation=function(e){var t=new AnimationItem;return d(t,null),t.setParams(e),t},e.setSpeed=function(e,r){var o;for(o=0;o<n;o+=1)t[o].animation.setSpeed(e,r)},e.setDirection=function(e,r){var o;for(o=0;o<n;o+=1)t[o].animation.setDirection(e,r)},e.play=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.play(e)},e.pause=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.pause(e)},e.stop=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.stop(e)},e.togglePause=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.togglePause(e)},e.searchAnimations=function(e,t,r){var n,o=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),i=o.length;for(n=0;n<i;n+=1)r&&o[n].setAttribute("data-bm-type",r),l(o[n],e);if(t&&0===i){r||(r="svg");var s=document.getElementsByTagName("body")[0];s.innerText="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",r),s.appendChild(a),l(a,e)}},e.resize=function(){var e;for(e=0;e<n;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,r,o){var i;for(i=0;i<n;i+=1)t[i].animation.goToAndStop(e,r,o)},e.destroy=function(e){var r;for(r=n-1;r>=0;r-=1)t[r].animation.destroy(e)},e.freeze=function(){s=!0},e.unfreeze=function(){s=!1,f()},e.setVolume=function(e,r){var o;for(o=0;o<n;o+=1)t[o].animation.setVolume(e,r)},e.mute=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.mute(e)},e.unmute=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.unmute(e)},e.getRegisteredAnimations=function(){var e,r=t.length,n=[];for(e=0;e<r;e+=1)n.push(t[e].animation);return n},e}(),BezierFactory=function(){var e={getBezierEasing:function(e,r,n,o,i){var s=i||("bez_"+e+"_"+r+"_"+n+"_"+o).replace(/\./g,"p");if(t[s])return t[s];var a=new c([e,r,n,o]);return t[s]=a,a}},t={},r=.1,n="function"==typeof Float32Array;function o(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function s(e){return 3*e}function a(e,t,r){return((o(t,r)*e+i(t,r))*e+s(t))*e}function l(e,t,r){return 3*o(t,r)*e*e+2*i(t,r)*e+s(t)}function c(e){this._p=e,this._mSampleValues=n?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return c.prototype={get:function(e){var t=this._p[0],r=this._p[1],n=this._p[2],o=this._p[3];return this._precomputed||this._precompute(),t===r&&n===o?e:0===e?0:1===e?1:a(this._getTForX(e),r,o)},_precompute:function(){var e=this._p[0],t=this._p[1],r=this._p[2],n=this._p[3];this._precomputed=!0,e===t&&r===n||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],n=0;n<11;++n)this._mSampleValues[n]=a(n*r,e,t)},_getTForX:function(e){for(var t=this._p[0],n=this._p[2],o=this._mSampleValues,i=0,s=1;10!==s&&o[s]<=e;++s)i+=r;var c=i+(e-o[--s])/(o[s+1]-o[s])*r,h=l(c,t,n);return h>=.001?function(e,t,r,n){for(var o=0;o<4;++o){var i=l(t,r,n);if(0===i)return t;t-=(a(t,r,n)-e)/i}return t}(e,c,t,n):0===h?c:function(e,t,r,n,o){var i,s,l=0;do{(i=a(s=t+(r-t)/2,n,o)-e)>0?r=s:t=s}while(Math.abs(i)>1e-7&&++l<10);return s}(e,i,i+r,t,n)}},e}(),pooling={double:function(e){return e.concat(createSizedArray(e.length))}},poolFactory=function(e,t,r){var n=0,o=e,i=createSizedArray(o);return{newElement:function(){return n?i[n-=1]:t()},release:function(e){n===o&&(i=pooling.double(i),o*=2),r&&r(e),i[n]=e,n+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(e){var t,r=e.lengths.length;for(t=0;t<r;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0}));function bezFunction(){var e=Math;function t(e,t,r,n,o,i){var s=e*n+t*o+r*i-o*n-i*e-r*t;return s>-.001&&s<.001}var r=function(e,t,r,n){var o,i,s,a,l,c,h=getDefaultCurveSegments(),d=0,u=[],p=[],f=bezierLengthPool.newElement();for(s=r.length,o=0;o<h;o+=1){for(l=o/(h-1),c=0,i=0;i<s;i+=1)a=bmPow(1-l,3)*e[i]+3*bmPow(1-l,2)*l*r[i]+3*(1-l)*bmPow(l,2)*n[i]+bmPow(l,3)*t[i],u[i]=a,null!==p[i]&&(c+=bmPow(u[i]-p[i],2)),p[i]=u[i];c&&(d+=c=bmSqrt(c)),f.percents[o]=l,f.lengths[o]=d}return f.addedLength=d,f};function n(e){this.segmentLength=0,this.points=new Array(e)}function o(e,t){this.partialLength=e,this.point=t}var i,s=(i={},function(e,r,s,a){var l=(e[0]+"_"+e[1]+"_"+r[0]+"_"+r[1]+"_"+s[0]+"_"+s[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!i[l]){var c,h,d,u,p,f,m,g=getDefaultCurveSegments(),v=0,y=null;2===e.length&&(e[0]!==r[0]||e[1]!==r[1])&&t(e[0],e[1],r[0],r[1],e[0]+s[0],e[1]+s[1])&&t(e[0],e[1],r[0],r[1],r[0]+a[0],r[1]+a[1])&&(g=2);var b=new n(g);for(d=s.length,c=0;c<g;c+=1){for(m=createSizedArray(d),p=c/(g-1),f=0,h=0;h<d;h+=1)u=bmPow(1-p,3)*e[h]+3*bmPow(1-p,2)*p*(e[h]+s[h])+3*(1-p)*bmPow(p,2)*(r[h]+a[h])+bmPow(p,3)*r[h],m[h]=u,null!==y&&(f+=bmPow(m[h]-y[h],2));v+=f=bmSqrt(f),b.points[c]=new o(f,m),y=m}b.segmentLength=v,i[l]=b}return i[l]});function a(e,t){var r=t.percents,n=t.lengths,o=r.length,i=bmFloor((o-1)*e),s=e*t.addedLength,a=0;if(i===o-1||0===i||s===n[i])return r[i];for(var l=n[i]>s?-1:1,c=!0;c;)if(n[i]<=s&&n[i+1]>s?(a=(s-n[i])/(n[i+1]-n[i]),c=!1):i+=l,i<0||i>=o-1){if(i===o-1)return r[i];c=!1}return r[i]+(r[i+1]-r[i])*a}var l=createTypedArray("float32",8);return{getSegmentsLength:function(e){var t,n=segmentsLengthPool.newElement(),o=e.c,i=e.v,s=e.o,a=e.i,l=e._length,c=n.lengths,h=0;for(t=0;t<l-1;t+=1)c[t]=r(i[t],i[t+1],s[t],a[t+1]),h+=c[t].addedLength;return o&&l&&(c[t]=r(i[t],i[0],s[t],a[0]),h+=c[t].addedLength),n.totalLength=h,n},getNewSegment:function(t,r,n,o,i,s,c){i<0?i=0:i>1&&(i=1);var h,d=a(i,c),u=a(s=s>1?1:s,c),p=t.length,f=1-d,m=1-u,g=f*f*f,v=d*f*f*3,y=d*d*f*3,b=d*d*d,w=f*f*m,x=d*f*m+f*d*m+f*f*u,E=d*d*m+f*d*u+d*f*u,S=d*d*u,_=f*m*m,C=d*m*m+f*u*m+f*m*u,A=d*u*m+f*u*u+d*m*u,k=d*u*u,T=m*m*m,P=u*m*m+m*u*m+m*m*u,M=u*u*m+m*u*u+u*m*u,D=u*u*u;for(h=0;h<p;h+=1)l[4*h]=e.round(1e3*(g*t[h]+v*n[h]+y*o[h]+b*r[h]))/1e3,l[4*h+1]=e.round(1e3*(w*t[h]+x*n[h]+E*o[h]+S*r[h]))/1e3,l[4*h+2]=e.round(1e3*(_*t[h]+C*n[h]+A*o[h]+k*r[h]))/1e3,l[4*h+3]=e.round(1e3*(T*t[h]+P*n[h]+M*o[h]+D*r[h]))/1e3;return l},getPointInSegment:function(t,r,n,o,i,s){var l=a(i,s),c=1-l;return[e.round(1e3*(c*c*c*t[0]+(l*c*c+c*l*c+c*c*l)*n[0]+(l*l*c+c*l*l+l*c*l)*o[0]+l*l*l*r[0]))/1e3,e.round(1e3*(c*c*c*t[1]+(l*c*c+c*l*c+c*c*l)*n[1]+(l*l*c+c*l*l+l*c*l)*o[1]+l*l*l*r[1]))/1e3]},buildBezierData:s,pointOnLine2D:t,pointOnLine3D:function(r,n,o,i,s,a,l,c,h){if(0===o&&0===a&&0===h)return t(r,n,i,s,l,c);var d,u=e.sqrt(e.pow(i-r,2)+e.pow(s-n,2)+e.pow(a-o,2)),p=e.sqrt(e.pow(l-r,2)+e.pow(c-n,2)+e.pow(h-o,2)),f=e.sqrt(e.pow(l-i,2)+e.pow(c-s,2)+e.pow(h-a,2));return(d=u>p?u>f?u-p-f:f-p-u:f>p?f-p-u:p-u-f)>-1e-4&&d<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var e=initialDefaultFrame,t=Math.abs;function r(e,t){var r,o=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var i,s,a,l,c,h,d,u,p,f=t.lastIndex,m=f,g=this.keyframes.length-1,v=!0;v;){if(i=this.keyframes[m],s=this.keyframes[m+1],m===g-1&&e>=s.t-o){i.h&&(i=s),f=0;break}if(s.t-o>e){f=m;break}m<g-1?m+=1:(f=0,v=!1)}a=this.keyframesMetadata[m]||{};var y,b,w,x,E,S,_,C,A,k,T=s.t-o,P=i.t-o;if(i.to){a.bezierData||(a.bezierData=bez.buildBezierData(i.s,s.s||i.e,i.to,i.ti));var M=a.bezierData;if(e>=T||e<P){var D=e>=T?M.points.length-1:0;for(c=M.points[D].point.length,l=0;l<c;l+=1)r[l]=M.points[D].point[l]}else{a.__fnct?p=a.__fnct:(p=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y,i.n).get,a.__fnct=p),h=p((e-P)/(T-P));var O,I=M.segmentLength*h,R=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastAddedLength:0;for(u=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastPoint:0,v=!0,d=M.points.length;v;){if(R+=M.points[u].partialLength,0===I||0===h||u===M.points.length-1){for(c=M.points[u].point.length,l=0;l<c;l+=1)r[l]=M.points[u].point[l];break}if(I>=R&&I<R+M.points[u+1].partialLength){for(O=(I-R)/M.points[u+1].partialLength,c=M.points[u].point.length,l=0;l<c;l+=1)r[l]=M.points[u].point[l]+(M.points[u+1].point[l]-M.points[u].point[l])*O;break}u<d-1?u+=1:v=!1}t._lastPoint=u,t._lastAddedLength=R-M.points[u].partialLength,t._lastKeyframeIndex=m}}else{var N,F,B,L,V;if(g=i.s.length,y=s.s||i.e,this.sh&&1!==i.h)e>=T?(r[0]=y[0],r[1]=y[1],r[2]=y[2]):e<=P?(r[0]=i.s[0],r[1]=i.s[1],r[2]=i.s[2]):(b=r,w=function(e,t,r){var n,o,i,s,a,l=[],c=e[0],h=e[1],d=e[2],u=e[3],p=t[0],f=t[1],m=t[2],g=t[3];return(o=c*p+h*f+d*m+u*g)<0&&(o=-o,p=-p,f=-f,m=-m,g=-g),1-o>1e-6?(n=Math.acos(o),i=Math.sin(n),s=Math.sin((1-r)*n)/i,a=Math.sin(r*n)/i):(s=1-r,a=r),l[0]=s*c+a*p,l[1]=s*h+a*f,l[2]=s*d+a*m,l[3]=s*u+a*g,l}(n(i.s),n(y),(e-P)/(T-P)),x=w[0],E=w[1],S=w[2],_=w[3],C=Math.atan2(2*E*_-2*x*S,1-2*E*E-2*S*S),A=Math.asin(2*x*E+2*S*_),k=Math.atan2(2*x*_-2*E*S,1-2*x*x-2*S*S),b[0]=C/degToRads,b[1]=A/degToRads,b[2]=k/degToRads);else for(m=0;m<g;m+=1)1!==i.h&&(e>=T?h=1:e<P?h=0:(i.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[m]?p=a.__fnct[m]:(N=void 0===i.o.x[m]?i.o.x[0]:i.o.x[m],F=void 0===i.o.y[m]?i.o.y[0]:i.o.y[m],B=void 0===i.i.x[m]?i.i.x[0]:i.i.x[m],L=void 0===i.i.y[m]?i.i.y[0]:i.i.y[m],p=BezierFactory.getBezierEasing(N,F,B,L).get,a.__fnct[m]=p)):a.__fnct?p=a.__fnct:(N=i.o.x,F=i.o.y,B=i.i.x,L=i.i.y,p=BezierFactory.getBezierEasing(N,F,B,L).get,i.keyframeMetadata=p),h=p((e-P)/(T-P)))),y=s.s||i.e,V=1===i.h?i.s[m]:i.s[m]+(y[m]-i.s[m])*h,"multidimensional"===this.propType?r[m]=V:r=V}return t.lastIndex=f,r}function n(e){var t=e[0]*degToRads,r=e[1]*degToRads,n=e[2]*degToRads,o=Math.cos(t/2),i=Math.cos(r/2),s=Math.cos(n/2),a=Math.sin(t/2),l=Math.sin(r/2),c=Math.sin(n/2);return[a*l*s+o*i*c,a*i*s+o*l*c,o*l*s-a*i*c,o*i*s-a*l*c]}function o(){var t=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==e&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<r&&t<r))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var o=this.interpolateValue(t,this._caching);this.pv=o}return this._caching.lastFrame=t,this.pv}function i(e){var r;if("unidimensional"===this.propType)r=e*this.mult,t(this.v-r)>1e-5&&(this.v=r,this._mdf=!0);else for(var n=0,o=this.v.length;n<o;)r=e[n]*this.mult,t(this.v[n]-r)>1e-5&&(this.v[n]=r,this._mdf=!0),n+=1}function s(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e;this.lock=!0,this._mdf=this._isFirstFrame;var t=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)r=this.effectsSequence[e](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(e,t,r,n){this.propType="unidimensional",this.mult=r||1,this.data=t,this.v=r?t.k*r:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=s,this.setVValue=i,this.addEffect=a}function c(e,t,r,n){var o;this.propType="multidimensional",this.mult=r||1,this.data=t,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var l=t.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),this.vel=createTypedArray("float32",l),o=0;o<l;o+=1)this.v[o]=t.k[o]*this.mult,this.pv[o]=t.k[o];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=s,this.setVValue=i,this.addEffect=a}function h(t,n,l,c){this.propType="unidimensional",this.keyframes=n.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=n,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.v=e,this.pv=e,this._isFirstFrame=!0,this.getValue=s,this.setVValue=i,this.interpolateValue=r,this.effectsSequence=[o.bind(this)],this.addEffect=a}function d(t,n,l,c){var h;this.propType="multidimensional";var d,u,p,f,m=n.k.length;for(h=0;h<m-1;h+=1)n.k[h].to&&n.k[h].s&&n.k[h+1]&&n.k[h+1].s&&(d=n.k[h].s,u=n.k[h+1].s,p=n.k[h].to,f=n.k[h].ti,(2===d.length&&(d[0]!==u[0]||d[1]!==u[1])&&bez.pointOnLine2D(d[0],d[1],u[0],u[1],d[0]+p[0],d[1]+p[1])&&bez.pointOnLine2D(d[0],d[1],u[0],u[1],u[0]+f[0],u[1]+f[1])||3===d.length&&(d[0]!==u[0]||d[1]!==u[1]||d[2]!==u[2])&&bez.pointOnLine3D(d[0],d[1],d[2],u[0],u[1],u[2],d[0]+p[0],d[1]+p[1],d[2]+p[2])&&bez.pointOnLine3D(d[0],d[1],d[2],u[0],u[1],u[2],u[0]+f[0],u[1]+f[1],u[2]+f[2]))&&(n.k[h].to=null,n.k[h].ti=null),d[0]===u[0]&&d[1]===u[1]&&0===p[0]&&0===p[1]&&0===f[0]&&0===f[1]&&(2===d.length||d[2]===u[2]&&0===p[2]&&0===f[2])&&(n.k[h].to=null,n.k[h].ti=null));this.effectsSequence=[o.bind(this)],this.data=n,this.keyframes=n.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.getValue=s,this.setVValue=i,this.interpolateValue=r,this.frameId=-1;var g=n.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),h=0;h<g;h+=1)this.v[h]=e,this.pv[h]=e;this._caching={lastFrame:e,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=a}var u={getProp:function(e,t,r,n,o){var i;if(t.k.length)if("number"==typeof t.k[0])i=new c(e,t,n,o);else switch(r){case 0:i=new h(e,t,n,o);break;case 1:i=new d(e,t,n,o)}else i=new l(e,t,n,o);return i.effectsSequence.length&&o.addDynamicProperty(i),i}};return u}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var r=0;r<t;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,r,n,o){var i;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":i=this.v;break;case"i":i=this.i;break;case"o":i=this.o;break;default:i=[]}(!i[n]||i[n]&&!o)&&(i[n]=pointPool.newElement()),i[n][0]=e,i[n][1]=t},ShapePath.prototype.setTripleAt=function(e,t,r,n,o,i,s,a){this.setXYAt(e,t,"v",s,a),this.setXYAt(r,n,"o",s,a),this.setXYAt(o,i,"i",s,a)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,r=this.o,n=this.i,o=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],n[0][0],n[0][1],r[0][0],r[0][1],0,!1),o=1);var i,s=this._length-1,a=this._length;for(i=o;i<a;i+=1)e.setTripleAt(t[s][0],t[s][1],n[s][0],n[s][1],r[s][0],r[s][1],i,!1),s-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(e){var t,r=e._length;for(t=0;t<r;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1})),factory.clone=function(e){var t,r=factory.newElement(),n=void 0===e._length?e.v.length:e._length;for(r.setLength(n),r.c=e.c,t=0;t<n;t+=1)r.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return r},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(e){var t,r=e._length;for(t=0;t<r;t+=1)shapePool.release(e.shapes[t]);e._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=e,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var e=-999999;function t(e,t,r){var n,o,i,s,a,l,c,h,d,u=r.lastIndex,p=this.keyframes;if(e<p[0].t-this.offsetTime)n=p[0].s[0],i=!0,u=0;else if(e>=p[p.length-1].t-this.offsetTime)n=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],i=!0;else{for(var f,m,g,v=u,y=p.length-1,b=!0;b&&(f=p[v],!((m=p[v+1]).t-this.offsetTime>e));)v<y-1?v+=1:b=!1;if(g=this.keyframesMetadata[v]||{},u=v,!(i=1===f.h)){if(e>=m.t-this.offsetTime)h=1;else if(e<f.t-this.offsetTime)h=0;else{var w;g.__fnct?w=g.__fnct:(w=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,g.__fnct=w),h=w((e-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}o=m.s?m.s[0]:f.e[0]}n=f.s[0]}for(l=t._length,c=n.i[0].length,r.lastIndex=u,s=0;s<l;s+=1)for(a=0;a<c;a+=1)d=i?n.i[s][a]:n.i[s][a]+(o.i[s][a]-n.i[s][a])*h,t.i[s][a]=d,d=i?n.o[s][a]:n.o[s][a]+(o.o[s][a]-n.o[s][a])*h,t.o[s][a]=d,d=i?n.v[s][a]:n.v[s][a]+(o.v[s][a]-n.v[s][a])*h,t.v[s][a]=d}function r(){var t=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,o=this._caching.lastFrame;return o!==e&&(o<r&&t<r||o>n&&t>n)||(this._caching.lastIndex=o<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function n(){this.paths=this.localShapeCollection}function o(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var r,n=e._length;for(r=0;r<n;r+=1)if(e.v[r][0]!==t.v[r][0]||e.v[r][1]!==t.v[r][1]||e.o[r][0]!==t.o[r][0]||e.o[r][1]!==t.o[r][1]||e.i[r][0]!==t.i[r][0]||e.i[r][1]!==t.i[r][1])return!1;return!0})(this.v,e)||(this.v=shapePool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e,t;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var r=this.effectsSequence.length;for(t=0;t<r;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function s(e,t,r){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var o=3===r?t.pt.k:t.ks.k;this.v=shapePool.clone(o),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(t,o,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===i?o.pt.k:o.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var s=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,s),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=n,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[r.bind(this)]}s.prototype.interpolateShape=t,s.prototype.getValue=i,s.prototype.setVValue=o,s.prototype.addEffect=a,l.prototype.getValue=i,l.prototype.interpolateShape=t,l.prototype.setVValue=o,l.prototype.addEffect=a;var c=function(){var e=roundCorner;function t(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],r=this.p.v[1],n=this.s.v[0]/2,o=this.s.v[1]/2,i=3!==this.d,s=this.v;s.v[0][0]=t,s.v[0][1]=r-o,s.v[1][0]=i?t+n:t-n,s.v[1][1]=r,s.v[2][0]=t,s.v[2][1]=r+o,s.v[3][0]=i?t-n:t+n,s.v[3][1]=r,s.i[0][0]=i?t-n*e:t+n*e,s.i[0][1]=r-o,s.i[1][0]=i?t+n:t-n,s.i[1][1]=r-o*e,s.i[2][0]=i?t+n*e:t-n*e,s.i[2][1]=r+o,s.i[3][0]=i?t-n:t+n,s.i[3][1]=r+o*e,s.o[0][0]=i?t+n*e:t-n*e,s.o[0][1]=r-o,s.o[1][0]=i?t+n:t-n,s.o[1][1]=r+o*e,s.o[2][0]=i?t-n*e:t+n*e,s.o[2][1]=r+o,s.o[3][0]=i?t-n:t+n,s.o[3][1]=r-o*e}},extendPrototype([DynamicPropertyContainer],t),t}(),h=function(){function e(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,r,n,o=2*Math.floor(this.pt.v),i=2*Math.PI/o,s=!0,a=this.or.v,l=this.ir.v,c=this.os.v,h=this.is.v,d=2*Math.PI*a/(2*o),u=2*Math.PI*l/(2*o),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<o;e+=1){r=s?c:h,n=s?d:u;var m=(t=s?a:l)*Math.cos(p),g=t*Math.sin(p),v=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),y=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-v*n*r*f,g-y*n*r*f,m+v*n*r*f,g+y*n*r*f,e,!0),s=!s,p+=i*f}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),r=2*Math.PI/t,n=this.or.v,o=this.os.v,i=2*Math.PI*n/(4*t),s=.5*-Math.PI,a=3===this.data.d?-1:1;for(s+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var l=n*Math.cos(s),c=n*Math.sin(s),h=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),d=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-h*i*o*a,c-d*i*o*a,l+h*i*o*a,c+d*i*o*a,e,!0),s+=r*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),d=function(){function e(e,t){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],r=this.s.v[0]/2,n=this.s.v[1]/2,o=bmMin(r,n,this.r.v),i=o*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+r,t-n+o,e+r,t-n+o,e+r,t-n+i,0,!0),this.v.setTripleAt(e+r,t+n-o,e+r,t+n-i,e+r,t+n-o,1,!0),0!==o?(this.v.setTripleAt(e+r-o,t+n,e+r-o,t+n,e+r-i,t+n,2,!0),this.v.setTripleAt(e-r+o,t+n,e-r+i,t+n,e-r+o,t+n,3,!0),this.v.setTripleAt(e-r,t+n-o,e-r,t+n-o,e-r,t+n-i,4,!0),this.v.setTripleAt(e-r,t-n+o,e-r,t-n+i,e-r,t-n+o,5,!0),this.v.setTripleAt(e-r+o,t-n,e-r+o,t-n,e-r+i,t-n,6,!0),this.v.setTripleAt(e+r-o,t-n,e+r-i,t-n,e+r-o,t-n,7,!0)):(this.v.setTripleAt(e-r,t+n,e-r+i,t+n,e-r,t+n,2),this.v.setTripleAt(e-r,t-n,e-r,t-n+i,e-r,t-n,3))):(this.v.setTripleAt(e+r,t-n+o,e+r,t-n+i,e+r,t-n+o,0,!0),0!==o?(this.v.setTripleAt(e+r-o,t-n,e+r-o,t-n,e+r-i,t-n,1,!0),this.v.setTripleAt(e-r+o,t-n,e-r+i,t-n,e-r+o,t-n,2,!0),this.v.setTripleAt(e-r,t-n+o,e-r,t-n+o,e-r,t-n+i,3,!0),this.v.setTripleAt(e-r,t+n-o,e-r,t+n-i,e-r,t+n-o,4,!0),this.v.setTripleAt(e-r+o,t+n,e-r+o,t+n,e-r+i,t+n,5,!0),this.v.setTripleAt(e+r-o,t+n,e+r-i,t+n,e+r-o,t+n,6,!0),this.v.setTripleAt(e+r,t+n-o,e+r,t+n-o,e+r,t+n-i,7,!0)):(this.v.setTripleAt(e-r,t-n,e-r+i,t-n,e-r,t-n,1,!0),this.v.setTripleAt(e-r,t+n,e-r,t+n-i,e-r,t+n,2,!0),this.v.setTripleAt(e+r,t+n,e+r-i,t+n,e+r,t+n,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],e),e}(),u={getShapeProp:function(e,t,r){var n;return 3===r||4===r?n=(3===r?t.pt:t.ks).k.length?new l(e,t,r):new s(e,t,r):5===r?n=new d(e,t):6===r?n=new c(e,t):7===r&&(n=new h(e,t)),n.k&&e.addDynamicProperty(n),n},getConstructorFunction:function(){return s},getKeyframedConstructorFunction:function(){return l}};return u}(),Matrix=function(){var e=Math.cos,t=Math.sin,r=Math.tan,n=Math.round;function o(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function i(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1)}function s(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(1,0,0,0,0,n,-o,0,0,o,n,0,0,0,0,1)}function a(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(n,0,o,0,0,1,0,0,-o,0,n,0,0,0,0,1)}function l(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1)}function c(e,t){return this._t(1,t,e,1,0,0)}function h(e,t){return this.shear(r(e),r(t))}function d(n,o){var i=e(o),s=t(o);return this._t(i,s,0,0,-s,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(n),1,0,0,0,0,1,0,0,0,0,1)._t(i,-s,0,0,s,i,0,0,0,0,1,0,0,0,0,1)}function u(e,t,r){return r||0===r||(r=1),1===e&&1===t&&1===r?this:this._t(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1)}function p(e,t,r,n,o,i,s,a,l,c,h,d,u,p,f,m){return this.props[0]=e,this.props[1]=t,this.props[2]=r,this.props[3]=n,this.props[4]=o,this.props[5]=i,this.props[6]=s,this.props[7]=a,this.props[8]=l,this.props[9]=c,this.props[10]=h,this.props[11]=d,this.props[12]=u,this.props[13]=p,this.props[14]=f,this.props[15]=m,this}function f(e,t,r){return r=r||0,0!==e||0!==t||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1):this}function m(e,t,r,n,o,i,s,a,l,c,h,d,u,p,f,m){var g=this.props;if(1===e&&0===t&&0===r&&0===n&&0===o&&1===i&&0===s&&0===a&&0===l&&0===c&&1===h&&0===d)return g[12]=g[12]*e+g[15]*u,g[13]=g[13]*i+g[15]*p,g[14]=g[14]*h+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var v=g[0],y=g[1],b=g[2],w=g[3],x=g[4],E=g[5],S=g[6],_=g[7],C=g[8],A=g[9],k=g[10],T=g[11],P=g[12],M=g[13],D=g[14],O=g[15];return g[0]=v*e+y*o+b*l+w*u,g[1]=v*t+y*i+b*c+w*p,g[2]=v*r+y*s+b*h+w*f,g[3]=v*n+y*a+b*d+w*m,g[4]=x*e+E*o+S*l+_*u,g[5]=x*t+E*i+S*c+_*p,g[6]=x*r+E*s+S*h+_*f,g[7]=x*n+E*a+S*d+_*m,g[8]=C*e+A*o+k*l+T*u,g[9]=C*t+A*i+k*c+T*p,g[10]=C*r+A*s+k*h+T*f,g[11]=C*n+A*a+k*d+T*m,g[12]=P*e+M*o+D*l+O*u,g[13]=P*t+M*i+D*c+O*p,g[14]=P*r+M*s+D*h+O*f,g[15]=P*n+M*a+D*d+O*m,this._identityCalculated=!1,this}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function y(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t];return e}function b(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function w(e,t,r){return{x:e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}}function x(e,t,r){return e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12]}function E(e,t,r){return e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13]}function S(e,t,r){return e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}function _(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,r=-this.props[1]/e,n=-this.props[4]/e,o=this.props[0]/e,i=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,a=new Matrix;return a.props[0]=t,a.props[1]=r,a.props[4]=n,a.props[5]=o,a.props[12]=i,a.props[13]=s,a}function C(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function A(e){var t,r=e.length,n=[];for(t=0;t<r;t+=1)n[t]=C(e[t]);return n}function k(e,t,r){var n=createTypedArray("float32",6);if(this.isIdentity())n[0]=e[0],n[1]=e[1],n[2]=t[0],n[3]=t[1],n[4]=r[0],n[5]=r[1];else{var o=this.props[0],i=this.props[1],s=this.props[4],a=this.props[5],l=this.props[12],c=this.props[13];n[0]=e[0]*o+e[1]*s+l,n[1]=e[0]*i+e[1]*a+c,n[2]=t[0]*o+t[1]*s+l,n[3]=t[0]*i+t[1]*a+c,n[4]=r[0]*o+r[1]*s+l,n[5]=r[0]*i+r[1]*a+c}return n}function T(e,t,r){return this.isIdentity()?[e,t,r]:[e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]]}function P(e,t){if(this.isIdentity())return e+","+t;var r=this.props;return Math.round(100*(e*r[0]+t*r[4]+r[12]))/100+","+Math.round(100*(e*r[1]+t*r[5]+r[13]))/100}function M(){for(var e=0,t=this.props,r="matrix3d(";e<16;)r+=n(1e4*t[e])/1e4,r+=15===e?")":",",e+=1;return r}function D(e){return e<1e-6&&e>0||e>-1e-6&&e<0?n(1e4*e)/1e4:e}function O(){var e=this.props;return"matrix("+D(e[0])+","+D(e[1])+","+D(e[4])+","+D(e[5])+","+D(e[12])+","+D(e[13])+")"}return function(){this.reset=o,this.rotate=i,this.rotateX=s,this.rotateY=a,this.rotateZ=l,this.skew=h,this.skewFromAxis=d,this.shear=c,this.scale=u,this.setTransform=p,this.translate=f,this.transform=m,this.applyToPoint=w,this.applyToX=x,this.applyToY=E,this.applyToZ=S,this.applyToPointArray=T,this.applyToTriplePoints=k,this.applyToPointStringified=P,this.toCSS=M,this.to2dCSS=O,this.clone=y,this.cloneFromProps=b,this.equals=v,this.inversePoints=A,this.inversePoint=C,this.getInverseMatrix=_,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(e)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(e){setLocationHref(e)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),r=0;r<t.length;r+=1){var n=t[r].split("=");if(decodeURIComponent(n[0])==e)return decodeURIComponent(n[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.10.0";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&(window.bodymovin=lottie)}catch(e){}var ShapeModifiers=function(){var e={},t={};return e.registerModifier=function(e,r){t[e]||(t[e]=r)},e.getModifier=function(e,r,n){return new t[e](r,n)},e}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,r,n,o){var i=[];t<=1?i.push({s:e,e:t}):e>=1?i.push({s:e-1,e:t-1}):(i.push({s:e,e:1}),i.push({s:0,e:t-1}));var s,a,l=[],c=i.length;for(s=0;s<c;s+=1){var h,d;(a=i[s]).e*o<n||a.s*o>n+r||(h=a.s*o<=n?0:(a.s*o-n)/r,d=a.e*o>=n+r?1:(a.e*o-n)/r,l.push([h,d]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,r=e.length;for(t=0;t<r;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,r,n,o;if(this._mdf||e){var i=this.o.v%360/360;if(i<0&&(i+=1),(t=this.s.v>1?1+i:this.s.v<0?0+i:this.s.v+i)>(r=this.e.v>1?1+i:this.e.v<0?0+i:this.e.v+i)){var s=t;t=r,r=s}t=1e-4*Math.round(1e4*t),r=1e-4*Math.round(1e4*r),this.sValue=t,this.eValue=r}else t=this.sValue,r=this.eValue;var a,l,c,h,d,u=this.shapes.length,p=0;if(r===t)for(o=0;o<u;o+=1)this.shapes[o].localShapeCollection.releaseShapes(),this.shapes[o].shape._mdf=!0,this.shapes[o].shape.paths=this.shapes[o].localShapeCollection,this._mdf&&(this.shapes[o].pathsData.length=0);else if(1===r&&0===t||0===r&&1===t){if(this._mdf)for(o=0;o<u;o+=1)this.shapes[o].pathsData.length=0,this.shapes[o].shape._mdf=!0}else{var f,m,g=[];for(o=0;o<u;o+=1)if((f=this.shapes[o]).shape._mdf||this._mdf||e||2===this.m){if(l=(n=f.shape.paths)._length,d=0,!f.shape._mdf&&f.pathsData.length)d=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),a=0;a<l;a+=1)h=bez.getSegmentsLength(n.shapes[a]),c.push(h),d+=h.totalLength;f.totalShapeLength=d,f.pathsData=c}p+=d,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var v,y=t,b=r,w=0;for(o=u-1;o>=0;o-=1)if((f=this.shapes[o]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&u>1?(v=this.calculateShapeEdges(t,r,f.totalShapeLength,w,p),w+=f.totalShapeLength):v=[[y,b]],l=v.length,a=0;a<l;a+=1){y=v[a][0],b=v[a][1],g.length=0,b<=1?g.push({s:f.totalShapeLength*y,e:f.totalShapeLength*b}):y>=1?g.push({s:f.totalShapeLength*(y-1),e:f.totalShapeLength*(b-1)}):(g.push({s:f.totalShapeLength*y,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(b-1)}));var x=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var E=x.pop();this.addPaths(x,m),x=this.addShapes(f,g[1],E)}else this.addPaths(x,m),x=this.addShapes(f,g[1]);this.addPaths(x,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)t.addShape(e[r])},TrimModifier.prototype.addSegment=function(e,t,r,n,o,i,s){o.setXYAt(t[0],t[1],"o",i),o.setXYAt(r[0],r[1],"i",i+1),s&&o.setXYAt(e[0],e[1],"v",i),o.setXYAt(n[0],n[1],"v",i+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,r,n){t.setXYAt(e[1],e[5],"o",r),t.setXYAt(e[2],e[6],"i",r+1),n&&t.setXYAt(e[0],e[4],"v",r),t.setXYAt(e[3],e[7],"v",r+1)},TrimModifier.prototype.addShapes=function(e,t,r){var n,o,i,s,a,l,c,h,d=e.pathsData,u=e.shape.paths.shapes,p=e.shape.paths._length,f=0,m=[],g=!0;for(r?(a=r._length,h=r._length):(r=shapePool.newElement(),a=0,h=0),m.push(r),n=0;n<p;n+=1){for(l=d[n].lengths,r.c=u[n].c,i=u[n].c?l.length:l.length+1,o=1;o<i;o+=1)if(f+(s=l[o-1]).addedLength<t.s)f+=s.addedLength,r.c=!1;else{if(f>t.e){r.c=!1;break}t.s<=f&&t.e>=f+s.addedLength?(this.addSegment(u[n].v[o-1],u[n].o[o-1],u[n].i[o],u[n].v[o],r,a,g),g=!1):(c=bez.getNewSegment(u[n].v[o-1],u[n].v[o],u[n].o[o-1],u[n].i[o],(t.s-f)/s.addedLength,(t.e-f)/s.addedLength,l[o-1]),this.addSegmentFromArray(c,r,a,g),g=!1,r.c=!1),f+=s.addedLength,a+=1}if(u[n].c&&l.length){if(s=l[o-1],f<=t.e){var v=l[o-1].addedLength;t.s<=f&&t.e>=f+v?(this.addSegment(u[n].v[o-1],u[n].o[o-1],u[n].i[0],u[n].v[0],r,a,g),g=!1):(c=bez.getNewSegment(u[n].v[o-1],u[n].v[0],u[n].o[o-1],u[n].i[0],(t.s-f)/v,(t.e-f)/v,l[o-1]),this.addSegmentFromArray(c,r,a,g),g=!1,r.c=!1)}else r.c=!1;f+=s.addedLength,a+=1}if(r._length&&(r.setXYAt(r.v[h][0],r.v[h][1],"i",h),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),f>t.e)break;n<p-1&&(r=shapePool.newElement(),g=!0,m.push(r),a=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var r=t/100,n=[0,0],o=e._length,i=0;for(i=0;i<o;i+=1)n[0]+=e.v[i][0],n[1]+=e.v[i][1];n[0]/=o,n[1]/=o;var s,a,l,c,h,d,u=shapePool.newElement();for(u.c=e.c,i=0;i<o;i+=1)s=e.v[i][0]+(n[0]-e.v[i][0])*r,a=e.v[i][1]+(n[1]-e.v[i][1])*r,l=e.o[i][0]+(n[0]-e.o[i][0])*-r,c=e.o[i][1]+(n[1]-e.o[i][1])*-r,h=e.i[i][0]+(n[0]-e.i[i][0])*-r,d=e.i[i][1]+(n[1]-e.i[i][1])*-r,u.setTripleAt(s,a,l,c,h,d,i);return u},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,r,n,o,i,s,a=this.shapes.length,l=this.amount.v;if(0!==l)for(r=0;r<a;r+=1){if(s=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,n=0;n<o;n+=1)s.addShape(this.processPath(t[n],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function t(e,t,r){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var n,o=t.or.k.length;for(n=0;n<o;n+=1)t.or.k[n].to=null,t.or.k[n].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var r;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,o;if(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),o=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),o=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(n=this.p.pv,o=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],o=[];var i=this.px,s=this.py;i._caching.lastFrame+i.offsetTime<=i.keyframes[0].t?(n[0]=i.getValueAtTime((i.keyframes[0].t+.01)/r,0),n[1]=s.getValueAtTime((s.keyframes[0].t+.01)/r,0),o[0]=i.getValueAtTime(i.keyframes[0].t/r,0),o[1]=s.getValueAtTime(s.keyframes[0].t/r,0)):i._caching.lastFrame+i.offsetTime>=i.keyframes[i.keyframes.length-1].t?(n[0]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/r,0),n[1]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/r,0),o[0]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/r,0),o[1]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/r,0)):(n=[i.pv,s.pv],o[0]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/r,i.offsetTime),o[1]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/r,s.offsetTime))}else n=o=e;this.v.rotate(-Math.atan2(n[1]-o[1],n[0]-o[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,r,n){return new t(e,r,n)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(e,t){return 1e5*Math.abs(e-t)<=Math.min(Math.abs(e),Math.abs(t))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,t,r){return e*(1-r)+t*r}function lerpPoint(e,t,r){return[lerp(e[0],t[0],r),lerp(e[1],t[1],r)]}function quadRoots(e,t,r){if(0===e)return[];var n=t*t-4*e*r;if(n<0)return[];var o=-t/(2*e);if(0===n)return[o];var i=Math.sqrt(n)/(2*e);return[o-i,o+i]}function polynomialCoefficients(e,t,r,n){return[3*t-e-3*r+n,3*e-6*t+3*r,-3*e+3*t,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,t,r,n,o){o&&pointEqual(e,t)&&(t=lerpPoint(e,n,1/3)),o&&pointEqual(r,n)&&(r=lerpPoint(e,n,2/3));var i=polynomialCoefficients(e[0],t[0],r[0],n[0]),s=polynomialCoefficients(e[1],t[1],r[1],n[1]);this.a=[i[0],s[0]],this.b=[i[1],s[1]],this.c=[i[2],s[2]],this.d=[i[3],s[3]],this.points=[e,t,r,n]}function extrema(e,t){var r=e.points[0][t],n=e.points[e.points.length-1][t];if(r>n){var o=n;n=r,r=o}for(var i=quadRoots(3*e.a[t],2*e.b[t],e.c[t]),s=0;s<i.length;s+=1)if(i[s]>0&&i[s]<1){var a=e.point(i[s])[t];a<r?r=a:a>n&&(n=a)}return{min:r,max:n}}function intersectData(e,t,r){var n=e.boundingBox();return{cx:n.cx,cy:n.cy,width:n.width,height:n.height,bez:e,t:(t+r)/2,t1:t,t2:r}}function splitData(e){var t=e.bez.split(.5);return[intersectData(t[0],e.t1,e.t),intersectData(t[1],e.t,e.t2)]}function boxIntersect(e,t){return 2*Math.abs(e.cx-t.cx)<e.width+t.width&&2*Math.abs(e.cy-t.cy)<e.height+t.height}function intersectsImpl(e,t,r,n,o,i){if(boxIntersect(e,t))if(r>=i||e.width<=n&&e.height<=n&&t.width<=n&&t.height<=n)o.push([e.t,t.t]);else{var s=splitData(e),a=splitData(t);intersectsImpl(s[0],a[0],r+1,n,o,i),intersectsImpl(s[0],a[1],r+1,n,o,i),intersectsImpl(s[1],a[0],r+1,n,o,i),intersectsImpl(s[1],a[1],r+1,n,o,i)}}function crossProduct(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function lineIntersection(e,t,r,n){var o=[e[0],e[1],1],i=[t[0],t[1],1],s=[r[0],r[1],1],a=[n[0],n[1],1],l=crossProduct(crossProduct(o,i),crossProduct(s,a));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(e,t,r){return[e[0]+Math.cos(t)*r,e[1]-Math.sin(t)*r]}function pointDistance(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function pointEqual(e,t){return floatEqual(e[0],t[0])&&floatEqual(e[1],t[1])}function ZigZagModifier(){}function setPoint(e,t,r,n,o,i,s){var a=r-Math.PI/2,l=r+Math.PI/2,c=t[0]+Math.cos(r)*n*o,h=t[1]-Math.sin(r)*n*o;e.setTripleAt(c,h,c+Math.cos(a)*i,h-Math.sin(a)*i,c+Math.cos(l)*s,h-Math.sin(l)*s,e.length())}function getPerpendicularVector(e,t){var r=[t[0]-e[0],t[1]-e[1]],n=.5*-Math.PI;return[Math.cos(n)*r[0]-Math.sin(n)*r[1],Math.sin(n)*r[0]+Math.cos(n)*r[1]]}function getProjectingAngle(e,t){var r=0===t?e.length()-1:t-1,n=(t+1)%e.length(),o=getPerpendicularVector(e.v[r],e.v[n]);return Math.atan2(0,1)-Math.atan2(o[1],o[0])}function zigZagCorner(e,t,r,n,o,i,s){var a=getProjectingAngle(t,r),l=t.v[r%t._length],c=t.v[0===r?t._length-1:r-1],h=t.v[(r+1)%t._length],d=2===i?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,u=2===i?Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)):0;setPoint(e,t.v[r%t._length],a,s,n,u/(2*(o+1)),d/(2*(o+1)),i)}function zigZagSegment(e,t,r,n,o,i){for(var s=0;s<n;s+=1){var a=(s+1)/(n+1),l=2===o?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,c=t.normalAngle(a);setPoint(e,t.point(a),c,i,r,l/(2*(n+1)),l/(2*(n+1)),o),i=-i}return i}function linearOffset(e,t,r){var n=Math.atan2(t[0]-e[0],t[1]-e[1]);return[polarOffset(e,n,r),polarOffset(t,n,r)]}function offsetSegment(e,t){var r,n,o,i,s,a,l;r=(l=linearOffset(e.points[0],e.points[1],t))[0],n=l[1],o=(l=linearOffset(e.points[1],e.points[2],t))[0],i=l[1],s=(l=linearOffset(e.points[2],e.points[3],t))[0],a=l[1];var c=lineIntersection(r,n,o,i);null===c&&(c=n);var h=lineIntersection(s,a,o,i);return null===h&&(h=s),new PolynomialBezier(r,c,h,a)}function joinLines(e,t,r,n,o){var i=t.points[3],s=r.points[0];if(3===n)return i;if(pointEqual(i,s))return i;if(2===n){var a=-t.tangentAngle(1),l=-r.tangentAngle(0)+Math.PI,c=lineIntersection(i,polarOffset(i,a+Math.PI/2,100),s,polarOffset(s,a+Math.PI/2,100)),h=c?pointDistance(c,i):pointDistance(i,s)/2,d=polarOffset(i,a,2*h*roundCorner);return e.setXYAt(d[0],d[1],"o",e.length()-1),d=polarOffset(s,l,2*h*roundCorner),e.setTripleAt(s[0],s[1],s[0],s[1],d[0],d[1],e.length()),s}var u=lineIntersection(pointEqual(i,t.points[2])?t.points[0]:t.points[2],i,s,pointEqual(s,r.points[1])?r.points[3]:r.points[1]);return u&&pointDistance(u,i)<o?(e.setTripleAt(u[0],u[1],u[0],u[1],u[0],u[1],e.length()),u):i}function getIntersection(e,t){var r=e.intersections(t);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(e,t){var r=e.slice(),n=t.slice(),o=getIntersection(e[e.length-1],t[0]);return o&&(r[e.length-1]=e[e.length-1].split(o[0])[0],n[0]=t[0].split(o[1])[1]),e.length>1&&t.length>1&&(o=getIntersection(e[0],t[t.length-1]))?[[e[0].split(o[0])[0]],[t[t.length-1].split(o[1])[1]]]:[r,n]}function pruneIntersections(e){for(var t,r=1;r<e.length;r+=1)t=pruneSegmentIntersection(e[r-1],e[r]),e[r-1]=t[0],e[r]=t[1];return e.length>1&&(t=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function offsetSegmentSplit(e,t){var r,n,o,i,s=e.inflectionPoints();if(0===s.length)return[offsetSegment(e,t)];if(1===s.length||floatEqual(s[1],1))return r=(o=e.split(s[0]))[0],n=o[1],[offsetSegment(r,t),offsetSegment(n,t)];r=(o=e.split(s[0]))[0];var a=(s[1]-s[0])/(1-s[0]);return i=(o=o[1].split(a))[0],n=o[1],[offsetSegment(r,t),offsetSegment(i,t),offsetSegment(n,t)]}function OffsetPathModifier(){}function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],r="normal",n="normal",o=t.length,i=0;i<o;i+=1)switch(t[i].toLowerCase()){case"italic":n="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:n,weight:e.fWeight||r}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,r,n,o,i){var s=i?-1:1,a=n.s.v[0]+(1-n.s.v[0])*(1-o),l=n.s.v[1]+(1-n.s.v[1])*(1-o);e.translate(n.p.v[0]*s*o,n.p.v[1]*s*o,n.p.v[2]),t.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),t.rotate(-n.r.v*s*o),t.translate(n.a.v[0],n.a.v[1],n.a.v[2]),r.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),r.scale(i?1/a:a,i?1/l:l),r.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(e,t,r,n){for(this.elem=e,this.arr=t,this.pos=r,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[r]);r>0;)r-=1,this._elements.unshift(t[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)e[r]._render=t,"gr"===e[r].ty&&this.changeGroupRender(e[r].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,r,n,o,i,s=!1;if(this._mdf||e){var a,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),s=!0}for(i=0,n=0;n<=this._groups.length-1;n+=1){if(a=i<l,this._groups[n]._render=a,this.changeGroupRender(this._groups[n].it,a),!a){var h=this.elemsData[n].it,d=h[h.length-1];0!==d.transform.op.v?(d.transform.op._mdf=!0,d.transform.op.v=0):d.transform.op._mdf=!1}i+=1}this._currentCopies=l;var u=this.o.v,p=u%1,f=u>0?Math.floor(u):Math.ceil(u),m=this.pMatrix.props,g=this.rMatrix.props,v=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var y,b,w=0;if(u>0){for(;w<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),w+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),w+=p)}else if(u<0){for(;w>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),w-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),w-=p)}for(n=1===this.data.m?0:this._currentCopies-1,o=1===this.data.m?1:-1,i=this._currentCopies;i;){if(b=(r=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==w){for((0!==n&&1===o||n!==this._currentCopies-1&&-1===o)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),y=0;y<b;y+=1)r[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<b;y+=1)r[y]=this.matrix.props[y];w+=1,i-=1,n+=o}}else for(i=this._currentCopies,n=0,o=1;i;)r=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,i-=1,n+=o;return s},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var r,n=shapePool.newElement();n.c=e.c;var o,i,s,a,l,c,h,d,u,p,f,m,g=e._length,v=0;for(r=0;r<g;r+=1)o=e.v[r],s=e.o[r],i=e.i[r],o[0]===s[0]&&o[1]===s[1]&&o[0]===i[0]&&o[1]===i[1]?0!==r&&r!==g-1||e.c?(a=0===r?e.v[g-1]:e.v[r-1],c=(l=Math.sqrt(Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)))?Math.min(l/2,t)/l:0,h=f=o[0]+(a[0]-o[0])*c,d=m=o[1]-(o[1]-a[1])*c,u=h-(h-o[0])*roundCorner,p=d-(d-o[1])*roundCorner,n.setTripleAt(h,d,u,p,f,m,v),v+=1,a=r===g-1?e.v[0]:e.v[r+1],c=(l=Math.sqrt(Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)))?Math.min(l/2,t)/l:0,h=u=o[0]+(a[0]-o[0])*c,d=p=o[1]+(a[1]-o[1])*c,f=h-(h-o[0])*roundCorner,m=d-(d-o[1])*roundCorner,n.setTripleAt(h,d,u,p,f,m,v),v+=1):(n.setTripleAt(o[0],o[1],s[0],s[1],i[0],i[1],v),v+=1):(n.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],v),v+=1);return n},RoundCornersModifier.prototype.processShapes=function(e){var t,r,n,o,i,s,a=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;r<a;r+=1){if(s=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,n=0;n<o;n+=1)s.addShape(this.processPath(t[n],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,r=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(r<0)return[];var n=Math.sqrt(r);return floatZero(n)?n>0&&n<1?[t]:[]:[t-n,t+n].filter((function(e){return e>0&&e<1}))},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],e),r=lerpPoint(this.points[1],this.points[2],e),n=lerpPoint(this.points[2],this.points[3],e),o=lerpPoint(t,r,e),i=lerpPoint(r,n,e),s=lerpPoint(o,i,e);return[new PolynomialBezier(this.points[0],t,o,s,!0),new PolynomialBezier(s,i,n,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}},PolynomialBezier.prototype.intersections=function(e,t,r){void 0===t&&(t=2),void 0===r&&(r=7);var n=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,t,n,r),n},PolynomialBezier.shapeSegment=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[t],e.o[t],e.i[r],e.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[r],e.i[r],e.o[t],e.v[t],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,t.s,0,null,this),this.frequency=PropertyFactory.getProp(e,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,t.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(e,t,r,n){var o=e._length,i=shapePool.newElement();if(i.c=e.c,e.c||(o-=1),0===o)return i;var s=-1,a=PolynomialBezier.shapeSegment(e,0);zigZagCorner(i,e,0,t,r,n,s);for(var l=0;l<o;l+=1)s=zigZagSegment(i,a,t,r,n,-s),a=l!==o-1||e.c?PolynomialBezier.shapeSegment(e,(l+1)%o):null,zigZagCorner(i,e,l+1,t,r,n,s);return i},ZigZagModifier.prototype.processShapes=function(e){var t,r,n,o,i,s,a=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),h=this.pointsType.v;if(0!==l)for(r=0;r<a;r+=1){if(s=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,n=0;n<o;n+=1)s.addShape(this.processPath(t[n],l,c,h));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(e,t,r,n){var o=shapePool.newElement();o.c=e.c;var i,s,a,l=e.length();e.c||(l-=1);var c=[];for(i=0;i<l;i+=1)a=PolynomialBezier.shapeSegment(e,i),c.push(offsetSegmentSplit(a,t));if(!e.c)for(i=l-1;i>=0;i-=1)a=PolynomialBezier.shapeSegmentInverted(e,i),c.push(offsetSegmentSplit(a,t));c=pruneIntersections(c);var h=null,d=null;for(i=0;i<c.length;i+=1){var u=c[i];for(d&&(h=joinLines(o,d,u[0],r,n)),d=u[u.length-1],s=0;s<u.length;s+=1)a=u[s],h&&pointEqual(a.points[0],h)?o.setXYAt(a.points[1][0],a.points[1][1],"o",o.length()-1):o.setTripleAt(a.points[0][0],a.points[0][1],a.points[1][0],a.points[1][1],a.points[0][0],a.points[0][1],o.length()),o.setTripleAt(a.points[3][0],a.points[3][1],a.points[3][0],a.points[3][1],a.points[2][0],a.points[2][1],o.length()),h=a.points[3]}return c.length&&joinLines(o,d,c[0][0],r,n),o},OffsetPathModifier.prototype.processShapes=function(e){var t,r,n,o,i,s,a=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,h=this.lineJoin;if(0!==l)for(r=0;r<a;r+=1){if(s=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,n=0;n<o;n+=1)s.addShape(this.processPath(t[n],l,h,c));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var e={w:0,size:0,shapes:[],data:{shapes:[]}},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],n=[65039,8205];function o(e,t){var r=createTag("span");r.setAttribute("aria-hidden",!0),r.style.fontFamily=t;var n=createTag("span");n.innerText="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(n),document.body.appendChild(r);var o=n.offsetWidth;return n.style.fontFamily=function(e){var t,r=e.split(","),n=r.length,o=[];for(t=0;t<n;t+=1)"sans-serif"!==r[t]&&"monospace"!==r[t]&&o.push(r[t]);return o.join(",")}(e)+", "+t,{node:n,w:o,parent:r}}function i(e,t){var r,n=document.body&&t?"svg":"canvas",o=getFontProperties(e);if("svg"===n){var i=createNS("text");i.style.fontSize="100px",i.setAttribute("font-family",e.fFamily),i.setAttribute("font-style",o.style),i.setAttribute("font-weight",o.weight),i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",e.fClass)):i.style.fontFamily=e.fFamily,t.appendChild(i),r=i}else{var s=new OffscreenCanvas(500,500).getContext("2d");s.font=o.style+" "+o.weight+" 100px "+e.fFamily,r=s}return{measureText:function(e){return"svg"===n?(r.textContent=e,r.getComputedTextLength()):r.measureText(e).width}}}var s=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};s.isModifier=function(e,t){var n=e.toString(16)+t.toString(16);return-1!==r.indexOf(n)},s.isZeroWidthJoiner=function(e,t){return t?e===n[0]&&t===n[1]:e===n[1]},s.isCombinedCharacter=function(e){return-1!==t.indexOf(e)};var a={addChars:function(e){if(e){var t;this.chars||(this.chars=[]);var r,n,o=e.length,i=this.chars.length;for(t=0;t<o;t+=1){for(r=0,n=!1;r<i;)this.chars[r].style===e[t].style&&this.chars[r].fFamily===e[t].fFamily&&this.chars[r].ch===e[t].ch&&(n=!0),r+=1;n||(this.chars.push(e[t]),i+=1)}}},addFonts:function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);if(!document.body)return this.isLoaded=!0,e.list.forEach((function(e){e.helper=i(e),e.cache={}})),void(this.fonts=e.list);var r,n=e.list,s=n.length,a=s;for(r=0;r<s;r+=1){var l,c,h=!0;if(n[r].loaded=!1,n[r].monoCase=o(n[r].fFamily,"monospace"),n[r].sansCase=o(n[r].fFamily,"sans-serif"),n[r].fPath){if("p"===n[r].fOrigin||3===n[r].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+n[r].fFamily+'"], style[f-origin="3"][f-family="'+n[r].fFamily+'"]')).length>0&&(h=!1),h){var d=createTag("style");d.setAttribute("f-forigin",n[r].fOrigin),d.setAttribute("f-origin",n[r].origin),d.setAttribute("f-family",n[r].fFamily),d.type="text/css",d.innerText="@font-face {font-family: "+n[r].fFamily+"; font-style: normal; src: url('"+n[r].fPath+"');}",t.appendChild(d)}}else if("g"===n[r].fOrigin||1===n[r].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(n[r].fPath)&&(h=!1);if(h){var u=createTag("link");u.setAttribute("f-forigin",n[r].fOrigin),u.setAttribute("f-origin",n[r].origin),u.type="text/css",u.rel="stylesheet",u.href=n[r].fPath,document.body.appendChild(u)}}else if("t"===n[r].fOrigin||2===n[r].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)n[r].fPath===l[c].src&&(h=!1);if(h){var p=createTag("link");p.setAttribute("f-forigin",n[r].fOrigin),p.setAttribute("f-origin",n[r].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",n[r].fPath),t.appendChild(p)}}}else n[r].loaded=!0,a-=1;n[r].helper=i(n[r],t),n[r].cache={},this.fonts.push(n[r])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,r,n){for(var o=0,i=this.chars.length;o<i;){if(this.chars[o].ch===t&&this.chars[o].style===r&&this.chars[o].fFamily===n)return this.chars[o];o+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,r,n)),e},getFontByName:function(e){for(var t=0,r=this.fonts.length;t<r;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},measureText:function(e,t,r){var n=this.getFontByName(t),o=e.charCodeAt(0);if(!n.cache[o+1]){var i=n.helper;if(" "===e){var s=i.measureText("|"+e+"|"),a=i.measureText("||");n.cache[o+1]=(s-a)/100}else n.cache[o+1]=i.measureText(e)/100}return n.cache[o+1]*r},checkLoadedFonts:function(){var e,t,r,n=this.fonts.length,o=n;for(e=0;e<n;e+=1)this.fonts[e].loaded?o-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,r=this.fonts[e].monoCase.w,t.offsetWidth!==r?(o-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,r=this.fonts[e].sansCase.w,t.offsetWidth!==r&&(o-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==o&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return s.prototype=a,s}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return blendModeEnums[e]||""}),blendModeEnums;function SliderEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function AngleEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function ColorEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function PointEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function LayerIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function MaskIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function CheckboxEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var r,n=e.ef||[];this.effectElements=[];var o,i=n.length;for(r=0;r<i;r+=1)o=new GroupEffect(n[r],t),this.effectElements.push(o)}function GroupEffect(e,t){this.init(e,t)}function BaseElement(){}function FrameElement(){}function FootageElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,r)}function AudioElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,r),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(e,t,r){this.data=e,this.element=t,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,o,i=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var a,l,c,h,d,u,p=this.masksProperties,f=0,m=[],g=createElementID(),v="clipPath",y="clip-path";for(n=0;n<s;n+=1)if(("a"!==p[n].mode&&"n"!==p[n].mode||p[n].inv||100!==p[n].o.k||p[n].o.x)&&(v="mask",y="mask"),"s"!==p[n].mode&&"i"!==p[n].mode||0!==f?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),o=createNS("path"),"n"===p[n].mode)this.viewData[n]={op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),elem:o,lastPath:""},i.appendChild(o);else{var b;if(f+=1,o.setAttribute("fill","s"===p[n].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==p[n].x.k?(v="mask",y="mask",u=PropertyFactory.getProp(this.element,p[n].x,0,null,this.element),b=createElementID(),(h=createNS("filter")).setAttribute("id",b),(d=createNS("feMorphology")).setAttribute("operator","erode"),d.setAttribute("in","SourceGraphic"),d.setAttribute("radius","0"),h.appendChild(d),i.appendChild(h),o.setAttribute("stroke","s"===p[n].mode?"#000000":"#ffffff")):(d=null,u=null),this.storedData[n]={elem:o,x:u,expan:d,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"===p[n].mode){l=m.length;var w=createNS("g");for(a=0;a<l;a+=1)w.appendChild(m[a]);var x=createNS("mask");x.setAttribute("mask-type","alpha"),x.setAttribute("id",g+"_"+f),x.appendChild(o),i.appendChild(x),w.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+f+")"),m.length=0,m.push(w)}else m.push(o);p[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:o,lastPath:"",op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),invRect:c},this.viewData[n].prop.k||this.drawPath(p[n],this.viewData[n].prop.v,this.viewData[n])}for(this.maskElement=createNS(v),s=m.length,n=0;n<s;n+=1)this.maskElement.appendChild(m[n]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(y,"url("+getLocationHref()+"#"+g+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){var r;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var n,o=this.data.ef.length,i=this.data.ef;for(r=0;r<o;r+=1){switch(n=null,i[r].ty){case 0:n=new SliderEffect(i[r],t,this);break;case 1:n=new AngleEffect(i[r],t,this);break;case 2:n=new ColorEffect(i[r],t,this);break;case 3:n=new PointEffect(i[r],t,this);break;case 4:case 7:n=new CheckboxEffect(i[r],t,this);break;case 10:n=new LayerIndexEffect(i[r],t,this);break;case 11:n=new MaskIndexEffect(i[r],t,this);break;case 5:n=new EffectsManager(i[r],t,this);break;default:n=new NoValueEffect(i[r],t,this)}n&&this.effectElements.push(n)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var t=e("layer"),r=e("effects"),n=e("shape"),o=e("text"),i=e("comp");this.layerInterface=t(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var s=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(s),0===this.data.ty||this.data.xt?this.compInterface=i(this):4===this.data.ty?(this.layerInterface.shapeInterface=n(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=o(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,r){this.globalData=t,this.comp=r,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var r,n=this.dynamicProperties.length;for(r=0;r<n;r+=1)(t||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var t=e("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(e){var t,r,n=this.layers.length;for(this.completeLayers=!0,t=n-1;t>=0;t-=1)this.elements[t]||(r=this.layers[t]).ip-r.st<=e-this.layers[t].st&&r.op-r.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:default:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var r,n=e.length,o=this.layers.length;for(t=0;t<n;t+=1)for(r=0;r<o;){if(this.layers[r].id===e[t].id){this.layers[r]=e[t];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,r){for(var n=this.elements,o=this.layers,i=0,s=o.length;i<s;)o[i].ind==t&&(n[i]&&!0!==n[i]?(r.push(n[i]),n[i].setAsParent(),void 0!==o[i].parent?this.buildElementParenting(e,o[i].parent,r):e.setHierarchy(r)):(this.buildItem(i),this.addPendingElement(e))),i+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length;for(t=0;t<r;t+=1)if(e[t].xt){var n=this.createComp(e[t]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.getElementByPath=function(e){var t,r=e.shift();if("number"==typeof r)t=this.elements[r];else{var n,o=this.elements.length;for(n=0;n<o;n+=1)if(this.elements[n].data.nm===r){t=this.elements[n];break}}return 0===e.length?t:t.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,r=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<n;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),r=0;r<n;r+=1)e=this.hierarchy[r].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var r,n=!0,o=this.comp;n;)o.finalTransform?(o.data.hasMask&&t.splice(0,0,o.finalTransform),o=o.comp):n=!1;var i,s=t.length;for(r=0;r<s;r+=1)i=t[r].mat.applyToPointArray(0,0,0),e=[e[0]-i[0],e[1]-i[1],0];return e},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,r=this.element.finalTransform.mat,n=this.masksProperties.length;for(t=0;t<n;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var o=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[t].filterId+")")),o.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,r){var n,o,i=" M"+t.v[0][0]+","+t.v[0][1];for(o=t._length,n=1;n<o;n+=1)i+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[n][0]+","+t.i[n][1]+" "+t.v[n][0]+","+t.v[n][1];if(t.c&&o>1&&(i+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),r.lastPath!==i){var s="";r.elem&&(t.c&&(s=e.inv?this.solidPath+i:i),r.elem.setAttribute("d",s)),r.lastPath=i}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var e={createFilter:function(e,t){var r=createNS("filter");return r.setAttribute("id",e),!0!==t&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}};return e}(),featureSupport=function(){var e={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),e}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(e){var t,r,n="SourceGraphic",o=e.data.ef?e.data.ef.length:0,i=createElementID(),s=filtersFactory.createFilter(i,!0),a=0;for(this.filters=[],t=0;t<o;t+=1){r=null;var l=e.data.ef[t].ty;registeredEffects[l]&&(r=new(0,registeredEffects[l].effect)(s,e.effectsManager.effectElements[t],e,idPrefix+a,n),n=idPrefix+a,registeredEffects[l].countsAsEffect&&(a+=1)),r&&this.filters.push(r)}a&&(e.globalData.defs.appendChild(s),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+i+")")),this.filters.length&&e.addRenderableComponent(this)}function registerEffect(e,t,r){registeredEffects[e]={effect:t,countsAsEffect:r}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var t=createNS("symbol");t.setAttribute("id",this.layerId);var r=createNS("g");r.appendChild(this.layerElement),t.appendChild(r),e=r,this.globalData.defs.appendChild(t)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var n=createNS("clipPath"),o=createNS("path");o.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var i=createElementID();if(n.setAttribute("id",i),n.appendChild(o),this.globalData.defs.appendChild(n),this.checkMasks()){var s=createNS("g");s.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),s.appendChild(this.layerElement),this.transformedElement=s,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},getMatte:function(e){if(!this.matteMasks[e]){var t,r,n,o,i=this.layerId+"_"+e;if(1===e||3===e){var s=createNS("mask");s.setAttribute("id",i),s.setAttribute("mask-type",3===e?"luminance":"alpha"),(n=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),s.appendChild(n),this.globalData.defs.appendChild(s),featureSupport.maskType||1!==e||(s.setAttribute("mask-type","luminance"),t=createElementID(),r=filtersFactory.createFilter(t),this.globalData.defs.appendChild(r),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(o=createNS("g")).appendChild(n),s.appendChild(o),o.setAttribute("filter","url("+getLocationHref()+"#"+t+")"))}else if(2===e){var a=createNS("mask");a.setAttribute("id",i),a.setAttribute("mask-type","alpha");var l=createNS("g");a.appendChild(l),t=createElementID(),r=filtersFactory.createFilter(t);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),r.appendChild(c);var h=createNS("feFuncA");h.setAttribute("type","table"),h.setAttribute("tableValues","1.0 0.0"),c.appendChild(h),this.globalData.defs.appendChild(r);var d=createNS("rect");d.setAttribute("width",this.comp.data.w),d.setAttribute("height",this.comp.data.h),d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("fill","#ffffff"),d.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+t+")"),l.appendChild(d),(n=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(n),featureSupport.maskType||(a.setAttribute("mask-type","luminance"),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),o=createNS("g"),l.appendChild(d),o.appendChild(this.layerElement),l.appendChild(o)),this.globalData.defs.appendChild(a)}this.matteMasks[e]=i}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(e){var t,r=this.shapeModifiers.length;for(t=0;t<r;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,r=0,n=t.length;r<n;){if(t[r].elem===e)return t[r].pos;r+=1}return 0},addProcessedElement:function(e,t){for(var r=this.processedElements,n=r.length;n;)if(r[n-=1].elem===e)return void(r[n].pos=t);r.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,r){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=r,this.lvl=t,this._isAnimated=!!r.k;for(var n=0,o=e.length;n<o;){if(e[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(e,t,r,n){var o;this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var i,s=t.length||0;for(o=0;o<s;o+=1)i=PropertyFactory.getProp(e,t[o].v,0,0,this),this.k=i.k||this.k,this.dataProps[o]={n:t[o].n,p:i};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r}function SVGNoStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=r}function GradientProperty(e,t,r){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var n=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,r)}function SVGGradientStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,r){this.transform={mProps:e,op:t,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<r;t+=1)"o"!==this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(e,t){for(var r=0,n=this.o.length/2;r<n;){if(Math.abs(e[4*r]-e[4*t+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,r,n,o=4*this.data.p;for(t=0;t<o;t+=1)r=t%4==0?100:255,n=Math.round(this.prop.v[t]*r),this.c[t]!==n&&(this.c[t]=n,this._cmdf=!e);if(this.o.length)for(o=this.prop.v.length,t=4*this.data.p;t<o;t+=1)r=t%2==0?100:1,n=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==n&&(this.o[t-4*this.data.p]=n,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,r){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,t),this.setGradientOpacity(t,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var r=createElementID(),n=createNS(1===t.t?"linearGradient":"radialGradient");n.setAttribute("id",r),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var o,i,s,a=[];for(s=4*t.g.p,i=0;i<s;i+=4)o=createNS("stop"),n.appendChild(o),a.push(o);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=n,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var r,n,o,i=createNS("mask"),s=createNS("path");i.appendChild(s);var a=createElementID(),l=createElementID();i.setAttribute("id",l);var c=createNS(1===e.t?"linearGradient":"radialGradient");c.setAttribute("id",a),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),o=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var h=this.stops;for(n=4*e.g.p;n<o;n+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(r),h.push(r);s.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+a+")"),"gs"===e.ty&&(s.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),1===e.lj&&s.setAttribute("stroke-miterlimit",e.ml)),this.of=c,this.ms=i,this.ost=h,this.maskId=l,t.msElem=s}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(e,t,r,n){if(0===t)return"";var o,i=e.o,s=e.i,a=e.v,l=" M"+n.applyToPointStringified(a[0][0],a[0][1]);for(o=1;o<t;o+=1)l+=" C"+n.applyToPointStringified(i[o-1][0],i[o-1][1])+" "+n.applyToPointStringified(s[o][0],s[o][1])+" "+n.applyToPointStringified(a[o][0],a[o][1]);return r&&t&&(l+=" C"+n.applyToPointStringified(i[o-1][0],i[o-1][1])+" "+n.applyToPointStringified(s[0][0],s[0][1])+" "+n.applyToPointStringified(a[0][0],a[0][1]),l+="z"),l},SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function r(e,t,r){(r||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(r||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function n(){}function o(r,n,o){var i,s,a,l,c,h,d,u,p,f,m,g=n.styles.length,v=n.lvl;for(h=0;h<g;h+=1){if(l=n.sh._mdf||o,n.styles[h].lvl<v){for(u=t.reset(),f=v-n.styles[h].lvl,m=n.transformers.length-1;!l&&f>0;)l=n.transformers[m].mProps._mdf||l,f-=1,m-=1;if(l)for(f=v-n.styles[h].lvl,m=n.transformers.length-1;f>0;)p=n.transformers[m].mProps.v.props,u.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),f-=1,m-=1}else u=e;if(s=(d=n.sh.paths)._length,l){for(a="",i=0;i<s;i+=1)(c=d.shapes[i])&&c._length&&(a+=buildShapeString(c,c._length,c.c,u));n.caches[h]=a}else a=n.caches[h];n.styles[h].d+=!0===r.hd?"":a,n.styles[h]._mdf=l||n.styles[h]._mdf}}function i(e,t,r){var n=t.style;(t.c._mdf||r)&&n.pElem.setAttribute("fill","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r)&&n.pElem.setAttribute("fill-opacity",t.o.v)}function s(e,t,r){a(e,t,r),l(0,t,r)}function a(e,t,r){var n,o,i,s,a,l=t.gf,c=t.g._hasOpacity,h=t.s.v,d=t.e.v;if(t.o._mdf||r){var u="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(u,t.o.v)}if(t.s._mdf||r){var p=1===e.t?"x1":"cx",f="x1"===p?"y1":"cy";l.setAttribute(p,h[0]),l.setAttribute(f,h[1]),c&&!t.g._collapsable&&(t.of.setAttribute(p,h[0]),t.of.setAttribute(f,h[1]))}if(t.g._cmdf||r){n=t.cst;var m=t.g.c;for(i=n.length,o=0;o<i;o+=1)(s=n[o]).setAttribute("offset",m[4*o]+"%"),s.setAttribute("stop-color","rgb("+m[4*o+1]+","+m[4*o+2]+","+m[4*o+3]+")")}if(c&&(t.g._omdf||r)){var g=t.g.o;for(i=(n=t.g._collapsable?t.cst:t.ost).length,o=0;o<i;o+=1)s=n[o],t.g._collapsable||s.setAttribute("offset",g[2*o]+"%"),s.setAttribute("stop-opacity",g[2*o+1])}if(1===e.t)(t.e._mdf||r)&&(l.setAttribute("x2",d[0]),l.setAttribute("y2",d[1]),c&&!t.g._collapsable&&(t.of.setAttribute("x2",d[0]),t.of.setAttribute("y2",d[1])));else if((t.s._mdf||t.e._mdf||r)&&(a=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)),l.setAttribute("r",a),c&&!t.g._collapsable&&t.of.setAttribute("r",a)),t.e._mdf||t.h._mdf||t.a._mdf||r){a||(a=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)));var v=Math.atan2(d[1]-h[1],d[0]-h[0]),y=t.h.v;y>=1?y=.99:y<=-1&&(y=-.99);var b=a*y,w=Math.cos(v+t.a.v)*b+h[0],x=Math.sin(v+t.a.v)*b+h[1];l.setAttribute("fx",w),l.setAttribute("fy",x),c&&!t.g._collapsable&&(t.of.setAttribute("fx",w),t.of.setAttribute("fy",x))}}function l(e,t,r){var n=t.style,o=t.d;o&&(o._mdf||r)&&o.dashStr&&(n.pElem.setAttribute("stroke-dasharray",o.dashStr),n.pElem.setAttribute("stroke-dashoffset",o.dashoffset[0])),t.c&&(t.c._mdf||r)&&n.pElem.setAttribute("stroke","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r)&&n.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||r)&&(n.pElem.setAttribute("stroke-width",t.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty){case"fl":return i;case"gf":return a;case"gs":return s;case"st":return l;case"sh":case"el":case"rc":case"sr":return o;case"tr":return r;case"no":return n;default:return null}}}}();function SVGShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,r),this.prevViewData=[]}function LetterProps(e,t,r,n,o,i){this.o=e,this.sw=t,this.sc=r,this.fc=n,this.m=o,this.p=i,this._mdf={o:!0,sw:!!t,sc:!!r,fc:!!n,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,r,n,o=this.shapes.length,i=this.stylesList.length,s=[],a=!1;for(r=0;r<i;r+=1){for(n=this.stylesList[r],a=!1,s.length=0,e=0;e<o;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(n)&&(s.push(t),a=t._isAnimated||a);s.length>1&&a&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var r,n=new SVGStyleData(e,t),o=n.pElem;return"st"===e.ty?r=new SVGStrokeStyleData(this,e,n):"fl"===e.ty?r=new SVGFillStyleData(this,e,n):"gf"===e.ty||"gs"===e.ty?(r=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,n),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),o.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))):"no"===e.ty&&(r=new SVGNoStyleData(this,e,n)),"st"!==e.ty&&"gs"!==e.ty||(o.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),o.setAttribute("fill-opacity","0"),1===e.lj&&o.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&o.setAttribute("fill-rule","evenodd"),e.ln&&o.setAttribute("id",e.ln),e.cl&&o.setAttribute("class",e.cl),e.bm&&(o.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(n),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var r=TransformPropertyFactory.getTransformProperty(this,e,this),n=new SVGTransformData(r,r.o,t);return this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createShapeElement=function(e,t,r){var n=4;"rc"===e.ty?n=5:"el"===e.ty?n=6:"sr"===e.ty&&(n=7);var o=new SVGShapeData(t,r,ShapePropertyFactory.getShapeProp(this,e,n,this));return this.shapes.push(o),this.addShapeToModifiers(o),this.addToAnimatedContents(e,o),o},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var r=0,n=this.animatedContents.length;r<n;){if(this.animatedContents[r].element===t)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,r=e.styles,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||r.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,r,n,o,i,s){var a,l,c,h,d,u,p=[].concat(i),f=e.length-1,m=[],g=[];for(a=f;a>=0;a-=1){if((u=this.searchProcessedElement(e[a]))?t[a]=r[u-1]:e[a]._render=s,"fl"===e[a].ty||"st"===e[a].ty||"gf"===e[a].ty||"gs"===e[a].ty||"no"===e[a].ty)u?t[a].style.closed=!1:t[a]=this.createStyleElement(e[a],o),e[a]._render&&t[a].style.pElem.parentNode!==n&&n.appendChild(t[a].style.pElem),m.push(t[a].style);else if("gr"===e[a].ty){if(u)for(c=t[a].it.length,l=0;l<c;l+=1)t[a].prevViewData[l]=t[a].it[l];else t[a]=this.createGroupElement(e[a]);this.searchShapes(e[a].it,t[a].it,t[a].prevViewData,t[a].gr,o+1,p,s),e[a]._render&&t[a].gr.parentNode!==n&&n.appendChild(t[a].gr)}else"tr"===e[a].ty?(u||(t[a]=this.createTransformElement(e[a],n)),h=t[a].transform,p.push(h)):"sh"===e[a].ty||"rc"===e[a].ty||"el"===e[a].ty||"sr"===e[a].ty?(u||(t[a]=this.createShapeElement(e[a],p,o)),this.setElementStyles(t[a])):"tm"===e[a].ty||"rd"===e[a].ty||"ms"===e[a].ty||"pb"===e[a].ty||"zz"===e[a].ty||"op"===e[a].ty?(u?(d=t[a]).closed=!1:((d=ShapeModifiers.getModifier(e[a].ty)).init(this,e[a]),t[a]=d,this.shapeModifiers.push(d)),g.push(d)):"rp"===e[a].ty&&(u?(d=t[a]).closed=!0:(d=ShapeModifiers.getModifier(e[a].ty),t[a]=d,d.init(this,e,a,t),this.shapeModifiers.push(d),s=!1),g.push(d));this.addProcessedElement(e[a],a+1)}for(f=m.length,a=0;a<f;a+=1)m[a].closed=!0;for(f=g.length,a=0;a<f;a+=1)g[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,r=this.animatedContents.length;for(e=0;e<r;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(e,t,r,n,o,i){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,s=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,s=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,s=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,s=!0),this.m!==o&&(this.m=o,this._mdf.m=!0,s=!0),!i.length||this.p[0]===i[0]&&this.p[1]===i[1]&&this.p[4]===i[4]&&this.p[5]===i[5]&&this.p[12]===i[12]&&this.p[13]===i[13]||(this.p=i,this._mdf.p=!0,s=!0),s},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var n;this.lock=!0,this._mdf=!1;var o=this.effectsSequence.length,i=e||this.data.d.k[this.keysIndex].s;for(n=0;n<o;n+=1)i=r!==this.keysIndex?this.effectsSequence[n](i,i.t):this.effectsSequence[n](this.currentData,i.t);t!==i&&this.setCurrentData(i),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,r=0,n=e.length;r<=n-1&&!(r===n-1||e[r+1].t>t);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,r,n=[],o=0,i=e.length,s=!1;o<i;)t=e.charCodeAt(o),FontManager.isCombinedCharacter(t)?n[n.length-1]+=e.charAt(o):t>=55296&&t<=56319?(r=e.charCodeAt(o+1))>=56320&&r<=57343?(s||FontManager.isModifier(t,r)?(n[n.length-1]+=e.substr(o,2),s=!1):n.push(e.substr(o,2)),o+=1):n.push(e.charAt(o)):t>56319?(r=e.charCodeAt(o+1),FontManager.isZeroWidthJoiner(t,r)?(s=!0,n[n.length-1]+=e.substr(o,2),o+=1):n.push(e.charAt(o))):FontManager.isZeroWidthJoiner(t)?(n[n.length-1]+=e.charAt(o),s=!0):n.push(e.charAt(o)),o+=1;return n},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,r,n,o,i,s,a,l=this.elem.globalData.fontManager,c=this.data,h=[],d=0,u=c.m.g,p=0,f=0,m=0,g=[],v=0,y=0,b=l.getFontByName(e.f),w=0,x=getFontProperties(b);e.fWeight=x.weight,e.fStyle=x.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),r=e.finalText.length,e.finalLineHeight=e.lh;var E,S=e.tr/1e3*e.finalSize;if(e.sz)for(var _,C,A=!0,k=e.sz[0],T=e.sz[1];A;){_=0,v=0,r=(C=this.buildFinalText(e.t)).length,S=e.tr/1e3*e.finalSize;var P=-1;for(t=0;t<r;t+=1)E=C[t].charCodeAt(0),n=!1," "===C[t]?P=t:13!==E&&3!==E||(v=0,n=!0,_+=e.finalLineHeight||1.2*e.finalSize),l.chars?(a=l.getCharData(C[t],b.fStyle,b.fFamily),w=n?0:a.w*e.finalSize/100):w=l.measureText(C[t],e.f,e.finalSize),v+w>k&&" "!==C[t]?(-1===P?r+=1:t=P,_+=e.finalLineHeight||1.2*e.finalSize,C.splice(t,P===t?1:0,"\r"),P=-1,v=0):(v+=w,v+=S);_+=b.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&T<_?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=C,r=e.finalText.length,A=!1)}v=-S,w=0;var M,D=0;for(t=0;t<r;t+=1)if(n=!1,13===(E=(M=e.finalText[t]).charCodeAt(0))||3===E?(D=0,g.push(v),y=v>y?v:y,v=-2*S,o="",n=!0,m+=1):o=M,l.chars?(a=l.getCharData(M,b.fStyle,l.getFontByName(e.f).fFamily),w=n?0:a.w*e.finalSize/100):w=l.measureText(o,e.f,e.finalSize)," "===M?D+=w+S:(v+=w+S+D,D=0),h.push({l:w,an:w,add:p,n,anIndexes:[],val:o,line:m,animatorJustifyOffset:0}),2==u){if(p+=w,""===o||" "===o||t===r-1){for(""!==o&&" "!==o||(p-=w);f<=t;)h[f].an=p,h[f].ind=d,h[f].extra=w,f+=1;d+=1,p=0}}else if(3==u){if(p+=w,""===o||t===r-1){for(""===o&&(p-=w);f<=t;)h[f].an=p,h[f].ind=d,h[f].extra=w,f+=1;p=0,d+=1}}else h[d].ind=d,h[d].extra=0,d+=1;if(e.l=h,y=v>y?v:y,g.push(v),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=y,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=g;var O,I,R,N,F=c.a;s=F.length;var B=[];for(i=0;i<s;i+=1){for((O=F[i]).a.sc&&(e.strokeColorAnim=!0),O.a.sw&&(e.strokeWidthAnim=!0),(O.a.fc||O.a.fh||O.a.fs||O.a.fb)&&(e.fillColorAnim=!0),N=0,R=O.s.b,t=0;t<r;t+=1)(I=h[t]).anIndexes[i]=N,(1==R&&""!==I.val||2==R&&""!==I.val&&" "!==I.val||3==R&&(I.n||" "==I.val||t==r-1)||4==R&&(I.n||t==r-1))&&(1===O.s.rn&&B.push(N),N+=1);c.a[i].s.totalChars=N;var L,V=-1;if(1===O.s.rn)for(t=0;t<r;t+=1)V!=(I=h[t]).anIndexes[i]&&(V=I.anIndexes[i],L=B.splice(Math.floor(Math.random()*B.length),1)[0]),I.anIndexes[i]=L}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=b.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var r=this.copyData({},this.data.d.k[t].s);r=this.copyData(r,e),this.data.d.k[t].s=r,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,r=Math.floor;function n(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(e,t.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return n.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var o=0,i=0,s=1,a=1;this.ne.v>0?o=this.ne.v/100:i=-this.ne.v/100,this.xe.v>0?s=1-this.xe.v/100:a=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(o,i,s,a).get,c=0,h=this.finalS,d=this.finalE,u=this.data.sh;if(2===u)c=l(c=d===h?n>=d?1:0:e(0,t(.5/(d-h)+(n-h)/(d-h),1)));else if(3===u)c=l(c=d===h?n>=d?0:1:1-e(0,t(.5/(d-h)+(n-h)/(d-h),1)));else if(4===u)d===h?c=0:(c=e(0,t(.5/(d-h)+(n-h)/(d-h),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===u){if(d===h)c=0;else{var p=d-h,f=-p/2+(n=t(e(0,n+.5-h),d-h)),m=p/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===u?(d===h?c=0:(n=t(e(0,n+.5-h),d-h),c=(1+Math.cos(Math.PI+2*Math.PI*n/(d-h)))/2),c=l(c)):(n>=r(h)&&(c=e(0,t(n-h<0?t(d,1)-(h-n):d-n,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var v=.5-.5*g;c<v?c=0:(c=(c-v)/g)>1&&(c=1)}return c*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/t,n=this.s.v/t+r,o=this.e.v/t+r;if(n>o){var i=n;n=o,o=i}this.finalS=n,this.finalE=o}},extendPrototype([DynamicPropertyContainer],n),{getTextSelectorProp:function(e,t,r){return new n(e,t,r)}}}();function TextAnimatorDataProperty(e,t,r){var n={propType:!1},o=PropertyFactory.getProp,i=t.a;this.a={r:i.r?o(e,i.r,0,degToRads,r):n,rx:i.rx?o(e,i.rx,0,degToRads,r):n,ry:i.ry?o(e,i.ry,0,degToRads,r):n,sk:i.sk?o(e,i.sk,0,degToRads,r):n,sa:i.sa?o(e,i.sa,0,degToRads,r):n,s:i.s?o(e,i.s,1,.01,r):n,a:i.a?o(e,i.a,1,0,r):n,o:i.o?o(e,i.o,0,.01,r):n,p:i.p?o(e,i.p,1,0,r):n,sw:i.sw?o(e,i.sw,0,0,r):n,sc:i.sc?o(e,i.sc,1,0,r):n,fc:i.fc?o(e,i.fc,1,0,r):n,fh:i.fh?o(e,i.fh,0,0,r):n,fs:i.fs?o(e,i.fs,0,.01,r):n,fb:i.fb?o(e,i.fb,0,.01,r):n,t:i.t?o(e,i.t,0,0,r):n},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,r),this.s.t=t.s.t}function TextAnimatorProperty(e,t,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,r=this._textData.a.length,n=PropertyFactory.getProp;for(e=0;e<r;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,n,o,i,s,a,l,c,h,d,u,p,f,m,g,v,y,b,w,x=this._moreOptions.alignment.v,E=this._animatorsData,S=this._textData,_=this.mHelper,C=this._renderType,A=this.renderedLetters.length,k=e.l;if(this._hasMaskedPath){if(w=this._pathData.m,!this._pathData.n||this._pathData._mdf){var T,P=w.v;for(this._pathData.r.v&&(P=P.reverse()),s={tLength:0,segments:[]},i=P._length-1,v=0,o=0;o<i;o+=1)T=bez.buildBezierData(P.v[o],P.v[o+1],[P.o[o][0]-P.v[o][0],P.o[o][1]-P.v[o][1]],[P.i[o+1][0]-P.v[o+1][0],P.i[o+1][1]-P.v[o+1][1]]),s.tLength+=T.segmentLength,s.segments.push(T),v+=T.segmentLength;o=i,w.v.c&&(T=bez.buildBezierData(P.v[o],P.v[0],[P.o[o][0]-P.v[o][0],P.o[o][1]-P.v[o][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),s.tLength+=T.segmentLength,s.segments.push(T),v+=T.segmentLength),this._pathData.pi=s}if(s=this._pathData.pi,a=this._pathData.f.v,u=0,d=1,c=0,h=!0,m=s.segments,a<0&&w.v.c)for(s.tLength<Math.abs(a)&&(a=-Math.abs(a)%s.tLength),d=(f=m[u=m.length-1].points).length-1;a<0;)a+=f[d].partialLength,(d-=1)<0&&(d=(f=m[u-=1].points).length-1);p=(f=m[u].points)[d-1],g=(l=f[d]).partialLength}i=k.length,r=0,n=0;var M,D,O,I,R,N=1.2*e.finalSize*.714,F=!0;O=E.length;var B,L,V,z,H,j,G,U,q,W,$,Z,K=-1,Y=a,X=u,J=d,Q=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var re=0,ne=0,oe=2===e.j?-.5:-1,ie=0,se=!0;for(o=0;o<i;o+=1)if(k[o].n){for(re&&(re+=ne);ie<o;)k[ie].animatorJustifyOffset=re,ie+=1;re=0,se=!0}else{for(D=0;D<O;D+=1)(M=E[D].a).t.propType&&(se&&2===e.j&&(ne+=M.t.v*oe),(R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars)).length?re+=M.t.v*R[0]*oe:re+=M.t.v*R*oe);se=!1}for(re&&(re+=ne);ie<o;)k[ie].animatorJustifyOffset=re,ie+=1}for(o=0;o<i;o+=1){if(_.reset(),z=1,k[o].n)r=0,n+=e.yOffset,n+=F?1:0,a=Y,F=!1,this._hasMaskedPath&&(d=J,p=(f=m[u=X].points)[d-1],g=(l=f[d]).partialLength,c=0),ee="",$="",q="",Z="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==k[o].line){switch(e.j){case 1:a+=v-e.lineWidths[k[o].line];break;case 2:a+=(v-e.lineWidths[k[o].line])/2}Q=k[o].line}K!==k[o].ind&&(k[K]&&(a+=k[K].extra),a+=k[o].an/2,K=k[o].ind),a+=x[0]*k[o].an*.005;var ae=0;for(D=0;D<O;D+=1)(M=E[D].a).p.propType&&((R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars)).length?ae+=M.p.v[0]*R[0]:ae+=M.p.v[0]*R),M.a.propType&&((R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars)).length?ae+=M.a.v[0]*R[0]:ae+=M.a.v[0]*R);for(h=!0,this._pathData.a.v&&(a=.5*k[0].an+(v-this._pathData.f.v-.5*k[0].an-.5*k[k.length-1].an)*K/(i-1),a+=this._pathData.f.v);h;)c+g>=a+ae||!f?(y=(a+ae-c)/l.partialLength,L=p.point[0]+(l.point[0]-p.point[0])*y,V=p.point[1]+(l.point[1]-p.point[1])*y,_.translate(-x[0]*k[o].an*.005,-x[1]*N*.01),h=!1):f&&(c+=l.partialLength,(d+=1)>=f.length&&(d=0,m[u+=1]?f=m[u].points:w.v.c?(d=0,f=m[u=0].points):(c-=l.partialLength,f=null)),f&&(p=l,g=(l=f[d]).partialLength));B=k[o].an/2-k[o].add,_.translate(-B,0,0)}else B=k[o].an/2-k[o].add,_.translate(-B,0,0),_.translate(-x[0]*k[o].an*.005,-x[1]*N*.01,0);for(D=0;D<O;D+=1)(M=E[D].a).t.propType&&(R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars),0===r&&0===e.j||(this._hasMaskedPath?R.length?a+=M.t.v*R[0]:a+=M.t.v*R:R.length?r+=M.t.v*R[0]:r+=M.t.v*R));for(e.strokeWidthAnim&&(j=e.sw||0),e.strokeColorAnim&&(H=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(G=[e.fc[0],e.fc[1],e.fc[2]]),D=0;D<O;D+=1)(M=E[D].a).a.propType&&((R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars)).length?_.translate(-M.a.v[0]*R[0],-M.a.v[1]*R[1],M.a.v[2]*R[2]):_.translate(-M.a.v[0]*R,-M.a.v[1]*R,M.a.v[2]*R));for(D=0;D<O;D+=1)(M=E[D].a).s.propType&&((R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars)).length?_.scale(1+(M.s.v[0]-1)*R[0],1+(M.s.v[1]-1)*R[1],1):_.scale(1+(M.s.v[0]-1)*R,1+(M.s.v[1]-1)*R,1));for(D=0;D<O;D+=1){if(M=E[D].a,R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars),M.sk.propType&&(R.length?_.skewFromAxis(-M.sk.v*R[0],M.sa.v*R[1]):_.skewFromAxis(-M.sk.v*R,M.sa.v*R)),M.r.propType&&(R.length?_.rotateZ(-M.r.v*R[2]):_.rotateZ(-M.r.v*R)),M.ry.propType&&(R.length?_.rotateY(M.ry.v*R[1]):_.rotateY(M.ry.v*R)),M.rx.propType&&(R.length?_.rotateX(M.rx.v*R[0]):_.rotateX(M.rx.v*R)),M.o.propType&&(R.length?z+=(M.o.v*R[0]-z)*R[0]:z+=(M.o.v*R-z)*R),e.strokeWidthAnim&&M.sw.propType&&(R.length?j+=M.sw.v*R[0]:j+=M.sw.v*R),e.strokeColorAnim&&M.sc.propType)for(U=0;U<3;U+=1)R.length?H[U]+=(M.sc.v[U]-H[U])*R[0]:H[U]+=(M.sc.v[U]-H[U])*R;if(e.fillColorAnim&&e.fc){if(M.fc.propType)for(U=0;U<3;U+=1)R.length?G[U]+=(M.fc.v[U]-G[U])*R[0]:G[U]+=(M.fc.v[U]-G[U])*R;M.fh.propType&&(G=R.length?addHueToRGB(G,M.fh.v*R[0]):addHueToRGB(G,M.fh.v*R)),M.fs.propType&&(G=R.length?addSaturationToRGB(G,M.fs.v*R[0]):addSaturationToRGB(G,M.fs.v*R)),M.fb.propType&&(G=R.length?addBrightnessToRGB(G,M.fb.v*R[0]):addBrightnessToRGB(G,M.fb.v*R))}}for(D=0;D<O;D+=1)(M=E[D].a).p.propType&&(R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars),this._hasMaskedPath?R.length?_.translate(0,M.p.v[1]*R[0],-M.p.v[2]*R[1]):_.translate(0,M.p.v[1]*R,-M.p.v[2]*R):R.length?_.translate(M.p.v[0]*R[0],M.p.v[1]*R[1],-M.p.v[2]*R[2]):_.translate(M.p.v[0]*R,M.p.v[1]*R,-M.p.v[2]*R));if(e.strokeWidthAnim&&(q=j<0?0:j),e.strokeColorAnim&&(W="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),e.fillColorAnim&&e.fc&&($="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),this._hasMaskedPath){if(_.translate(0,-e.ls),_.translate(0,x[1]*N*.01+n,0),this._pathData.p.v){b=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var le=180*Math.atan(b)/Math.PI;l.point[0]<p.point[0]&&(le+=180),_.rotate(-le*Math.PI/180)}_.translate(L,V,0),a-=x[0]*k[o].an*.005,k[o+1]&&K!==k[o+1].ind&&(a+=k[o].an/2,a+=.001*e.tr*e.finalSize)}else{switch(_.translate(r,n,0),e.ps&&_.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:_.translate(k[o].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[k[o].line]),0,0);break;case 2:_.translate(k[o].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[k[o].line])/2,0,0)}_.translate(0,-e.ls),_.translate(B,0,0),_.translate(x[0]*k[o].an*.005,x[1]*N*.01,0),r+=k[o].l+.001*e.tr*e.finalSize}"html"===C?ee=_.toCSS():"svg"===C?ee=_.to2dCSS():te=[_.props[0],_.props[1],_.props[2],_.props[3],_.props[4],_.props[5],_.props[6],_.props[7],_.props[8],_.props[9],_.props[10],_.props[11],_.props[12],_.props[13],_.props[14],_.props[15]],Z=z}A<=o?(I=new LetterProps(Z,q,W,$,ee,te),this.renderedLetters.push(I),A+=1,this.lettersChangedFlag=!0):(I=this.renderedLetters[o],this.lettersChangedFlag=I.update(Z,q,W,$,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(e,t,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,r),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){var r,n,o=t.length,i="";for(r=0;r<o;r+=1)"sh"===t[r].ty&&(n=t[r].ks.k,i+=buildShapeString(n,n.i.length,!0,e));return i},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,r,n,o){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r])/2,0,0)}t.translate(n,o,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,r){this.textSpans=[],this.renderType="svg",this.initElement(e,t,r)}function ISolidElement(e,t,r){this.initElement(e,t,r)}function NullElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initFrame(),this.initTransform(e,t,r),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(e,t,r){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(t&&t.title){var n=createNS("title"),o=createElementID();n.setAttribute("id",o),n.textContent=t.title,this.svgElement.appendChild(n),r+=o}if(t&&t.description){var i=createNS("desc"),s=createElementID();i.setAttribute("id",s),i.textContent=t.description,this.svgElement.appendChild(i),r+=" "+s}r&&this.svgElement.setAttribute("aria-labelledby",r);var a=createNS("defs");this.svgElement.appendChild(a);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&!1===t.hideOnTransparent),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var e;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVEffects(){}function CVMaskElement(e,t){var r;this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n=this.masksProperties.length,o=!1;for(r=0;r<n;r+=1)"n"!==this.masksProperties[r].mode&&(o=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=o,o&&this.element.addRenderableComponent(this)}function CVBaseElement(){}function CVShapeData(e,t,r,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var o,i=4;"rc"===t.ty?i=5:"el"===t.ty?i=6:"sr"===t.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,i,e);var s,a=r.length;for(o=0;o<a;o+=1)r[o].closed||(s={transforms:n.addTransformSequence(r[o].transforms),trNodes:[]},this.styledShapes.push(s),r[o].elements.push(s))}function CVShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,r)}function CVTextElement(e,t,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,r)}function CVImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,r)}function CVSolidElement(e,t,r){this.initElement(e,t,r)}function CanvasRendererBase(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(e,t,r){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(e,t,r){this.initElement(e,t,r)}function HShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,r)}function HCameraElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,e.pe,0,0,this),e.ks.p.s?(this.px=n(this,e.ks.p.x,1,0,this),this.py=n(this,e.ks.p.y,1,0,this),this.pz=n(this,e.ks.p.z,1,0,this)):this.p=n(this,e.ks.p,1,0,this),e.ks.a&&(this.a=n(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var o,i=e.ks.or.k.length;for(o=0;o<i;o+=1)e.ks.or.k[o].to=null,e.ks.or.k[o].ti=null}this.or=n(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,e.ks.rx,0,degToRads,this),this.ry=n(this,e.ks.ry,0,degToRads,this),this.rz=n(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r)}function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(e,t,r){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,r=e.length,n=[],o="";t<r;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(n.push(o),o=""):o+=e[t],t+=1;return n.push(o),n},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var r=e.shapes[0];if(r.it){var n=r.it[r.it.length-1];n.s&&(n.s.k[0]=t,n.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){var e,t;this.addDynamicProperty(this);var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var n=this.globalData.fontManager.getFontByName(r.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var o=r.fWeight,i=r.fStyle;this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",o)}this.layerElement.setAttribute("aria-label",r.t);var s,a=r.l||[],l=!!this.globalData.fontManager.chars;t=a.length;var c=this.mHelper,h=this.data.singleShape,d=0,u=0,p=!0,f=.001*r.tr*r.finalSize;if(!h||l||r.sz){var m,g=this.textSpans.length;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!l||!h||0===e){if(s=g>e?this.textSpans[e].span:createNS(l?"g":"text"),g<=e){if(s.setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=s,l){var v=createNS("g");s.appendChild(v),this.textSpans[e].childSpan=v}this.textSpans[e].span=s,this.layerElement.appendChild(s)}s.style.display="inherit"}if(c.reset(),h&&(a[e].n&&(d=-f,u+=r.yOffset,u+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(r,c,a[e].line,d,u),d+=a[e].l||0,d+=f),l){var y;if(1===(m=this.globalData.fontManager.getCharData(r.finalText[e],n.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily)).t)y=new SVGCompElement(m.data,this.globalData,this);else{var b=emptyShapeData;m.data&&m.data.shapes&&(b=this.buildShapeData(m.data,r.finalSize)),y=new SVGShapeElement(b,this.globalData,this)}if(this.textSpans[e].glyph){var w=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(w.layerElement),w.destroy()}this.textSpans[e].glyph=y,y._debug=!0,y.prepareFrame(0),y.renderFrame(),this.textSpans[e].childSpan.appendChild(y.layerElement),1===m.t&&this.textSpans[e].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else h&&s.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),s.textContent=a[e].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}h&&s&&s.setAttribute("d","")}else{var x=this.textContainer,E="start";switch(r.j){case 1:E="end";break;case 2:E="middle";break;default:E="start"}x.setAttribute("text-anchor",E),x.setAttribute("letter-spacing",f);var S=this.buildTextContents(r.finalText);for(t=S.length,u=r.ps?r.ps[1]+r.ascent:0,e=0;e<t;e+=1)(s=this.textSpans[e].span||createNS("tspan")).textContent=S[e],s.setAttribute("x",0),s.setAttribute("y",u),s.style.display="inherit",x.appendChild(s),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=s,u+=r.finalLineHeight;this.layerElement.appendChild(x)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t,r=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<r;e+=1)(t=this.textSpans[e].glyph)&&(t.prepareFrame(this.comp.renderedFrame-this.data.st),t._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var r,n,o,i=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(t=s.length,e=0;e<t;e+=1)s[e].n||(r=i[e],n=this.textSpans[e].span,(o=this.textSpans[e].glyph)&&o.renderFrame(),r._mdf.m&&n.setAttribute("transform",r.m),r._mdf.o&&n.setAttribute("opacity",r.o),r._mdf.sw&&n.setAttribute("stroke-width",r.sw),r._mdf.sc&&n.setAttribute("stroke",r.sc),r._mdf.fc&&n.setAttribute("fill",r.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var r=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",e.w),n.setAttribute("height",e.h),n.setAttribute("x",0),n.setAttribute("y",0);var o=createElementID();r.setAttribute("id",o),r.appendChild(n),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),t.appendChild(r),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var t=0,r=this.layers.length;for(t=0;t<r;t+=1)if(this.layers[t].ind===e)return t;return-1},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){t[e]=!0;var r=this.createItem(this.layers[e]);if(t[e]=r,getExpressionsPlugin()&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,e),this.layers[e].tt){var n="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(-1===n)return;if(this.elements[n]&&!0!==this.elements[n]){var o=t[n].getMatte(this.layers[e].tt);r.setMatte(o)}else this.buildItem(n),this.addPendingElement(r)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,r=this.elements.length;t<r;){if(this.elements[t]===e){var n="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,o=this.elements[n].getMatte(this.layers[t].tt);e.setMatte(o);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<r;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){for(var n,o=0;o<t;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement()&&(n=this.elements[o].getBaseElement()),o+=1;n?this.layerElement.insertBefore(r,n):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var r,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);var r=0;for(r=this._length;r<e;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},ShapeTransformManager.prototype={addTransformSequence:function(e){var t,r=e.length,n="_";for(t=0;t<r;t+=1)n+=e[t].transform.key+"_";var o=this.sequences[n];return o||(o={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=o,this.sequenceList.push(o)),o},processSequence:function(e,t){for(var r,n=0,o=e.transforms.length,i=t;n<o&&!t;){if(e.transforms[n].transform.mProps._mdf){i=!0;break}n+=1}if(i)for(e.finalTransform.reset(),n=o-1;n>=0;n-=1)r=e.transforms[n].transform.mProps.v.props,e.finalTransform.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);e._mdf=i},processSequences:function(e){var t,r=this.sequenceList.length;for(t=0;t<r;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,r,n,o=this.element.finalTransform.mat,i=this.element.canvasContext,s=this.masksProperties.length;for(i.beginPath(),e=0;e<s;e+=1)if("n"!==this.masksProperties[e].mode){var a;this.masksProperties[e].inv&&(i.moveTo(0,0),i.lineTo(this.element.globalData.compSize.w,0),i.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),i.lineTo(0,this.element.globalData.compSize.h),i.lineTo(0,0)),n=this.viewData[e].v,t=o.applyToPointArray(n.v[0][0],n.v[0][1],0),i.moveTo(t[0],t[1]);var l=n._length;for(a=1;a<l;a+=1)r=o.applyToTriplePoints(n.o[a-1],n.i[a],n.v[a]),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=o.applyToTriplePoints(n.o[a-1],n.i[0],n.v[0]),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),i.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var e=0===this.data.ty;this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var r={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},n={};if("fl"===e.ty||"st"===e.ty?(n.c=PropertyFactory.getProp(this,e.c,1,255,this),n.c.k||(r.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(n.s=PropertyFactory.getProp(this,e.s,1,null,this),n.e=PropertyFactory.getProp(this,e.e,1,null,this),n.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,e.g,this)),n.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"===e.ty||"gs"===e.ty){if(r.lc=lineCapEnum[e.lc||2],r.lj=lineJoinEnum[e.lj||2],1==e.lj&&(r.ml=e.ml),n.w=PropertyFactory.getProp(this,e.w,0,null,this),n.w.k||(r.wi=n.w.v),e.d){var o=new DashProperty(this,e.d,"canvas",this);n.d=o,n.d.k||(r.da=n.d.dashArray,r.do=n.d.dashoffset[0])}}else r.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(r),n.style=r,n},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,r,n,o){var i,s,a,l,c,h,d=e.length-1,u=[],p=[],f=[].concat(o);for(i=d;i>=0;i-=1){if((l=this.searchProcessedElement(e[i]))?t[i]=r[l-1]:e[i]._shouldRender=n,"fl"===e[i].ty||"st"===e[i].ty||"gf"===e[i].ty||"gs"===e[i].ty)l?t[i].style.closed=!1:t[i]=this.createStyleElement(e[i],f),u.push(t[i].style);else if("gr"===e[i].ty){if(l)for(a=t[i].it.length,s=0;s<a;s+=1)t[i].prevViewData[s]=t[i].it[s];else t[i]=this.createGroupElement(e[i]);this.searchShapes(e[i].it,t[i].it,t[i].prevViewData,n,f)}else"tr"===e[i].ty?(l||(h=this.createTransformElement(e[i]),t[i]=h),f.push(t[i]),this.addTransformToStyleList(t[i])):"sh"===e[i].ty||"rc"===e[i].ty||"el"===e[i].ty||"sr"===e[i].ty?l||(t[i]=this.createShapeElement(e[i])):"tm"===e[i].ty||"rd"===e[i].ty||"pb"===e[i].ty||"zz"===e[i].ty||"op"===e[i].ty?(l?(c=t[i]).closed=!1:((c=ShapeModifiers.getModifier(e[i].ty)).init(this,e[i]),t[i]=c,this.shapeModifiers.push(c)),p.push(c)):"rp"===e[i].ty&&(l?(c=t[i]).closed=!0:(c=ShapeModifiers.getModifier(e[i].ty),t[i]=c,c.init(this,e,i,t),this.shapeModifiers.push(c),n=!1),p.push(c));this.addProcessedElement(e[i],i+1)}for(this.removeTransformFromStyleList(),this.closeStyles(u),d=p.length,i=0;i<d;i+=1)p[i].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,r,n,o,i,s,a,l,c=this.stylesList.length,h=this.globalData.renderer,d=this.globalData.canvasContext;for(e=0;e<c;e+=1)if(("st"!==(a=(l=this.stylesList[e]).type)&&"gs"!==a||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(h.save(),i=l.elements,"st"===a||"gs"===a?(d.strokeStyle="st"===a?l.co:l.grd,d.lineWidth=l.wi,d.lineCap=l.lc,d.lineJoin=l.lj,d.miterLimit=l.ml||0):d.fillStyle="fl"===a?l.co:l.grd,h.ctxOpacity(l.coOp),"st"!==a&&"gs"!==a&&d.beginPath(),h.ctxTransform(l.preTransforms.finalTransform.props),r=i.length,t=0;t<r;t+=1){for("st"!==a&&"gs"!==a||(d.beginPath(),l.da&&(d.setLineDash(l.da),d.lineDashOffset=l.do)),o=(s=i[t].trNodes).length,n=0;n<o;n+=1)"m"===s[n].t?d.moveTo(s[n].p[0],s[n].p[1]):"c"===s[n].t?d.bezierCurveTo(s[n].pts[0],s[n].pts[1],s[n].pts[2],s[n].pts[3],s[n].pts[4],s[n].pts[5]):d.closePath();"st"!==a&&"gs"!==a||(d.stroke(),l.da&&d.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&d.fill(l.r),h.restore()}},CVShapeElement.prototype.renderShape=function(e,t,r,n){var o,i;for(i=e,o=t.length-1;o>=0;o-=1)"tr"===t[o].ty?(i=r[o].transform,this.renderShapeTransform(e,i)):"sh"===t[o].ty||"el"===t[o].ty||"rc"===t[o].ty||"sr"===t[o].ty?this.renderPath(t[o],r[o]):"fl"===t[o].ty?this.renderFill(t[o],r[o],i):"st"===t[o].ty?this.renderStroke(t[o],r[o],i):"gf"===t[o].ty||"gs"===t[o].ty?this.renderGradientFill(t[o],r[o],i):"gr"===t[o].ty?this.renderShape(i,t[o].it,r[o].it):t[o].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var r,n,o,i=e.trNodes,s=t.paths,a=s._length;i.length=0;var l=e.transforms.finalTransform;for(o=0;o<a;o+=1){var c=s.shapes[o];if(c&&c.v){for(n=c._length,r=1;r<n;r+=1)1===r&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),i.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[r],c.v[r])});1===n&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&n&&(i.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[0],c.v[0])}),i.push({t:"z"}))}}e.trNodes=i}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var r,n=t.styledShapes.length;for(r=0;r<n;r+=1)this.renderStyledShape(t.styledShapes[r],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,r){var n=t.style;(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,r){var n,o=t.style;if(!o.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var i,s=this.globalData.canvasContext,a=t.s.v,l=t.e.v;if(1===e.t)n=s.createLinearGradient(a[0],a[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2)),h=Math.atan2(l[1]-a[1],l[0]-a[0]),d=t.h.v;d>=1?d=.99:d<=-1&&(d=-.99);var u=c*d,p=Math.cos(h+t.a.v)*u+a[0],f=Math.sin(h+t.a.v)*u+a[1];n=s.createRadialGradient(p,f,0,a[0],a[1],c)}var m=e.g.p,g=t.g.c,v=1;for(i=0;i<m;i+=1)t.g._hasOpacity&&t.g._collapsable&&(v=t.g.o[2*i+1]),n.addColorStop(g[4*i]/100,"rgba("+g[4*i+1]+","+g[4*i+2]+","+g[4*i+3]+","+v+")");o.grd=n}o.coOp=t.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(e,t,r){var n=t.style,o=t.d;o&&(o._mdf||this._isFirstFrame)&&(n.da=o.dashArray,n.do=o.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*r.opacity),(t.w._mdf||this._isFirstFrame)&&(n.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var r=!1;e.sc&&(r=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var n,o,i,s,a,l,c,h,d,u,p,f,m=this.globalData.fontManager.getFontByName(e.f),g=e.l,v=this.mHelper;this.stroke=r,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,o=e.finalText.length;var y=this.data.singleShape,b=.001*e.tr*e.finalSize,w=0,x=0,E=!0,S=0;for(n=0;n<o;n+=1){s=(i=this.globalData.fontManager.getCharData(e.finalText[n],m.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&i.data||{},v.reset(),y&&g[n].n&&(w=-b,x+=e.yOffset,x+=E?1:0,E=!1),d=(c=s.shapes?s.shapes[0].it:[]).length,v.scale(e.finalSize/100,e.finalSize/100),y&&this.applyTextPropertiesToMatrix(e,v,g[n].line,w,x),p=createSizedArray(d-1);var _=0;for(h=0;h<d;h+=1)if("sh"===c[h].ty){for(l=c[h].ks.k.i.length,u=c[h].ks.k,f=[],a=1;a<l;a+=1)1===a&&f.push(v.applyToX(u.v[0][0],u.v[0][1],0),v.applyToY(u.v[0][0],u.v[0][1],0)),f.push(v.applyToX(u.o[a-1][0],u.o[a-1][1],0),v.applyToY(u.o[a-1][0],u.o[a-1][1],0),v.applyToX(u.i[a][0],u.i[a][1],0),v.applyToY(u.i[a][0],u.i[a][1],0),v.applyToX(u.v[a][0],u.v[a][1],0),v.applyToY(u.v[a][0],u.v[a][1],0));f.push(v.applyToX(u.o[a-1][0],u.o[a-1][1],0),v.applyToY(u.o[a-1][0],u.o[a-1][1],0),v.applyToX(u.i[0][0],u.i[0][1],0),v.applyToY(u.i[0][0],u.i[0][1],0),v.applyToX(u.v[0][0],u.v[0][1],0),v.applyToY(u.v[0][0],u.v[0][1],0)),p[_]=f,_+=1}y&&(w+=g[n].l,w+=b),this.textSpans[S]?this.textSpans[S].elem=p:this.textSpans[S]={elem:p},S+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,r,n,o,i,s=this.canvasContext;s.font=this.values.fValue,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;t=c.length;var h,d,u=null,p=null,f=null;for(e=0;e<t;e+=1)if(!c[e].n){if((a=l[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(a.p),this.globalData.renderer.ctxOpacity(a.o)),this.fill){for(a&&a.fc?u!==a.fc&&(u=a.fc,s.fillStyle=a.fc):u!==this.values.fill&&(u=this.values.fill,s.fillStyle=this.values.fill),n=(h=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(i=(d=h[r]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),o=2;o<i;o+=6)this.globalData.canvasContext.bezierCurveTo(d[o],d[o+1],d[o+2],d[o+3],d[o+4],d[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(a&&a.sw?f!==a.sw&&(f=a.sw,s.lineWidth=a.sw):f!==this.values.sWidth&&(f=this.values.sWidth,s.lineWidth=this.values.sWidth),a&&a.sc?p!==a.sc&&(p=a.sc,s.strokeStyle=a.sc):p!==this.values.stroke&&(p=this.values.stroke,s.strokeStyle=this.values.stroke),n=(h=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(i=(d=h[r]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),o=2;o<i;o+=6)this.globalData.canvasContext.bezierCurveTo(d[o],d[o+1],d[o+2],d[o+3],d[o+4],d[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}a&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,r,n=e.getContext("2d"),o=this.img.width,i=this.img.height,s=o/i,a=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>a&&"xMidYMid slice"===l||s<a&&"xMidYMid slice"!==l?t=(r=i)*a:r=(t=o)/a,n.drawImage(this.img,(o-t)/2,(i-r)/2,t,r,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){if(1!==e[0]||0!==e[1]||0!==e[4]||1!==e[5]||0!==e[12]||0!==e[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(e);var t=this.contextData.cTr.props;this.transformMat.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r=this.contextData.cTr.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}else this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=e<0?0:e,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.save();var t,r=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var n=this.contextData.saved[this.contextData.cArrPos];for(t=0;t<16;t+=1)n[t]=r[t];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var t,r=this.contextData.saved[this.contextData.cArrPos],n=this.contextData.cTr.props;for(t=0;t<16;t+=1)n[t]=r[t];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var r="0px 0px 0px";t.transformOrigin=r,t.mozTransformOrigin=r,t.webkitTransformOrigin=r,t["-webkit-transform"]=r,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,t){var r,n,o,i;if(this.reset(),e?(r=e,n=t,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=n):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,n=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=n*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var s=this.renderConfig.preserveAspectRatio.split(" "),a=s[1]||"meet",l=s[0]||"xMidYMid",c=l.substr(0,4),h=l.substr(4);o=r/n,(i=this.transformCanvas.w/this.transformCanvas.h)>o&&"meet"===a||i<o&&"slice"===a?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(i<o&&"meet"===a||i>o&&"slice"===a)?(r-this.transformCanvas.w*(n/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(i<o&&"meet"===a||i>o&&"slice"===a)?(r-this.transformCanvas.w*(n/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===h&&(i>o&&"meet"===a||i<o&&"slice"===a)?(n-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(i>o&&"meet"===a||i<o&&"slice"===a)?(n-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){var r;this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var n=this.layers.length;for(this.completeLayers||this.checkLayers(e),r=0;r<n;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(e-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){var r=this.createItem(this.layers[e],this,this.globalData);t[e]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)t=e[r].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var r,n,o,i,s,a=e.sh.v,l=e.transformers,c=a._length;if(!(c<=1)){for(r=0;r<c-1;r+=1)n=this.getTransformedPoint(l,a.v[r]),o=this.getTransformedPoint(l,a.o[r]),i=this.getTransformedPoint(l,a.i[r+1]),s=this.getTransformedPoint(l,a.v[r+1]),this.checkBounds(n,o,i,s,t);a.c&&(n=this.getTransformedPoint(l,a.v[r]),o=this.getTransformedPoint(l,a.o[r]),i=this.getTransformedPoint(l,a.i[0]),s=this.getTransformedPoint(l,a.v[0]),this.checkBounds(n,o,i,s,t))}},HShapeElement.prototype.checkBounds=function(e,t,r,n,o){this.getBoundsOfCurve(e,t,r,n);var i=this.shapeBoundingBox;o.x=bmMin(i.left,o.x),o.xMax=bmMax(i.right,o.xMax),o.y=bmMin(i.top,o.y),o.yMax=bmMax(i.bottom,o.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,r,n){for(var o,i,s,a,l,c,h,d=[[e[0],n[0]],[e[1],n[1]]],u=0;u<2;++u)i=6*e[u]-12*t[u]+6*r[u],o=-3*e[u]+9*t[u]-9*r[u]+3*n[u],s=3*t[u]-3*e[u],i|=0,s|=0,0==(o|=0)&&0===i||(0===o?(a=-s/i)>0&&a<1&&d[u].push(this.calculateF(a,e,t,r,n,u)):(l=i*i-4*s*o)>=0&&((c=(-i+bmSqrt(l))/(2*o))>0&&c<1&&d[u].push(this.calculateF(c,e,t,r,n,u)),(h=(-i-bmSqrt(l))/(2*o))>0&&h<1&&d[u].push(this.calculateF(h,e,t,r,n,u))));this.shapeBoundingBox.left=bmMin.apply(null,d[0]),this.shapeBoundingBox.top=bmMin.apply(null,d[1]),this.shapeBoundingBox.right=bmMax.apply(null,d[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,d[1])},HShapeElement.prototype.calculateF=function(e,t,r,n,o,i){return bmPow(1-e,3)*t[i]+3*bmPow(1-e,2)*e*r[i]+3*(1-e)*bmPow(e,2)*n[i]+bmPow(e,3)*o[i]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)e[r]&&e[r].sh?this.calculateShapeBoundingBox(e[r],t):e[r]&&e[r].it?this.calculateBoundingBox(e[r].it,t):e[r]&&e[r].style&&e[r].w&&this.expandStrokeBoundingBox(e[r].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var r=0;if(e.keyframes){for(var n=0;n<e.keyframes.length;n+=1){var o=e.keyframes[n].s;o>r&&(r=o)}r*=e.mult}else r=e.v*e.mult;t.x-=r,t.xMax+=r,t.y-=r,t.yMax+=r},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var r=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),r=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),r=!0),r||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,o="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=o,n.webkitTransform=o}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,r=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=r,t.color=r,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var n,o,i=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{t.fontFamily=i.fFamily;var s=e.fWeight,a=e.fStyle;t.fontStyle=a,t.fontWeight=s}var l,c,h,d=e.l;o=d.length;var u,p=this.mHelper,f="",m=0;for(n=0;n<o;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?h=(c=this.textSpans[m]).children[0]:((c=createTag("div")).style.lineHeight=0,(h=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],l=this.textPaths[m]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,v=this.globalData.fontManager.getCharData(e.finalText[n],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(g=v?v.data:null,p.reset(),g&&g.shapes&&g.shapes.length&&(u=g.shapes[0].it,p.scale(e.finalSize/100,e.finalSize/100),f=this.createPathShape(p,u),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(h);var y=h.getBBox();h.setAttribute("width",y.width+2),h.setAttribute("height",y.height+2),h.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2));var b=h.style,w="translate("+(y.x-1)+"px,"+(y.y-1)+"px)";b.transform=w,b.webkitTransform=w,d[n].yOffset=y.y-1}else h.setAttribute("width",1),h.setAttribute("height",1);c.appendChild(h)}}else if(l.textContent=d[n].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var x=l.style,E="translate3d(0,"+-e.finalSize/1.2+"px,0)";x.transform=E,x.webkitTransform=E}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,n,o,i,s,a=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(n=c.length,r=0;r<n;r+=1)c[r].n?a+=1:(i=this.textSpans[r],s=this.textPaths[r],o=l[a],a+=1,o._mdf.m&&(this.isMasked?i.setAttribute("transform",o.m):(i.style.webkitTransform=o.m,i.style.transform=o.m)),i.style.opacity=o.o,o.sw&&o._mdf.sw&&s.setAttribute("stroke-width",o.sw),o.sc&&o._mdf.sc&&s.setAttribute("stroke",o.sc),o.fc&&o._mdf.fc&&(s.setAttribute("fill",o.fc),s.style.color=o.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var h=this.innerElem.getBBox();if(this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.svgElement.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.svgElement.setAttribute("height",h.height)),this.currentBBox.w!==h.width+2||this.currentBBox.h!==h.height+2||this.currentBBox.x!==h.x-1||this.currentBBox.y!==h.y-1){this.currentBBox.w=h.width+2,this.currentBBox.h=h.height+2,this.currentBBox.x=h.x-1,this.currentBBox.y=h.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var d="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=d,e.webkitTransform=d}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,r,n,o=this.comp.threeDElements.length;for(e=0;e<o;e+=1)if("3d"===(t=this.comp.threeDElements[e]).type){r=t.perspectiveElem.style,n=t.container.style;var i=this.pe.v+"px",s="0px 0px 0px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=i,r.webkitPerspective=i,n.transformOrigin=s,n.mozTransformOrigin=s,n.webkitTransformOrigin=s,r.transform=a,r.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,r=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)r=this.hierarchy[e].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var n=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var o;o=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var i=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)),s=[o[0]/i,o[1]/i,o[2]/i],a=Math.sqrt(s[2]*s[2]+s[0]*s[0]),l=Math.atan2(s[1],a),c=Math.atan2(s[0],-s[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var h=!this._prevMat.equals(this.mat);if((h||this.pe._mdf)&&this.comp.threeDElements){var d,u,p;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if("3d"===(d=this.comp.threeDElements[e]).type){if(h){var f=this.mat.toCSS();(p=d.container.style).transform=f,p.webkitTransform=f}this.pe._mdf&&((u=d.perspectiveElem.style).perspective=this.pe.v+"px",u.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){var n=this.layers[t];if(n.ddd&&this.supports3d)this.addTo3dContainer(r,t);else if(this.threeDElements)this.addTo3dContainer(r,t);else{for(var o,i,s=0;s<t;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(i=this.elements[s],o=(this.layers[s].ddd?this.getThreeDContainerByPos(s):i.getBaseElement())||o),s+=1;o?n.ddd&&this.supports3d||this.layerElement.insertBefore(r,o):n.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,r=this.threeDElements.length;t<r;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var r,n,o=createTag("div");styleDiv(o);var i=createTag("div");if(styleDiv(i),"3d"===t){(r=o.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var s="50% 50%";r.webkitTransformOrigin=s,r.mozTransformOrigin=s,r.transformOrigin=s;var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(n=i.style).transform=a,n.webkitTransform=a}o.appendChild(i);var l={container:i,perspectiveElem:o,startPos:e,endPos:e,type:t};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var e,t,r=this.layers.length,n="";for(e=0;e<r;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?("3d"!==n&&(n="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):("2d"!==n&&(n="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(r=this.threeDElements.length)-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var r=0,n=this.threeDElements.length;r<n;){if(t<=this.threeDElements[r].endPos){for(var o,i=this.threeDElements[r].startPos;i<t;)this.elements[i]&&this.elements[i].getBaseElement&&(o=this.elements[i].getBaseElement()),i+=1;o?this.threeDElements[r].container.insertBefore(e,o):this.threeDElements[r].container.appendChild(e);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),r=this.animationItem.wrapper,n=t.style;n.width=e.w+"px",n.height=e.h+"px",this.resizerElem=t,styleDiv(t),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),r.appendChild(t),n.overflow="hidden";var o=createNS("svg");o.setAttribute("width","1"),o.setAttribute("height","1"),styleDiv(o),this.resizerElem.appendChild(o);var i=createNS("defs");o.appendChild(i),this.data=e,this.setupGlobalData(e,o),this.globalData.defs=i,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e,t,r,n,o=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,s=o/i;this.globalData.compSize.w/this.globalData.compSize.h>s?(e=o/this.globalData.compSize.w,t=o/this.globalData.compSize.w,r=0,n=(i-this.globalData.compSize.h*(o/this.globalData.compSize.w))/2):(e=i/this.globalData.compSize.h,t=i/this.globalData.compSize.h,r=(o-this.globalData.compSize.w*(i/this.globalData.compSize.h))/2,n=0);var a=this.resizerElem.style;a.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+r+","+n+",0,1)",a.transform=a.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,r=this.globalData.compSize.h,n=this.threeDElements.length;for(e=0;e<n;e+=1){var o=this.threeDElements[e].perspectiveElem.style;o.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(r,2))+"px",o.perspective=o.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,r=e.length,n=createTag("div");for(t=0;t<r;t+=1)if(e[t].xt){var o=this.createComp(e[t],n,this.globalData.comp,null);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var r,n=0;n<t;)this.elements[n]&&this.elements[n].getBaseElement&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(e,r):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(e){function t(t){for(var r=0,n=e.layers.length;r<n;){if(e.layers[r].nm===t||e.layers[r].ind===t)return e.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t},Expressions=function(){var e={initExpressions:function(e){var t=0,r=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0==(t-=1)&&function(){var e,t=r.length;for(e=0;e<t;e+=1)r[e].release();r.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===r.indexOf(e)&&r.push(e)}}};return e}(),MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var r,n=createSizedArray(t.viewData.length),o=t.viewData.length;for(r=0;r<o;r+=1)n[r]=new e(t.viewData[r],t.masksProperties[r]);return function(e){for(r=0;r<o;){if(t.masksProperties[r].nm===e)return n[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function r(e,t,r){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(n){if(!e.numKeys)return 0;var o;o="s"in t.keyframes[n-1]?t.keyframes[n-1].s:"e"in t.keyframes[n-2]?t.keyframes[n-2].e:t.keyframes[n-2].s;var i="unidimensional"===r?new Number(o):Object.assign({},o);return i.time=t.keyframes[n-1].t/t.elem.comp.globalData.frameRate,i.value="unidimensional"===r?o[0]:o,i},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function n(){return e}return function(o){return o?"unidimensional"===o.propType?function(t){t&&"pv"in t||(t=e);var n=1/t.mult,o=t.pv*n,i=new Number(o);return i.value=o,r(i,t,"unidimensional"),function(){return t.k&&t.getValue(),o=t.v*n,i.value!==o&&((i=new Number(o)).value=o,r(i,t,"unidimensional")),i}}(o):function(e){e&&"pv"in e||(e=t);var n=1/e.mult,o=e.data&&e.data.l||e.pv.length,i=createTypedArray("float32",o),s=createTypedArray("float32",o);return i.value=s,r(i,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<o;t+=1)s[t]=e.v[t]*n,i[t]=s[t];return i}}(o):n}}(),TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var r,n,o,i;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?i=ExpressionPropertyInterface(e.p):(r=ExpressionPropertyInterface(e.px),n=ExpressionPropertyInterface(e.py),e.pz&&(o=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?i():[r(),n(),o?o():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},LayerExpressionInterface=function(){function e(e){var t=new Matrix;return void 0!==e?this._elem.finalTransform.mProp.getValueAtTime(e).clone(t):this._elem.finalTransform.mProp.applyToMatrix(t),t}function t(e,t){var r=this.getMatrix(t);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.applyPoint(r,e)}function r(e,t){var r=this.getMatrix(t);return this.applyPoint(r,e)}function n(e,t){var r=this.getMatrix(t);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.invertPoint(r,e)}function o(e,t){var r=this.getMatrix(t);return this.invertPoint(r,e)}function i(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e)}return e.applyToPointArray(t[0],t[1],t[2]||0)}function s(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e)}return e.inversePoint(t)}function a(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function l(){return[1,1,1,1]}return function(c){var h;function d(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return d.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return h;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return d.effect;case"ADBE Text Properties":return d.textInterface;default:return null}}d.getMatrix=e,d.invertPoint=s,d.applyPoint=i,d.toWorld=r,d.toWorldVec=t,d.fromWorld=o,d.fromWorldVec=n,d.toComp=r,d.fromComp=a,d.sampleImage=l,d.sourceRectAtTime=c.sourceRectAtTime.bind(c),d._elem=c;var u=getDescriptor(h=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(d,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(h,"rotation"),scale:getDescriptor(h,"scale"),position:getDescriptor(h,"position"),opacity:getDescriptor(h,"opacity"),anchorPoint:u,anchor_point:u,transform:{get:function(){return h}},active:{get:function(){return c.isInRange}}}),d.startTime=c.data.st,d.index=c.data.ind,d.source=c.data.refId,d.height=0===c.data.ty?c.data.h:100,d.width=0===c.data.ty?c.data.w:100,d.inPoint=c.data.ip/c.comp.globalData.frameRate,d.outPoint=c.data.op/c.comp.globalData.frameRate,d._name=c.data.nm,d.registerMaskInterface=function(e){d.mask=new MaskManagerInterface(e,c)},d.registerEffectsInterface=function(e){d.effect=e},d}}(),propertyGroupFactory=function(e,t){return function(r){return(r=void 0===r?1:r)<=0?e:t(r-1)}},PropertyInterface=function(e,t){var r={_name:e};return function(e){return(e=void 0===e?1:e)<=0?r:t(e-1)}},EffectsExpressionInterface=function(){var e={createEffectsInterface:function(e,r){if(e.effectsManager){var n,o=[],i=e.data.ef,s=e.effectsManager.effectElements.length;for(n=0;n<s;n+=1)o.push(t(i[n],e.effectsManager.effectElements[n],r,e));var a=e.data.ef||[],l=function(e){for(n=0,s=a.length;n<s;){if(e===a[n].nm||e===a[n].mn||e===a[n].ix)return o[n];n+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return a.length}}),l}return null}};function t(e,n,o,i){function s(t){for(var r=e.ef,n=0,o=r.length;n<o;){if(t===r[n].nm||t===r[n].mn||t===r[n].ix)return 5===r[n].ty?c[n]:c[n]();n+=1}throw new Error}var a,l=propertyGroupFactory(s,o),c=[],h=e.ef.length;for(a=0;a<h;a+=1)5===e.ef[a].ty?c.push(t(e.ef[a],n.effectElements[a],n.effectElements[a].propertyGroup,i)):c.push(r(n.effectElements[a],e.ef[a].ty,i,l));return"ADBE Color Control"===e.mn&&Object.defineProperty(s,"color",{get:function(){return c[0]()}}),Object.defineProperties(s,{numProperties:{get:function(){return e.np}},_name:{value:e.nm},propertyGroup:{value:l}}),s.enabled=0!==e.en,s.active=s.enabled,s}function r(e,t,r,n){var o=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(PropertyInterface("",n)),function(){return 10===t?r.comp.compInterface(e.p.v):o()}}return e}(),ShapePathInterface=function(e,t,r){var n=t.sh;function o(e){return"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e?o.path:null}var i=propertyGroupFactory(o,r);return n.setGroupProperty(PropertyInterface("Path",i)),Object.defineProperties(o,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:r}}),o},ShapeExpressionInterface=function(){function e(e,s,u){var p,f=[],m=e?e.length:0;for(p=0;p<m;p+=1)"gr"===e[p].ty?f.push(t(e[p],s[p],u)):"fl"===e[p].ty?f.push(r(e[p],s[p],u)):"st"===e[p].ty?f.push(o(e[p],s[p],u)):"tm"===e[p].ty?f.push(i(e[p],s[p],u)):"tr"===e[p].ty||("el"===e[p].ty?f.push(a(e[p],s[p],u)):"sr"===e[p].ty?f.push(l(e[p],s[p],u)):"sh"===e[p].ty?f.push(ShapePathInterface(e[p],s[p],u)):"rc"===e[p].ty?f.push(c(e[p],s[p],u)):"rd"===e[p].ty?f.push(h(e[p],s[p],u)):"rp"===e[p].ty?f.push(d(e[p],s[p],u)):"gf"===e[p].ty?f.push(n(e[p],s[p],u)):f.push((e[p],s[p],function(){return null})));return f}function t(t,r,n){var o=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return o.content;default:return o.transform}};o.propertyGroup=propertyGroupFactory(o,n);var i=function(t,r,n){var o,i=function(e){for(var t=0,r=o.length;t<r;){if(o[t]._name===e||o[t].mn===e||o[t].propertyIndex===e||o[t].ix===e||o[t].ind===e)return o[t];t+=1}return"number"==typeof e?o[e-1]:null};i.propertyGroup=propertyGroupFactory(i,n),o=e(t.it,r.it,i.propertyGroup),i.numProperties=o.length;var a=s(t.it[t.it.length-1],r.it[r.it.length-1],i.propertyGroup);return i.transform=a,i.propertyIndex=t.cix,i._name=t.nm,i}(t,r,o.propertyGroup),a=s(t.it[t.it.length-1],r.it[r.it.length-1],o.propertyGroup);return o.content=i,o.transform=a,Object.defineProperty(o,"_name",{get:function(){return t.nm}}),o.numProperties=t.np,o.propertyIndex=t.ix,o.nm=t.nm,o.mn=t.mn,o}function r(e,t,r){function n(e){return"Color"===e||"color"===e?n.color:"Opacity"===e||"opacity"===e?n.opacity:null}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),n}function n(e,t,r){function n(e){return"Start Point"===e||"start point"===e?n.startPoint:"End Point"===e||"end point"===e?n.endPoint:"Opacity"===e||"opacity"===e?n.opacity:null}return Object.defineProperties(n,{startPoint:{get:ExpressionPropertyInterface(t.s)},endPoint:{get:ExpressionPropertyInterface(t.e)},opacity:{get:ExpressionPropertyInterface(t.o)},type:{get:function(){return"a"}},_name:{value:e.nm},mn:{value:e.mn}}),t.s.setGroupProperty(PropertyInterface("Start Point",r)),t.e.setGroupProperty(PropertyInterface("End Point",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),n}function o(e,t,r){var n,o=propertyGroupFactory(c,r),i=propertyGroupFactory(l,o);function s(r){Object.defineProperty(l,e.d[r].nm,{get:ExpressionPropertyInterface(t.d.dataProps[r].p)})}var a=e.d?e.d.length:0,l={};for(n=0;n<a;n+=1)s(n),t.d.dataProps[n].p.setGroupProperty(i);function c(e){return"Color"===e||"color"===e?c.color:"Opacity"===e||"opacity"===e?c.opacity:"Stroke Width"===e||"stroke width"===e?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return l}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",o)),t.o.setGroupProperty(PropertyInterface("Opacity",o)),t.w.setGroupProperty(PropertyInterface("Stroke Width",o)),c}function i(e,t,r){function n(t){return t===e.e.ix||"End"===t||"end"===t?n.end:t===e.s.ix?n.start:t===e.o.ix?n.offset:null}var o=propertyGroupFactory(n,r);return n.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",o)),t.e.setGroupProperty(PropertyInterface("End",o)),t.o.setGroupProperty(PropertyInterface("Offset",o)),n.propertyIndex=e.ix,n.propertyGroup=r,Object.defineProperties(n,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),n.mn=e.mn,n}function s(e,t,r){function n(t){return e.a.ix===t||"Anchor Point"===t?n.anchorPoint:e.o.ix===t||"Opacity"===t?n.opacity:e.p.ix===t||"Position"===t?n.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?n.rotation:e.s.ix===t||"Scale"===t?n.scale:e.sk&&e.sk.ix===t||"Skew"===t?n.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?n.skewAxis:null}var o=propertyGroupFactory(n,r);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",o)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",o)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",o)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",o)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",o)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",o)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",o))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",o)),Object.defineProperties(n,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),n.ty="tr",n.mn=e.mn,n.propertyGroup=r,n}function a(e,t,r){function n(t){return e.p.ix===t?n.position:e.s.ix===t?n.size:null}var o=propertyGroupFactory(n,r);n.propertyIndex=e.ix;var i="tm"===t.sh.ty?t.sh.prop:t.sh;return i.s.setGroupProperty(PropertyInterface("Size",o)),i.p.setGroupProperty(PropertyInterface("Position",o)),Object.defineProperties(n,{size:{get:ExpressionPropertyInterface(i.s)},position:{get:ExpressionPropertyInterface(i.p)},_name:{value:e.nm}}),n.mn=e.mn,n}function l(e,t,r){function n(t){return e.p.ix===t?n.position:e.r.ix===t?n.rotation:e.pt.ix===t?n.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?n.outerRadius:e.os.ix===t?n.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?n.innerRoundness:null:n.innerRadius}var o=propertyGroupFactory(n,r),i="tm"===t.sh.ty?t.sh.prop:t.sh;return n.propertyIndex=e.ix,i.or.setGroupProperty(PropertyInterface("Outer Radius",o)),i.os.setGroupProperty(PropertyInterface("Outer Roundness",o)),i.pt.setGroupProperty(PropertyInterface("Points",o)),i.p.setGroupProperty(PropertyInterface("Position",o)),i.r.setGroupProperty(PropertyInterface("Rotation",o)),e.ir&&(i.ir.setGroupProperty(PropertyInterface("Inner Radius",o)),i.is.setGroupProperty(PropertyInterface("Inner Roundness",o))),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(i.p)},rotation:{get:ExpressionPropertyInterface(i.r)},points:{get:ExpressionPropertyInterface(i.pt)},outerRadius:{get:ExpressionPropertyInterface(i.or)},outerRoundness:{get:ExpressionPropertyInterface(i.os)},innerRadius:{get:ExpressionPropertyInterface(i.ir)},innerRoundness:{get:ExpressionPropertyInterface(i.is)},_name:{value:e.nm}}),n.mn=e.mn,n}function c(e,t,r){function n(t){return e.p.ix===t?n.position:e.r.ix===t?n.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?n.size:null}var o=propertyGroupFactory(n,r),i="tm"===t.sh.ty?t.sh.prop:t.sh;return n.propertyIndex=e.ix,i.p.setGroupProperty(PropertyInterface("Position",o)),i.s.setGroupProperty(PropertyInterface("Size",o)),i.r.setGroupProperty(PropertyInterface("Rotation",o)),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(i.p)},roundness:{get:ExpressionPropertyInterface(i.r)},size:{get:ExpressionPropertyInterface(i.s)},_name:{value:e.nm}}),n.mn=e.mn,n}function h(e,t,r){function n(t){return e.r.ix===t||"Round Corners 1"===t?n.radius:null}var o=propertyGroupFactory(n,r),i=t;return n.propertyIndex=e.ix,i.rd.setGroupProperty(PropertyInterface("Radius",o)),Object.defineProperties(n,{radius:{get:ExpressionPropertyInterface(i.rd)},_name:{value:e.nm}}),n.mn=e.mn,n}function d(e,t,r){function n(t){return e.c.ix===t||"Copies"===t?n.copies:e.o.ix===t||"Offset"===t?n.offset:null}var o=propertyGroupFactory(n,r),i=t;return n.propertyIndex=e.ix,i.c.setGroupProperty(PropertyInterface("Copies",o)),i.o.setGroupProperty(PropertyInterface("Offset",o)),Object.defineProperties(n,{copies:{get:ExpressionPropertyInterface(i.c)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:e.nm}}),n.mn=e.mn,n}return function(t,r,n){var o;function i(e){if("number"==typeof e)return 0===(e=void 0===e?1:e)?n:o[e-1];for(var t=0,r=o.length;t<r;){if(o[t]._name===e)return o[t];t+=1}return null}return i.propertyGroup=propertyGroupFactory(i,(function(){return n})),o=e(t,r,i.propertyGroup),i.numProperties=o.length,i._name="Contents",i}}(),TextExpressionInterface=function(e){var t,r;function n(e){return"ADBE Text Document"===e?n.sourceText:null}return Object.defineProperty(n,"sourceText",{get:function(){e.textProperty.getValue();var n=e.textProperty.currentData.t;return n!==t&&(e.textProperty.currentData.t=t,(r=new String(n)).value=n||new String(n)),r}}),n};function _typeof$2(e){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(e)}var FootageInterface=(dataInterfaceFactory=function(e){function t(e){return"Outline"===e?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(e){var t="",r=e.getFootageData();function n(e){if(r[e])return t=e,"object"===_typeof$2(r=r[e])?n:r;var o=e.indexOf(t);if(-1!==o){var i=parseInt(e.substr(o+t.length),10);return"object"===_typeof$2(r=r[i])?n:r}return""}return function(){return t="",r=e.getFootageData(),n}}(e),t},function(e){function t(e){return"Data"===e?t.dataInterface:null}return t._name="Data",t.dataInterface=dataInterfaceFactory(e),t}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}function _typeof$1(e){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(e)}function seedRandom(e,t){var r=this,n=256,o=t.pow(n,6),i=t.pow(2,52),s=2*i,a=255;function l(e){var t,r=e.length,o=this,i=0,s=o.i=o.j=0,l=o.S=[];for(r||(e=[r++]);i<n;)l[i]=i++;for(i=0;i<n;i++)l[i]=l[s=a&s+e[i%r]+(t=l[i])],l[s]=t;o.g=function(e){for(var t,r=0,i=o.i,s=o.j,l=o.S;e--;)t=l[i=a&i+1],r=r*n+l[a&(l[i]=l[s=a&s+t])+(l[s]=t)];return o.i=i,o.j=s,r}}function c(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function h(e,t){var r,n=[],o=_typeof$1(e);if(t&&"object"==o)for(r in e)try{n.push(h(e[r],t-1))}catch(e){}return n.length?n:"string"==o?e:e+"\0"}function d(e,t){for(var r,n=e+"",o=0;o<n.length;)t[a&o]=a&(r^=19*t[a&o])+n.charCodeAt(o++);return u(t)}function u(e){return String.fromCharCode.apply(0,e)}t.seedrandom=function(a,p,f){var m=[],g=d(h((p=!0===p?{entropy:!0}:p||{}).entropy?[a,u(e)]:null===a?function(){try{var t=new Uint8Array(n);return(r.crypto||r.msCrypto).getRandomValues(t),u(t)}catch(t){var o=r.navigator,i=o&&o.plugins;return[+new Date,r,i,r.screen,u(e)]}}():a,3),m),v=new l(m),y=function(){for(var e=v.g(6),t=o,r=0;e<i;)e=(e+r)*n,t*=n,r=v.g(1);for(;e>=s;)e/=2,t/=2,r>>>=1;return(e+r)/t};return y.int32=function(){return 0|v.g(4)},y.quick=function(){return v.g(4)/4294967296},y.double=y,d(u(v.S),e),(p.pass||f||function(e,r,n,o){return o&&(o.S&&c(o,v),e.state=function(){return c(v,{})}),n?(t.random=e,r):e})(y,g,"global"in p?p.global:this==t,p.state)},d(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||"boolean"===e||"string"===e||t instanceof Number}function $bm_neg(e){var t=_typeof(e);if("number"===t||"boolean"===t||e instanceof Number)return-e;if($bm_isInstanceOfArray(e)){var r,n=e.length,o=[];for(r=0;r<n;r+=1)o[r]=-e[r];return o}return e.propType?e.v:-e}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var r=_typeof(e),n=_typeof(t);if("string"===r||"string"===n)return e+t;if(isNumerable(r,e)&&isNumerable(n,t))return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return(e=e.slice(0))[0]+=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var o=0,i=e.length,s=t.length,a=[];o<i||o<s;)("number"==typeof e[o]||e[o]instanceof Number)&&("number"==typeof t[o]||t[o]instanceof Number)?a[o]=e[o]+t[o]:a[o]=void 0===t[o]?e[o]:e[o]||t[o],o+=1;return a}return 0}var add=sum;function sub(e,t){var r=_typeof(e),n=_typeof(t);if(isNumerable(r,e)&&isNumerable(n,t))return"string"===r&&(e=parseInt(e,10)),"string"===n&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return(e=e.slice(0))[0]-=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var o=0,i=e.length,s=t.length,a=[];o<i||o<s;)("number"==typeof e[o]||e[o]instanceof Number)&&("number"==typeof t[o]||t[o]instanceof Number)?a[o]=e[o]-t[o]:a[o]=void 0===t[o]?e[o]:e[o]||t[o],o+=1;return a}return 0}function mul(e,t){var r,n,o,i=_typeof(e),s=_typeof(t);if(isNumerable(i,e)&&isNumerable(s,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(o=e.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e[n]*t;return r}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(o=t.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e*t[n];return r}return 0}function div(e,t){var r,n,o,i=_typeof(e),s=_typeof(t);if(isNumerable(i,e)&&isNumerable(s,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(o=e.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e[n]/t;return r}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(o=t.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e/t[n];return r}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e,10)),"string"==typeof t&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,r){if(t>r){var n=r;r=t,t=n}return Math.min(Math.max(e,t),r)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);var r;t||(t=helperLengthArray);var n=Math.min(e.length,t.length),o=0;for(r=0;r<n;r+=1)o+=Math.pow(t[r]-e[r],2);return Math.sqrt(o)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,r,n=e[0],o=e[1],i=e[2],s=Math.max(n,o,i),a=Math.min(n,o,i),l=(s+a)/2;if(s===a)t=0,r=0;else{var c=s-a;switch(r=l>.5?c/(2-s-a):c/(s+a),s){case n:t=(o-i)/c+(o<i?6:0);break;case o:t=(i-n)/c+2;break;case i:t=(n-o)/c+4}t/=6}return[t,r,l,e[3]]}function hue2rgb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hslToRgb(e){var t,r,n,o=e[0],i=e[1],s=e[2];if(0===i)t=s,n=s,r=s;else{var a=s<.5?s*(1+i):s+i-s*i,l=2*s-a;t=hue2rgb(l,a,o+1/3),r=hue2rgb(l,a,o),n=hue2rgb(l,a,o-1/3)}return[t,r,n,e[3]]}function linear(e,t,r,n,o){if(void 0!==n&&void 0!==o||(n=t,o=r,t=0,r=1),r<t){var i=r;r=t,t=i}if(e<=t)return n;if(e>=r)return o;var s,a=r===t?0:(e-t)/(r-t);if(!n.length)return n+(o-n)*a;var l=n.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=n[s]+(o[s]-n[s])*a;return c}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var r,n=t.length;e||(e=createTypedArray("float32",n));var o=createTypedArray("float32",n),i=BMMath.random();for(r=0;r<n;r+=1)o[r]=e[r]+i*(t[r]-e[r]);return o}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,r,n){var o,i=e.length,s=shapePool.newElement();s.setPathData(!!n,i);var a,l,c=[0,0];for(o=0;o<i;o+=1)a=t&&t[o]?t[o]:c,l=r&&r[o]?r[o]:c,s.setTripleAt(e[o][0],e[o][1],l[0]+e[o][0],l[1]+e[o][1],a[0]+e[o][0],a[1]+e[o][1],o,!0);return s}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var r,n,o=this.pv.length?this.pv.length:1,i=createTypedArray("float32",o),s=Math.floor(5*time);for(r=0,n=0;r<s;){for(n=0;n<o;n+=1)i[n]+=-t+2*t*BMMath.random();r+=1}var a=5*time,l=a-Math.floor(a),c=createTypedArray("float32",o);if(o>1){for(n=0;n<o;n+=1)c[n]=this.pv[n]+i[n]+(-t+2*t*BMMath.random())*l;return c}return this.pv+i[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],n=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,n,0]}function easeOut(e,t,r,n,o){return applyEase(easeOutBez,e,t,r,n,o)}function easeIn(e,t,r,n,o){return applyEase(easeInBez,e,t,r,n,o)}function ease(e,t,r,n,o){return applyEase(easeInOutBez,e,t,r,n,o)}function applyEase(e,t,r,n,o,i){void 0===o?(o=r,i=n):t=(t-r)/(n-r),t>1?t=1:t<0&&(t=0);var s=e(t);if($bm_isInstanceOfArray(o)){var a,l=o.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=(i[a]-o[a])*s+o[a];return c}return(i-o)*s+o}function nearestKey(e){var t,r,n,o=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,n=data.k[0].t;else{for(t=0;t<o-1;t+=1){if(e===data.k[t].t){r=t+1,n=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(r=t+2,n=data.k[t+1].t):(r=t+1,n=data.k[t].t);break}}-1===r&&(r=t+1,n=data.k[t].t)}else r=0,n=0;var i={};return i.index=r,i.time=n/elem.comp.globalData.frameRate,i}function key(e){var t,r,n;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var o=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(n=o.length,r=0;r<n;r+=1)t[r]=o[r],t.value[r]=o[r];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"==typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function(e,t,r){t.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(e,t,r).bind(r)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),r=this.getValueAtTime(e+-.01),n=0;if(t.length){var o;for(o=0;o<t.length;o+=1)n+=Math.pow(r[o]-t[o],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,r,n=-.001,o=this.getValueAtTime(e),i=this.getValueAtTime(e+n);if(o.length)for(t=createTypedArray("float32",o.length),r=0;r<o.length;r+=1)t[r]=(i[r]-o[r])/n;else t=(i-o)/n;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};function addPropertyDecorator(){function e(e,t,r){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var n,o,i,s,a,l=this.comp.renderedFrame,c=this.keyframes,h=c[c.length-1].t;if(l<=h)return this.pv;if(r?o=h-(n=t?Math.abs(h-this.elem.comp.globalData.frameRate*t):Math.max(0,h-this.elem.data.ip)):((!t||t>c.length-1)&&(t=c.length-1),n=h-(o=c[c.length-1-t].t)),"pingpong"===e){if(Math.floor((l-o)/n)%2!=0)return this.getValueAtTime((n-(l-o)%n+o)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(o/this.comp.globalData.frameRate,0),u=this.getValueAtTime(h/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-o)%n+o)/this.comp.globalData.frameRate,0),f=Math.floor((l-o)/n);if(this.pv.length){for(s=(a=new Array(d.length)).length,i=0;i<s;i+=1)a[i]=(u[i]-d[i])*f+p[i];return a}return(u-d)*f+p}if("continue"===e){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(m.length)).length,i=0;i<s;i+=1)a[i]=m[i]+(m[i]-g[i])*((l-h)/this.comp.globalData.frameRate)/5e-4;return a}return m+(l-h)/.001*(m-g)}}return this.getValueAtTime(((l-o)%n+o)/this.comp.globalData.frameRate,0)}function t(e,t,r){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var n,o,i,s,a,l=this.comp.renderedFrame,c=this.keyframes,h=c[0].t;if(l>=h)return this.pv;if(r?o=h+(n=t?Math.abs(this.elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-h)):((!t||t>c.length-1)&&(t=c.length-1),n=(o=c[t].t)-h),"pingpong"===e){if(Math.floor((h-l)/n)%2==0)return this.getValueAtTime(((h-l)%n+h)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(h/this.comp.globalData.frameRate,0),u=this.getValueAtTime(o/this.comp.globalData.frameRate,0),p=this.getValueAtTime((n-(h-l)%n+h)/this.comp.globalData.frameRate,0),f=Math.floor((h-l)/n)+1;if(this.pv.length){for(s=(a=new Array(d.length)).length,i=0;i<s;i+=1)a[i]=p[i]-(u[i]-d[i])*f;return a}return p-(u-d)*f}if("continue"===e){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(m.length)).length,i=0;i<s;i+=1)a[i]=m[i]+(m[i]-g[i])*(h-l)/.001;return a}return m+(m-g)*(h-l)/.001}}return this.getValueAtTime((n-((h-l)%n+h))/this.comp.globalData.frameRate,0)}function r(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var r,n,o=this.comp.renderedFrame/this.comp.globalData.frameRate,i=o-e,s=t>1?(o+e-i)/(t-1):1,a=0,l=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;a<t;){if(n=this.getValueAtTime(i+a*s),this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]+=n[l];else r+=n;a+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]/=t;else r/=t;return r}function n(e){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var t=this._transformCachingAtTime.v;if(t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var r=this.a.getValueAtTime(e);t.translate(-r[0]*this.a.mult,-r[1]*this.a.mult,r[2]*this.a.mult)}if(this.appliedTransformations<2){var n=this.s.getValueAtTime(e);t.scale(n[0]*this.s.mult,n[1]*this.s.mult,n[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var o=this.sk.getValueAtTime(e),i=this.sa.getValueAtTime(e);t.skewFromAxis(-o*this.sk.mult,i*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var s=this.r.getValueAtTime(e);t.rotate(-s*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var a=this.rz.getValueAtTime(e),l=this.ry.getValueAtTime(e),c=this.rx.getValueAtTime(e),h=this.or.getValueAtTime(e);t.rotateZ(-a*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-h[2]*this.or.mult).rotateY(h[1]*this.or.mult).rotateX(h[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var d=this.px.getValueAtTime(e),u=this.py.getValueAtTime(e);if(this.data.p.z){var p=this.pz.getValueAtTime(e);t.translate(d*this.px.mult,u*this.py.mult,-p*this.pz.mult)}else t.translate(d*this.px.mult,u*this.py.mult,0)}else{var f=this.p.getValueAtTime(e);t.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return t}function o(){return this.v.clone(new Matrix)}var i=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,r){var s=i(e,t,r);return s.dynamicProperties.length?s.getValueAtTime=n.bind(s):s.getValueAtTime=o.bind(s),s.setGroupProperty=expressionHelpers.setGroupProperty,s};var s=PropertyFactory.getProp;PropertyFactory.getProp=function(n,o,i,a,l){var c=s(n,o,i,a,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=e,c.loopIn=t,c.smooth=r,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===o.a?o.k.length:0,c.propertyIndex=o.ix;var h=0;return 0!==i&&(h=createTypedArray("float32",1===o.a?o.k[0].s.length:o.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:h},expressionHelpers.searchExpressions(n,o,c),c.k&&l.addDynamicProperty(c),c};var a=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(e,t){this.k&&this.getValue();var r,n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0));var o=n._length,i=n[e],s=n.v,a=createSizedArray(o);for(r=0;r<o;r+=1)a[r]="i"===e||"o"===e?[i[r][0]-s[r][0],i[r][1]-s[r][1]]:[i[r][0],i[r][1]];return a},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var n,o=this._segmentsLength,i=o.lengths,s=o.totalLength*e,a=0,l=i.length,c=0;a<l;){if(c+i[a].addedLength>s){var h=a,d=r.c&&a===l-1?0:a+1,u=(s-c)/i[a].addedLength;n=bez.getPointInSegment(r.v[h],r.v[d],r.o[h],r.i[d],u,i[a]);break}c+=i[a].addedLength,a+=1}return n||(n=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),n},vectorOnPath:function(e,t,r){1==e?e=this.v.c:0==e&&(e=.999);var n=this.pointOnPath(e,t),o=this.pointOnPath(e+.001,t),i=o[0]-n[0],s=o[1]-n[1],a=Math.sqrt(Math.pow(i,2)+Math.pow(s,2));return 0===a?[0,0]:"tangent"===r?[i/a,s/a]:[-s/a,i/a]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],a),extendPrototype([c],l),l.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var h=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,r,n,o){var i=h(e,t,r,n,o);return i.propertyIndex=t.ix,i.lock=!1,3===r?expressionHelpers.searchExpressions(e,t.pt,i):4===r&&expressionHelpers.searchExpressions(e,t.ks,i),i.k&&e.addDynamicProperty(i),i}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(e,t){var r=this.calculateExpression(t);if(e.t!==r){var n={};return this.copyData(n,e),n.t=r.toString(),n.__complete=!1,n}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}function SVGTintFilter(e,t,r,n,o){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result",n+"_tint_1"),e.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",n+"_tint_2"),e.appendChild(i),this.matrixFilter=i;var s=this.createMergeNode(n,[o,n+"_tint_1",n+"_tint_2"]);e.appendChild(s)}function SVGFillFilter(e,t,r,n){this.filterManager=t;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",n),e.appendChild(o),this.matrixFilter=o}function SVGStrokeEffect(e,t,r){this.initialized=!1,this.filterManager=t,this.elem=r,this.paths=[]}function SVGTritoneFilter(e,t,r,n){this.filterManager=t;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(o);var i=createNS("feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",n),this.matrixFilter=i;var s=createNS("feFuncR");s.setAttribute("type","table"),i.appendChild(s),this.feFuncR=s;var a=createNS("feFuncG");a.setAttribute("type","table"),i.appendChild(a),this.feFuncG=a;var l=createNS("feFuncB");l.setAttribute("type","table"),i.appendChild(l),this.feFuncB=l,e.appendChild(i)}function SVGProLevelsFilter(e,t,r,n){this.filterManager=t;var o=this.filterManager.effectElements,i=createNS("feComponentTransfer");(o[10].p.k||0!==o[10].p.v||o[11].p.k||1!==o[11].p.v||o[12].p.k||1!==o[12].p.v||o[13].p.k||0!==o[13].p.v||o[14].p.k||1!==o[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(o[17].p.k||0!==o[17].p.v||o[18].p.k||1!==o[18].p.v||o[19].p.k||1!==o[19].p.v||o[20].p.k||0!==o[20].p.v||o[21].p.k||1!==o[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(o[24].p.k||0!==o[24].p.v||o[25].p.k||1!==o[25].p.v||o[26].p.k||1!==o[26].p.v||o[27].p.k||0!==o[27].p.v||o[28].p.k||1!==o[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(o[31].p.k||0!==o[31].p.v||o[32].p.k||1!==o[32].p.v||o[33].p.k||1!==o[33].p.v||o[34].p.k||0!==o[34].p.v||o[35].p.k||1!==o[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(i)),(o[3].p.k||0!==o[3].p.v||o[4].p.k||1!==o[4].p.v||o[5].p.k||1!==o[5].p.v||o[6].p.k||0!==o[6].p.v||o[7].p.k||1!==o[7].p.v)&&((i=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",n),e.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(e,t,r,n,o){var i=t.container.globalData.renderConfig.filterSize,s=t.data.fs||i;e.setAttribute("x",s.x||i.x),e.setAttribute("y",s.y||i.y),e.setAttribute("width",s.width||i.width),e.setAttribute("height",s.height||i.height),this.filterManager=t;var a=createNS("feGaussianBlur");a.setAttribute("in","SourceAlpha"),a.setAttribute("result",n+"_drop_shadow_1"),a.setAttribute("stdDeviation","0"),this.feGaussianBlur=a,e.appendChild(a);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",n+"_drop_shadow_1"),l.setAttribute("result",n+"_drop_shadow_2"),this.feOffset=l,e.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",n+"_drop_shadow_3"),this.feFlood=c,e.appendChild(c);var h=createNS("feComposite");h.setAttribute("in",n+"_drop_shadow_3"),h.setAttribute("in2",n+"_drop_shadow_2"),h.setAttribute("operator","in"),h.setAttribute("result",n+"_drop_shadow_4"),e.appendChild(h);var d=this.createMergeNode(n,[n+"_drop_shadow_4",o]);e.appendChild(d)}SVGComposableEffect.prototype={createMergeNode:function(e,t){var r,n,o=createNS("feMerge");for(o.setAttribute("result",e),n=0;n<t.length;n+=1)(r=createNS("feMergeNode")).setAttribute("in",t[n]),o.appendChild(r),o.appendChild(r);return o}},extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-t[0]+" 0 0 0 "+t[0]+" "+(r[1]-t[1])+" 0 0 0 "+t[1]+" "+(r[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+n+" 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var e,t,r,n,o=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,r=0):n=1+(r=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);r<n;r+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:r});if(3===this.filterManager.effectElements[10].p.v){var i=createNS("mask"),s=createElementID();i.setAttribute("id",s),i.setAttribute("mask-type","alpha"),i.appendChild(t),this.elem.globalData.defs.appendChild(i);var a=createNS("g");for(a.setAttribute("mask","url("+getLocationHref()+"#"+s+")");o[0];)a.appendChild(o[0]);this.elem.layerElement.appendChild(a),this.masker=i,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(o=this.elem.layerElement.children||this.elem.layerElement.childNodes;o.length;)this.elem.layerElement.removeChild(o[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){var t;this.initialized||this.initialize();var r,n,o=this.paths.length;for(t=0;t<o;t+=1)if(-1!==this.paths[t].m&&(r=this.elem.maskManager.viewData[this.paths[t].m],n=this.paths[t].p,(e||this.filterManager._mdf||r.prop._mdf)&&n.setAttribute("d",r.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var i;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var s=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),a=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=n.getTotalLength();i="0 0 0 "+l*s+" ";var c,h=l*(a-s),d=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,u=Math.floor(h/d);for(c=0;c<u;c+=1)i+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";i+="0 "+10*l+" 0 0"}else i="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;n.setAttribute("stroke-dasharray",i)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,o=n[0]+" "+r[0]+" "+t[0],i=n[1]+" "+r[1]+" "+t[1],s=n[2]+" "+r[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",o),this.feFuncG.setAttribute("tableValues",i),this.feFuncB.setAttribute("tableValues",s)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var r=createNS(e);return r.setAttribute("type","table"),t.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(e,t,r,n,o){for(var i,s,a=0,l=Math.min(e,t),c=Math.max(e,t),h=Array.call(null,{length:256}),d=0,u=o-n,p=t-e;a<=256;)s=(i=a/256)<=l?p<0?o:n:i>=c?p<0?n:o:n+u*Math.pow((i-e)/p,1/r),h[d]=s,d+=1,a+=256/255;return h.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,r=this.filterManager.effectElements;this.feFuncRComposed&&(e||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(t=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(t=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(t=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(t=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(t=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,o=r*Math.cos(n),i=r*Math.sin(n);this.feOffset.setAttribute("dx",o),this.feOffset.setAttribute("dy",i)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,r){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGGaussianBlurEffect(e,t,r,n){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var o=createNS("feGaussianBlur");o.setAttribute("result",n),e.appendChild(o),this.feGaussianBlur=o}return SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,r=_svgMatteSymbols.length;t<r;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var r=e.layerElement.parentNode;if(r){for(var n,o=r.children,i=0,s=o.length;i<s&&o[i]!==e.layerElement;)i+=1;i<=s-2&&(n=o[i+1]);var a=createNS("use");a.setAttribute("href","#"+t),n?r.insertBefore(a,n):r.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var r=createElementID(),n=createNS("mask");n.setAttribute("id",t.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var o=e.globalData.defs;o.appendChild(n);var i=createNS("symbol");i.setAttribute("id",r),this.replaceInParent(t,r),i.appendChild(t.layerElement),o.appendChild(i);var s=createNS("use");s.setAttribute("href","#"+r),n.appendChild(s),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,r=0,n=t.length;r<n;)t[r]&&t[r].data.ind===e&&this.setElementAsMask(this.elem,t[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=3==r?0:t,o=2==r?0:t;this.feGaussianBlur.setAttribute("stdDeviation",n+" "+o);var i=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",i)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=factory())})(lottie$1,lottie$1.exports);var lottie=lottie$1.exports,_templateObject$1,styles=r$3(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral(["\n  * {\n    box-sizing: border-box;\n  }\n\n  :host {\n    --lottie-player-toolbar-height: 35px;\n    --lottie-player-toolbar-background-color: transparent;\n    --lottie-player-toolbar-icon-color: #999;\n    --lottie-player-toolbar-icon-hover-color: #222;\n    --lottie-player-toolbar-icon-active-color: #555;\n    --lottie-player-seeker-track-color: #ccc;\n    --lottie-player-seeker-thumb-color: rgba(0, 107, 120, 0.8);\n    --lottie-player-seeker-display: block;\n\n    display: block;\n    width: 100%;\n    height: 100%;\n  }\n\n  .main {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 100%;\n  }\n\n  .animation {\n    width: 100%;\n    height: 100%;\n    display: flex;\n  }\n  .animation.controls {\n    height: calc(100% - 35px);\n  }\n\n  .toolbar {\n    display: flex;\n    align-items: center;\n    justify-items: center;\n    background-color: var(--lottie-player-toolbar-background-color);\n    margin: 0 5px;\n    height: 35px;\n  }\n\n  .toolbar button {\n    cursor: pointer;\n    fill: var(--lottie-player-toolbar-icon-color);\n    display: flex;\n    background: none;\n    border: 0;\n    padding: 0;\n    outline: none;\n    height: 100%;\n  }\n\n  .toolbar button:hover {\n    fill: var(--lottie-player-toolbar-icon-hover-color);\n  }\n\n  .toolbar button.active {\n    fill: var(--lottie-player-toolbar-icon-active-color);\n  }\n\n  .toolbar button.active:hover {\n    fill: var(--lottie-player-toolbar-icon-hover-color);\n  }\n\n  .toolbar button:focus {\n    outline: 1px dotted var(--lottie-player-toolbar-icon-active-color);\n  }\n\n  .toolbar button svg {\n  }\n\n  .toolbar button.disabled svg {\n    display: none;\n  }\n\n  .seeker {\n    -webkit-appearance: none;\n    width: 95%;\n    outline: none;\n    background-color: var(--lottie-player-toolbar-background-color);\n    display: var(--lottie-player-seeker-display);\n  }\n\n  .seeker::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 5px;\n    cursor: pointer;\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-webkit-slider-thumb {\n    height: 15px;\n    width: 15px;\n    border-radius: 50%;\n    background: var(--lottie-player-seeker-thumb-color);\n    cursor: pointer;\n    -webkit-appearance: none;\n    margin-top: -5px;\n  }\n  .seeker:focus::-webkit-slider-runnable-track {\n    background: #999;\n  }\n  .seeker::-moz-range-track {\n    width: 100%;\n    height: 5px;\n    cursor: pointer;\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-moz-range-thumb {\n    height: 15px;\n    width: 15px;\n    border-radius: 50%;\n    background: var(--lottie-player-seeker-thumb-color);\n    cursor: pointer;\n  }\n  .seeker::-ms-track {\n    width: 100%;\n    height: 5px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    color: transparent;\n  }\n  .seeker::-ms-fill-lower {\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-ms-fill-upper {\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-ms-thumb {\n    border: 0;\n    height: 15px;\n    width: 15px;\n    border-radius: 50%;\n    background: var(--lottie-player-seeker-thumb-color);\n    cursor: pointer;\n  }\n  .seeker:focus::-ms-fill-lower {\n    background: var(--lottie-player-seeker-track-color);\n  }\n  .seeker:focus::-ms-fill-upper {\n    background: var(--lottie-player-seeker-track-color);\n  }\n\n  .error {\n    display: flex;\n    justify-content: center;\n    height: 100%;\n    align-items: center;\n  }\n"]))),LOTTIE_PLAYER_VERSION="1.7.1",LOTTIE_WEB_VERSION="^5.10.0",_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,PlayerState,PlayMode,PlayerEvents;function parseSrc(e){if("object"==typeof e)return e;try{return JSON.parse(e)}catch(t){return new URL(e,window.location.href).toString()}}function isLottie(e){return["v","ip","op","layers","fr","w","h"].every((t=>Object.prototype.hasOwnProperty.call(e,t)))}function fromURL(e){return _fromURL.apply(this,arguments)}function _fromURL(){return(_fromURL=_asyncToGenerator((function*(e){if("string"!=typeof e)throw new Error("The url value must be a string");var t;try{var r=new URL(e),n=yield fetch(r.toString());t=yield n.json()}catch(e){throw new Error("An error occurred while trying to load the Lottie file from URL")}return t}))).apply(this,arguments)}!function(e){e.Destroyed="destroyed",e.Error="error",e.Frozen="frozen",e.Loading="loading",e.Paused="paused",e.Playing="playing",e.Stopped="stopped"}(PlayerState||(PlayerState={})),function(e){e.Bounce="bounce",e.Normal="normal"}(PlayMode||(PlayMode={})),function(e){e.Complete="complete",e.Destroyed="destroyed",e.Error="error",e.Frame="frame",e.Freeze="freeze",e.Load="load",e.Loop="loop",e.Pause="pause",e.Play="play",e.Ready="ready",e.Rendered="rendered",e.Stop="stop"}(PlayerEvents||(PlayerEvents={}));var LottiePlayer=class extends s{constructor(){super(...arguments),this.autoplay=!1,this.background="transparent",this.controls=!1,this.currentState=PlayerState.Loading,this.description="Lottie animation",this.direction=1,this.disableCheck=!1,this.disableShadowDOM=!1,this.hover=!1,this.intermission=1,this.loop=!1,this.mode=PlayMode.Normal,this.preserveAspectRatio="xMidYMid meet",this.renderer="svg",this.speed=1,this._io=void 0,this._counter=1}load(e){var t=this;return _asyncToGenerator((function*(){var r={container:t.container,loop:!1,autoplay:!1,renderer:t.renderer,rendererSettings:Object.assign({preserveAspectRatio:t.preserveAspectRatio,clearCanvas:!1,progressiveLoad:!0,hideOnTransparent:!0},t.viewBoxSize&&{viewBoxSize:t.viewBoxSize})};try{var n=parseSrc(e),o={},i="string"==typeof n?"path":"animationData";t._lottie&&t._lottie.destroy(),t.webworkers&&lottie$1.exports.useWebWorker(!0),t._lottie=lottie$1.exports.loadAnimation(Object.assign(Object.assign({},r),{[i]:n})),t._attachEventListeners(),t.disableCheck||("path"===i?(o=yield fromURL(n),i="animationData"):o=n,isLottie(o)||(t.currentState=PlayerState.Error,t.dispatchEvent(new CustomEvent(PlayerEvents.Error))))}catch(e){t.currentState=PlayerState.Error,t.dispatchEvent(new CustomEvent(PlayerEvents.Error))}}))()}getLottie(){return this._lottie}getVersions(){return{lottieWebVersion:LOTTIE_WEB_VERSION,lottiePlayerVersion:LOTTIE_PLAYER_VERSION}}play(){this._lottie&&(this._lottie.play(),this.currentState=PlayerState.Playing,this.dispatchEvent(new CustomEvent(PlayerEvents.Play)))}pause(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Paused,this.dispatchEvent(new CustomEvent(PlayerEvents.Pause)))}stop(){this._lottie&&(this._counter=1,this._lottie.stop(),this.currentState=PlayerState.Stopped,this.dispatchEvent(new CustomEvent(PlayerEvents.Stop)))}destroy(){this._lottie&&(this._lottie.destroy(),this._lottie=null,this.currentState=PlayerState.Destroyed,this.dispatchEvent(new CustomEvent(PlayerEvents.Destroyed)),this.remove())}seek(e){if(this._lottie){var t=/^(\d+)(%?)$/.exec(e.toString());if(t){var r="%"===t[2]?this._lottie.totalFrames*Number(t[1])/100:Number(t[1]);this.seeker=r,this.currentState===PlayerState.Playing?this._lottie.goToAndPlay(r,!0):(this._lottie.goToAndStop(r,!0),this._lottie.pause())}}}snapshot(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.shadowRoot){var t=this.shadowRoot.querySelector(".animation svg"),r=(new XMLSerializer).serializeToString(t);if(e){var n=document.createElement("a");n.href="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(r)),n.download="download_".concat(this.seeker,".svg"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}return r}}setSpeed(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._lottie&&this._lottie.setSpeed(e)}setDirection(e){this._lottie&&this._lottie.setDirection(e)}setLooping(e){this._lottie&&(this.loop=e,this._lottie.loop=e)}togglePlay(){return this.currentState===PlayerState.Playing?this.pause():this.play()}toggleLooping(){this.setLooping(!this.loop)}resize(){this._lottie&&this._lottie.resize()}static get styles(){return styles}disconnectedCallback(){this.isConnected||(this._io&&(this._io.disconnect(),this._io=void 0),document.removeEventListener("visibilitychange",(()=>this._onVisibilityChange())),this.destroy())}render(){var e=this.controls?"main controls":"main",t=this.controls?"animation controls":"animation";return $(_templateObject||(_templateObject=_taggedTemplateLiteral([' <div\n      id="animation-container"\n      class=','\n      lang="en"\n      aria-label=','\n      role="img"\n    >\n      <div\n        id="animation"\n        class=','\n        style="background:',';"\n      >\n        ',"\n      </div>\n      ","\n    </div>"])),e,this.description,t,this.background,this.currentState===PlayerState.Error?$(_templateObject2||(_templateObject2=_taggedTemplateLiteral(['<div class="error"></div>']))):void 0,this.controls&&!this.disableShadowDOM?this.renderControls():void 0)}createRenderRoot(){return this.disableShadowDOM&&(this.style.display="block"),this.disableShadowDOM?this:super.createRenderRoot()}firstUpdated(){"IntersectionObserver"in window&&(this._io=new IntersectionObserver((e=>{e[0].isIntersecting?this.currentState===PlayerState.Frozen&&this.play():this.currentState===PlayerState.Playing&&this.freeze()})),this._io.observe(this.container)),void 0!==document.hidden&&document.addEventListener("visibilitychange",(()=>this._onVisibilityChange())),this.src&&this.load(this.src),this.dispatchEvent(new CustomEvent(PlayerEvents.Rendered))}renderControls(){var e=this.currentState===PlayerState.Playing,t=this.currentState===PlayerState.Paused,r=this.currentState===PlayerState.Stopped;return $(_templateObject3||(_templateObject3=_taggedTemplateLiteral(['\n      <div\n        id="lottie-controls"\n        aria-label="lottie-animation-controls"\n        class="toolbar"\n      >\n        <button\n          id="lottie-play-button"\n          @click=',"\n          class=",'\n          style="align-items:center;"\n          tabindex="0"\n          aria-label="play-pause"\n        >\n          ','\n        </button>\n        <button\n          id="lottie-stop-button"\n          @click=',"\n          class=",'\n          style="align-items:center;"\n          tabindex="0"\n          aria-label="stop"\n        >\n          <svg width="24" height="24" aria-hidden="true" focusable="false">\n            <path d="M6 6h12v12H6V6z" />\n          </svg>\n        </button>\n        <input\n          id="lottie-seeker-input"\n          class="seeker"\n          type="range"\n          min="0"\n          step="1"\n          max="100"\n          .value=',"\n          @input=","\n          @mousedown=","\n          @mouseup=",'\n          aria-valuemin="1"\n          aria-valuemax="100"\n          role="slider"\n          aria-valuenow=','\n          tabindex="0"\n          aria-label="lottie-seek-input"\n        />\n        <button\n          id="lottie-loop-toggle"\n          @click=',"\n          class=",'\n          style="align-items:center;"\n          tabindex="0"\n          aria-label="loop-toggle"\n        >\n          <svg width="24" height="24" aria-hidden="true" focusable="false">\n            <path\n              d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"\n            />\n          </svg>\n        </button>\n      </div>\n    '])),this.togglePlay,e||t?"active":"",$(e?_templateObject4||(_templateObject4=_taggedTemplateLiteral(['<svg\n                width="24"\n                height="24"\n                aria-hidden="true"\n                focusable="false"\n              >\n                <path\n                  d="M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z"\n                />\n              </svg>'])):_templateObject5||(_templateObject5=_taggedTemplateLiteral(['<svg\n                width="24"\n                height="24"\n                aria-hidden="true"\n                focusable="false"\n              >\n                <path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z" />\n              </svg>']))),this.stop,r?"active":"",this.seeker,this._handleSeekChange,(()=>{this._prevState=this.currentState,this.freeze()}),(()=>{this._prevState===PlayerState.Playing&&this.play()}),this.seeker,this.toggleLooping,this.loop?"active":"")}_onVisibilityChange(){!0===document.hidden&&this.currentState===PlayerState.Playing?this.freeze():this.currentState===PlayerState.Frozen&&this.play()}_handleSeekChange(e){if(this._lottie&&!isNaN(e.target.value)){var t=e.target.value/100*this._lottie.totalFrames;this.seek(t)}}_attachEventListeners(){this._lottie.addEventListener("enterFrame",(()=>{this.seeker=this._lottie.currentFrame/this._lottie.totalFrames*100,this.dispatchEvent(new CustomEvent(PlayerEvents.Frame,{detail:{frame:this._lottie.currentFrame,seeker:this.seeker}}))})),this._lottie.addEventListener("complete",(()=>{if(this.currentState===PlayerState.Playing){if(!this.loop||this.count&&this._counter>=this.count){if(this.dispatchEvent(new CustomEvent(PlayerEvents.Complete)),this.mode!==PlayMode.Bounce)return;if(0===this._lottie.currentFrame)return}this.mode===PlayMode.Bounce?(this.count&&(this._counter+=.5),setTimeout((()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(this._lottie.setDirection(-1*this._lottie.playDirection),this._lottie.play())}),this.intermission)):(this.count&&(this._counter+=1),window.setTimeout((()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(-1===this.direction?(this.seek("99%"),this.play()):(this._lottie.stop(),this._lottie.play()))}),this.intermission))}else this.dispatchEvent(new CustomEvent(PlayerEvents.Complete))})),this._lottie.addEventListener("DOMLoaded",(()=>{this.setSpeed(this.speed),this.setDirection(this.direction),this.autoplay&&(-1===this.direction&&this.seek("100%"),this.play()),this.dispatchEvent(new CustomEvent(PlayerEvents.Ready))})),this._lottie.addEventListener("data_ready",(()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Load))})),this._lottie.addEventListener("data_failed",(()=>{this.currentState=PlayerState.Error,this.dispatchEvent(new CustomEvent(PlayerEvents.Error))})),this.container.addEventListener("mouseenter",(()=>{this.hover&&this.currentState!==PlayerState.Playing&&this.play()})),this.container.addEventListener("mouseleave",(()=>{this.hover&&this.currentState===PlayerState.Playing&&this.stop()}))}freeze(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Frozen,this.dispatchEvent(new CustomEvent(PlayerEvents.Freeze)))}};__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"autoplay",void 0),__decorate([e$5({type:String,reflect:!0})],LottiePlayer.prototype,"background",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"controls",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"count",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"currentState",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"description",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"direction",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"disableCheck",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"disableShadowDOM",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"hover",void 0),__decorate([e$5()],LottiePlayer.prototype,"intermission",void 0),__decorate([e$5({type:Boolean,reflect:!0})],LottiePlayer.prototype,"loop",void 0),__decorate([e$5()],LottiePlayer.prototype,"mode",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"preserveAspectRatio",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"renderer",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"viewBoxSize",void 0),__decorate([e$5()],LottiePlayer.prototype,"seeker",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"speed",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"src",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"webworkers",void 0),__decorate([i(".animation")],LottiePlayer.prototype,"container",void 0),LottiePlayer=__decorate([n$1("lottie-player")],LottiePlayer)},8826:function(e){"use strict";!function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function o(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function i(e){return new Uint8Array(e)}function s(e,t,r,n,o){null==n&&null==o||(e=e.slice?e.slice(n,o):Array.prototype.slice.call(e,n,o)),t.set(e,r)}var a,l={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return o(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},c=(a="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(a[(240&n)>>4]+a[15&n])}return t.join("")}}),h={16:10,24:12,32:14},d=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],u=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],p=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],f=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],v=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],y=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],x=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],E=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],S=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],_=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],C=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function A(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var k=function(e){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o(e,!0)}),this._prepare()};k.prototype._prepare=function(){var e=h[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),o=this.key.length/4,i=A(this.key);for(t=0;t<o;t++)r=t>>2,this._Ke[r][t%4]=i[t],this._Kd[e-r][t%4]=i[t];for(var s,a=0,l=o;l<n;){if(s=i[o-1],i[0]^=u[s>>16&255]<<24^u[s>>8&255]<<16^u[255&s]<<8^u[s>>24&255]^d[a]<<24,a+=1,8!=o)for(t=1;t<o;t++)i[t]^=i[t-1];else{for(t=1;t<o/2;t++)i[t]^=i[t-1];for(s=i[o/2-1],i[o/2]^=u[255&s]^u[s>>8&255]<<8^u[s>>16&255]<<16^u[s>>24&255]<<24,t=o/2+1;t<o;t++)i[t]^=i[t-1]}for(t=0;t<o&&l<n;)c=l>>2,p=l%4,this._Ke[c][p]=i[t],this._Kd[e-c][p]=i[t++],l++}for(var c=1;c<e;c++)for(var p=0;p<4;p++)s=this._Kd[c][p],this._Kd[c][p]=E[s>>24&255]^S[s>>16&255]^_[s>>8&255]^C[255&s]},k.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=A(e),o=0;o<4;o++)n[o]^=this._Ke[0][o];for(var s=1;s<t;s++){for(o=0;o<4;o++)r[o]=f[n[o]>>24&255]^m[n[(o+1)%4]>>16&255]^g[n[(o+2)%4]>>8&255]^v[255&n[(o+3)%4]]^this._Ke[s][o];n=r.slice()}var a,l=i(16);for(o=0;o<4;o++)a=this._Ke[t][o],l[4*o]=255&(u[n[o]>>24&255]^a>>24),l[4*o+1]=255&(u[n[(o+1)%4]>>16&255]^a>>16),l[4*o+2]=255&(u[n[(o+2)%4]>>8&255]^a>>8),l[4*o+3]=255&(u[255&n[(o+3)%4]]^a);return l},k.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=A(e),o=0;o<4;o++)n[o]^=this._Kd[0][o];for(var s=1;s<t;s++){for(o=0;o<4;o++)r[o]=y[n[o]>>24&255]^b[n[(o+3)%4]>>16&255]^w[n[(o+2)%4]>>8&255]^x[255&n[(o+1)%4]]^this._Kd[s][o];n=r.slice()}var a,l=i(16);for(o=0;o<4;o++)a=this._Kd[t][o],l[4*o]=255&(p[n[o]>>24&255]^a>>24),l[4*o+1]=255&(p[n[(o+3)%4]>>16&255]^a>>16),l[4*o+2]=255&(p[n[(o+2)%4]>>8&255]^a>>8),l[4*o+3]=255&(p[255&n[(o+1)%4]]^a);return l};var T=function(e){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new k(e)};T.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=i(e.length),r=i(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.encrypt(r),t,n);return t},T.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=i(e.length),r=i(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.decrypt(r),t,n);return t};var P=function(e,t){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=i(16);this._lastCipherblock=o(t,!0),this._aes=new k(e)};P.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=i(e.length),r=i(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16);for(var a=0;a<16;a++)r[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(r),s(this._lastCipherblock,t,n)}return t},P.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=i(e.length),r=i(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var a=0;a<16;a++)t[n+a]=r[a]^this._lastCipherblock[a];s(e,this._lastCipherblock,0,n,n+16)}return t};var M=function(e,t,r){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=i(16);r||(r=1),this.segmentSize=r,this._shiftRegister=o(t,!0),this._aes=new k(e)};M.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=o(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},M.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=o(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var D=function(e,t){if(!(this instanceof D))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=i(16);this._lastPrecipher=o(t,!0),this._lastPrecipherIndex=16,this._aes=new k(e)};D.prototype.encrypt=function(e){for(var t=o(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},D.prototype.decrypt=D.prototype.encrypt;var O=function(e){if(!(this instanceof O))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=i(16),this.setValue(e)):this.setBytes(e)};O.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},O.prototype.setBytes=function(e){if(16!=(e=o(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},O.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var I=function(e,t){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof O||(t=new O(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new k(e)};I.prototype.encrypt=function(e){for(var t=o(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},I.prototype.decrypt=I.prototype.encrypt;var R={AES:k,Counter:O,ModeOfOperation:{ecb:T,cbc:P,cfb:M,ofb:D,ctr:I},utils:{hex:c,utf8:l},padding:{pkcs7:{pad:function(e){var t=16-(e=o(e,!0)).length%16,r=i(e.length+t);s(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=o(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var a=i(r);return s(e,a,0,0,r),a}}},_arrayTest:{coerceArray:o,createArray:i,copyArray:s}};e.exports=R}()},4306:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Dr});var n,o,i,s,a=!1,l=!1,c=[],h=-1;function d(e){let t=c.indexOf(e);-1!==t&&t>h&&c.splice(t,1)}function u(){a=!1,l=!0;for(let e=0;e<c.length;e++)c[e](),h=e;c.length=0,h=-1,l=!1}var p=!0;function f(e){o=e}var m=[],g=[],v=[];function y(e,t){"function"==typeof t?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,g.push(t))}function b(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach((([r,n])=>{(void 0===t||t.includes(r))&&(n.forEach((e=>e())),delete e._x_attributeCleanups[r])}))}var w=new MutationObserver(P),x=!1;function E(){w.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),x=!0}function S(){(_=_.concat(w.takeRecords())).length&&!C&&(C=!0,queueMicrotask((()=>{P(_),_.length=0,C=!1}))),w.disconnect(),x=!1}var _=[],C=!1;function A(e){if(!x)return e();S();let t=e();return E(),t}var k=!1,T=[];function P(e){if(k)return void(T=T.concat(e));let t=[],r=[],n=new Map,o=new Map;for(let i=0;i<e.length;i++)if(!e[i].target._x_ignoreMutationObserver&&("childList"===e[i].type&&(e[i].addedNodes.forEach((e=>1===e.nodeType&&t.push(e))),e[i].removedNodes.forEach((e=>1===e.nodeType&&r.push(e)))),"attributes"===e[i].type)){let t=e[i].target,r=e[i].attributeName,s=e[i].oldValue,a=()=>{n.has(t)||n.set(t,[]),n.get(t).push({name:r,value:t.getAttribute(r)})},l=()=>{o.has(t)||o.set(t,[]),o.get(t).push(r)};t.hasAttribute(r)&&null===s?a():t.hasAttribute(r)?(l(),a()):l()}o.forEach(((e,t)=>{b(t,e)})),n.forEach(((e,t)=>{m.forEach((r=>r(t,e)))}));for(let e of r)if(!t.includes(e)&&(g.forEach((t=>t(e))),e._x_cleanups))for(;e._x_cleanups.length;)e._x_cleanups.pop()();t.forEach((e=>{e._x_ignoreSelf=!0,e._x_ignore=!0}));for(let e of t)r.includes(e)||e.isConnected&&(delete e._x_ignoreSelf,delete e._x_ignore,v.forEach((t=>t(e))),e._x_ignore=!0,e._x_ignoreSelf=!0);t.forEach((e=>{delete e._x_ignoreSelf,delete e._x_ignore})),t=null,r=null,n=null,o=null}function M(e){return R(I(e))}function D(e,t,r){return e._x_dataStack=[t,...I(r||e)],()=>{e._x_dataStack=e._x_dataStack.filter((e=>e!==t))}}function O(e,t){let r=e._x_dataStack[0];Object.entries(t).forEach((([e,t])=>{r[e]=t}))}function I(e){return e._x_dataStack?e._x_dataStack:"function"==typeof ShadowRoot&&e instanceof ShadowRoot?I(e.host):e.parentNode?I(e.parentNode):[]}function R(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap((e=>Object.keys(e))))),has:(t,r)=>e.some((e=>e.hasOwnProperty(r))),get:(r,n)=>(e.find((e=>{if(e.hasOwnProperty(n)){let r=Object.getOwnPropertyDescriptor(e,n);if(r.get&&r.get._x_alreadyBound||r.set&&r.set._x_alreadyBound)return!0;if((r.get||r.set)&&r.enumerable){let o=r.get,i=r.set,s=r;o=o&&o.bind(t),i=i&&i.bind(t),o&&(o._x_alreadyBound=!0),i&&(i._x_alreadyBound=!0),Object.defineProperty(e,n,{...s,get:o,set:i})}return!0}return!1}))||{})[n],set:(t,r,n)=>{let o=e.find((e=>e.hasOwnProperty(r)));return o?o[r]=n:e[e.length-1][r]=n,!0}});return t}function N(e){let t=(r,n="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach((([o,{value:i,enumerable:s}])=>{if(!1===s||void 0===i)return;let a=""===n?o:`${n}.${o}`;var l;"object"==typeof i&&null!==i&&i._x_interceptor?r[o]=i.initialize(e,a,o):"object"!=typeof(l=i)||Array.isArray(l)||null===l||i===r||i instanceof Element||t(i,a)}))};return t(e)}function F(e,t=(()=>{})){let r={initialValue:void 0,_x_interceptor:!0,initialize(t,r,n){return e(this.initialValue,(()=>function(e,t){return t.split(".").reduce(((e,t)=>e[t]),e)}(t,r)),(e=>B(t,r,e)),r,n)}};return t(r),e=>{if("object"==typeof e&&null!==e&&e._x_interceptor){let t=r.initialize.bind(r);r.initialize=(n,o,i)=>{let s=e.initialize(n,o,i);return r.initialValue=s,t(n,o,i)}}else r.initialValue=e;return r}}function B(e,t,r){if("string"==typeof t&&(t=t.split(".")),1!==t.length){if(0===t.length)throw error;return e[t[0]]||(e[t[0]]={}),B(e[t[0]],t.slice(1),r)}e[t[0]]=r}var L={};function V(e,t){L[e]=t}function z(e,t){return Object.entries(L).forEach((([r,n])=>{Object.defineProperty(e,`$${r}`,{get(){let[e,r]=ie(t);return e={interceptor:F,...e},y(t,r),n(t,e)},enumerable:!1})})),e}function H(e,t,r,...n){try{return r(...n)}catch(r){j(r,e,t)}}function j(e,t,r=undefined){Object.assign(e,{el:t,expression:r}),console.warn(`Alpine Expression Error: ${e.message}\n\n${r?'Expression: "'+r+'"\n\n':""}`,t),setTimeout((()=>{throw e}),0)}var G=!0;function U(e,t,r={}){let n;return q(e,t)((e=>n=e),r),n}function q(...e){return W(...e)}var W=$;function $(e,t){let r={};z(r,e);let n=[r,...I(e)],o="function"==typeof t?function(e,t){return(r=(()=>{}),{scope:n={},params:o=[]}={})=>{K(r,t.apply(R([n,...e]),o))}}(n,t):function(e,t,r){let n=function(e,t){if(Z[e])return Z[e];let r=Object.getPrototypeOf((async function(){})).constructor,n=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(async()=>{ ${e} })()`:e;let o=(()=>{try{return new r(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`)}catch(r){return j(r,t,e),Promise.resolve()}})();return Z[e]=o,o}(t,r);return(o=(()=>{}),{scope:i={},params:s=[]}={})=>{n.result=void 0,n.finished=!1;let a=R([i,...e]);if("function"==typeof n){let e=n(n,a).catch((e=>j(e,r,t)));n.finished?(K(o,n.result,a,s,r),n.result=void 0):e.then((e=>{K(o,e,a,s,r)})).catch((e=>j(e,r,t))).finally((()=>n.result=void 0))}}}(n,t,e);return H.bind(null,e,t,o)}var Z={};function K(e,t,r,n,o){if(G&&"function"==typeof t){let i=t.apply(r,n);i instanceof Promise?i.then((t=>K(e,t,r,n))).catch((e=>j(e,o,t))):e(i)}else"object"==typeof t&&t instanceof Promise?t.then((t=>e(t))):e(t)}var Y="x-";function X(e=""){return Y+e}var J={};function Q(e,t){return J[e]=t,{before(t){if(!J[t])return void console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");const r=pe.indexOf(t);pe.splice(r>=0?r:pe.indexOf("DEFAULT"),0,e)}}}function ee(e,t,r){if(t=Array.from(t),e._x_virtualDirectives){let r=Object.entries(e._x_virtualDirectives).map((([e,t])=>({name:e,value:t}))),n=te(r);r=r.map((e=>n.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),t=t.concat(r)}let n={},o=t.map(ae(((e,t)=>n[e]=t))).filter(he).map(function(e,t){return({name:r,value:n})=>{let o=r.match(de()),i=r.match(/:([a-zA-Z0-9\-:]+)/),s=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||e[r]||r;return{type:o?o[1]:null,value:i?i[1]:null,modifiers:s.map((e=>e.replace(".",""))),expression:n,original:a}}}(n,r)).sort(fe);return o.map((t=>function(e,t){let r=J[t.type]||(()=>{}),[n,o]=ie(e);!function(e,t,r){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(r)}(e,t.original,o);let i=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,n),r=r.bind(r,e,t,n),re?ne.get(oe).push(r):r())};return i.runCleanups=o,i}(e,t)))}function te(e){return Array.from(e).map(ae()).filter((e=>!he(e)))}var re=!1,ne=new Map,oe=Symbol();function ie(e){let t=[],[r,n]=function(e){let t=()=>{};return[r=>{let n=o(r);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach((e=>e()))}),e._x_effects.add(n),t=()=>{void 0!==n&&(e._x_effects.delete(n),i(n))},n},()=>{t()}]}(e);return t.push(n),[{Alpine:Qe,effect:r,cleanup:e=>t.push(e),evaluateLater:q.bind(q,e),evaluate:U.bind(U,e)},()=>t.forEach((e=>e()))]}var se=(e,t)=>({name:r,value:n})=>(r.startsWith(e)&&(r=r.replace(e,t)),{name:r,value:n});function ae(e=(()=>{})){return({name:t,value:r})=>{let{name:n,value:o}=le.reduce(((e,t)=>t(e)),{name:t,value:r});return n!==t&&e(n,t),{name:n,value:o}}}var le=[];function ce(e){le.push(e)}function he({name:e}){return de().test(e)}var de=()=>new RegExp(`^${Y}([^:^.]+)\\b`),ue="DEFAULT",pe=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",ue,"teleport"];function fe(e,t){let r=-1===pe.indexOf(e.type)?ue:e.type,n=-1===pe.indexOf(t.type)?ue:t.type;return pe.indexOf(r)-pe.indexOf(n)}function me(e,t,r={}){e.dispatchEvent(new CustomEvent(t,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function ge(e,t){if("function"==typeof ShadowRoot&&e instanceof ShadowRoot)return void Array.from(e.children).forEach((e=>ge(e,t)));let r=!1;if(t(e,(()=>r=!0)),r)return;let n=e.firstElementChild;for(;n;)ge(n,t),n=n.nextElementSibling}function ve(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var ye=[],be=[];function we(){return ye.map((e=>e()))}function xe(){return ye.concat(be).map((e=>e()))}function Ee(e){ye.push(e)}function Se(e){be.push(e)}function _e(e,t=!1){return Ce(e,(e=>{if((t?xe():we()).some((t=>e.matches(t))))return!0}))}function Ce(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentElement)return Ce(e.parentElement,t)}}var Ae=[];function ke(e,t=ge,r=(()=>{})){!function(n){re=!0;let o=Symbol();oe=o,ne.set(o,[]);let i=()=>{for(;ne.get(o).length;)ne.get(o).shift()();ne.delete(o)};t(e,((e,t)=>{r(e,t),Ae.forEach((r=>r(e,t))),ee(e,e.attributes).forEach((e=>e())),e._x_ignore&&t()})),re=!1,i()}()}function Te(e){ge(e,(e=>b(e)))}var Pe=[],Me=!1;function De(e=(()=>{})){return queueMicrotask((()=>{Me||setTimeout((()=>{Oe()}))})),new Promise((t=>{Pe.push((()=>{e(),t()}))}))}function Oe(){for(Me=!1;Pe.length;)Pe.shift()()}function Ie(e,t){return Array.isArray(t)?Re(e,t.join(" ")):"object"==typeof t&&null!==t?function(e,t){let r=e=>e.split(" ").filter(Boolean),n=Object.entries(t).flatMap((([e,t])=>!!t&&r(e))).filter(Boolean),o=Object.entries(t).flatMap((([e,t])=>!t&&r(e))).filter(Boolean),i=[],s=[];return o.forEach((t=>{e.classList.contains(t)&&(e.classList.remove(t),s.push(t))})),n.forEach((t=>{e.classList.contains(t)||(e.classList.add(t),i.push(t))})),()=>{s.forEach((t=>e.classList.add(t))),i.forEach((t=>e.classList.remove(t)))}}(e,t):"function"==typeof t?Ie(e,t()):Re(e,t)}function Re(e,t){return t=!0===t?t="":t||"",r=t.split(" ").filter((t=>!e.classList.contains(t))).filter(Boolean),e.classList.add(...r),()=>{e.classList.remove(...r)};var r}function Ne(e,t){return"object"==typeof t&&null!==t?function(e,t){let r={};return Object.entries(t).forEach((([t,n])=>{r[t]=e.style[t],t.startsWith("--")||(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),e.style.setProperty(t,n)})),setTimeout((()=>{0===e.style.length&&e.removeAttribute("style")})),()=>{Ne(e,r)}}(e,t):function(e,t){let r=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",r||"")}}(e,t)}function Fe(e,t=(()=>{})){let r=!1;return function(){r?t.apply(this,arguments):(r=!0,e.apply(this,arguments))}}function Be(e,t,r={}){e._x_transition||(e._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(r=(()=>{}),n=(()=>{})){Ve(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,n)},out(r=(()=>{}),n=(()=>{})){Ve(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,n)}})}function Le(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Le(t)}function Ve(e,t,{during:r,start:n,end:o}={},i=(()=>{}),s=(()=>{})){if(e._x_transitioning&&e._x_transitioning.cancel(),0===Object.keys(r).length&&0===Object.keys(n).length&&0===Object.keys(o).length)return i(),void s();let a,l,c;!function(e,t){let r,n,o,i=Fe((()=>{A((()=>{r=!0,n||t.before(),o||(t.end(),Oe()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning}))}));e._x_transitioning={beforeCancels:[],beforeCancel(e){this.beforeCancels.push(e)},cancel:Fe((function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();i()})),finish:i},A((()=>{t.start(),t.during()})),Me=!0,requestAnimationFrame((()=>{if(r)return;let i=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s","")),s=1e3*Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""));0===i&&(i=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),A((()=>{t.before()})),n=!0,requestAnimationFrame((()=>{r||(A((()=>{t.end()})),Oe(),setTimeout(e._x_transitioning.finish,i+s),o=!0)}))}))}(e,{start(){a=t(e,n)},during(){l=t(e,r)},before:i,end(){a(),c=t(e,o)},after:s,cleanup(){l(),c()}})}function ze(e,t,r){if(-1===e.indexOf(t))return r;const n=e[e.indexOf(t)+1];if(!n)return r;if("scale"===t&&isNaN(n))return r;if("duration"===t){let e=n.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[n,e[e.indexOf(t)+2]].join(" "):n}Q("transition",((e,{value:t,modifiers:r,expression:n},{evaluate:o})=>{"function"==typeof n&&(n=o(n)),n?function(e,t,r){Be(e,Ie,""),{enter:t=>{e._x_transition.enter.during=t},"enter-start":t=>{e._x_transition.enter.start=t},"enter-end":t=>{e._x_transition.enter.end=t},leave:t=>{e._x_transition.leave.during=t},"leave-start":t=>{e._x_transition.leave.start=t},"leave-end":t=>{e._x_transition.leave.end=t}}[r](t)}(e,n,t):function(e,t,r){Be(e,Ne);let n=!t.includes("in")&&!t.includes("out")&&!r,o=n||t.includes("in")||["enter"].includes(r),i=n||t.includes("out")||["leave"].includes(r);t.includes("in")&&!n&&(t=t.filter(((e,r)=>r<t.indexOf("out")))),t.includes("out")&&!n&&(t=t.filter(((e,r)=>r>t.indexOf("out"))));let s=!t.includes("opacity")&&!t.includes("scale"),a=s||t.includes("opacity")?0:1,l=s||t.includes("scale")?ze(t,"scale",95)/100:1,c=ze(t,"delay",0),h=ze(t,"origin","center"),d="opacity, transform",u=ze(t,"duration",150)/1e3,p=ze(t,"duration",75)/1e3,f="cubic-bezier(0.4, 0.0, 0.2, 1)";o&&(e._x_transition.enter.during={transformOrigin:h,transitionDelay:c,transitionProperty:d,transitionDuration:`${u}s`,transitionTimingFunction:f},e._x_transition.enter.start={opacity:a,transform:`scale(${l})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),i&&(e._x_transition.leave.during={transformOrigin:h,transitionDelay:c,transitionProperty:d,transitionDuration:`${p}s`,transitionTimingFunction:f},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:a,transform:`scale(${l})`})}(e,r,t)})),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,r,n){const o="visible"===document.visibilityState?requestAnimationFrame:setTimeout;let i=()=>o(r);t?e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(r):i():e._x_transition?e._x_transition.in(r):i():(e._x_hidePromise=e._x_transition?new Promise(((t,r)=>{e._x_transition.out((()=>{}),(()=>t(n))),e._x_transitioning.beforeCancel((()=>r({isFromCancelledTransition:!0})))})):Promise.resolve(n),queueMicrotask((()=>{let t=Le(e);t?(t._x_hideChildren||(t._x_hideChildren=[]),t._x_hideChildren.push(e)):o((()=>{let t=e=>{let r=Promise.all([e._x_hidePromise,...(e._x_hideChildren||[]).map(t)]).then((([e])=>e()));return delete e._x_hidePromise,delete e._x_hideChildren,r};t(e).catch((e=>{if(!e.isFromCancelledTransition)throw e}))}))})))};var He=!1;function je(e,t=(()=>{})){return(...r)=>He?t(...r):e(...r)}function Ge(e,t,r,o=[]){switch(e._x_bindings||(e._x_bindings=n({})),e._x_bindings[t]=r,t=o.includes("camel")?t.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase())):t){case"value":!function(e,t){if("radio"===e.type)void 0===e.attributes.value&&(e.value=t),window.fromModel&&(e.checked=Ue(e.value,t));else if("checkbox"===e.type)Number.isInteger(t)?e.value=t:Number.isInteger(t)||Array.isArray(t)||"boolean"==typeof t||[null,void 0].includes(t)?Array.isArray(t)?e.checked=t.some((t=>Ue(t,e.value))):e.checked=!!t:e.value=String(t);else if("SELECT"===e.tagName)!function(e,t){const r=[].concat(t).map((e=>e+""));Array.from(e.options).forEach((e=>{e.selected=r.includes(e.value)}))}(e,t);else{if(e.value===t)return;e.value=t}}(e,r);break;case"style":!function(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=Ne(e,t)}(e,r);break;case"class":!function(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=Ie(e,t)}(e,r);break;default:!function(e,t,r){[null,void 0,!1].includes(r)&&function(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}(t)?e.removeAttribute(t):(qe(t)&&(r=t),function(e,t,r){e.getAttribute(t)!=r&&e.setAttribute(t,r)}(e,t,r))}(e,t,r)}}function Ue(e,t){return e==t}function qe(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function We(e,t){var r;return function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout((function(){r=null,e.apply(n,o)}),t)}}function $e(e,t){let r;return function(){let n=arguments;r||(e.apply(this,n),r=!0,setTimeout((()=>r=!1),t))}}var Ze={},Ke=!1,Ye={};function Xe(e,t,r){let n=[];for(;n.length;)n.pop()();let o=Object.entries(t).map((([e,t])=>({name:e,value:t}))),i=te(o);o=o.map((e=>i.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),ee(e,o,r).map((e=>{n.push(e.runCleanups),e()}))}var Je={},Qe={get reactive(){return n},get release(){return i},get effect(){return o},get raw(){return s},version:"3.12.0",flushAndStopDeferringMutations:function(){k=!1,P(T),T=[]},dontAutoEvaluateFunctions:function(e){let t=G;G=!1,e(),G=t},disableEffectScheduling:function(e){p=!1,e(),p=!0},startObservingMutations:E,stopObservingMutations:S,setReactivityEngine:function(e){n=e.reactive,i=e.release,o=t=>e.effect(t,{scheduler:e=>{p?function(e){var t;t=e,c.includes(t)||c.push(t),l||a||(a=!0,queueMicrotask(u))}(e):e()}}),s=e.raw},closestDataStack:I,skipDuringClone:je,onlyDuringClone:function(e){return(...t)=>He&&e(...t)},addRootSelector:Ee,addInitSelector:Se,addScopeToNode:D,deferMutations:function(){k=!0},mapAttributes:ce,evaluateLater:q,interceptInit:function(e){Ae.push(e)},setEvaluator:function(e){W=e},mergeProxies:R,findClosest:Ce,closestRoot:_e,destroyTree:Te,interceptor:F,transition:Ve,setStyles:Ne,mutateDom:A,directive:Q,throttle:$e,debounce:We,evaluate:U,initTree:ke,nextTick:De,prefixed:X,prefix:function(e){Y=e},plugin:function(e){e(Qe)},magic:V,store:function(e,t){if(Ke||(Ze=n(Ze),Ke=!0),void 0===t)return Ze[e];Ze[e]=t,"object"==typeof t&&null!==t&&t.hasOwnProperty("init")&&"function"==typeof t.init&&Ze[e].init(),N(Ze[e])},start:function(){var e;document.body||ve("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),me(document,"alpine:init"),me(document,"alpine:initializing"),E(),e=e=>ke(e,ge),v.push(e),y((e=>Te(e))),m.push(((e,t)=>{ee(e,t).forEach((e=>e()))})),Array.from(document.querySelectorAll(xe())).filter((e=>!_e(e.parentElement,!0))).forEach((e=>{ke(e)})),me(document,"alpine:initialized")},clone:function(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),He=!0,function(e){let r=o;f(((e,t)=>{let n=r(e);return i(n),()=>{}})),function(e){let t=!1;ke(e,((e,r)=>{ge(e,((e,n)=>{if(t&&function(e){return we().some((t=>e.matches(t)))}(e))return n();t=!0,r(e,n)}))}))}(t),f(r)}(),He=!1},bound:function(e,t,r){if(e._x_bindings&&void 0!==e._x_bindings[t])return e._x_bindings[t];let n=e.getAttribute(t);return null===n?"function"==typeof r?r():r:""===n||(qe(t)?!![t,"true"].includes(n):n)},$data:M,walk:ge,data:function(e,t){Je[e]=t},bind:function(e,t){let r="function"!=typeof t?()=>t:t;e instanceof Element?Xe(e,r()):Ye[e]=r}};function et(e,t){const r=Object.create(null),n=e.split(",");for(let e=0;e<n.length;e++)r[n[e]]=!0;return t?e=>!!r[e.toLowerCase()]:e=>!!r[e]}var tt,rt=Object.freeze({}),nt=(Object.freeze([]),Object.assign),ot=Object.prototype.hasOwnProperty,it=(e,t)=>ot.call(e,t),st=Array.isArray,at=e=>"[object Map]"===dt(e),lt=e=>"symbol"==typeof e,ct=e=>null!==e&&"object"==typeof e,ht=Object.prototype.toString,dt=e=>ht.call(e),ut=e=>dt(e).slice(8,-1),pt=e=>"string"==typeof e&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,ft=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},mt=/-(\w)/g,gt=(ft((e=>e.replace(mt,((e,t)=>t?t.toUpperCase():"")))),/\B([A-Z])/g),vt=(ft((e=>e.replace(gt,"-$1").toLowerCase())),ft((e=>e.charAt(0).toUpperCase()+e.slice(1)))),yt=(ft((e=>e?`on${vt(e)}`:"")),(e,t)=>e!==t&&(e==e||t==t)),bt=new WeakMap,wt=[],xt=Symbol("iterate"),Et=Symbol("Map key iterate"),St=0;function _t(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}var Ct=!0,At=[];function kt(){const e=At.pop();Ct=void 0===e||e}function Tt(e,t,r){if(!Ct||void 0===tt)return;let n=bt.get(e);n||bt.set(e,n=new Map);let o=n.get(r);o||n.set(r,o=new Set),o.has(tt)||(o.add(tt),tt.deps.push(o),tt.options.onTrack&&tt.options.onTrack({effect:tt,target:e,type:t,key:r}))}function Pt(e,t,r,n,o,i){const s=bt.get(e);if(!s)return;const a=new Set,l=e=>{e&&e.forEach((e=>{(e!==tt||e.allowRecurse)&&a.add(e)}))};if("clear"===t)s.forEach(l);else if("length"===r&&st(e))s.forEach(((e,t)=>{("length"===t||t>=n)&&l(e)}));else switch(void 0!==r&&l(s.get(r)),t){case"add":st(e)?pt(r)&&l(s.get("length")):(l(s.get(xt)),at(e)&&l(s.get(Et)));break;case"delete":st(e)||(l(s.get(xt)),at(e)&&l(s.get(Et)));break;case"set":at(e)&&l(s.get(xt))}a.forEach((s=>{s.options.onTrigger&&s.options.onTrigger({effect:s,target:e,key:r,type:t,newValue:n,oldValue:o,oldTarget:i}),s.options.scheduler?s.options.scheduler(s):s()}))}var Mt=et("__proto__,__v_isRef,__isVue"),Dt=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(lt)),Ot=Bt(),It=Bt(!1,!0),Rt=Bt(!0),Nt=Bt(!0,!0),Ft={};function Bt(e=!1,t=!1){return function(r,n,o){if("__v_isReactive"===n)return!e;if("__v_isReadonly"===n)return e;if("__v_raw"===n&&o===(e?t?ur:dr:t?hr:cr).get(r))return r;const i=st(r);if(!e&&i&&it(Ft,n))return Reflect.get(Ft,n,o);const s=Reflect.get(r,n,o);return(lt(n)?Dt.has(n):Mt(n))?s:(e||Tt(r,"get",n),t?s:vr(s)?i&&pt(n)?s:s.value:ct(s)?e?fr(s):pr(s):s)}}function Lt(e=!1){return function(t,r,n,o){let i=t[r];if(!e&&(n=gr(n),i=gr(i),!st(t)&&vr(i)&&!vr(n)))return i.value=n,!0;const s=st(t)&&pt(r)?Number(r)<t.length:it(t,r),a=Reflect.set(t,r,n,o);return t===gr(o)&&(s?yt(n,i)&&Pt(t,"set",r,n,i):Pt(t,"add",r,n)),a}}["includes","indexOf","lastIndexOf"].forEach((e=>{const t=Array.prototype[e];Ft[e]=function(...e){const r=gr(this);for(let e=0,t=this.length;e<t;e++)Tt(r,"get",e+"");const n=t.apply(r,e);return-1===n||!1===n?t.apply(r,e.map(gr)):n}})),["push","pop","shift","unshift","splice"].forEach((e=>{const t=Array.prototype[e];Ft[e]=function(...e){At.push(Ct),Ct=!1;const r=t.apply(this,e);return kt(),r}}));var Vt={get:Ot,set:Lt(),deleteProperty:function(e,t){const r=it(e,t),n=e[t],o=Reflect.deleteProperty(e,t);return o&&r&&Pt(e,"delete",t,void 0,n),o},has:function(e,t){const r=Reflect.has(e,t);return lt(t)&&Dt.has(t)||Tt(e,"has",t),r},ownKeys:function(e){return Tt(e,"iterate",st(e)?"length":xt),Reflect.ownKeys(e)}},zt={get:Rt,set:(e,t)=>(console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0),deleteProperty:(e,t)=>(console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0)},Ht=(nt({},Vt,{get:It,set:Lt(!0)}),nt({},zt,{get:Nt}),e=>ct(e)?pr(e):e),jt=e=>ct(e)?fr(e):e,Gt=e=>e,Ut=e=>Reflect.getPrototypeOf(e);function qt(e,t,r=!1,n=!1){const o=gr(e=e.__v_raw),i=gr(t);t!==i&&!r&&Tt(o,"get",t),!r&&Tt(o,"get",i);const{has:s}=Ut(o),a=n?Gt:r?jt:Ht;return s.call(o,t)?a(e.get(t)):s.call(o,i)?a(e.get(i)):void(e!==o&&e.get(t))}function Wt(e,t=!1){const r=this.__v_raw,n=gr(r),o=gr(e);return e!==o&&!t&&Tt(n,"has",e),!t&&Tt(n,"has",o),e===o?r.has(e):r.has(e)||r.has(o)}function $t(e,t=!1){return e=e.__v_raw,!t&&Tt(gr(e),"iterate",xt),Reflect.get(e,"size",e)}function Zt(e){e=gr(e);const t=gr(this);return Ut(t).has.call(t,e)||(t.add(e),Pt(t,"add",e,e)),this}function Kt(e,t){t=gr(t);const r=gr(this),{has:n,get:o}=Ut(r);let i=n.call(r,e);i?lr(r,n,e):(e=gr(e),i=n.call(r,e));const s=o.call(r,e);return r.set(e,t),i?yt(t,s)&&Pt(r,"set",e,t,s):Pt(r,"add",e,t),this}function Yt(e){const t=gr(this),{has:r,get:n}=Ut(t);let o=r.call(t,e);o?lr(t,r,e):(e=gr(e),o=r.call(t,e));const i=n?n.call(t,e):void 0,s=t.delete(e);return o&&Pt(t,"delete",e,void 0,i),s}function Xt(){const e=gr(this),t=0!==e.size,r=at(e)?new Map(e):new Set(e),n=e.clear();return t&&Pt(e,"clear",void 0,void 0,r),n}function Jt(e,t){return function(r,n){const o=this,i=o.__v_raw,s=gr(i),a=t?Gt:e?jt:Ht;return!e&&Tt(s,"iterate",xt),i.forEach(((e,t)=>r.call(n,a(e),a(t),o)))}}function Qt(e,t,r){return function(...n){const o=this.__v_raw,i=gr(o),s=at(i),a="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,c=o[e](...n),h=r?Gt:t?jt:Ht;return!t&&Tt(i,"iterate",l?Et:xt),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function er(e){return function(...t){{const r=t[0]?`on key "${t[0]}" `:"";console.warn(`${vt(e)} operation ${r}failed: target is readonly.`,gr(this))}return"delete"!==e&&this}}var tr={get(e){return qt(this,e)},get size(){return $t(this)},has:Wt,add:Zt,set:Kt,delete:Yt,clear:Xt,forEach:Jt(!1,!1)},rr={get(e){return qt(this,e,!1,!0)},get size(){return $t(this)},has:Wt,add:Zt,set:Kt,delete:Yt,clear:Xt,forEach:Jt(!1,!0)},nr={get(e){return qt(this,e,!0)},get size(){return $t(this,!0)},has(e){return Wt.call(this,e,!0)},add:er("add"),set:er("set"),delete:er("delete"),clear:er("clear"),forEach:Jt(!0,!1)},or={get(e){return qt(this,e,!0,!0)},get size(){return $t(this,!0)},has(e){return Wt.call(this,e,!0)},add:er("add"),set:er("set"),delete:er("delete"),clear:er("clear"),forEach:Jt(!0,!0)};function ir(e,t){const r=t?e?or:rr:e?nr:tr;return(t,n,o)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(it(r,n)&&n in t?r:t,n,o)}["keys","values","entries",Symbol.iterator].forEach((e=>{tr[e]=Qt(e,!1,!1),nr[e]=Qt(e,!0,!1),rr[e]=Qt(e,!1,!0),or[e]=Qt(e,!0,!0)}));var sr={get:ir(!1,!1)},ar=(ir(!1,!0),{get:ir(!0,!1)});function lr(e,t,r){const n=gr(r);if(n!==r&&t.call(e,n)){const t=ut(e);console.warn(`Reactive ${t} contains both the raw and reactive versions of the same object${"Map"===t?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}ir(!0,!0);var cr=new WeakMap,hr=new WeakMap,dr=new WeakMap,ur=new WeakMap;function pr(e){return e&&e.__v_isReadonly?e:mr(e,!1,Vt,sr,cr)}function fr(e){return mr(e,!0,zt,ar,dr)}function mr(e,t,r,n,o){if(!ct(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const s=(a=e).__v_skip||!Object.isExtensible(a)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(ut(a));var a;if(0===s)return e;const l=new Proxy(e,2===s?n:r);return o.set(e,l),l}function gr(e){return e&&gr(e.__v_raw)||e}function vr(e){return Boolean(e&&!0===e.__v_isRef)}V("nextTick",(()=>De)),V("dispatch",(e=>me.bind(me,e))),V("watch",((e,{evaluateLater:t,effect:r})=>(n,o)=>{let i,s=t(n),a=!0,l=r((()=>s((e=>{JSON.stringify(e),a?i=e:queueMicrotask((()=>{o(e,i),i=e})),a=!1}))));e._x_effects.delete(l)})),V("store",(function(){return Ze})),V("data",(e=>M(e))),V("root",(e=>_e(e))),V("refs",(e=>(e._x_refs_proxy||(e._x_refs_proxy=R(function(e){let t=[],r=e;for(;r;)r._x_refs&&t.push(r._x_refs),r=r.parentNode;return t}(e))),e._x_refs_proxy)));var yr={};function br(e){return yr[e]||(yr[e]=0),++yr[e]}function wr(e,t,r){V(t,(t=>ve(`You can't use [$${directiveName}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${r}`,t)))}V("id",(e=>(t,r=null)=>{let n=function(e,t){return Ce(e,(e=>{if(e._x_ids&&e._x_ids[t])return!0}))}(e,t),o=n?n._x_ids[t]:br(t);return r?`${t}-${o}-${r}`:`${t}-${o}`})),V("el",(e=>e)),wr("Focus","focus","focus"),wr("Persist","persist","persist"),Q("modelable",((e,{expression:t},{effect:r,evaluateLater:n,cleanup:s})=>{let a=n(t),l=()=>{let e;return a((t=>e=t)),e},c=n(`${t} = __placeholder`),h=e=>c((()=>{}),{scope:{__placeholder:e}}),d=l();h(d),queueMicrotask((()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let t=e._x_model.get,r=e._x_model.set,n=function({get:e,set:t},{get:r,set:n}){let s,a,l,c,h=!0,d=o((()=>{let o,i;h?(o=e(),n(o),i=r(),h=!1):(o=e(),i=r(),l=JSON.stringify(o),c=JSON.stringify(i),l!==s?(i=r(),n(o),i=o):(t(i),o=i)),s=JSON.stringify(o),a=JSON.stringify(i)}));return()=>{i(d)}}({get:()=>t(),set(e){r(e)}},{get:()=>l(),set(e){h(e)}});s(n)}))}));var xr=document.createElement("div");Q("teleport",((e,{modifiers:t,expression:r},{cleanup:n})=>{"template"!==e.tagName.toLowerCase()&&ve("x-teleport can only be used on a <template> tag",e);let o=je((()=>document.querySelector(r)),(()=>xr))();o||ve(`Cannot find x-teleport element for selector: "${r}"`);let i=e.content.cloneNode(!0).firstElementChild;e._x_teleport=i,i._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach((t=>{i.addEventListener(t,(t=>{t.stopPropagation(),e.dispatchEvent(new t.constructor(t.type,t))}))})),D(i,{},e),A((()=>{t.includes("prepend")?o.parentNode.insertBefore(i,o):t.includes("append")?o.parentNode.insertBefore(i,o.nextSibling):o.appendChild(i),ke(i),i._x_ignore=!0})),n((()=>i.remove()))}));var Er=()=>{};function Sr(e,t,r,n){let o=e,i=e=>n(e),s={},a=(e,t)=>r=>t(e,r);if(r.includes("dot")&&(t=t.replace(/-/g,".")),r.includes("camel")&&(t=t.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase()))),r.includes("passive")&&(s.passive=!0),r.includes("capture")&&(s.capture=!0),r.includes("window")&&(o=window),r.includes("document")&&(o=document),r.includes("prevent")&&(i=a(i,((e,t)=>{t.preventDefault(),e(t)}))),r.includes("stop")&&(i=a(i,((e,t)=>{t.stopPropagation(),e(t)}))),r.includes("self")&&(i=a(i,((t,r)=>{r.target===e&&t(r)}))),(r.includes("away")||r.includes("outside"))&&(o=document,i=a(i,((t,r)=>{e.contains(r.target)||!1!==r.target.isConnected&&(e.offsetWidth<1&&e.offsetHeight<1||!1!==e._x_isShown&&t(r))}))),r.includes("once")&&(i=a(i,((e,r)=>{e(r),o.removeEventListener(t,i,s)}))),i=a(i,((e,n)=>{(function(e){return["keydown","keyup"].includes(e)})(t)&&function(e,t){let r=t.filter((e=>!["window","document","prevent","stop","once","capture"].includes(e)));if(r.includes("debounce")){let e=r.indexOf("debounce");r.splice(e,_r((r[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.includes("throttle")){let e=r.indexOf("throttle");r.splice(e,_r((r[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===r.length)return!1;if(1===r.length&&Cr(e.key).includes(r[0]))return!1;const n=["ctrl","shift","alt","meta","cmd","super"].filter((e=>r.includes(e)));return r=r.filter((e=>!n.includes(e))),!(n.length>0&&n.filter((t=>("cmd"!==t&&"super"!==t||(t="meta"),e[`${t}Key`]))).length===n.length&&Cr(e.key).includes(r[0]))}(n,r)||e(n)})),r.includes("debounce")){let e=r[r.indexOf("debounce")+1]||"invalid-wait",t=_r(e.split("ms")[0])?Number(e.split("ms")[0]):250;i=We(i,t)}if(r.includes("throttle")){let e=r[r.indexOf("throttle")+1]||"invalid-wait",t=_r(e.split("ms")[0])?Number(e.split("ms")[0]):250;i=$e(i,t)}return o.addEventListener(t,i,s),()=>{o.removeEventListener(t,i,s)}}function _r(e){return!Array.isArray(e)&&!isNaN(e)}function Cr(e){if(!e)return[];var t;e=[" ","_"].includes(t=e)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase();let r={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return r[e]=e,Object.keys(r).map((t=>{if(r[t]===e)return t})).filter((e=>e))}function Ar(e){let t=e?parseFloat(e):null;return r=t,Array.isArray(r)||isNaN(r)?e:t;var r}function kr(e){return null!==e&&"object"==typeof e&&"function"==typeof e.get&&"function"==typeof e.set}function Tr(e,t,r,n){let o={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map((e=>e.trim())).forEach(((e,r)=>{o[e]=t[r]})):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&"object"==typeof t?e.item.replace("{","").replace("}","").split(",").map((e=>e.trim())).forEach((e=>{o[e]=t[e]})):o[e.item]=t,e.index&&(o[e.index]=r),e.collection&&(o[e.collection]=n),o}function Pr(){}function Mr(e,t,r){Q(t,(n=>ve(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${r}`,n)))}Er.inline=(e,{modifiers:t},{cleanup:r})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,r((()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore}))},Q("ignore",Er),Q("effect",((e,{expression:t},{effect:r})=>r(q(e,t)))),Q("model",((e,{modifiers:t,expression:r},{effect:n,cleanup:o})=>{let i=e;t.includes("parent")&&(i=e.parentNode);let s,a=q(i,r);s="string"==typeof r?q(i,`${r} = __placeholder`):"function"==typeof r&&"string"==typeof r()?q(i,`${r()} = __placeholder`):()=>{};let l=()=>{let e;return a((t=>e=t)),kr(e)?e.get():e},c=e=>{let t;a((e=>t=e)),kr(t)?t.set(e):s((()=>{}),{scope:{__placeholder:e}})};t.includes("fill")&&e.hasAttribute("value")&&(null===l()||""===l())&&c(e.value),"string"==typeof r&&"radio"===e.type&&A((()=>{e.hasAttribute("name")||e.setAttribute("name",r)}));var h="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let d=He?()=>{}:Sr(e,h,t,(r=>{c(function(e,t,r,n){return A((()=>{if(r instanceof CustomEvent&&void 0!==r.detail)return void 0!==r.detail?r.detail:r.target.value;if("checkbox"===e.type){if(Array.isArray(n)){let e=t.includes("number")?Ar(r.target.value):r.target.value;return r.target.checked?n.concat([e]):n.filter((t=>!(t==e)))}return r.target.checked}if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(r.target.selectedOptions).map((e=>Ar(e.value||e.text))):Array.from(r.target.selectedOptions).map((e=>e.value||e.text));{let e=r.target.value;return t.includes("number")?Ar(e):t.includes("trim")?e.trim():e}}))}(e,t,r,l()))}));if(e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=d,o((()=>e._x_removeModelListeners.default())),e.form){let t=Sr(e.form,"reset",[],(t=>{De((()=>e._x_model&&e._x_model.set(e.value)))}));o((()=>t()))}e._x_model={get:()=>l(),set(e){c(e)}},e._x_forceModelUpdate=t=>{void 0===(t=void 0===t?l():t)&&"string"==typeof r&&r.match(/\./)&&(t=""),window.fromModel=!0,A((()=>Ge(e,"value",t))),delete window.fromModel},n((()=>{let r=l();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(r)}))})),Q("cloak",(e=>queueMicrotask((()=>A((()=>e.removeAttribute(X("cloak")))))))),Se((()=>`[${X("init")}]`)),Q("init",je(((e,{expression:t},{evaluate:r})=>"string"==typeof t?!!t.trim()&&r(t,{},!1):r(t,{},!1)))),Q("text",((e,{expression:t},{effect:r,evaluateLater:n})=>{let o=n(t);r((()=>{o((t=>{A((()=>{e.textContent=t}))}))}))})),Q("html",((e,{expression:t},{effect:r,evaluateLater:n})=>{let o=n(t);r((()=>{o((t=>{A((()=>{e.innerHTML=t,e._x_ignoreSelf=!0,ke(e),delete e._x_ignoreSelf}))}))}))})),ce(se(":",X("bind:"))),Q("bind",((e,{value:t,modifiers:r,expression:n,original:o},{effect:i})=>{if(!t){let t={};return s=t,Object.entries(Ye).forEach((([e,t])=>{Object.defineProperty(s,e,{get:()=>(...e)=>t(...e)})})),void q(e,n)((t=>{Xe(e,t,o)}),{scope:t})}var s;if("key"===t)return function(e,t){e._x_keyExpression=t}(e,n);let a=q(e,n);i((()=>a((o=>{void 0===o&&"string"==typeof n&&n.match(/\./)&&(o=""),A((()=>Ge(e,t,o,r)))}))))})),Ee((()=>`[${X("data")}]`)),Q("data",je(((e,{expression:t},{cleanup:r})=>{t=""===t?"{}":t;let o={};z(o,e);let i={};var s,a;s=i,a=o,Object.entries(Je).forEach((([e,t])=>{Object.defineProperty(s,e,{get:()=>(...e)=>t.bind(a)(...e),enumerable:!1})}));let l=U(e,t,{scope:i});void 0!==l&&!0!==l||(l={}),z(l,e);let c=n(l);N(c);let h=D(e,c);c.init&&U(e,c.init),r((()=>{c.destroy&&U(e,c.destroy),h()}))}))),Q("show",((e,{modifiers:t,expression:r},{effect:n})=>{let o=q(e,r);e._x_doHide||(e._x_doHide=()=>{A((()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)}))}),e._x_doShow||(e._x_doShow=()=>{A((()=>{1===e.style.length&&"none"===e.style.display?e.removeAttribute("style"):e.style.removeProperty("display")}))});let i,s=()=>{e._x_doHide(),e._x_isShown=!1},a=()=>{e._x_doShow(),e._x_isShown=!0},l=()=>setTimeout(a),c=Fe((e=>e?a():s()),(t=>{"function"==typeof e._x_toggleAndCascadeWithTransitions?e._x_toggleAndCascadeWithTransitions(e,t,a,s):t?l():s()})),h=!0;n((()=>o((e=>{(h||e!==i)&&(t.includes("immediate")&&(e?l():s()),c(e),i=e,h=!1)}))))})),Q("for",((e,{expression:t},{effect:r,cleanup:o})=>{let i=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=e.match(/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/);if(!r)return;let n={};n.items=r[2].trim();let o=r[1].replace(/^\s*\(|\)\s*$/g,"").trim(),i=o.match(t);return i?(n.item=o.replace(t,"").trim(),n.index=i[1].trim(),i[2]&&(n.collection=i[2].trim())):n.item=o,n}(t),s=q(e,i.items),a=q(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},r((()=>function(e,t,r,o){let i=e;r((r=>{var s;s=r,!Array.isArray(s)&&!isNaN(s)&&r>=0&&(r=Array.from(Array(r).keys(),(e=>e+1))),void 0===r&&(r=[]);let a=e._x_lookup,l=e._x_prevKeys,c=[],h=[];if("object"!=typeof(u=r)||Array.isArray(u))for(let e=0;e<r.length;e++){let n=Tr(t,r[e],e,r);o((e=>h.push(e)),{scope:{index:e,...n}}),c.push(n)}else r=Object.entries(r).map((([e,n])=>{let i=Tr(t,n,e,r);o((e=>h.push(e)),{scope:{index:e,...i}}),c.push(i)}));var u;let p=[],f=[],m=[],g=[];for(let e=0;e<l.length;e++){let t=l[e];-1===h.indexOf(t)&&m.push(t)}l=l.filter((e=>!m.includes(e)));let v="template";for(let e=0;e<h.length;e++){let t=h[e],r=l.indexOf(t);if(-1===r)l.splice(e,0,t),p.push([v,e]);else if(r!==e){let t=l.splice(e,1)[0],n=l.splice(r-1,1)[0];l.splice(e,0,n),l.splice(r,0,t),f.push([t,n])}else g.push(t);v=t}for(let e=0;e<m.length;e++){let t=m[e];a[t]._x_effects&&a[t]._x_effects.forEach(d),a[t].remove(),a[t]=null,delete a[t]}for(let e=0;e<f.length;e++){let[t,r]=f[e],n=a[t],o=a[r],i=document.createElement("div");A((()=>{o.after(i),n.after(o),o._x_currentIfEl&&o.after(o._x_currentIfEl),i.before(n),n._x_currentIfEl&&n.after(n._x_currentIfEl),i.remove()})),O(o,c[h.indexOf(r)])}for(let e=0;e<p.length;e++){let[t,r]=p[e],o="template"===t?i:a[t];o._x_currentIfEl&&(o=o._x_currentIfEl);let s=c[r],l=h[r],d=document.importNode(i.content,!0).firstElementChild;D(d,n(s),i),A((()=>{o.after(d),ke(d)})),"object"==typeof l&&ve("x-for key cannot be an object, it must be a string or an integer",i),a[l]=d}for(let e=0;e<g.length;e++)O(a[g[e]],c[h.indexOf(g[e])]);i._x_prevKeys=h}))}(e,i,s,a))),o((()=>{Object.values(e._x_lookup).forEach((e=>e.remove())),delete e._x_prevKeys,delete e._x_lookup}))})),Pr.inline=(e,{expression:t},{cleanup:r})=>{let n=_e(e);n._x_refs||(n._x_refs={}),n._x_refs[t]=e,r((()=>delete n._x_refs[t]))},Q("ref",Pr),Q("if",((e,{expression:t},{effect:r,cleanup:n})=>{let o=q(e,t);r((()=>o((t=>{t?(()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let t=e.content.cloneNode(!0).firstElementChild;D(t,{},e),A((()=>{e.after(t),ke(t)})),e._x_currentIfEl=t,e._x_undoIf=()=>{ge(t,(e=>{e._x_effects&&e._x_effects.forEach(d)})),t.remove(),delete e._x_currentIfEl}})():e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)})))),n((()=>e._x_undoIf&&e._x_undoIf()))})),Q("id",((e,{expression:t},{evaluate:r})=>{r(t).forEach((t=>function(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=br(t))}(e,t)))})),ce(se("@",X("on:"))),Q("on",je(((e,{value:t,modifiers:r,expression:n},{cleanup:o})=>{let i=n?q(e,n):()=>{};"template"===e.tagName.toLowerCase()&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let s=Sr(e,t,r,(e=>{i((()=>{}),{scope:{$event:e},params:[e]})}));o((()=>s()))}))),Mr("Collapse","collapse","collapse"),Mr("Intersect","intersect","intersect"),Mr("Focus","trap","focus"),Mr("Mask","mask","mask"),Qe.setEvaluator($),Qe.setReactivityEngine({reactive:pr,effect:function(e,t=rt){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const r=function(e,t){const r=function(){if(!r.active)return e();if(!wt.includes(r)){_t(r);try{return At.push(Ct),Ct=!0,wt.push(r),tt=r,e()}finally{wt.pop(),kt(),tt=wt[wt.length-1]}}};return r.id=St++,r.allowRecurse=!!t.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=e,r.deps=[],r.options=t,r}(e,t);return t.lazy||r(),r},release:function(e){e.active&&(_t(e),e.options.onStop&&e.options.onStop(),e.active=!1)},raw:gr});var Dr=Qe},6030:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ne});var n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},o={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},i=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],s={CSS:{},springs:{}};function a(e,t,r){return Math.min(Math.max(e,t),r)}function l(e,t){return e.indexOf(t)>-1}function c(e,t){return e.apply(null,t)}var h={arr:function(e){return Array.isArray(e)},obj:function(e){return l(Object.prototype.toString.call(e),"Object")},pth:function(e){return h.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||h.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return h.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return h.hex(e)||h.rgb(e)||h.hsl(e)},key:function(e){return!n.hasOwnProperty(e)&&!o.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function d(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function u(e,t){var r=d(e),n=a(h.und(r[0])?1:r[0],.1,100),o=a(h.und(r[1])?100:r[1],.1,100),i=a(h.und(r[2])?10:r[2],.1,100),l=a(h.und(r[3])?0:r[3],.1,100),c=Math.sqrt(o/n),u=i/(2*Math.sqrt(o*n)),p=u<1?c*Math.sqrt(1-u*u):0,f=u<1?(u*c-l)/p:-l+c;function m(e){var r=t?t*e/1e3:e;return r=u<1?Math.exp(-r*u*c)*(1*Math.cos(p*r)+f*Math.sin(p*r)):(1+f*r)*Math.exp(-r*c),0===e||1===e?e:1-r}return t?m:function(){var t=s.springs[e];if(t)return t;for(var r=1/6,n=0,o=0;;)if(1===m(n+=r)){if(++o>=16)break}else o=0;var i=n*r*1e3;return s.springs[e]=i,i}}function p(e){return void 0===e&&(e=10),function(t){return Math.ceil(a(t,1e-6,1)*e)*(1/e)}}var f,m,g=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function r(e,t){return 3*t-6*e}function n(e){return 3*e}function o(e,o,i){return((t(o,i)*e+r(o,i))*e+n(o))*e}function i(e,o,i){return 3*t(o,i)*e*e+2*r(o,i)*e+n(o)}return function(t,r,n,s){if(0<=t&&t<=1&&0<=n&&n<=1){var a=new Float32Array(11);if(t!==r||n!==s)for(var l=0;l<11;++l)a[l]=o(l*e,t,n);return function(l){return t===r&&n===s||0===l||1===l?l:o(function(r){for(var s=0,l=1;10!==l&&a[l]<=r;++l)s+=e;--l;var c=s+(r-a[l])/(a[l+1]-a[l])*e,h=i(c,t,n);return h>=.001?function(e,t,r,n){for(var s=0;s<4;++s){var a=i(t,r,n);if(0===a)return t;t-=(o(t,r,n)-e)/a}return t}(r,c,t,n):0===h?c:function(e,t,r,n,i){var s,a,l=0;do{(s=o(a=t+(r-t)/2,n,i)-e)>0?r=a:t=a}while(Math.abs(s)>1e-7&&++l<10);return a}(r,s,s+e,t,n)}(l),r,s)}}}}(),v=(f={linear:function(){return function(e){return e}}},m={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,r=4;e<((t=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var r=a(e,1,10),n=a(t,.1,2);return function(e){return 0===e||1===e?e:-r*Math.pow(2,10*(e-1))*Math.sin((e-1-n/(2*Math.PI)*Math.asin(1/r))*(2*Math.PI)/n)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){m[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(m).forEach((function(e){var t=m[e];f["easeIn"+e]=t,f["easeOut"+e]=function(e,r){return function(n){return 1-t(e,r)(1-n)}},f["easeInOut"+e]=function(e,r){return function(n){return n<.5?t(e,r)(2*n)/2:1-t(e,r)(-2*n+2)/2}},f["easeOutIn"+e]=function(e,r){return function(n){return n<.5?(1-t(e,r)(1-2*n))/2:(t(e,r)(2*n-1)+1)/2}}})),f);function y(e,t){if(h.fnc(e))return e;var r=e.split("(")[0],n=v[r],o=d(e);switch(r){case"spring":return u(e,t);case"cubicBezier":return c(g,o);case"steps":return c(p,o);default:return c(n,o)}}function b(e){try{return document.querySelectorAll(e)}catch(e){return}}function w(e,t){for(var r=e.length,n=arguments.length>=2?arguments[1]:void 0,o=[],i=0;i<r;i++)if(i in e){var s=e[i];t.call(n,s,i,e)&&o.push(s)}return o}function x(e){return e.reduce((function(e,t){return e.concat(h.arr(t)?x(t):t)}),[])}function E(e){return h.arr(e)?e:(h.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function S(e,t){return e.some((function(e){return e===t}))}function _(e){var t={};for(var r in e)t[r]=e[r];return t}function C(e,t){var r=_(e);for(var n in e)r[n]=t.hasOwnProperty(n)?t[n]:e[n];return r}function A(e,t){var r=_(e);for(var n in t)r[n]=h.und(e[n])?t[n]:e[n];return r}function k(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function T(e,t){return h.fnc(e)?e(t.target,t.id,t.total):e}function P(e,t){return e.getAttribute(t)}function M(e,t,r){if(S([r,"deg","rad","turn"],k(t)))return t;var n=s.CSS[t+r];if(!h.und(n))return n;var o=document.createElement(e.tagName),i=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;i.appendChild(o),o.style.position="absolute",o.style.width=100+r;var a=100/o.offsetWidth;i.removeChild(o);var l=a*parseFloat(t);return s.CSS[t+r]=l,l}function D(e,t,r){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=e.style[t]||getComputedStyle(e).getPropertyValue(n)||"0";return r?M(e,o,r):o}}function O(e,t){return h.dom(e)&&!h.inp(e)&&(!h.nil(P(e,t))||h.svg(e)&&e[t])?"attribute":h.dom(e)&&S(i,t)?"transform":h.dom(e)&&"transform"!==t&&D(e,t)?"css":null!=e[t]?"object":void 0}function I(e){if(h.dom(e)){for(var t,r=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,o=new Map;t=n.exec(r);)o.set(t[1],t[2]);return o}}function R(e,t,r,n){switch(O(e,t)){case"transform":return function(e,t,r,n){var o=l(t,"scale")?1:0+function(e){return l(e,"translate")||"perspective"===e?"px":l(e,"rotate")||l(e,"skew")?"deg":void 0}(t),i=I(e).get(t)||o;return r&&(r.transforms.list.set(t,i),r.transforms.last=t),n?M(e,i,n):i}(e,t,n,r);case"css":return D(e,t,r);case"attribute":return P(e,t);default:return e[t]||0}}function N(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var n=k(e)||0,o=parseFloat(t),i=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return o+i+n;case"-":return o-i+n;case"*":return o*i+n}}function F(e,t){if(h.col(e))return function(e){return h.rgb(e)?(r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+r[1]+",1)":t:h.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,n){return t+t+r+r+n+n})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(r[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+",1)"}(e):h.hsl(e)?function(e){var t,r,n,o=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(o[1],10)/360,s=parseInt(o[2],10)/100,a=parseInt(o[3],10)/100,l=o[4]||1;function c(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(0==s)t=r=n=a;else{var h=a<.5?a*(1+s):a+s-a*s,d=2*a-h;t=c(d,h,i+1/3),r=c(d,h,i),n=c(d,h,i-1/3)}return"rgba("+255*t+","+255*r+","+255*n+","+l+")"}(e):void 0;var t,r}(e);if(/\s/g.test(e))return e;var r=k(e),n=r?e.substr(0,e.length-r.length):e;return t?n+t:n}function B(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function L(e){for(var t,r=e.points,n=0,o=0;o<r.numberOfItems;o++){var i=r.getItem(o);o>0&&(n+=B(t,i)),t=i}return n}function V(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*P(e,"r")}(e);case"rect":return function(e){return 2*P(e,"width")+2*P(e,"height")}(e);case"line":return function(e){return B({x:P(e,"x1"),y:P(e,"y1")},{x:P(e,"x2"),y:P(e,"y2")})}(e);case"polyline":return L(e);case"polygon":return function(e){var t=e.points;return L(e)+B(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function z(e,t){var r=t||{},n=r.el||function(e){for(var t=e.parentNode;h.svg(t)&&h.svg(t.parentNode);)t=t.parentNode;return t}(e),o=n.getBoundingClientRect(),i=P(n,"viewBox"),s=o.width,a=o.height,l=r.viewBox||(i?i.split(" "):[0,0,s,a]);return{el:n,viewBox:l,x:l[0]/1,y:l[1]/1,w:s,h:a,vW:l[2],vH:l[3]}}function H(e,t,r){function n(r){void 0===r&&(r=0);var n=t+r>=1?t+r:0;return e.el.getPointAtLength(n)}var o=z(e.el,e.svg),i=n(),s=n(-1),a=n(1),l=r?1:o.w/o.vW,c=r?1:o.h/o.vH;switch(e.property){case"x":return(i.x-o.x)*l;case"y":return(i.y-o.y)*c;case"angle":return 180*Math.atan2(a.y-s.y,a.x-s.x)/Math.PI}}function j(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=F(h.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(r)?n.match(r).map(Number):[0],strings:h.str(e)||t?n.split(r):[]}}function G(e){return w(e?x(h.arr(e)?e.map(E):E(e)):[],(function(e,t,r){return r.indexOf(e)===t}))}function U(e){var t=G(e);return t.map((function(e,r){return{target:e,id:r,total:t.length,transforms:{list:I(e)}}}))}function q(e,t){var r=_(t);if(/^spring/.test(r.easing)&&(r.duration=u(r.easing)),h.arr(e)){var n=e.length;2!==n||h.obj(e[0])?h.fnc(t.duration)||(r.duration=t.duration/n):e={value:e}}var o=h.arr(e)?e:[e];return o.map((function(e,r){var n=h.obj(e)&&!h.pth(e)?e:{value:e};return h.und(n.delay)&&(n.delay=r?0:t.delay),h.und(n.endDelay)&&(n.endDelay=r===o.length-1?t.endDelay:0),n})).map((function(e){return A(e,r)}))}var W={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,n,o){if(n.list.set(t,r),t===n.last||o){var i="";n.list.forEach((function(e,t){i+=t+"("+e+") "})),e.style.transform=i}}};function $(e,t){U(e).forEach((function(e){for(var r in t){var n=T(t[r],e),o=e.target,i=k(n),s=R(o,r,i,e),a=N(F(n,i||k(s)),s),l=O(o,r);W[l](o,r,a,e.transforms,!0)}}))}function Z(e,t){return w(x(e.map((function(e){return t.map((function(t){return function(e,t){var r=O(e.target,t.name);if(r){var n=function(e,t){var r;return e.tweens.map((function(n){var o=function(e,t){var r={};for(var n in e){var o=T(e[n],t);h.arr(o)&&1===(o=o.map((function(e){return T(e,t)}))).length&&(o=o[0]),r[n]=o}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(n,t),i=o.value,s=h.arr(i)?i[1]:i,a=k(s),l=R(t.target,e.name,a,t),c=r?r.to.original:l,d=h.arr(i)?i[0]:c,u=k(d)||k(l),p=a||u;return h.und(s)&&(s=c),o.from=j(d,p),o.to=j(N(s,d),p),o.start=r?r.end:0,o.end=o.start+o.delay+o.duration+o.endDelay,o.easing=y(o.easing,o.duration),o.isPath=h.pth(i),o.isPathTargetInsideSVG=o.isPath&&h.svg(t.target),o.isColor=h.col(o.from.original),o.isColor&&(o.round=1),r=o,o}))}(t,e),o=n[n.length-1];return{type:r,property:t.name,animatable:e,tweens:n,duration:o.end,delay:n[0].delay,endDelay:o.endDelay}}}(e,t)}))}))),(function(e){return!h.und(e)}))}function K(e,t){var r=e.length,n=function(e){return e.timelineOffset?e.timelineOffset:0},o={};return o.duration=r?Math.max.apply(Math,e.map((function(e){return n(e)+e.duration}))):t.duration,o.delay=r?Math.min.apply(Math,e.map((function(e){return n(e)+e.delay}))):t.delay,o.endDelay=r?o.duration-Math.max.apply(Math,e.map((function(e){return n(e)+e.duration-e.endDelay}))):t.endDelay,o}var Y=0,X=[],J=function(){var e;function t(r){for(var n=X.length,o=0;o<n;){var i=X[o];i.paused?(X.splice(o,1),n--):(i.tick(r),o++)}e=o>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){ee.suspendWhenDocumentHidden&&(Q()?e=cancelAnimationFrame(e):(X.forEach((function(e){return e._onDocumentVisibility()})),J()))})),function(){e||Q()&&ee.suspendWhenDocumentHidden||!(X.length>0)||(e=requestAnimationFrame(t))}}();function Q(){return!!document&&document.hidden}function ee(e){void 0===e&&(e={});var t,r=0,i=0,s=0,l=0,c=null;function d(e){var t=window.Promise&&new Promise((function(e){return c=e}));return e.finished=t,t}var u=function(e){var t=C(n,e),r=C(o,e),i=function(e,t){var r=[],n=t.keyframes;for(var o in n&&(t=A(function(e){for(var t=w(x(e.map((function(e){return Object.keys(e)}))),(function(e){return h.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),r={},n=function(n){var o=t[n];r[o]=e.map((function(e){var t={};for(var r in e)h.key(r)?r==o&&(t.value=e[r]):t[r]=e[r];return t}))},o=0;o<t.length;o++)n(o);return r}(n),t)),t)h.key(o)&&r.push({name:o,tweens:q(t[o],e)});return r}(r,e),s=U(e.targets),a=Z(s,i),l=K(a,r),c=Y;return Y++,A(t,{id:c,children:[],animatables:s,animations:a,duration:l.duration,delay:l.delay,endDelay:l.endDelay})}(e);function p(){var e=u.direction;"alternate"!==e&&(u.direction="normal"!==e?"normal":"reverse"),u.reversed=!u.reversed,t.forEach((function(e){return e.reversed=u.reversed}))}function f(e){return u.reversed?u.duration-e:e}function m(){r=0,i=f(u.currentTime)*(1/ee.speed)}function g(e,t){t&&t.seek(e-t.timelineOffset)}function v(e){for(var t=0,r=u.animations,n=r.length;t<n;){var o=r[t],i=o.animatable,s=o.tweens,l=s.length-1,c=s[l];l&&(c=w(s,(function(t){return e<t.end}))[0]||c);for(var h=a(e-c.start-c.delay,0,c.duration)/c.duration,d=isNaN(h)?1:c.easing(h),p=c.to.strings,f=c.round,m=[],g=c.to.numbers.length,v=void 0,y=0;y<g;y++){var b=void 0,x=c.to.numbers[y],E=c.from.numbers[y]||0;b=c.isPath?H(c.value,d*x,c.isPathTargetInsideSVG):E+d*(x-E),f&&(c.isColor&&y>2||(b=Math.round(b*f)/f)),m.push(b)}var S=p.length;if(S){v=p[0];for(var _=0;_<S;_++){p[_];var C=p[_+1],A=m[_];isNaN(A)||(v+=C?A+C:A+" ")}}else v=m[0];W[o.type](i.target,o.property,v,i.transforms),o.currentValue=v,t++}}function y(e){u[e]&&!u.passThrough&&u[e](u)}function b(e){var n=u.duration,o=u.delay,h=n-u.endDelay,m=f(e);u.progress=a(m/n*100,0,100),u.reversePlayback=m<u.currentTime,t&&function(e){if(u.reversePlayback)for(var r=l;r--;)g(e,t[r]);else for(var n=0;n<l;n++)g(e,t[n])}(m),!u.began&&u.currentTime>0&&(u.began=!0,y("begin")),!u.loopBegan&&u.currentTime>0&&(u.loopBegan=!0,y("loopBegin")),m<=o&&0!==u.currentTime&&v(0),(m>=h&&u.currentTime!==n||!n)&&v(n),m>o&&m<h?(u.changeBegan||(u.changeBegan=!0,u.changeCompleted=!1,y("changeBegin")),y("change"),v(m)):u.changeBegan&&(u.changeCompleted=!0,u.changeBegan=!1,y("changeComplete")),u.currentTime=a(m,0,n),u.began&&y("update"),e>=n&&(i=0,u.remaining&&!0!==u.remaining&&u.remaining--,u.remaining?(r=s,y("loopComplete"),u.loopBegan=!1,"alternate"===u.direction&&p()):(u.paused=!0,u.completed||(u.completed=!0,y("loopComplete"),y("complete"),!u.passThrough&&"Promise"in window&&(c(),d(u)))))}return d(u),u.reset=function(){var e=u.direction;u.passThrough=!1,u.currentTime=0,u.progress=0,u.paused=!0,u.began=!1,u.loopBegan=!1,u.changeBegan=!1,u.completed=!1,u.changeCompleted=!1,u.reversePlayback=!1,u.reversed="reverse"===e,u.remaining=u.loop,t=u.children;for(var r=l=t.length;r--;)u.children[r].reset();(u.reversed&&!0!==u.loop||"alternate"===e&&1===u.loop)&&u.remaining++,v(u.reversed?u.duration:0)},u._onDocumentVisibility=m,u.set=function(e,t){return $(e,t),u},u.tick=function(e){s=e,r||(r=s),b((s+(i-r))*ee.speed)},u.seek=function(e){b(f(e))},u.pause=function(){u.paused=!0,m()},u.play=function(){u.paused&&(u.completed&&u.reset(),u.paused=!1,X.push(u),m(),J())},u.reverse=function(){p(),u.completed=!u.reversed,m()},u.restart=function(){u.reset(),u.play()},u.remove=function(e){re(G(e),u)},u.reset(),u.autoplay&&u.play(),u}function te(e,t){for(var r=t.length;r--;)S(e,t[r].animatable.target)&&t.splice(r,1)}function re(e,t){var r=t.animations,n=t.children;te(e,r);for(var o=n.length;o--;){var i=n[o],s=i.animations;te(e,s),s.length||i.children.length||n.splice(o,1)}r.length||n.length||t.pause()}ee.version="3.2.1",ee.speed=1,ee.suspendWhenDocumentHidden=!0,ee.running=X,ee.remove=function(e){for(var t=G(e),r=X.length;r--;)re(t,X[r])},ee.get=R,ee.set=$,ee.convertPx=M,ee.path=function(e,t){var r=h.str(e)?b(e)[0]:e,n=t||100;return function(e){return{property:e,el:r,svg:z(r),totalLength:V(r)*(n/100)}}},ee.setDashoffset=function(e){var t=V(e);return e.setAttribute("stroke-dasharray",t),t},ee.stagger=function(e,t){void 0===t&&(t={});var r=t.direction||"normal",n=t.easing?y(t.easing):null,o=t.grid,i=t.axis,s=t.from||0,a="first"===s,l="center"===s,c="last"===s,d=h.arr(e),u=d?parseFloat(e[0]):parseFloat(e),p=d?parseFloat(e[1]):0,f=k(d?e[1]:e)||0,m=t.start||0+(d?u:0),g=[],v=0;return function(e,t,h){if(a&&(s=0),l&&(s=(h-1)/2),c&&(s=h-1),!g.length){for(var y=0;y<h;y++){if(o){var b=l?(o[0]-1)/2:s%o[0],w=l?(o[1]-1)/2:Math.floor(s/o[0]),x=b-y%o[0],E=w-Math.floor(y/o[0]),S=Math.sqrt(x*x+E*E);"x"===i&&(S=-x),"y"===i&&(S=-E),g.push(S)}else g.push(Math.abs(s-y));v=Math.max.apply(Math,g)}n&&(g=g.map((function(e){return n(e/v)*v}))),"reverse"===r&&(g=g.map((function(e){return i?e<0?-1*e:-e:Math.abs(v-e)})))}return m+(d?(p-u)/v:u)*(Math.round(100*g[t])/100)+f}},ee.timeline=function(e){void 0===e&&(e={});var t=ee(e);return t.duration=0,t.add=function(r,n){var i=X.indexOf(t),s=t.children;function a(e){e.passThrough=!0}i>-1&&X.splice(i,1);for(var l=0;l<s.length;l++)a(s[l]);var c=A(r,C(o,e));c.targets=c.targets||e.targets;var d=t.duration;c.autoplay=!1,c.direction=t.direction,c.timelineOffset=h.und(n)?d:N(n,d),a(t),t.seek(c.timelineOffset);var u=ee(c);a(u),s.push(u);var p=K(s,e);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},ee.easing=y,ee.penner=v,ee.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const ne=ee},9669:(e,t,r)=>{e.exports=r(1609)},5448:(e,t,r)=>{"use strict";var n=r(4867),o=r(6026),i=r(4372),s=r(5327),a=r(4097),l=r(4109),c=r(7985),h=r(7874),d=r(2648),u=r(644),p=r(205);e.exports=function(e){return new Promise((function(t,r){var f,m=e.data,g=e.headers,v=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}n.isFormData(m)&&n.isStandardBrowserEnv()&&delete g["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+x)}var E=a(e.baseURL,e.url);function S(){if(b){var n="getAllResponseHeaders"in b?l(b.getAllResponseHeaders()):null,i={data:v&&"text"!==v&&"json"!==v?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:n,config:e,request:b};o((function(e){t(e),y()}),(function(e){r(e),y()}),i),b=null}}if(b.open(e.method.toUpperCase(),s(E,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(S)},b.onabort=function(){b&&(r(new d("Request aborted",d.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new d("Network Error",d.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||h;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new d(t,n.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,b)),b=null},n.isStandardBrowserEnv()){var _=(e.withCredentials||c(E))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;_&&(g[e.xsrfHeaderName]=_)}"setRequestHeader"in b&&n.forEach(g,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete g[t]:b.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),v&&"json"!==v&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){b&&(r(!e||e&&e.type?new u:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),m||(m=null);var C=p(E);C&&-1===["http","https","file"].indexOf(C)?r(new d("Unsupported protocol "+C+":",d.ERR_BAD_REQUEST,e)):b.send(m)}))}},1609:(e,t,r)=>{"use strict";var n=r(4867),o=r(1849),i=r(321),s=r(7185),a=function e(t){var r=new i(t),a=o(i.prototype.request,r);return n.extend(a,i.prototype,r),n.extend(a,r),a.create=function(r){return e(s(t,r))},a}(r(5546));a.Axios=i,a.CanceledError=r(644),a.CancelToken=r(4972),a.isCancel=r(6502),a.VERSION=r(7288).version,a.toFormData=r(7675),a.AxiosError=r(2648),a.Cancel=a.CanceledError,a.all=function(e){return Promise.all(e)},a.spread=r(8713),a.isAxiosError=r(6268),e.exports=a,e.exports.default=a},4972:(e,t,r)=>{"use strict";var n=r(644);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},644:(e,t,r)=>{"use strict";var n=r(2648);function o(e){n.call(this,null==e?"canceled":e,n.ERR_CANCELED),this.name="CanceledError"}r(4867).inherits(o,n,{__CANCEL__:!0}),e.exports=o},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,r)=>{"use strict";var n=r(4867),o=r(5327),i=r(782),s=r(3572),a=r(7185),l=r(4097),c=r(4875),h=c.validators;function d(e){this.defaults=e,this.interceptors={request:new i,response:new i}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:h.transitional(h.boolean),forcedJSONParsing:h.transitional(h.boolean),clarifyTimeoutError:h.transitional(h.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var i,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!o){var d=[s,void 0];for(Array.prototype.unshift.apply(d,n),d=d.concat(l),i=Promise.resolve(t);d.length;)i=i.then(d.shift(),d.shift());return i}for(var u=t;n.length;){var p=n.shift(),f=n.shift();try{u=p(u)}catch(e){f(e);break}}try{i=s(u)}catch(e){return Promise.reject(e)}for(;l.length;)i=i.then(l.shift(),l.shift());return i},d.prototype.getUri=function(e){e=a(this.defaults,e);var t=l(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(a(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},2648:(e,t,r)=>{"use strict";var n=r(4867);function o(e,t,r,n,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}n.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=o.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(o,s),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=function(e,t,r,s,a,l){var c=Object.create(i);return n.toFlatObject(e,c,(function(e){return e!==Error.prototype})),o.call(c,e.message,t,r,s,a),c.name=e.name,l&&Object.assign(c,l),c},e.exports=o},782:(e,t,r)=>{"use strict";var n=r(4867);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},4097:(e,t,r)=>{"use strict";var n=r(1793),o=r(7303);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},3572:(e,t,r)=>{"use strict";var n=r(4867),o=r(8527),i=r(6502),s=r(5546),a=r(644);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return l(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(l(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7185:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function i(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(e[r],t[r])}function s(e){if(!n.isUndefined(t[e]))return o(void 0,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(void 0,t[r])}function l(r){return r in t?o(e[r],t[r]):r in e?o(void 0,e[r]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,o=t(e);n.isUndefined(o)&&t!==l||(r[e]=o)})),r}},6026:(e,t,r)=>{"use strict";var n=r(2648);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}},8527:(e,t,r)=>{"use strict";var n=r(4867),o=r(5546);e.exports=function(e,t,r){var i=this||o;return n.forEach(r,(function(r){e=r.call(i,e,t)})),e}},5546:(e,t,r)=>{"use strict";var n=r(4867),o=r(6016),i=r(2648),s=r(7874),a=r(7675),l={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var h,d={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(h=r(5448)),h),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e))return e;if(n.isArrayBufferView(e))return e.buffer;if(n.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,i=n.isObject(e),s=t&&t["Content-Type"];if((r=n.isFileList(e))||i&&"multipart/form-data"===s){var l=this.env&&this.env.FormData;return a(r?{"files[]":e}:e,l&&new l)}return i||"application/json"===s?(c(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,s=!r&&"json"===this.responseType;if(s||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw i.from(e,i.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(1623)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){d.headers[e]=n.merge(l)})),e.exports=d},7874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:e=>{e.exports={version:"0.27.2"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},5327:(e,t,r)=>{"use strict";var n=r(4867);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,r)=>{"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,r)=>{"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},6016:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},1623:e=>{e.exports=null},4109:(e,t,r)=>{"use strict";var n=r(4867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,s={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},205:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7675:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t){t=t||new FormData;var r=[];function o(e){return null===e?"":n.isDate(e)?e.toISOString():n.isArrayBuffer(e)||n.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(i,s){if(n.isPlainObject(i)||n.isArray(i)){if(-1!==r.indexOf(i))throw Error("Circular reference detected in "+s);r.push(i),n.forEach(i,(function(r,i){if(!n.isUndefined(r)){var a,l=s?s+"."+i:i;if(r&&!s&&"object"==typeof r)if(n.endsWith(i,"{}"))r=JSON.stringify(r);else if(n.endsWith(i,"[]")&&(a=n.toArray(r)))return void a.forEach((function(e){!n.isUndefined(e)&&t.append(l,o(e))}));e(r,l)}})),r.pop()}else t.append(s,o(i))}(e),t}},4875:(e,t,r)=>{"use strict";var n=r(7288).version,o=r(2648),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var s={};i.transitional=function(e,t,r){function i(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,a){if(!1===e)throw new o(i(n," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!s[n]&&(s[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),i=n.length;i-- >0;){var s=n[i],a=t[s];if(a){var l=e[s],c=void 0===l||a(l,s,e);if(!0!==c)throw new o("option "+s+" must be "+c,o.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new o("Unknown option "+s,o.ERR_BAD_OPTION)}},validators:i}},4867:(e,t,r)=>{"use strict";var n,o=r(1849),i=Object.prototype.toString,s=(n=Object.create(null),function(e){var t=i.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function l(e){return Array.isArray(e)}function c(e){return void 0===e}var h=a("ArrayBuffer");function d(e){return null!==e&&"object"==typeof e}function u(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=a("Date"),f=a("File"),m=a("Blob"),g=a("FileList");function v(e){return"[object Function]"===i.call(e)}var y=a("URLSearchParams");function b(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),l(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var w,x=(w="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return w&&e instanceof w});e.exports={isArray:l,isArrayBuffer:h,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||i.call(e)===t||v(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:d,isPlainObject:u,isUndefined:c,isDate:p,isFile:f,isBlob:m,isFunction:v,isStream:function(e){return d(e)&&v(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:b,merge:function e(){var t={};function r(r,n){u(t[n])&&u(r)?t[n]=e(t[n],r):u(r)?t[n]=e({},r):l(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)b(arguments[n],r);return t},extend:function(e,t,r){return b(t,(function(t,n){e[n]=r&&"function"==typeof t?o(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r){var n,o,i,s={};t=t||{};do{for(o=(n=Object.getOwnPropertyNames(e)).length;o-- >0;)s[i=n[o]]||(t[i]=e[i],s[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:a,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:x,isFileList:g}},2882:e=>{"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},n=0;n<t.length;n++){var o=t.charAt(n);if(void 0!==r[o])throw new TypeError(o+" is ambiguous");r[o]=n}function i(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function s(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=i(t)^n>>5}for(t=i(t),r=0;r<e.length;++r){var o=e.charCodeAt(r);t=i(t)^31&o}return t}function a(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),o=e.toUpperCase();if(e!==n&&e!==o)return"Mixed-case string "+e;var a=(e=n).lastIndexOf("1");if(-1===a)return"No separator character for "+e;if(0===a)return"Missing prefix for "+e;var l=e.slice(0,a),c=e.slice(a+1);if(c.length<6)return"Data too short";var h=s(l);if("string"==typeof h)return h;for(var d=[],u=0;u<c.length;++u){var p=c.charAt(u),f=r[p];if(void 0===f)return"Unknown character "+p;h=i(h)^f,u+6>=c.length||d.push(f)}return 1!==h?"Invalid checksum for "+e:{prefix:l,words:d}}function l(e,t,r,n){for(var o=0,i=0,s=(1<<r)-1,a=[],l=0;l<e.length;++l)for(o=o<<t|e[l],i+=t;i>=r;)i-=r,a.push(o>>i&s);if(n)i>0&&a.push(o<<r-i&s);else{if(i>=t)return"Excess padding";if(o<<r-i&s)return"Non-zero padding"}return a}e.exports={decodeUnsafe:function(){var e=a.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=a.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,r,n){if(n=n||90,e.length+7+r.length>n)throw new TypeError("Exceeds length limit");var o=s(e=e.toLowerCase());if("string"==typeof o)throw new Error(o);for(var a=e+"1",l=0;l<r.length;++l){var c=r[l];if(c>>5!=0)throw new Error("Non 5-bit word");o=i(o)^c,a+=t.charAt(c)}for(l=0;l<6;++l)o=i(o);for(o^=1,l=0;l<6;++l)a+=t.charAt(o>>5*(5-l)&31);return a},toWordsUnsafe:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},3550:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function o(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6601).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function l(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,o){for(var i=0,s=0,a=Math.min(e.length,r),l=t;l<a;l++){var c=e.charCodeAt(l)-48;i*=o,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<o,"Invalid character"),i+=s}return i}function h(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var o=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(o++,this.negative=1),o<e.length&&(16===t?this._parseHex(e,o,r):(this._parseBase(e,t,o),"le"===r&&this._initArray(this.toArray(),t,r)))},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var i,s,a=0;if("be"===r)for(o=e.length-1,i=0;o>=0;o-=3)s=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);else if("le"===r)for(o=0,i=0;o<e.length;o+=3)s=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,i=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)o=l(e,t,n)<<i,this.words[s]|=67108863&o,i>=18?(i-=18,s+=1,this.words[s]|=o>>>26):i+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)o=l(e,t,n)<<i,this.words[s]|=67108863&o,i>=18?(i-=18,s+=1,this.words[s]|=o>>>26):i+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,o=1;o<=67108863;o*=t)n++;n--,o=o/t|0;for(var i=e.length-r,s=i%n,a=Math.min(i,i-s)+r,l=0,h=r;h<a;h+=n)l=c(e,h,h+n,t),this.imuln(o),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==s){var d=1;for(l=c(e,h,e.length,t),h=0;h<s;h++)d*=t;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){h(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){i.prototype.inspect=d}else i.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var o=0|e.words[0],i=0|t.words[0],s=o*i,a=67108863&s,l=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var h=l>>>26,d=67108863&l,u=Math.min(c,t.length-1),p=Math.max(0,c-e.length+1);p<=u;p++){var f=c-p|0;h+=(s=(o=0|e.words[f])*(i=0|t.words[p])+d)/67108864|0,d=67108863&s}r.words[c]=0|d,l=0|h}return 0!==l?r.words[c]=0|l:r.length--,r._strip()}i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var o=0,i=0,s=0;s<this.length;s++){var a=this.words[s],l=(16777215&(a<<o|i)).toString(16);i=a>>>24-o&16777215,(o+=2)>=26&&(o-=26,s--),r=0!==i||s!==this.length-1?u[6-l.length]+l+r:l+r}for(0!==i&&(r=i.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=p[e],h=f[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modrn(h).toString(e);r=(d=d.idivn(h)).isZero()?m+r:u[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,r){this._strip();var o=this.byteLength(),i=r||Math.max(1,o);n(o<=i,"byte array longer than desired length"),n(i>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,i);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,o),s},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,o=0,i=0;o<this.length;o++){var s=this.words[o]<<i|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===i?(r<e.length&&(e[r++]=s>>24&255),n=0,i=0):(n=s>>>24,i+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,o=0,i=0;o<this.length;o++){var s=this.words[o]<<i|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===i?(r>=0&&(e[r--]=s>>24&255),n=0,i=0):(n=s>>>24,i+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var o=0;o<t;o++)this.words[o]=67108863&~this.words[o];return r>0&&(this.words[o]=~this.words[o]&67108863>>26-r),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,o=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<o:this.words[r]&~(1<<o),this._strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var o=0,i=0;i<n.length;i++)t=(0|r.words[i])+(0|n.words[i])+o,this.words[i]=67108863&t,o=t>>>26;for(;0!==o&&i<r.length;i++)t=(0|r.words[i])+o,this.words[i]=67108863&t,o=t>>>26;if(this.length=r.length,0!==o)this.words[this.length]=o,this.length++;else if(r!==this)for(;i<r.length;i++)this.words[i]=r.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,o=this.cmp(e);if(0===o)return this.negative=0,this.length=1,this.words[0]=0,this;o>0?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)i=(t=(0|r.words[s])-(0|n.words[s])+i)>>26,this.words[s]=67108863&t;for(;0!==i&&s<r.length;s++)i=(t=(0|r.words[s])+i)>>26,this.words[s]=67108863&t;if(0===i&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,o,i,s=e.words,a=t.words,l=r.words,c=0,h=0|s[0],d=8191&h,u=h>>>13,p=0|s[1],f=8191&p,m=p>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,x=b>>>13,E=0|s[4],S=8191&E,_=E>>>13,C=0|s[5],A=8191&C,k=C>>>13,T=0|s[6],P=8191&T,M=T>>>13,D=0|s[7],O=8191&D,I=D>>>13,R=0|s[8],N=8191&R,F=R>>>13,B=0|s[9],L=8191&B,V=B>>>13,z=0|a[0],H=8191&z,j=z>>>13,G=0|a[1],U=8191&G,q=G>>>13,W=0|a[2],$=8191&W,Z=W>>>13,K=0|a[3],Y=8191&K,X=K>>>13,J=0|a[4],Q=8191&J,ee=J>>>13,te=0|a[5],re=8191&te,ne=te>>>13,oe=0|a[6],ie=8191&oe,se=oe>>>13,ae=0|a[7],le=8191&ae,ce=ae>>>13,he=0|a[8],de=8191&he,ue=he>>>13,pe=0|a[9],fe=8191&pe,me=pe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(d,H))|0)+((8191&(o=(o=Math.imul(d,j))+Math.imul(u,H)|0))<<13)|0;c=((i=Math.imul(u,j))+(o>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(f,H),o=(o=Math.imul(f,j))+Math.imul(m,H)|0,i=Math.imul(m,j);var ve=(c+(n=n+Math.imul(d,U)|0)|0)+((8191&(o=(o=o+Math.imul(d,q)|0)+Math.imul(u,U)|0))<<13)|0;c=((i=i+Math.imul(u,q)|0)+(o>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,H),o=(o=Math.imul(v,j))+Math.imul(y,H)|0,i=Math.imul(y,j),n=n+Math.imul(f,U)|0,o=(o=o+Math.imul(f,q)|0)+Math.imul(m,U)|0,i=i+Math.imul(m,q)|0;var ye=(c+(n=n+Math.imul(d,$)|0)|0)+((8191&(o=(o=o+Math.imul(d,Z)|0)+Math.imul(u,$)|0))<<13)|0;c=((i=i+Math.imul(u,Z)|0)+(o>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(w,H),o=(o=Math.imul(w,j))+Math.imul(x,H)|0,i=Math.imul(x,j),n=n+Math.imul(v,U)|0,o=(o=o+Math.imul(v,q)|0)+Math.imul(y,U)|0,i=i+Math.imul(y,q)|0,n=n+Math.imul(f,$)|0,o=(o=o+Math.imul(f,Z)|0)+Math.imul(m,$)|0,i=i+Math.imul(m,Z)|0;var be=(c+(n=n+Math.imul(d,Y)|0)|0)+((8191&(o=(o=o+Math.imul(d,X)|0)+Math.imul(u,Y)|0))<<13)|0;c=((i=i+Math.imul(u,X)|0)+(o>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(S,H),o=(o=Math.imul(S,j))+Math.imul(_,H)|0,i=Math.imul(_,j),n=n+Math.imul(w,U)|0,o=(o=o+Math.imul(w,q)|0)+Math.imul(x,U)|0,i=i+Math.imul(x,q)|0,n=n+Math.imul(v,$)|0,o=(o=o+Math.imul(v,Z)|0)+Math.imul(y,$)|0,i=i+Math.imul(y,Z)|0,n=n+Math.imul(f,Y)|0,o=(o=o+Math.imul(f,X)|0)+Math.imul(m,Y)|0,i=i+Math.imul(m,X)|0;var we=(c+(n=n+Math.imul(d,Q)|0)|0)+((8191&(o=(o=o+Math.imul(d,ee)|0)+Math.imul(u,Q)|0))<<13)|0;c=((i=i+Math.imul(u,ee)|0)+(o>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(A,H),o=(o=Math.imul(A,j))+Math.imul(k,H)|0,i=Math.imul(k,j),n=n+Math.imul(S,U)|0,o=(o=o+Math.imul(S,q)|0)+Math.imul(_,U)|0,i=i+Math.imul(_,q)|0,n=n+Math.imul(w,$)|0,o=(o=o+Math.imul(w,Z)|0)+Math.imul(x,$)|0,i=i+Math.imul(x,Z)|0,n=n+Math.imul(v,Y)|0,o=(o=o+Math.imul(v,X)|0)+Math.imul(y,Y)|0,i=i+Math.imul(y,X)|0,n=n+Math.imul(f,Q)|0,o=(o=o+Math.imul(f,ee)|0)+Math.imul(m,Q)|0,i=i+Math.imul(m,ee)|0;var xe=(c+(n=n+Math.imul(d,re)|0)|0)+((8191&(o=(o=o+Math.imul(d,ne)|0)+Math.imul(u,re)|0))<<13)|0;c=((i=i+Math.imul(u,ne)|0)+(o>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(P,H),o=(o=Math.imul(P,j))+Math.imul(M,H)|0,i=Math.imul(M,j),n=n+Math.imul(A,U)|0,o=(o=o+Math.imul(A,q)|0)+Math.imul(k,U)|0,i=i+Math.imul(k,q)|0,n=n+Math.imul(S,$)|0,o=(o=o+Math.imul(S,Z)|0)+Math.imul(_,$)|0,i=i+Math.imul(_,Z)|0,n=n+Math.imul(w,Y)|0,o=(o=o+Math.imul(w,X)|0)+Math.imul(x,Y)|0,i=i+Math.imul(x,X)|0,n=n+Math.imul(v,Q)|0,o=(o=o+Math.imul(v,ee)|0)+Math.imul(y,Q)|0,i=i+Math.imul(y,ee)|0,n=n+Math.imul(f,re)|0,o=(o=o+Math.imul(f,ne)|0)+Math.imul(m,re)|0,i=i+Math.imul(m,ne)|0;var Ee=(c+(n=n+Math.imul(d,ie)|0)|0)+((8191&(o=(o=o+Math.imul(d,se)|0)+Math.imul(u,ie)|0))<<13)|0;c=((i=i+Math.imul(u,se)|0)+(o>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,H),o=(o=Math.imul(O,j))+Math.imul(I,H)|0,i=Math.imul(I,j),n=n+Math.imul(P,U)|0,o=(o=o+Math.imul(P,q)|0)+Math.imul(M,U)|0,i=i+Math.imul(M,q)|0,n=n+Math.imul(A,$)|0,o=(o=o+Math.imul(A,Z)|0)+Math.imul(k,$)|0,i=i+Math.imul(k,Z)|0,n=n+Math.imul(S,Y)|0,o=(o=o+Math.imul(S,X)|0)+Math.imul(_,Y)|0,i=i+Math.imul(_,X)|0,n=n+Math.imul(w,Q)|0,o=(o=o+Math.imul(w,ee)|0)+Math.imul(x,Q)|0,i=i+Math.imul(x,ee)|0,n=n+Math.imul(v,re)|0,o=(o=o+Math.imul(v,ne)|0)+Math.imul(y,re)|0,i=i+Math.imul(y,ne)|0,n=n+Math.imul(f,ie)|0,o=(o=o+Math.imul(f,se)|0)+Math.imul(m,ie)|0,i=i+Math.imul(m,se)|0;var Se=(c+(n=n+Math.imul(d,le)|0)|0)+((8191&(o=(o=o+Math.imul(d,ce)|0)+Math.imul(u,le)|0))<<13)|0;c=((i=i+Math.imul(u,ce)|0)+(o>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(N,H),o=(o=Math.imul(N,j))+Math.imul(F,H)|0,i=Math.imul(F,j),n=n+Math.imul(O,U)|0,o=(o=o+Math.imul(O,q)|0)+Math.imul(I,U)|0,i=i+Math.imul(I,q)|0,n=n+Math.imul(P,$)|0,o=(o=o+Math.imul(P,Z)|0)+Math.imul(M,$)|0,i=i+Math.imul(M,Z)|0,n=n+Math.imul(A,Y)|0,o=(o=o+Math.imul(A,X)|0)+Math.imul(k,Y)|0,i=i+Math.imul(k,X)|0,n=n+Math.imul(S,Q)|0,o=(o=o+Math.imul(S,ee)|0)+Math.imul(_,Q)|0,i=i+Math.imul(_,ee)|0,n=n+Math.imul(w,re)|0,o=(o=o+Math.imul(w,ne)|0)+Math.imul(x,re)|0,i=i+Math.imul(x,ne)|0,n=n+Math.imul(v,ie)|0,o=(o=o+Math.imul(v,se)|0)+Math.imul(y,ie)|0,i=i+Math.imul(y,se)|0,n=n+Math.imul(f,le)|0,o=(o=o+Math.imul(f,ce)|0)+Math.imul(m,le)|0,i=i+Math.imul(m,ce)|0;var _e=(c+(n=n+Math.imul(d,de)|0)|0)+((8191&(o=(o=o+Math.imul(d,ue)|0)+Math.imul(u,de)|0))<<13)|0;c=((i=i+Math.imul(u,ue)|0)+(o>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(L,H),o=(o=Math.imul(L,j))+Math.imul(V,H)|0,i=Math.imul(V,j),n=n+Math.imul(N,U)|0,o=(o=o+Math.imul(N,q)|0)+Math.imul(F,U)|0,i=i+Math.imul(F,q)|0,n=n+Math.imul(O,$)|0,o=(o=o+Math.imul(O,Z)|0)+Math.imul(I,$)|0,i=i+Math.imul(I,Z)|0,n=n+Math.imul(P,Y)|0,o=(o=o+Math.imul(P,X)|0)+Math.imul(M,Y)|0,i=i+Math.imul(M,X)|0,n=n+Math.imul(A,Q)|0,o=(o=o+Math.imul(A,ee)|0)+Math.imul(k,Q)|0,i=i+Math.imul(k,ee)|0,n=n+Math.imul(S,re)|0,o=(o=o+Math.imul(S,ne)|0)+Math.imul(_,re)|0,i=i+Math.imul(_,ne)|0,n=n+Math.imul(w,ie)|0,o=(o=o+Math.imul(w,se)|0)+Math.imul(x,ie)|0,i=i+Math.imul(x,se)|0,n=n+Math.imul(v,le)|0,o=(o=o+Math.imul(v,ce)|0)+Math.imul(y,le)|0,i=i+Math.imul(y,ce)|0,n=n+Math.imul(f,de)|0,o=(o=o+Math.imul(f,ue)|0)+Math.imul(m,de)|0,i=i+Math.imul(m,ue)|0;var Ce=(c+(n=n+Math.imul(d,fe)|0)|0)+((8191&(o=(o=o+Math.imul(d,me)|0)+Math.imul(u,fe)|0))<<13)|0;c=((i=i+Math.imul(u,me)|0)+(o>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,U),o=(o=Math.imul(L,q))+Math.imul(V,U)|0,i=Math.imul(V,q),n=n+Math.imul(N,$)|0,o=(o=o+Math.imul(N,Z)|0)+Math.imul(F,$)|0,i=i+Math.imul(F,Z)|0,n=n+Math.imul(O,Y)|0,o=(o=o+Math.imul(O,X)|0)+Math.imul(I,Y)|0,i=i+Math.imul(I,X)|0,n=n+Math.imul(P,Q)|0,o=(o=o+Math.imul(P,ee)|0)+Math.imul(M,Q)|0,i=i+Math.imul(M,ee)|0,n=n+Math.imul(A,re)|0,o=(o=o+Math.imul(A,ne)|0)+Math.imul(k,re)|0,i=i+Math.imul(k,ne)|0,n=n+Math.imul(S,ie)|0,o=(o=o+Math.imul(S,se)|0)+Math.imul(_,ie)|0,i=i+Math.imul(_,se)|0,n=n+Math.imul(w,le)|0,o=(o=o+Math.imul(w,ce)|0)+Math.imul(x,le)|0,i=i+Math.imul(x,ce)|0,n=n+Math.imul(v,de)|0,o=(o=o+Math.imul(v,ue)|0)+Math.imul(y,de)|0,i=i+Math.imul(y,ue)|0;var Ae=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(o=(o=o+Math.imul(f,me)|0)+Math.imul(m,fe)|0))<<13)|0;c=((i=i+Math.imul(m,me)|0)+(o>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(L,$),o=(o=Math.imul(L,Z))+Math.imul(V,$)|0,i=Math.imul(V,Z),n=n+Math.imul(N,Y)|0,o=(o=o+Math.imul(N,X)|0)+Math.imul(F,Y)|0,i=i+Math.imul(F,X)|0,n=n+Math.imul(O,Q)|0,o=(o=o+Math.imul(O,ee)|0)+Math.imul(I,Q)|0,i=i+Math.imul(I,ee)|0,n=n+Math.imul(P,re)|0,o=(o=o+Math.imul(P,ne)|0)+Math.imul(M,re)|0,i=i+Math.imul(M,ne)|0,n=n+Math.imul(A,ie)|0,o=(o=o+Math.imul(A,se)|0)+Math.imul(k,ie)|0,i=i+Math.imul(k,se)|0,n=n+Math.imul(S,le)|0,o=(o=o+Math.imul(S,ce)|0)+Math.imul(_,le)|0,i=i+Math.imul(_,ce)|0,n=n+Math.imul(w,de)|0,o=(o=o+Math.imul(w,ue)|0)+Math.imul(x,de)|0,i=i+Math.imul(x,ue)|0;var ke=(c+(n=n+Math.imul(v,fe)|0)|0)+((8191&(o=(o=o+Math.imul(v,me)|0)+Math.imul(y,fe)|0))<<13)|0;c=((i=i+Math.imul(y,me)|0)+(o>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,Y),o=(o=Math.imul(L,X))+Math.imul(V,Y)|0,i=Math.imul(V,X),n=n+Math.imul(N,Q)|0,o=(o=o+Math.imul(N,ee)|0)+Math.imul(F,Q)|0,i=i+Math.imul(F,ee)|0,n=n+Math.imul(O,re)|0,o=(o=o+Math.imul(O,ne)|0)+Math.imul(I,re)|0,i=i+Math.imul(I,ne)|0,n=n+Math.imul(P,ie)|0,o=(o=o+Math.imul(P,se)|0)+Math.imul(M,ie)|0,i=i+Math.imul(M,se)|0,n=n+Math.imul(A,le)|0,o=(o=o+Math.imul(A,ce)|0)+Math.imul(k,le)|0,i=i+Math.imul(k,ce)|0,n=n+Math.imul(S,de)|0,o=(o=o+Math.imul(S,ue)|0)+Math.imul(_,de)|0,i=i+Math.imul(_,ue)|0;var Te=(c+(n=n+Math.imul(w,fe)|0)|0)+((8191&(o=(o=o+Math.imul(w,me)|0)+Math.imul(x,fe)|0))<<13)|0;c=((i=i+Math.imul(x,me)|0)+(o>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,Q),o=(o=Math.imul(L,ee))+Math.imul(V,Q)|0,i=Math.imul(V,ee),n=n+Math.imul(N,re)|0,o=(o=o+Math.imul(N,ne)|0)+Math.imul(F,re)|0,i=i+Math.imul(F,ne)|0,n=n+Math.imul(O,ie)|0,o=(o=o+Math.imul(O,se)|0)+Math.imul(I,ie)|0,i=i+Math.imul(I,se)|0,n=n+Math.imul(P,le)|0,o=(o=o+Math.imul(P,ce)|0)+Math.imul(M,le)|0,i=i+Math.imul(M,ce)|0,n=n+Math.imul(A,de)|0,o=(o=o+Math.imul(A,ue)|0)+Math.imul(k,de)|0,i=i+Math.imul(k,ue)|0;var Pe=(c+(n=n+Math.imul(S,fe)|0)|0)+((8191&(o=(o=o+Math.imul(S,me)|0)+Math.imul(_,fe)|0))<<13)|0;c=((i=i+Math.imul(_,me)|0)+(o>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,re),o=(o=Math.imul(L,ne))+Math.imul(V,re)|0,i=Math.imul(V,ne),n=n+Math.imul(N,ie)|0,o=(o=o+Math.imul(N,se)|0)+Math.imul(F,ie)|0,i=i+Math.imul(F,se)|0,n=n+Math.imul(O,le)|0,o=(o=o+Math.imul(O,ce)|0)+Math.imul(I,le)|0,i=i+Math.imul(I,ce)|0,n=n+Math.imul(P,de)|0,o=(o=o+Math.imul(P,ue)|0)+Math.imul(M,de)|0,i=i+Math.imul(M,ue)|0;var Me=(c+(n=n+Math.imul(A,fe)|0)|0)+((8191&(o=(o=o+Math.imul(A,me)|0)+Math.imul(k,fe)|0))<<13)|0;c=((i=i+Math.imul(k,me)|0)+(o>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(L,ie),o=(o=Math.imul(L,se))+Math.imul(V,ie)|0,i=Math.imul(V,se),n=n+Math.imul(N,le)|0,o=(o=o+Math.imul(N,ce)|0)+Math.imul(F,le)|0,i=i+Math.imul(F,ce)|0,n=n+Math.imul(O,de)|0,o=(o=o+Math.imul(O,ue)|0)+Math.imul(I,de)|0,i=i+Math.imul(I,ue)|0;var De=(c+(n=n+Math.imul(P,fe)|0)|0)+((8191&(o=(o=o+Math.imul(P,me)|0)+Math.imul(M,fe)|0))<<13)|0;c=((i=i+Math.imul(M,me)|0)+(o>>>13)|0)+(De>>>26)|0,De&=67108863,n=Math.imul(L,le),o=(o=Math.imul(L,ce))+Math.imul(V,le)|0,i=Math.imul(V,ce),n=n+Math.imul(N,de)|0,o=(o=o+Math.imul(N,ue)|0)+Math.imul(F,de)|0,i=i+Math.imul(F,ue)|0;var Oe=(c+(n=n+Math.imul(O,fe)|0)|0)+((8191&(o=(o=o+Math.imul(O,me)|0)+Math.imul(I,fe)|0))<<13)|0;c=((i=i+Math.imul(I,me)|0)+(o>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(L,de),o=(o=Math.imul(L,ue))+Math.imul(V,de)|0,i=Math.imul(V,ue);var Ie=(c+(n=n+Math.imul(N,fe)|0)|0)+((8191&(o=(o=o+Math.imul(N,me)|0)+Math.imul(F,fe)|0))<<13)|0;c=((i=i+Math.imul(F,me)|0)+(o>>>13)|0)+(Ie>>>26)|0,Ie&=67108863;var Re=(c+(n=Math.imul(L,fe))|0)+((8191&(o=(o=Math.imul(L,me))+Math.imul(V,fe)|0))<<13)|0;return c=((i=Math.imul(V,me))+(o>>>13)|0)+(Re>>>26)|0,Re&=67108863,l[0]=ge,l[1]=ve,l[2]=ye,l[3]=be,l[4]=we,l[5]=xe,l[6]=Ee,l[7]=Se,l[8]=_e,l[9]=Ce,l[10]=Ae,l[11]=ke,l[12]=Te,l[13]=Pe,l[14]=Me,l[15]=De,l[16]=Oe,l[17]=Ie,l[18]=Re,0!==c&&(l[19]=c,r.length++),r};function v(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,o=0,i=0;i<r.length-1;i++){var s=o;o=0;for(var a=67108863&n,l=Math.min(i,t.length-1),c=Math.max(0,i-e.length+1);c<=l;c++){var h=i-c,d=(0|e.words[h])*(0|t.words[c]),u=67108863&d;a=67108863&(u=u+a|0),o+=(s=(s=s+(d/67108864|0)|0)+(u>>>26)|0)>>>26,s&=67108863}r.words[i]=a,n=s,s=o}return 0!==n?r.words[i]=n:r.length--,r._strip()}function y(e,t,r){return v(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(g=m),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?m(this,e,t):r<1024?v(this,e,t):y(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,o=0;o<t;o++)n|=(1&e)<<t-o-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,o,i){for(var s=0;s<i;s++)n[s]=t[e[s]],o[s]=r[e[s]]},b.prototype.transform=function(e,t,r,n,o,i){this.permute(i,e,t,r,n,o);for(var s=1;s<o;s<<=1)for(var a=s<<1,l=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),h=0;h<o;h+=a)for(var d=l,u=c,p=0;p<s;p++){var f=r[h+p],m=n[h+p],g=r[h+p+s],v=n[h+p+s],y=d*g-u*v;v=d*v+u*g,g=y,r[h+p]=f+g,n[h+p]=m+v,r[h+p+s]=f-g,n[h+p+s]=m-v,p!==a&&(y=l*d-c*u,u=l*u+c*d,d=y)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,o=0;for(r=r/2|0;r;r>>>=1)o++;return 1<<o+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var o=e[n];e[n]=e[r-n-1],e[r-n-1]=o,o=t[n],t[n]=-t[r-n-1],t[r-n-1]=-o}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var o=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&o,r=o<67108864?0:o/67108864|0}return e},b.prototype.convert13b=function(e,t,r,o){for(var i=0,s=0;s<t;s++)i+=0|e[s],r[2*s]=8191&i,i>>>=13,r[2*s+1]=8191&i,i>>>=13;for(s=2*t;s<o;++s)r[s]=0;n(0===i),n(0==(-8192&i))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),o=this.makeRBT(n),i=this.stub(n),s=new Array(n),a=new Array(n),l=new Array(n),c=new Array(n),h=new Array(n),d=new Array(n),u=r.words;u.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,i,a,l,n,o),this.transform(c,i,h,d,n,o);for(var p=0;p<n;p++){var f=a[p]*h[p]-l[p]*d[p];l[p]=a[p]*d[p]+l[p]*h[p],a[p]=f}return this.conjugate(a,l,n),this.transform(a,l,u,i,n,o),this.conjugate(u,i,n),this.normalize13b(u,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),y(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,o=0;o<this.length;o++){var i=(0|this.words[o])*e,s=(67108863&i)+(67108863&r);r>>=26,r+=i/67108864|0,r+=s>>>26,this.words[o]=67108863&s}return 0!==r&&(this.words[o]=r,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,o=r%26;t[r]=e.words[n]>>>o&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,o=(e-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&i,l=(0|this.words[t])-a<<r;this.words[t]=l|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==o){for(t=this.length-1;t>=0;t--)this.words[t+o]=this.words[t];for(t=0;t<o;t++)this.words[t]=0;this.length+=o}return this._strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var o;n("number"==typeof e&&e>=0),o=t?(t-t%26)/26:0;var i=e%26,s=Math.min((e-i)/26,this.length),a=67108863^67108863>>>i<<i,l=r;if(o-=s,o=Math.max(0,o),l){for(var c=0;c<s;c++)l.words[c]=this.words[c];l.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=o);c--){var d=0|this.words[c];this.words[c]=h<<26-i|d>>>i,h=d&a}return l&&0!==h&&(l.words[l.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,o=1<<t;return!(this.length<=r||!(this.words[r]&o))},i.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var o=67108863^67108863>>>t<<t;this.words[this.length-1]&=o}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var o,i,s=e.length+r;this._expand(s);var a=0;for(o=0;o<e.length;o++){i=(0|this.words[o+r])+a;var l=(0|e.words[o])*t;a=((i-=67108863&l)>>26)-(l/67108864|0),this.words[o+r]=67108863&i}for(;o<this.length-r;o++)a=(i=(0|this.words[o+r])+a)>>26,this.words[o+r]=67108863&i;if(0===a)return this._strip();for(n(-1===a),a=0,o=0;o<this.length;o++)a=(i=-(0|this.words[o])+a)>>26,this.words[o]=67108863&i;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,l=n.length-o.length;if("mod"!==t){(a=new i(null)).length=l+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var h=n.clone()._ishlnsubmul(o,1,l);0===h.negative&&(n=h,a&&(a.words[l]=1));for(var d=l-1;d>=0;d--){var u=67108864*(0|n.words[o.length+d])+(0|n.words[o.length+d-1]);for(u=Math.min(u/s|0,67108863),n._ishlnsubmul(o,u,d);0!==n.negative;)u--,n.negative=0,n._ishlnsubmul(o,1,d),n.isZero()||(n.negative^=1);a&&(a.words[d]=u)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var o,s,a},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),o=e.andln(1),i=r.cmp(n);return i<0||1===o&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,o=0,i=this.length-1;i>=0;i--)o=(r*o+(0|this.words[i]))%e;return t?-o:o},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,o=this.length-1;o>=0;o--){var i=(0|this.words[o])+67108864*r;this.words[o]=i/e|0,r=i%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),l=new i(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),d=t.clone();!t.isZero();){for(var u=0,p=1;0==(t.words[0]&p)&&u<26;++u,p<<=1);if(u>0)for(t.iushrn(u);u-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(h),s.isub(d)),o.iushrn(1),s.iushrn(1);for(var f=0,m=1;0==(r.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(r.iushrn(f);f-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(h),l.isub(d)),a.iushrn(1),l.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a),s.isub(l)):(r.isub(t),a.isub(o),l.isub(s))}return{a,b:l,gcd:r.iushln(c)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,s=new i(1),a=new i(0),l=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,h=1;0==(t.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);for(var d=0,u=1;0==(r.words[0]&u)&&d<26;++d,u<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(o=0===t.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var o=t.cmp(r);if(o<0){var i=t;t=r,r=i}else if(0===o||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,o=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=o,this;for(var i=o,s=r;0!==i&&s<this.length;s++){var a=0|this.words[s];i=(a+=i)>>>26,a&=67108863,this.words[s]=a}return 0!==i&&(this.words[s]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var o=0|this.words[0];t=o===e?0:o<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],o=0|e.words[r];if(n!==o){n<o?t=-1:n>o&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new A(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function x(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},x.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},x.prototype.split=function(e,t){e.iushrn(this.n,0,t)},x.prototype.imulK=function(e){return e.imul(this.k)},o(E,x),E.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),o=0;o<n;o++)t.words[o]=e.words[o];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=i&r,o=10;o<e.length;o++){var s=0|e.words[o];e.words[o-10]=(s&r)<<4|i>>>22,i=s}i>>>=22,e.words[o-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},E.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},o(S,x),o(_,x),o(C,x),C.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,o=67108863&n;n>>>=26,e.words[r]=o,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new E;else if("p224"===e)t=new S;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new C}return w[e]=t,t},A.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(h(e,e.umod(this.m)._forceRed(this)),e)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);n(!o.isZero());var a=new i(1).toRed(this),l=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);0!==this.pow(h,c).cmp(l);)h.redIAdd(l);for(var d=this.pow(h,o),u=this.pow(e,o.addn(1).iushrn(1)),p=this.pow(e,o),f=s;0!==p.cmp(a);){for(var m=p,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<f);var v=this.pow(d,new i(1).iushln(f-g-1));u=u.redMul(v),d=v.redSqr(),p=p.redMul(d),f=g}return u},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],s=0,a=0,l=t.bitLength()%26;for(0===l&&(l=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],h=l-1;h>=0;h--){var d=c>>h&1;o!==r[0]&&(o=this.sqr(o)),0!==d||0!==s?(s<<=1,s|=d,(4==++a||0===n&&0===h)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}l=26}return o},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new k(e)},o(k,A),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),i=o;return o.cmp(this.m)>=0?i=o.isub(this.m):o.cmpn(0)<0&&(i=o.iadd(this.m)),i._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},3631:(e,t,r)=>{"use strict";r.d(t,{qY:()=>p});var n=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},o=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},i=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},s=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},a=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},l=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},c=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,h=3,d=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],u=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(e){return e?f(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new l:"undefined"!=typeof navigator?f(navigator.userAgent):"undefined"!=typeof process&&process.version?new i(process.version.slice(1)):null}function f(e){var t=function(e){return""!==e&&d.reduce((function(t,r){var n=r[0],o=r[1];if(t)return t;var i=o.exec(e);return!!i&&[n,i]}),!1)}(e);if(!t)return null;var r=t[0],i=t[1];if("searchbot"===r)return new a;var l=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);l?l.length<h&&(l=n(n([],l,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(h-l.length),!0)):l=[];var p=l.join("."),f=function(e){for(var t=0,r=u.length;t<r;t++){var n=u[t],o=n[0];if(n[1].exec(e))return o}return null}(e),m=c.exec(e);return m&&m[1]?new s(r,p,f,m[1]):new o(r,p,f)}},8174:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BaseContract:()=>On,BigNumber:()=>$,Contract:()=>In,ContractFactory:()=>Rn,FixedNumber:()=>qn,Signer:()=>lr,VoidSigner:()=>cr,Wallet:()=>wi,Wordlist:()=>So,constants:()=>o,errors:()=>m,getDefaultProvider:()=>ul,logger:()=>Gl,providers:()=>i,utils:()=>a,version:()=>jl,wordlists:()=>ko});var n={};r.r(n),r.d(n,{decode:()=>Ae,encode:()=>Se});var o={};r.r(o),r.d(o,{AddressZero:()=>Si,EtherSymbol:()=>Ci,HashZero:()=>_i,MaxInt256:()=>mt,MaxUint256:()=>pt,MinInt256:()=>ft,NegativeOne:()=>lt,One:()=>ht,Two:()=>dt,WeiPerEther:()=>ut,Zero:()=>ct});var i={};r.r(i),r.d(i,{AlchemyProvider:()=>wa,AlchemyWebSocketProvider:()=>ba,AnkrProvider:()=>_a,BaseProvider:()=>Ks,CloudflareProvider:()=>Aa,EtherscanProvider:()=>Ra,FallbackProvider:()=>Ka,Formatter:()=>xs,InfuraProvider:()=>el,InfuraWebSocketProvider:()=>Qa,IpcProvider:()=>Ya,JsonRpcBatchProvider:()=>tl,JsonRpcProvider:()=>la,JsonRpcSigner:()=>ia,NodesmithProvider:()=>nl,PocketProvider:()=>sl,Provider:()=>nr,Resolver:()=>Ws,StaticJsonRpcProvider:()=>ma,UrlJsonRpcProvider:()=>ga,Web3Provider:()=>hl,WebSocketProvider:()=>pa,getDefaultProvider:()=>ul,getNetwork:()=>Ii,isCommunityResourcable:()=>Es,isCommunityResource:()=>Ss,showThrottleMessage:()=>Cs});var s={};r.r(s),r.d(s,{decode:()=>Ri,encode:()=>Ni});var a={};r.r(a),r.d(a,{AbiCoder:()=>qt,ConstructorFragment:()=>Rt,ErrorFragment:()=>Bt,EventFragment:()=>Mt,FormatTypes:()=>Ct,Fragment:()=>Pt,FunctionFragment:()=>Nt,HDNode:()=>Lo,Indexed:()=>Xt,Interface:()=>er,LogDescription:()=>Zt,Logger:()=>v,ParamType:()=>kt,RLP:()=>n,SigningKey:()=>Xr,SupportedAlgorithm:()=>mo,TransactionDescription:()=>Kt,TransactionTypes:()=>tn,UnicodeNormalizationForm:()=>Ve,Utf8ErrorFuncs:()=>je,Utf8ErrorReason:()=>ze,_TypedDataEncoder:()=>uo,_fetchData:()=>fs,_toEscapedUtf8String:()=>We,accessListify:()=>dn,arrayify:()=>_,base58:()=>fo,base64:()=>s,checkProperties:()=>ne,checkResultErrors:()=>ue,commify:()=>Bl,computeAddress:()=>an,computeHmac:()=>wo,computePublicKey:()=>Qr,concat:()=>C,deepCopy:()=>le,defaultAbiCoder:()=>Wt,defaultPath:()=>Bo,defineReadOnly:()=>ee,dnsEncode:()=>as,entropyToMnemonic:()=>Ho,fetchJson:()=>ms,formatBytes32String:()=>Il,formatEther:()=>zl,formatUnits:()=>Ll,getAccountPath:()=>Go,getAddress:()=>Ie,getContractAddress:()=>Fe,getCreate2Address:()=>Be,getIcapAddress:()=>Ne,getJsonWalletAddress:()=>gi,getStatic:()=>te,hashMessage:()=>Kn,hexConcat:()=>I,hexDataLength:()=>D,hexDataSlice:()=>O,hexStripZeros:()=>N,hexValue:()=>R,hexZeroPad:()=>F,hexlify:()=>M,id:()=>Ye,isAddress:()=>Re,isBytes:()=>S,isBytesLike:()=>x,isHexString:()=>T,isValidMnemonic:()=>jo,isValidName:()=>is,joinSignature:()=>L,keccak256:()=>ye,mnemonicToEntropy:()=>zo,mnemonicToSeed:()=>Vo,namehash:()=>ss,nameprep:()=>Ol,parseBytes32String:()=>Rl,parseEther:()=>Hl,parseTransaction:()=>vn,parseUnits:()=>Vl,poll:()=>gs,randomBytes:()=>$o,recoverAddress:()=>ln,recoverPublicKey:()=>Jr,resolveProperties:()=>re,ripemd160:()=>vo,serializeTransaction:()=>mn,sha256:()=>yo,sha512:()=>bo,shallowCopy:()=>oe,shuffled:()=>Na,solidityKeccak256:()=>wl,solidityPack:()=>bl,soliditySha256:()=>xl,splitSignature:()=>B,stripZeros:()=>A,toUtf8Bytes:()=>Ue,toUtf8CodePoints:()=>Ke,toUtf8String:()=>Ze,verifyMessage:()=>xi,verifyTypedData:()=>Ei,zeroPad:()=>k});let l=!1,c=!1;const h={debug:1,default:2,info:2,warning:3,error:4,off:5};let d=h.default,u=null;const p=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var f,m;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(f||(f={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(m||(m={}));const g="0123456789abcdef";class v{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==h[r]&&this.throwArgumentError("invalid log level name","logLevel",e),d>h[r]||console.log.apply(console,t)}debug(...e){this._log(v.levels.DEBUG,e)}info(...e){this._log(v.levels.INFO,e)}warn(...e){this._log(v.levels.WARNING,e)}makeError(e,t,r){if(c)return this.makeError("censored error",t,{});t||(t=v.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=g[t[e]>>4],r+=g[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const o=e;let i="";switch(t){case m.NUMERIC_FAULT:{i="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":i+="-"+t;break;case"negative-power":case"negative-width":i+="-unsupported";break;case"unbound-bitwise-result":i+="-unbound-result"}break}case m.CALL_EXCEPTION:case m.INSUFFICIENT_FUNDS:case m.MISSING_NEW:case m.NONCE_EXPIRED:case m.REPLACEMENT_UNDERPRICED:case m.TRANSACTION_REPLACED:case m.UNPREDICTABLE_GAS_LIMIT:i=t}i&&(e+=" [ See: https://links.ethers.org/v5-errors-"+i+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=o,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,v.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),p&&this.throwError("platform missing String.prototype.normalize",v.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:p})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,v.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,v.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,v.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,v.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",v.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",v.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",v.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return u||(u=new v("logger/5.7.0")),u}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",v.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),l){if(!e)return;this.globalLogger().throwError("error censorship permanent",v.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}c=!!e,l=!!t}static setLogLevel(e){const t=h[e.toLowerCase()];null!=t?d=t:v.globalLogger().warn("invalid log level - "+e)}static from(e){return new v(e)}}v.errors=m,v.levels=f;const y=new v("bytes/5.7.0");function b(e){return!!e.toHexString}function w(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return w(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function x(e){return T(e)&&!(e.length%2)||S(e)}function E(e){return"number"==typeof e&&e==e&&e%1==0}function S(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!E(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!E(r)||r<0||r>=256)return!1}return!0}function _(e,t){if(t||(t={}),"number"==typeof e){y.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),w(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),b(e)&&(e=e.toHexString()),T(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":y.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return w(new Uint8Array(n))}return S(e)?w(new Uint8Array(e)):y.throwArgumentError("invalid arrayify value","value",e)}function C(e){const t=e.map((e=>_(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),w(n)}function A(e){let t=_(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function k(e,t){(e=_(e)).length>t&&y.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),w(r)}function T(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const P="0123456789abcdef";function M(e,t){if(t||(t={}),"number"==typeof e){y.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=P[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),b(e))return e.toHexString();if(T(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":y.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(S(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=P[(240&n)>>4]+P[15&n]}return t}return y.throwArgumentError("invalid hexlify value","value",e)}function D(e){if("string"!=typeof e)e=M(e);else if(!T(e)||e.length%2)return null;return(e.length-2)/2}function O(e,t,r){return"string"!=typeof e?e=M(e):(!T(e)||e.length%2)&&y.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function I(e){let t="0x";return e.forEach((e=>{t+=M(e).substring(2)})),t}function R(e){const t=N(M(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function N(e){"string"!=typeof e&&(e=M(e)),T(e)||y.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function F(e,t){for("string"!=typeof e?e=M(e):T(e)||y.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&y.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function B(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(x(e)){let r=_(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=M(r.slice(0,32)),t.s=M(r.slice(32,64))):65===r.length?(t.r=M(r.slice(0,32)),t.s=M(r.slice(32,64)),t.v=r[64]):y.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:y.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=M(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=k(_(t._vs),32);t._vs=M(r);const n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&y.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const o=M(r);null==t.s?t.s=o:t.s!==o&&y.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?y.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&y.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&T(t.r)?t.r=F(t.r,32):y.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&T(t.s)?t.s=F(t.s,32):y.throwArgumentError("signature missing or invalid s","signature",e);const r=_(t.s);r[0]>=128&&y.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=M(r);t._vs&&(T(t._vs)||y.throwArgumentError("signature invalid _vs","signature",e),t._vs=F(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&y.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function L(e){return M(C([(e=B(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}var V=r(3550),z=r.n(V);const H="bignumber/5.7.0";var j=z().BN;const G=new v(H),U={},q=9007199254740991;let W=!1;class ${constructor(e,t){e!==U&&G.throwError("cannot call constructor directly; use BigNumber.from",v.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return K(Y(this).fromTwos(e))}toTwos(e){return K(Y(this).toTwos(e))}abs(){return"-"===this._hex[0]?$.from(this._hex.substring(1)):this}add(e){return K(Y(this).add(Y(e)))}sub(e){return K(Y(this).sub(Y(e)))}div(e){return $.from(e).isZero()&&X("division-by-zero","div"),K(Y(this).div(Y(e)))}mul(e){return K(Y(this).mul(Y(e)))}mod(e){const t=Y(e);return t.isNeg()&&X("division-by-zero","mod"),K(Y(this).umod(t))}pow(e){const t=Y(e);return t.isNeg()&&X("negative-power","pow"),K(Y(this).pow(t))}and(e){const t=Y(e);return(this.isNegative()||t.isNeg())&&X("unbound-bitwise-result","and"),K(Y(this).and(t))}or(e){const t=Y(e);return(this.isNegative()||t.isNeg())&&X("unbound-bitwise-result","or"),K(Y(this).or(t))}xor(e){const t=Y(e);return(this.isNegative()||t.isNeg())&&X("unbound-bitwise-result","xor"),K(Y(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&X("negative-width","mask"),K(Y(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&X("negative-width","shl"),K(Y(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&X("negative-width","shr"),K(Y(this).shrn(e))}eq(e){return Y(this).eq(Y(e))}lt(e){return Y(this).lt(Y(e))}lte(e){return Y(this).lte(Y(e))}gt(e){return Y(this).gt(Y(e))}gte(e){return Y(this).gte(Y(e))}isNegative(){return"-"===this._hex[0]}isZero(){return Y(this).isZero()}toNumber(){try{return Y(this).toNumber()}catch(e){X("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return G.throwError("this platform does not support BigInt",v.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?W||(W=!0,G.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?G.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",v.errors.UNEXPECTED_ARGUMENT,{}):G.throwError("BigNumber.toString does not accept parameters",v.errors.UNEXPECTED_ARGUMENT,{})),Y(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof $)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new $(U,Z(e)):e.match(/^-?[0-9]+$/)?new $(U,Z(new j(e))):G.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&X("underflow","BigNumber.from",e),(e>=q||e<=-q)&&X("overflow","BigNumber.from",e),$.from(String(e));const t=e;if("bigint"==typeof t)return $.from(t.toString());if(S(t))return $.from(M(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return $.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(T(e)||"-"===e[0]&&T(e.substring(1))))return $.from(e)}return G.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function Z(e){if("string"!=typeof e)return Z(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&G.throwArgumentError("invalid hex","value",e),"0x00"===(e=Z(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function K(e){return $.from(Z(e))}function Y(e){const t=$.from(e).toHexString();return"-"===t[0]?new j("-"+t.substring(3),16):new j(t.substring(2),16)}function X(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),G.throwError(e,v.errors.NUMERIC_FAULT,n)}var J=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Q=new v("properties/5.7.0");function ee(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function te(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function re(e){return J(this,void 0,void 0,(function*(){const t=Object.keys(e).map((t=>{const r=e[t];return Promise.resolve(r).then((e=>({key:t,value:e})))}));return(yield Promise.all(t)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})}))}function ne(e,t){e&&"object"==typeof e||Q.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((r=>{t[r]||Q.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}))}function oe(e){const t={};for(const r in e)t[r]=e[r];return t}const ie={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function se(e){if(null==e||ie[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const t=Object.keys(e);for(let r=0;r<t.length;r++){let n=null;try{n=e[t[r]]}catch(e){continue}if(!se(n))return!1}return!0}return Q.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function ae(e){if(se(e))return e;if(Array.isArray(e))return Object.freeze(e.map((e=>le(e))));if("object"==typeof e){const t={};for(const r in e){const n=e[r];void 0!==n&&ee(t,r,le(n))}return t}return Q.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function le(e){return ae(e)}class ce{constructor(e){for(const t in e)this[t]=le(e[t])}}const he="abi/5.7.0",de=new v(he);function ue(e){const t=[],r=function(e,n){if(Array.isArray(n))for(let o in n){const i=e.slice();i.push(o);try{r(i,n[o])}catch(e){t.push({path:i,error:e})}}};return r([],e),t}class pe{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){de.throwArgumentError(e,this.localName,t)}}class fe{constructor(e){ee(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return I(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(C(e._data))}writeBytes(e){let t=_(e);const r=t.length%this.wordSize;return r&&(t=C([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=_($.from(e));return t.length>this.wordSize&&de.throwError("value out-of-bounds",v.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=C([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class me{constructor(e,t,r,n){ee(this,"_data",_(e)),ee(this,"wordSize",t||32),ee(this,"_coerceFunc",r),ee(this,"allowLoose",n),this._offset=0}get data(){return M(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):me.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:de.throwError("data out-of-bounds",v.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new me(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return $.from(this.readBytes(this.wordSize))}}var ge=r(1094),ve=r.n(ge);function ye(e){return"0x"+ve().keccak_256(_(e))}const be=new v("rlp/5.7.0");function we(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function xe(e,t,r){let n=0;for(let o=0;o<r;o++)n=256*n+e[t+o];return n}function Ee(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(Ee(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=we(t.length);return r.unshift(247+r.length),r.concat(t)}x(e)||be.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(_(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=we(t.length);return r.unshift(183+r.length),r.concat(t)}function Se(e){return M(Ee(e))}function _e(e,t,r,n){const o=[];for(;r<t+1+n;){const i=Ce(e,r);o.push(i.result),(r+=i.consumed)>t+1+n&&be.throwError("child data too short",v.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:o}}function Ce(e,t){if(0===e.length&&be.throwError("data too short",v.errors.BUFFER_OVERRUN,{}),e[t]>=248){const r=e[t]-247;t+1+r>e.length&&be.throwError("data short segment too short",v.errors.BUFFER_OVERRUN,{});const n=xe(e,t+1,r);return t+1+r+n>e.length&&be.throwError("data long segment too short",v.errors.BUFFER_OVERRUN,{}),_e(e,t,t+1+r,r+n)}if(e[t]>=192){const r=e[t]-192;return t+1+r>e.length&&be.throwError("data array too short",v.errors.BUFFER_OVERRUN,{}),_e(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;t+1+r>e.length&&be.throwError("data array too short",v.errors.BUFFER_OVERRUN,{});const n=xe(e,t+1,r);return t+1+r+n>e.length&&be.throwError("data array too short",v.errors.BUFFER_OVERRUN,{}),{consumed:1+r+n,result:M(e.slice(t+1+r,t+1+r+n))}}if(e[t]>=128){const r=e[t]-128;return t+1+r>e.length&&be.throwError("data too short",v.errors.BUFFER_OVERRUN,{}),{consumed:1+r,result:M(e.slice(t+1,t+1+r))}}return{consumed:1,result:M(e[t])}}function Ae(e){const t=_(e),r=Ce(t,0);return r.consumed!==t.length&&be.throwArgumentError("invalid rlp data","data",e),r.result}const ke=new v("address/5.7.0");function Te(e){T(e,20)||ke.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);const n=_(ye(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const Pe={};for(let e=0;e<10;e++)Pe[String(e)]=String(e);for(let e=0;e<26;e++)Pe[String.fromCharCode(65+e)]=String(10+e);const Me=Math.floor((De=9007199254740991,Math.log10?Math.log10(De):Math.log(De)/Math.LN10));var De;function Oe(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Pe[e])).join("");for(;t.length>=Me;){let e=t.substring(0,Me);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function Ie(e){let t=null;if("string"!=typeof e&&ke.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=Te(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&ke.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Oe(e)&&ke.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new j(r,36).toString(16);t.length<40;)t="0"+t;t=Te("0x"+t)}else ke.throwArgumentError("invalid address","address",e);var r;return t}function Re(e){try{return Ie(e),!0}catch(e){}return!1}function Ne(e){let t=(r=Ie(e).substring(2),new j(r,16).toString(36)).toUpperCase();for(var r;t.length<30;)t="0"+t;return"XE"+Oe("XE00"+t)+t}function Fe(e){let t=null;try{t=Ie(e.from)}catch(t){ke.throwArgumentError("missing from address","transaction",e)}return Ie(O(ye(Se([t,A(_($.from(e.nonce).toHexString()))])),12))}function Be(e,t,r){return 32!==D(t)&&ke.throwArgumentError("salt must be 32 bytes","salt",t),32!==D(r)&&ke.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),Ie(O(ye(C(["0xff",Ie(e),t,r])),12))}const Le=new v("strings/5.7.0");var Ve,ze;function He(e,t,r,n,o){if(e===ze.BAD_PREFIX||e===ze.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===ze.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(Ve||(Ve={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(ze||(ze={}));const je=Object.freeze({error:function(e,t,r,n,o){return Le.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:He,replace:function(e,t,r,n,o){return e===ze.OVERLONG?(n.push(o),0):(n.push(65533),He(e,t,r))}});function Ge(e,t){null==t&&(t=je.error),e=_(e);const r=[];let n=0;for(;n<e.length;){const o=e[n++];if(o>>7==0){r.push(o);continue}let i=null,s=null;if(192==(224&o))i=1,s=127;else if(224==(240&o))i=2,s=2047;else{if(240!=(248&o)){n+=t(128==(192&o)?ze.UNEXPECTED_CONTINUE:ze.BAD_PREFIX,n-1,e,r);continue}i=3,s=65535}if(n-1+i>=e.length){n+=t(ze.OVERRUN,n-1,e,r);continue}let a=o&(1<<8-i-1)-1;for(let o=0;o<i;o++){let o=e[n];if(128!=(192&o)){n+=t(ze.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&o,n++}null!==a&&(a>1114111?n+=t(ze.OUT_OF_RANGE,n-1-i,e,r,a):a>=55296&&a<=57343?n+=t(ze.UTF16_SURROGATE,n-1-i,e,r,a):a<=s?n+=t(ze.OVERLONG,n-1-i,e,r,a):r.push(a))}return r}function Ue(e,t=Ve.current){t!=Ve.current&&(Le.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){t++;const o=e.charCodeAt(t);if(t>=e.length||56320!=(64512&o))throw new Error("invalid utf-8 string");const i=65536+((1023&n)<<10)+(1023&o);r.push(i>>18|240),r.push(i>>12&63|128),r.push(i>>6&63|128),r.push(63&i|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return _(r)}function qe(e){const t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function We(e,t){return'"'+Ge(e,t).map((e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?qe(e):qe(55296+((e-=65536)>>10&1023))+qe(56320+(1023&e))})).join("")+'"'}function $e(e){return e.map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function Ze(e,t){return $e(Ge(e,t))}function Ke(e,t=Ve.current){return Ge(Ue(e,t))}function Ye(e){return ye(Ue(e))}class Xe extends pe{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=Ie(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return Ie(F(e.readValue().toHexString(),20))}}class Je extends pe{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Qe=new v(he);function et(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map((t=>{const n=t.localName;return n||Qe.throwError("cannot encode object for signature with missing names",v.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&Qe.throwError("cannot encode object for signature with duplicate names",v.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]}))}else Qe.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&Qe.throwArgumentError("types/value length mismatch","tuple",r);let o=new fe(e.wordSize),i=new fe(e.wordSize),s=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=i.length;e.encode(i,r);let n=o.writeUpdatableValue();s.push((e=>{n(e+t)}))}else e.encode(o,r)})),s.forEach((e=>{e(o.length)}));let a=e.appendWriter(o);return a+=e.appendWriter(i),a}function tt(e,t){let r=[],n=e.subReader(0);t.forEach((t=>{let o=null;if(t.dynamic){let r=e.readValue(),i=n.subReader(r.toNumber());try{o=t.decode(i)}catch(e){if(e.code===v.errors.BUFFER_OVERRUN)throw e;o=e,o.baseType=t.name,o.name=t.localName,o.type=t.type}}else try{o=t.decode(e)}catch(e){if(e.code===v.errors.BUFFER_OVERRUN)throw e;o=e,o.baseType=t.name,o.name=t.localName,o.type=t.type}null!=o&&r.push(o)}));const o=t.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach(((e,t)=>{let n=e.localName;if(!n||1!==o[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const i=r[t];i instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw i}}):r[n]=i}));for(let e=0;e<r.length;e++){const t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class rt extends pe{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),Qe.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++)n.push(this.coder);return et(e,n,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&Qe.throwError("insufficient data length",v.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let r=[];for(let e=0;e<t;e++)r.push(new Je(this.coder));return e.coerce(this.name,tt(e,r))}}class nt extends pe{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class ot extends pe{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=_(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class it extends ot{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,M(super.decode(e)))}}class st extends pe{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=_(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,M(e.readBytes(this.size)))}}class at extends pe{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const lt=$.from(-1),ct=$.from(0),ht=$.from(1),dt=$.from(2),ut=$.from("1000000000000000000"),pt=$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ft=$.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),mt=$.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class gt extends pe{constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=$.from(t),n=pt.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(ht).mul(lt)))&&this._throwError("value out-of-bounds",t)}else(r.lt(ct)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}class vt extends ot{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Ue(t))}decode(e){return Ze(super.decode(e))}}class yt extends pe{constructor(e,t){let r=!1;const n=[];e.forEach((e=>{e.dynamic&&(r=!0),n.push(e.type)})),super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,n)=>{let o=r.localName;o&&1===t[o]&&("length"===o&&(o="_length"),null==e[o]&&(e[o]=e[n]))})),Object.freeze(e)}encode(e,t){return et(e,this.coders,t)}decode(e){return e.coerce(this.name,tt(e,this.coders))}}const bt=new v(he),wt={};let xt={calldata:!0,memory:!0,storage:!0},Et={calldata:!0,memory:!0};function St(e,t){if("bytes"===e||"string"===e){if(xt[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&Et[t])return!0;return(xt[t]||"payable"===t)&&bt.throwArgumentError("invalid modifier","name",t),!1}function _t(e,t){for(let r in t)ee(e,r,t[r])}const Ct=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),At=new RegExp(/^(.*)\[([0-9]*)\]$/);class kt{constructor(e,t){e!==wt&&bt.throwError("use fromString",v.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),_t(this,t);let r=this.type.match(At);_t(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:kt.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Ct.sighash),Ct[e]||bt.throwArgumentError("invalid format type","format",e),e===Ct.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==Ct.sighash&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join(e===Ct.full?", ":",")+")"):t+=this.type,e!==Ct.sighash&&(!0===this.indexed&&(t+=" indexed"),e===Ct.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?kt.fromString(e,t):kt.fromObject(e)}static fromObject(e){return kt.isParamType(e)?e:new kt(wt,{name:e.name||null,type:Lt(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(kt.fromObject):null})}static fromString(e,t){return r=function(e,t){let r=e;function n(t){bt.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function o(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let i={type:"",name:"",state:{allowType:!0}},s=i;for(let r=0;r<e.length;r++){let i=e[r];switch(i){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(r),s.state.allowType=!1,s.type=Lt(s.type),s.components=[o(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||n(r),s.indexed=!0,s.name=""),St(s.type,s.name)&&(s.name=""),s.type=Lt(s.type);let e=s;s=s.parent,s||n(r),delete e.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||n(r),s.indexed=!0,s.name=""),St(s.type,s.name)&&(s.name=""),s.type=Lt(s.type);let a=o(s.parent);s.parent.components.push(a),delete s.parent,s=a;break;case" ":s.state.allowType&&""!==s.type&&(s.type=Lt(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||n(r),s.indexed&&n(r),s.indexed=!0,s.name=""):St(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(r),s.type+=i,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(r),s.type+=i,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=i,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=i,delete s.state.allowArray):s.state.readArray?s.type+=i:n(r)}}return s.parent&&bt.throwArgumentError("unexpected eof","param",e),delete i.state,"indexed"===s.name?(t||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):St(s.type,s.name)&&(s.name=""),i.type=Lt(i.type),i}(e,!!t),kt.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(e){return!(null==e||!e._isParamType)}}function Tt(e,t){return function(e){e=e.trim();let t=[],r="",n=0;for(let o=0;o<e.length;o++){let i=e[o];","===i&&0===n?(t.push(r),r=""):(r+=i,"("===i?n++:")"===i&&(n--,-1===n&&bt.throwArgumentError("unbalanced parenthesis","value",e)))}return r&&t.push(r),t}(e).map((e=>kt.fromString(e,t)))}class Pt{constructor(e,t){e!==wt&&bt.throwError("use a static from method",v.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),_t(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Pt.isFragment(e)?e:"string"==typeof e?Pt.fromString(e):Pt.fromObject(e)}static fromObject(e){if(Pt.isFragment(e))return e;switch(e.type){case"function":return Nt.fromObject(e);case"event":return Mt.fromObject(e);case"constructor":return Rt.fromObject(e);case"error":return Bt.fromObject(e);case"fallback":case"receive":return null}return bt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Mt.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?Nt.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?Rt.fromString(e.trim()):"error"===e.split(" ")[0]?Bt.fromString(e.substring(5).trim()):bt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class Mt extends Pt{format(e){if(e||(e=Ct.sighash),Ct[e]||bt.throwArgumentError("invalid format type","format",e),e===Ct.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Ct.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Ct.full?", ":",")+") ",e!==Ct.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?Mt.fromString(e):Mt.fromObject(e)}static fromObject(e){if(Mt.isEventFragment(e))return e;"event"!==e.type&&bt.throwArgumentError("invalid event object","value",e);const t={name:zt(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(kt.fromObject):[],type:"event"};return new Mt(wt,t)}static fromString(e){let t=e.match(Ht);t||bt.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach((e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:bt.warn("unknown modifier: "+e)}})),Mt.fromObject({name:t[1].trim(),anonymous:r,inputs:Tt(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function Dt(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&bt.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||bt.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=$.from(r[1]),r[0]):e}function Ot(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function It(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&bt.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&bt.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||bt.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&bt.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&bt.throwArgumentError("unable to determine stateMutability","value",e),t}class Rt extends Pt{format(e){if(e||(e=Ct.sighash),Ct[e]||bt.throwArgumentError("invalid format type","format",e),e===Ct.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});e===Ct.sighash&&bt.throwError("cannot format a constructor for sighash",v.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map((t=>t.format(e))).join(e===Ct.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?Rt.fromString(e):Rt.fromObject(e)}static fromObject(e){if(Rt.isConstructorFragment(e))return e;"constructor"!==e.type&&bt.throwArgumentError("invalid constructor object","value",e);let t=It(e);t.constant&&bt.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(kt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?$.from(e.gas):null};return new Rt(wt,r)}static fromString(e){let t={type:"constructor"},r=(e=Dt(e,t)).match(Ht);return r&&"constructor"===r[1].trim()||bt.throwArgumentError("invalid constructor string","value",e),t.inputs=Tt(r[2].trim(),!1),Ot(r[3].trim(),t),Rt.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class Nt extends Rt{format(e){if(e||(e=Ct.sighash),Ct[e]||bt.throwArgumentError("invalid format type","format",e),e===Ct.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Ct.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Ct.full?", ":",")+") ",e!==Ct.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((t=>t.format(e))).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?Nt.fromString(e):Nt.fromObject(e)}static fromObject(e){if(Nt.isFunctionFragment(e))return e;"function"!==e.type&&bt.throwArgumentError("invalid function object","value",e);let t=It(e);const r={type:e.type,name:zt(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(kt.fromObject):[],outputs:e.outputs?e.outputs.map(kt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?$.from(e.gas):null};return new Nt(wt,r)}static fromString(e){let t={type:"function"},r=(e=Dt(e,t)).split(" returns ");r.length>2&&bt.throwArgumentError("invalid function string","value",e);let n=r[0].match(Ht);if(n||bt.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&zt(t.name),t.inputs=Tt(n[2],!1),Ot(n[3].trim(),t),r.length>1){let n=r[1].match(Ht);""==n[1].trim()&&""==n[3].trim()||bt.throwArgumentError("unexpected tokens","value",e),t.outputs=Tt(n[2],!1)}else t.outputs=[];return Nt.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function Ft(e){const t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||bt.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class Bt extends Pt{format(e){if(e||(e=Ct.sighash),Ct[e]||bt.throwArgumentError("invalid format type","format",e),e===Ct.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Ct.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Ct.full?", ":",")+") ",t.trim()}static from(e){return"string"==typeof e?Bt.fromString(e):Bt.fromObject(e)}static fromObject(e){if(Bt.isErrorFragment(e))return e;"error"!==e.type&&bt.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:zt(e.name),inputs:e.inputs?e.inputs.map(kt.fromObject):[]};return Ft(new Bt(wt,t))}static fromString(e){let t={type:"error"},r=e.match(Ht);return r||bt.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&zt(t.name),t.inputs=Tt(r[2],!1),Ft(Bt.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function Lt(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const Vt=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function zt(e){return e&&e.match(Vt)||bt.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const Ht=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),jt=new v(he),Gt=new RegExp(/^bytes([0-9]*)$/),Ut=new RegExp(/^(u?int)([0-9]*)$/);class qt{constructor(e){ee(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Xe(e.name);case"bool":return new nt(e.name);case"string":return new vt(e.name);case"bytes":return new it(e.name);case"array":return new rt(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new yt((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new at(e.name)}let t=e.type.match(Ut);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&jt.throwArgumentError("invalid "+t[1]+" bit length","param",e),new gt(r/8,"int"===t[1],e.name)}if(t=e.type.match(Gt),t){let r=parseInt(t[1]);return(0===r||r>32)&&jt.throwArgumentError("invalid bytes length","param",e),new st(r,e.name)}return jt.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new me(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new fe(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder(kt.from(e))));return new yt(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&jt.throwError("types/values length mismatch",v.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map((e=>this._getCoder(kt.from(e)))),n=new yt(r,"_"),o=this._getWriter();return n.encode(o,t),o.data}decode(e,t,r){const n=e.map((e=>this._getCoder(kt.from(e))));return new yt(n,"_").decode(this._getReader(_(t),r))}}const Wt=new qt,$t=new v(he);class Zt extends ce{}class Kt extends ce{}class Yt extends ce{}class Xt extends ce{static isIndexed(e){return!(!e||!e._isIndexed)}}const Jt={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Qt(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class er{constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,ee(this,"fragments",t.map((e=>Pt.from(e))).filter((e=>null!=e))),ee(this,"_abiCoder",te(new.target,"getAbiCoder")()),ee(this,"functions",{}),ee(this,"errors",{}),ee(this,"events",{}),ee(this,"structs",{}),this.fragments.forEach((e=>{let t=null;switch(e.type){case"constructor":return this.deploy?void $t.warn("duplicate definition - constructor"):void ee(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();t[r]?$t.warn("duplicate definition - "+r):t[r]=e})),this.deploy||ee(this,"deploy",Rt.from({payable:!1,type:"constructor"})),ee(this,"_isInterface",!0)}format(e){e||(e=Ct.full),e===Ct.sighash&&$t.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map((t=>t.format(e)));return e===Ct.json?JSON.stringify(t.map((e=>JSON.parse(e)))):t}static getAbiCoder(){return Wt}static getAddress(e){return Ie(e)}static getSighash(e){return O(Ye(e.format()),0,4)}static getEventTopic(e){return Ye(e.format())}getFunction(e){if(T(e)){for(const t in this.functions)if(e===this.getSighash(t))return this.functions[t];$t.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.functions).filter((e=>e.split("(")[0]===t));return 0===r.length?$t.throwArgumentError("no matching function","name",t):r.length>1&&$t.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}const t=this.functions[Nt.fromString(e).format()];return t||$t.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(T(e)){const t=e.toLowerCase();for(const e in this.events)if(t===this.getEventTopic(e))return this.events[e];$t.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.events).filter((e=>e.split("(")[0]===t));return 0===r.length?$t.throwArgumentError("no matching event","name",t):r.length>1&&$t.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}const t=this.events[Mt.fromString(e).format()];return t||$t.throwArgumentError("no matching event","signature",e),t}getError(e){if(T(e)){const t=te(this.constructor,"getSighash");for(const r in this.errors)if(e===t(this.errors[r]))return this.errors[r];$t.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.errors).filter((e=>e.split("(")[0]===t));return 0===r.length?$t.throwArgumentError("no matching error","name",t):r.length>1&&$t.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}const t=this.errors[Nt.fromString(e).format()];return t||$t.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return te(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),te(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));const r=_(t);return M(r.slice(0,4))!==this.getSighash(e)&&$t.throwArgumentError(`data signature does not match error ${e.name}.`,"data",M(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),M(C([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));const r=_(t);return M(r.slice(0,4))!==this.getSighash(e)&&$t.throwArgumentError(`data signature does not match function ${e.name}.`,"data",M(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),M(C([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=_(t),n=null,o="",i=null,s=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(e){}break;case 4:{const e=M(r.slice(0,4)),t=Jt[e];if(t)i=this._abiCoder.decode(t.inputs,r.slice(4)),s=t.name,a=t.signature,t.reason&&(n=i[0]),"Error"===s?o=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(i[0])}`:"Panic"===s&&(o=`; VM Exception while processing transaction: reverted with panic code ${i[0]}`);else try{const t=this.getError(e);i=this._abiCoder.decode(t.inputs,r.slice(4)),s=t.name,a=t.format()}catch(e){}break}}return $t.throwError("call revert exception"+o,v.errors.CALL_EXCEPTION,{method:e.format(),data:M(t),errorArgs:i,errorName:s,errorSignature:a,reason:n})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),M(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&$t.throwError("too many arguments for "+e.format(),v.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));const n=(e,t)=>"string"===e.type?Ye(t):"bytes"===e.type?ye(M(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=$.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),F(M(t),32));for(t.forEach(((t,o)=>{let i=e.inputs[o];i.indexed?null==t?r.push(null):"array"===i.baseType||"tuple"===i.baseType?$t.throwArgumentError("filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?r.push(t.map((e=>n(i,e)))):r.push(n(i,t)):null!=t&&$t.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+i.name,t)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));const r=[],n=[],o=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&$t.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach(((e,i)=>{const s=t[i];if(e.indexed)if("string"===e.type)r.push(Ye(s));else if("bytes"===e.type)r.push(ye(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([e.type],[s]))}else n.push(e),o.push(s)})),{data:this._abiCoder.encode(n,o),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);T(r[0],32)&&r[0].toLowerCase()===t||$t.throwError("fragment/topic mismatch",v.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let n=[],o=[],i=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(kt.fromObject({type:"bytes32",name:e.name})),i.push(!0)):(n.push(e),i.push(!1)):(o.push(e),i.push(!1))}));let s=null!=r?this._abiCoder.decode(n,C(r)):null,a=this._abiCoder.decode(o,t,!0),l=[],c=0,h=0;e.inputs.forEach(((e,t)=>{if(e.indexed)if(null==s)l[t]=new Xt({_isIndexed:!0,hash:null});else if(i[t])l[t]=new Xt({_isIndexed:!0,hash:s[h++]});else try{l[t]=s[h++]}catch(e){l[t]=e}else try{l[t]=a[c++]}catch(e){l[t]=e}if(e.name&&null==l[e.name]){const r=l[t];r instanceof Error?Object.defineProperty(l,e.name,{enumerable:!0,get:()=>{throw Qt(`property ${JSON.stringify(e.name)}`,r)}}):l[e.name]=r}}));for(let e=0;e<l.length;e++){const t=l[e];t instanceof Error&&Object.defineProperty(l,e,{enumerable:!0,get:()=>{throw Qt(`index ${e}`,t)}})}return Object.freeze(l)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new Kt({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:$.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Zt({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=M(e);let r=this.getError(t.substring(0,10).toLowerCase());return r?new Yt({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!(!e||!e._isInterface)}}const tr=new v("abstract-provider/5.7.0");class rr extends ce{static isForkEvent(e){return!(!e||!e._isForkEvent)}}class nr{constructor(){tr.checkAbstract(new.target,nr),ee(this,"_isProvider",!0)}getFeeData(){return e=this,t=void 0,n=function*(){const{block:e,gasPrice:t}=yield re({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((e=>null))});let r=null,n=null,o=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,o=$.from("1500000000"),n=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:o,gasPrice:t}},new((r=void 0)||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}));var e,t,r,n}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!(!e||!e._isProvider)}}var or=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const ir=new v("abstract-signer/5.7.0"),sr=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],ar=[v.errors.INSUFFICIENT_FUNDS,v.errors.NONCE_EXPIRED,v.errors.REPLACEMENT_UNDERPRICED];class lr{constructor(){ir.checkAbstract(new.target,lr),ee(this,"_isSigner",!0)}getBalance(e){return or(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return or(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return or(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield re(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return or(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield re(this.checkTransaction(e));return yield this.provider.call(r,t)}))}sendTransaction(e){return or(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)}))}getChainId(){return or(this,void 0,void 0,(function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return or(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return or(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(e){return or(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)}))}checkTransaction(e){for(const t in e)-1===sr.indexOf(t)&&ir.throwArgumentError("invalid transaction key: "+t,"transaction",e);const t=oe(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&ir.throwArgumentError("from address mismatch","transaction",e),t[0]))),t}populateTransaction(e){return or(this,void 0,void 0,(function*(){const t=yield re(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then((e=>or(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&ir.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})))),t.to.catch((e=>{})));const r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!r?0!==t.type&&1!==t.type||!r||ir.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):ir.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(r&&ir.throwError("network does not support EIP-1559",v.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):ir.throwError("failed to get consistent fee data",v.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((e=>{if(ar.indexOf(e.code)>=0)throw e;return ir.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",v.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>(0!==t[1]&&t[0]!==t[1]&&ir.throwArgumentError("chainId address mismatch","transaction",e),t[0]))),yield re(t)}))}_checkProvider(e){this.provider||ir.throwError("missing provider",v.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}class cr extends lr{constructor(e,t){super(),ee(this,"address",e),ee(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then((()=>{ir.throwError(e,v.errors.UNSUPPORTED_OPERATION,{operation:t})}))}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new cr(this.address,e)}}var hr=r(3715),dr=r.n(hr);function ur(e,t,r){return r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},e(r,r.exports),r.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var pr=fr;function fr(e,t){if(!e)throw new Error(t||"Assertion failed")}fr.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var mr=ur((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var o=e.charCodeAt(n),i=o>>8,s=255&o;i?r.push(i,s):r.push(s)}return r},r.zero2=n,r.toHex=o,r.encode=function(e,t){return"hex"===t?o(e):e}})),gr=ur((function(e,t){var r=t;r.assert=pr,r.toArray=mr.toArray,r.zero2=mr.zero2,r.toHex=mr.toHex,r.encode=mr.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var o=1<<t+1,i=e.clone(),s=0;s<n.length;s++){var a,l=i.andln(o-1);i.isOdd()?(a=l>(o>>1)-1?(o>>1)-l:l,i.isubn(a)):a=0,n[s]=a,i.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,o=0,i=0;e.cmpn(-o)>0||t.cmpn(-i)>0;){var s,a,l=e.andln(3)+o&3,c=t.andln(3)+i&3;3===l&&(l=-1),3===c&&(c=-1),s=0==(1&l)?0:3!=(n=e.andln(7)+o&7)&&5!==n||2!==c?l:-l,r[0].push(s),a=0==(1&c)?0:3!=(n=t.andln(7)+i&7)&&5!==n||2!==l?c:-c,r[1].push(a),2*o===s+1&&(o=1-o),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new(z())(e,"hex","le")}})),vr=gr.getNAF,yr=gr.getJSF,br=gr.assert;function wr(e,t){this.type=e,this.p=new(z())(t.p,16),this.red=t.prime?z().red(t.prime):z().mont(this.p),this.zero=new(z())(0).toRed(this.red),this.one=new(z())(1).toRed(this.red),this.two=new(z())(2).toRed(this.red),this.n=t.n&&new(z())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var xr=wr;function Er(e,t){this.curve=e,this.type=t,this.precomputed=null}wr.prototype.point=function(){throw new Error("Not implemented")},wr.prototype.validate=function(){throw new Error("Not implemented")},wr.prototype._fixedNafMul=function(e,t){br(e.precomputed);var r=e._getDoubles(),n=vr(t,1,this._bitLength),o=(1<<r.step+1)-(r.step%2==0?2:1);o/=3;var i,s,a=[];for(i=0;i<n.length;i+=r.step){s=0;for(var l=i+r.step-1;l>=i;l--)s=(s<<1)+n[l];a.push(s)}for(var c=this.jpoint(null,null,null),h=this.jpoint(null,null,null),d=o;d>0;d--){for(i=0;i<a.length;i++)(s=a[i])===d?h=h.mixedAdd(r.points[i]):s===-d&&(h=h.mixedAdd(r.points[i].neg()));c=c.add(h)}return c.toP()},wr.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var o=n.points,i=vr(t,r,this._bitLength),s=this.jpoint(null,null,null),a=i.length-1;a>=0;a--){for(var l=0;a>=0&&0===i[a];a--)l++;if(a>=0&&l++,s=s.dblp(l),a<0)break;var c=i[a];br(0!==c),s="affine"===e.type?c>0?s.mixedAdd(o[c-1>>1]):s.mixedAdd(o[-c-1>>1].neg()):c>0?s.add(o[c-1>>1]):s.add(o[-c-1>>1].neg())}return"affine"===e.type?s.toP():s},wr.prototype._wnafMulAdd=function(e,t,r,n,o){var i,s,a,l=this._wnafT1,c=this._wnafT2,h=this._wnafT3,d=0;for(i=0;i<n;i++){var u=(a=t[i])._getNAFPoints(e);l[i]=u.wnd,c[i]=u.points}for(i=n-1;i>=1;i-=2){var p=i-1,f=i;if(1===l[p]&&1===l[f]){var m=[t[p],null,null,t[f]];0===t[p].y.cmp(t[f].y)?(m[1]=t[p].add(t[f]),m[2]=t[p].toJ().mixedAdd(t[f].neg())):0===t[p].y.cmp(t[f].y.redNeg())?(m[1]=t[p].toJ().mixedAdd(t[f]),m[2]=t[p].add(t[f].neg())):(m[1]=t[p].toJ().mixedAdd(t[f]),m[2]=t[p].toJ().mixedAdd(t[f].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=yr(r[p],r[f]);for(d=Math.max(v[0].length,d),h[p]=new Array(d),h[f]=new Array(d),s=0;s<d;s++){var y=0|v[0][s],b=0|v[1][s];h[p][s]=g[3*(y+1)+(b+1)],h[f][s]=0,c[p]=m}}else h[p]=vr(r[p],l[p],this._bitLength),h[f]=vr(r[f],l[f],this._bitLength),d=Math.max(h[p].length,d),d=Math.max(h[f].length,d)}var w=this.jpoint(null,null,null),x=this._wnafT4;for(i=d;i>=0;i--){for(var E=0;i>=0;){var S=!0;for(s=0;s<n;s++)x[s]=0|h[s][i],0!==x[s]&&(S=!1);if(!S)break;E++,i--}if(i>=0&&E++,w=w.dblp(E),i<0)break;for(s=0;s<n;s++){var _=x[s];0!==_&&(_>0?a=c[s][_-1>>1]:_<0&&(a=c[s][-_-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(i=0;i<n;i++)c[i]=null;return o?w:w.toP()},wr.BasePoint=Er,Er.prototype.eq=function(){throw new Error("Not implemented")},Er.prototype.validate=function(){return this.curve.validate(this)},wr.prototype.decodePoint=function(e,t){e=gr.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?br(e[e.length-1]%2==0):7===e[0]&&br(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},Er.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Er.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Er.prototype.encode=function(e,t){return gr.encode(this._encode(t),e)},Er.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Er.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Er.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,o=0;o<t;o+=e){for(var i=0;i<e;i++)n=n.dbl();r.push(n)}return{step:e,points:r}},Er.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),o=1;o<r;o++)t[o]=t[o-1].add(n);return{wnd:e,points:t}},Er.prototype._getBeta=function(){return null},Er.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Sr=ur((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),_r=gr.assert;function Cr(e){xr.call(this,"short",e),this.a=new(z())(e.a,16).toRed(this.red),this.b=new(z())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Sr(Cr,xr);var Ar=Cr;function kr(e,t,r,n){xr.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(z())(t,16),this.y=new(z())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Tr(e,t,r,n){xr.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(z())(0)):(this.x=new(z())(t,16),this.y=new(z())(r,16),this.z=new(z())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Cr.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new(z())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new(z())(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],_r(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new(z())(e.a,16),b:new(z())(e.b,16)}})):this._getEndoBasis(r)}}},Cr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:z().mont(e),r=new(z())(2).toRed(t).redInvm(),n=r.redNeg(),o=new(z())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},Cr.prototype._getEndoBasis=function(e){for(var t,r,n,o,i,s,a,l,c,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,u=this.n.clone(),p=new(z())(1),f=new(z())(0),m=new(z())(0),g=new(z())(1),v=0;0!==d.cmpn(0);){var y=u.div(d);l=u.sub(y.mul(d)),c=m.sub(y.mul(p));var b=g.sub(y.mul(f));if(!n&&l.cmp(h)<0)t=a.neg(),r=p,n=l.neg(),o=c;else if(n&&2==++v)break;a=l,u=d,d=l,m=p,p=c,g=f,f=b}i=l.neg(),s=c;var w=n.sqr().add(o.sqr());return i.sqr().add(s.sqr()).cmp(w)>=0&&(i=t,s=r),n.negative&&(n=n.neg(),o=o.neg()),i.negative&&(i=i.neg(),s=s.neg()),[{a:n,b:o},{a:i,b:s}]},Cr.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],o=n.b.mul(e).divRound(this.n),i=r.b.neg().mul(e).divRound(this.n),s=o.mul(r.a),a=i.mul(n.a),l=o.mul(r.b),c=i.mul(n.b);return{k1:e.sub(s).sub(a),k2:l.add(c).neg()}},Cr.prototype.pointFromX=function(e,t){(e=new(z())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},Cr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),o=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(o).cmpn(0)},Cr.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,o=this._endoWnafT2,i=0;i<e.length;i++){var s=this._endoSplit(t[i]),a=e[i],l=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),n[2*i]=a,n[2*i+1]=l,o[2*i]=s.k1,o[2*i+1]=s.k2}for(var c=this._wnafMulAdd(1,n,o,2*i,r),h=0;h<2*i;h++)n[h]=null,o[h]=null;return c},Sr(kr,xr.BasePoint),Cr.prototype.point=function(e,t,r){return new kr(this,e,t,r)},Cr.prototype.pointFromJSON=function(e,t){return kr.fromJSON(this,e,t)},kr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},kr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},kr.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function o(t){return e.point(t[0],t[1],r)}var i=t[2];return n.precomputed={beta:null,doubles:i.doubles&&{step:i.doubles.step,points:[n].concat(i.doubles.points.map(o))},naf:i.naf&&{wnd:i.naf.wnd,points:[n].concat(i.naf.points.map(o))}},n},kr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},kr.prototype.isInfinity=function(){return this.inf},kr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},kr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),o=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),i=o.redSqr().redISub(this.x.redAdd(this.x)),s=o.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,s)},kr.prototype.getX=function(){return this.x.fromRed()},kr.prototype.getY=function(){return this.y.fromRed()},kr.prototype.mul=function(e){return e=new(z())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},kr.prototype.mulAdd=function(e,t,r){var n=[this,t],o=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,o):this.curve._wnafMulAdd(1,n,o,2)},kr.prototype.jmulAdd=function(e,t,r){var n=[this,t],o=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,o,!0):this.curve._wnafMulAdd(1,n,o,2,!0)},kr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},kr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},kr.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Sr(Tr,xr.BasePoint),Cr.prototype.jpoint=function(e,t,r){return new Tr(this,e,t,r)},Tr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Tr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Tr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),o=e.x.redMul(r),i=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(o),l=i.redSub(s);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),h=c.redMul(a),d=n.redMul(c),u=l.redSqr().redIAdd(h).redISub(d).redISub(d),p=l.redMul(d.redISub(u)).redISub(i.redMul(h)),f=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(u,p,f)},Tr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),o=this.y,i=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=o.redSub(i);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),c=l.redMul(s),h=r.redMul(l),d=a.redSqr().redIAdd(c).redISub(h).redISub(h),u=a.redMul(h.redISub(d)).redISub(o.redMul(c)),p=this.z.redMul(s);return this.curve.jpoint(d,u,p)},Tr.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,o=this.curve.tinv,i=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),c=s.redAdd(s);for(t=0;t<e;t++){var h=i.redSqr(),d=c.redSqr(),u=d.redSqr(),p=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(l)),f=i.redMul(d),m=p.redSqr().redISub(f.redAdd(f)),g=f.redISub(m),v=p.redMul(g);v=v.redIAdd(v).redISub(u);var y=c.redMul(a);t+1<e&&(l=l.redMul(u)),i=m,a=y,c=v}return this.curve.jpoint(i,c.redMul(o),a)},Tr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Tr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),i=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(s).redISub(s),c=i.redIAdd(i);c=(c=c.redIAdd(c)).redIAdd(c),e=l,t=a.redMul(s.redISub(l)).redISub(c),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),d=this.y.redSqr(),u=d.redSqr(),p=this.x.redAdd(d).redSqr().redISub(h).redISub(u);p=p.redIAdd(p);var f=h.redAdd(h).redIAdd(h),m=f.redSqr(),g=u.redIAdd(u);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(p).redISub(p),t=f.redMul(p.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Tr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),i=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);e=l;var c=i.redIAdd(i);c=(c=c.redIAdd(c)).redIAdd(c),t=a.redMul(s.redISub(l)).redISub(c),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),d=this.y.redSqr(),u=this.x.redMul(d),p=this.x.redSub(h).redMul(this.x.redAdd(h));p=p.redAdd(p).redIAdd(p);var f=u.redIAdd(u),m=(f=f.redIAdd(f)).redAdd(f);e=p.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(h);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=p.redMul(f.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},Tr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,o=n.redSqr().redSqr(),i=t.redSqr(),s=r.redSqr(),a=i.redAdd(i).redIAdd(i).redIAdd(e.redMul(o)),l=t.redAdd(t),c=(l=l.redIAdd(l)).redMul(s),h=a.redSqr().redISub(c.redAdd(c)),d=c.redISub(h),u=s.redSqr();u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var p=a.redMul(d).redISub(u),f=r.redAdd(r).redMul(n);return this.curve.jpoint(h,p,f)},Tr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),o=e.redAdd(e).redIAdd(e),i=o.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(i)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var c=o.redIAdd(s).redSqr().redISub(i).redISub(a).redISub(l),h=t.redMul(c);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.x.redMul(a).redISub(h);d=(d=d.redIAdd(d)).redIAdd(d);var u=this.y.redMul(c.redMul(l.redISub(c)).redISub(s.redMul(a)));u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var p=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(d,u,p)},Tr.prototype.mul=function(e,t){return e=new(z())(e,t),this.curve._wnafMul(this,e)},Tr.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),o=r.redMul(e.z);return 0===this.y.redMul(o).redISub(e.y.redMul(n)).cmpn(0)},Tr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),o=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(o),0===this.x.cmp(r))return!0}},Tr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Tr.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Pr=ur((function(e,t){var r=t;r.base=xr,r.short=Ar,r.mont=null,r.edwards=null})),Mr=ur((function(e,t){var r,n=t,o=gr.assert;function i(e){"short"===e.type?this.curve=new Pr.short(e):"edwards"===e.type?this.curve=new Pr.edwards(e):this.curve=new Pr.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new i(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=i,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:dr().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:dr().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:dr().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:dr().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:dr().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:dr().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:dr().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(e){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:dr().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Dr(e){if(!(this instanceof Dr))return new Dr(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=mr.toArray(e.entropy,e.entropyEnc||"hex"),r=mr.toArray(e.nonce,e.nonceEnc||"hex"),n=mr.toArray(e.pers,e.persEnc||"hex");pr(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var Or=Dr;Dr.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Dr.prototype._hmac=function(){return new(dr().hmac)(this.hash,this.K)},Dr.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Dr.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=mr.toArray(e,t),r=mr.toArray(r,n),pr(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Dr.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=mr.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var i=o.slice(0,e);return this._update(r),this._reseed++,mr.encode(i,t)};var Ir=gr.assert;function Rr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Nr=Rr;Rr.fromPublic=function(e,t,r){return t instanceof Rr?t:new Rr(e,{pub:t,pubEnc:r})},Rr.fromPrivate=function(e,t,r){return t instanceof Rr?t:new Rr(e,{priv:t,privEnc:r})},Rr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Rr.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Rr.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Rr.prototype._importPrivate=function(e,t){this.priv=new(z())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Rr.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Ir(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Ir(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Rr.prototype.derive=function(e){return e.validate()||Ir(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Rr.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Rr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Rr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Fr=gr.assert;function Br(e,t){if(e instanceof Br)return e;this._importDER(e,t)||(Fr(e.r&&e.s,"Signature without r or s"),this.r=new(z())(e.r,16),this.s=new(z())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Lr=Br;function Vr(){this.place=0}function zr(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var o=0,i=0,s=t.place;i<n;i++,s++)o<<=8,o|=e[s],o>>>=0;return!(o<=127)&&(t.place=s,o)}function Hr(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function jr(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Br.prototype._importDER=function(e,t){e=gr.toArray(e,t);var r=new Vr;if(48!==e[r.place++])return!1;var n=zr(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var o=zr(e,r);if(!1===o)return!1;var i=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var s=zr(e,r);if(!1===s)return!1;if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===i[0]){if(!(128&i[1]))return!1;i=i.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(z())(i),this.s=new(z())(a),this.recoveryParam=null,!0},Br.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=Hr(t),r=Hr(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];jr(n,t.length),(n=n.concat(t)).push(2),jr(n,r.length);var o=n.concat(r),i=[48];return jr(i,o.length),i=i.concat(o),gr.encode(i,e)};var Gr=function(){throw new Error("unsupported")},Ur=gr.assert;function qr(e){if(!(this instanceof qr))return new qr(e);"string"==typeof e&&(Ur(Object.prototype.hasOwnProperty.call(Mr,e),"Unknown curve "+e),e=Mr[e]),e instanceof Mr.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Wr=qr;qr.prototype.keyPair=function(e){return new Nr(this,e)},qr.prototype.keyFromPrivate=function(e,t){return Nr.fromPrivate(this,e,t)},qr.prototype.keyFromPublic=function(e,t){return Nr.fromPublic(this,e,t)},qr.prototype.genKeyPair=function(e){e||(e={});for(var t=new Or({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Gr(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(z())(2));;){var o=new(z())(t.generate(r));if(!(o.cmp(n)>0))return o.iaddn(1),this.keyFromPrivate(o)}},qr.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},qr.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(z())(e,16));for(var o=this.n.byteLength(),i=t.getPrivate().toArray("be",o),s=e.toArray("be",o),a=new Or({hash:this.hash,entropy:i,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),l=this.n.sub(new(z())(1)),c=0;;c++){var h=n.k?n.k(c):new(z())(a.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(l)>=0)){var d=this.g.mul(h);if(!d.isInfinity()){var u=d.getX(),p=u.umod(this.n);if(0!==p.cmpn(0)){var f=h.invm(this.n).mul(p.mul(t.getPrivate()).iadd(e));if(0!==(f=f.umod(this.n)).cmpn(0)){var m=(d.getY().isOdd()?1:0)|(0!==u.cmp(p)?2:0);return n.canonical&&f.cmp(this.nh)>0&&(f=this.n.sub(f),m^=1),new Lr({r:p,s:f,recoveryParam:m})}}}}}},qr.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(z())(e,16)),r=this.keyFromPublic(r,n);var o=(t=new Lr(t,"hex")).r,i=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;var s,a=i.invm(this.n),l=a.mul(e).umod(this.n),c=a.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,r.getPublic(),c)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(l,r.getPublic(),c)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},qr.prototype.recoverPubKey=function(e,t,r,n){Ur((3&r)===r,"The recovery param is more than two bits"),t=new Lr(t,n);var o=this.n,i=new(z())(e),s=t.r,a=t.s,l=1&r,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");s=c?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var h=t.r.invm(o),d=o.sub(i).mul(h).umod(o),u=a.mul(h).umod(o);return this.g.mulAdd(d,s,u)},qr.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Lr(t,n)).recoveryParam)return t.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(e,t,o)}catch(e){continue}if(i.eq(r))return o}throw new Error("Unable to find valid recovery factor")};var $r=ur((function(e,t){var r=t;r.version="6.5.4",r.utils=gr,r.rand=function(){throw new Error("unsupported")},r.curve=Pr,r.curves=Mr,r.ec=Wr,r.eddsa=null})).ec;const Zr=new v("signing-key/5.7.0");let Kr=null;function Yr(){return Kr||(Kr=new $r("secp256k1")),Kr}class Xr{constructor(e){ee(this,"curve","secp256k1"),ee(this,"privateKey",M(e)),32!==D(this.privateKey)&&Zr.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Yr().keyFromPrivate(_(this.privateKey));ee(this,"publicKey","0x"+t.getPublic(!1,"hex")),ee(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ee(this,"_isSigningKey",!0)}_addPoint(e){const t=Yr().keyFromPublic(_(this.publicKey)),r=Yr().keyFromPublic(_(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=Yr().keyFromPrivate(_(this.privateKey)),r=_(e);32!==r.length&&Zr.throwArgumentError("bad digest length","digest",e);const n=t.sign(r,{canonical:!0});return B({recoveryParam:n.recoveryParam,r:F("0x"+n.r.toString(16),32),s:F("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=Yr().keyFromPrivate(_(this.privateKey)),r=Yr().keyFromPublic(_(Qr(e)));return F("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function Jr(e,t){const r=B(t),n={r:_(r.r),s:_(r.s)};return"0x"+Yr().recoverPubKey(_(e),n,r.recoveryParam).encode("hex",!1)}function Qr(e,t){const r=_(e);if(32===r.length){const e=new Xr(r);return t?"0x"+Yr().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?M(r):"0x"+Yr().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+Yr().keyFromPublic(r).getPublic(!0,"hex"):M(r):Zr.throwArgumentError("invalid public or private key","key","[REDACTED]")}const en=new v("transactions/5.7.0");var tn;function rn(e){return"0x"===e?null:Ie(e)}function nn(e){return"0x"===e?ct:$.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(tn||(tn={}));const on=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],sn={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function an(e){return Ie(O(ye(O(Qr(e),1)),12))}function ln(e,t){return an(Jr(_(e),t))}function cn(e,t){const r=A($.from(e).toHexString());return r.length>32&&en.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function hn(e,t){return{address:Ie(e),storageKeys:(t||[]).map(((t,r)=>(32!==D(t)&&en.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase())))}}function dn(e){if(Array.isArray(e))return e.map(((e,t)=>Array.isArray(e)?(e.length>2&&en.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),hn(e[0],e[1])):hn(e.address,e.storageKeys)));const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return hn(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function un(e){return dn(e).map((e=>[e.address,e.storageKeys]))}function pn(e,t){if(null!=e.gasPrice){const t=$.from(e.gasPrice),r=$.from(e.maxFeePerGas||0);t.eq(r)||en.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}const r=[cn(e.chainId||0,"chainId"),cn(e.nonce||0,"nonce"),cn(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),cn(e.maxFeePerGas||0,"maxFeePerGas"),cn(e.gasLimit||0,"gasLimit"),null!=e.to?Ie(e.to):"0x",cn(e.value||0,"value"),e.data||"0x",un(e.accessList||[])];if(t){const e=B(t);r.push(cn(e.recoveryParam,"recoveryParam")),r.push(A(e.r)),r.push(A(e.s))}return I(["0x02",Se(r)])}function fn(e,t){const r=[cn(e.chainId||0,"chainId"),cn(e.nonce||0,"nonce"),cn(e.gasPrice||0,"gasPrice"),cn(e.gasLimit||0,"gasLimit"),null!=e.to?Ie(e.to):"0x",cn(e.value||0,"value"),e.data||"0x",un(e.accessList||[])];if(t){const e=B(t);r.push(cn(e.recoveryParam,"recoveryParam")),r.push(A(e.r)),r.push(A(e.s))}return I(["0x01",Se(r)])}function mn(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&en.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),function(e,t){ne(e,sn);const r=[];on.forEach((function(t){let n=e[t.name]||[];const o={};t.numeric&&(o.hexPad="left"),n=_(M(n,o)),t.length&&n.length!==t.length&&n.length>0&&en.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=A(n),n.length>t.maxLength&&en.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n)),r.push(M(n))}));let n=0;if(null!=e.chainId?(n=e.chainId,"number"!=typeof n&&en.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!x(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push(M(n)),r.push("0x"),r.push("0x")),!t)return Se(r);const o=B(t);let i=27+o.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),i+=2*n+8,o.v>28&&o.v!==i&&en.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):o.v!==i&&en.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push(M(i)),r.push(A(_(o.r))),r.push(A(_(o.s))),Se(r)}(e,t);switch(e.type){case 1:return fn(e,t);case 2:return pn(e,t)}return en.throwError(`unsupported transaction type: ${e.type}`,v.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function gn(e,t,r){try{const r=nn(t[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");e.v=r}catch(e){en.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=F(t[1],32),e.s=F(t[2],32);try{const t=ye(r(e));e.from=ln(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function vn(e){const t=_(e);if(t[0]>127)return function(e){const t=Ae(e);9!==t.length&&6!==t.length&&en.throwArgumentError("invalid raw transaction","rawTransaction",e);const r={nonce:nn(t[0]).toNumber(),gasPrice:nn(t[1]),gasLimit:nn(t[2]),to:rn(t[3]),value:nn(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=$.from(t[6]).toNumber()}catch(e){return r}if(r.r=F(t[7],32),r.s=F(t[8],32),$.from(r.r).isZero()&&$.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const o=t.slice(0,6);0!==r.chainId&&(o.push(M(r.chainId)),o.push("0x"),o.push("0x"),n-=2*r.chainId+8);const i=ye(Se(o));try{r.from=ln(i,{r:M(r.r),s:M(r.s),recoveryParam:n})}catch(e){}r.hash=ye(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){const t=Ae(e.slice(1));8!==t.length&&11!==t.length&&en.throwArgumentError("invalid component count for transaction type: 1","payload",M(e));const r={type:1,chainId:nn(t[0]).toNumber(),nonce:nn(t[1]).toNumber(),gasPrice:nn(t[2]),gasLimit:nn(t[3]),to:rn(t[4]),value:nn(t[5]),data:t[6],accessList:dn(t[7])};return 8===t.length||(r.hash=ye(e),gn(r,t.slice(8),fn)),r}(t);case 2:return function(e){const t=Ae(e.slice(1));9!==t.length&&12!==t.length&&en.throwArgumentError("invalid component count for transaction type: 2","payload",M(e));const r=nn(t[2]),n=nn(t[3]),o={type:2,chainId:nn(t[0]).toNumber(),nonce:nn(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:nn(t[4]),to:rn(t[5]),value:nn(t[6]),data:t[7],accessList:dn(t[8])};return 9===t.length||(o.hash=ye(e),gn(o,t.slice(9),pn)),o}(t)}return en.throwError(`unsupported transaction type: ${t[0]}`,v.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}var yn=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const bn=new v("contracts/5.7.0"),wn={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function xn(e,t){return yn(this,void 0,void 0,(function*(){const r=yield t;"string"!=typeof r&&bn.throwArgumentError("invalid address or ENS name","name",r);try{return Ie(r)}catch(e){}e||bn.throwError("a provider or signer is needed to resolve ENS names",v.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield e.resolveName(r);return null==n&&bn.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n}))}function En(e,t,r){return yn(this,void 0,void 0,(function*(){return Array.isArray(r)?yield Promise.all(r.map(((r,n)=>En(e,Array.isArray(t)?t[n]:t[r.name],r)))):"address"===r.type?yield xn(e,t):"tuple"===r.type?yield En(e,t,r.components):"array"===r.baseType?Array.isArray(t)?yield Promise.all(t.map((t=>En(e,t,r.arrayChildren)))):Promise.reject(bn.makeError("invalid value for array",v.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t}))}function Sn(e,t,r){return yn(this,void 0,void 0,(function*(){let n={};r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=oe(r.pop())),bn.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from?n.from=re({override:xn(e.signer,n.from),signer:e.signer.getAddress()}).then((e=>yn(this,void 0,void 0,(function*(){return Ie(e.signer)!==e.override&&bn.throwError("Contract with a Signer cannot override from",v.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})))):n.from=e.signer.getAddress():n.from&&(n.from=xn(e.provider,n.from));const o=yield re({args:En(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:re(n)||{}}),i=e.interface.encodeFunctionData(t,o.args),s={data:i,to:o.address},a=o.overrides;if(null!=a.nonce&&(s.nonce=$.from(a.nonce).toNumber()),null!=a.gasLimit&&(s.gasLimit=$.from(a.gasLimit)),null!=a.gasPrice&&(s.gasPrice=$.from(a.gasPrice)),null!=a.maxFeePerGas&&(s.maxFeePerGas=$.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=$.from(a.maxPriorityFeePerGas)),null!=a.from&&(s.from=a.from),null!=a.type&&(s.type=a.type),null!=a.accessList&&(s.accessList=dn(a.accessList)),null==s.gasLimit&&null!=t.gas){let e=21e3;const r=_(i);for(let t=0;t<r.length;t++)e+=4,r[t]&&(e+=64);s.gasLimit=$.from(t.gas).add(e)}if(a.value){const e=$.from(a.value);e.isZero()||t.payable||bn.throwError("non-payable method cannot override value",v.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=e}a.customData&&(s.customData=oe(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter((e=>null!=n[e]));return l.length&&bn.throwError(`cannot override ${l.map((e=>JSON.stringify(e))).join(",")}`,v.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),s}))}function _n(e,t){const r=t.wait.bind(t);t.wait=t=>r(t).then((t=>(t.events=t.logs.map((r=>{let n=le(r),o=null;try{o=e.interface.parseLog(r)}catch(e){}return o&&(n.args=o.args,n.decode=(t,r)=>e.interface.decodeEventLog(o.eventFragment,t,r),n.event=o.name,n.eventSignature=o.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n})),t)))}function Cn(e,t,r){const n=e.signer||e.provider;return function(...o){return yn(this,void 0,void 0,(function*(){let i;if(o.length===t.inputs.length+1&&"object"==typeof o[o.length-1]){const e=oe(o.pop());null!=e.blockTag&&(i=yield e.blockTag),delete e.blockTag,o.push(e)}null!=e.deployTransaction&&(yield e._deployed(i));const s=yield Sn(e,t,o),a=yield n.call(s,i);try{let n=e.interface.decodeFunctionResult(t,a);return r&&1===t.outputs.length&&(n=n[0]),n}catch(t){throw t.code===v.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=o,t.transaction=s),t}}))}}function An(e,t,r){return t.constant?Cn(e,t,r):function(e,t){return function(...r){return yn(this,void 0,void 0,(function*(){e.signer||bn.throwError("sending a transaction requires a signer",v.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());const n=yield Sn(e,t,r),o=yield e.signer.sendTransaction(n);return _n(e,o),o}))}}(e,t)}function kn(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((e=>Array.isArray(e)?e.join("|"):e)).join(":"):""):"*"}class Tn{constructor(e,t){ee(this,"tag",e),ee(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter((r=>!(!t&&r.listener===e&&(t=!0,1))))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((e=>e.listener))}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter((t=>{const r=e.slice();return setTimeout((()=>{t.listener.apply(this,r)}),0),!t.once})),t}prepareEvent(e){}getEmit(e){return[e]}}class Pn extends Tn{constructor(){super("error",null)}}class Mn extends Tn{constructor(e,t,r,n){const o={address:e};let i=t.getEventTopic(r);n?(i!==n[0]&&bn.throwArgumentError("topic mismatch","topics",n),o.topics=n.slice()):o.topics=[i],super(kn(o),o),ee(this,"address",e),ee(this,"interface",t),ee(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=ue(e.args);if(t.length)throw t[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class Dn extends Tn{constructor(e,t){super("*",{address:e}),ee(this,"address",e),ee(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(e){}}}class On{constructor(e,t,r){ee(this,"interface",te(new.target,"getInterface")(t)),null==r?(ee(this,"provider",null),ee(this,"signer",null)):lr.isSigner(r)?(ee(this,"provider",r.provider||null),ee(this,"signer",r)):nr.isProvider(r)?(ee(this,"provider",r),ee(this,"signer",null)):bn.throwArgumentError("invalid signer or provider","signerOrProvider",r),ee(this,"callStatic",{}),ee(this,"estimateGas",{}),ee(this,"functions",{}),ee(this,"populateTransaction",{}),ee(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach((t=>{const r=this.interface.events[t];ee(this.filters,t,((...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,e)}))),e[r.name]||(e[r.name]=[]),e[r.name].push(t)})),Object.keys(e).forEach((t=>{const r=e[t];1===r.length?ee(this.filters,t,this.filters[r[0]]):bn.warn(`Duplicate definition of ${t} (${r.join(", ")})`)}))}if(ee(this,"_runningEvents",{}),ee(this,"_wrappedEmits",{}),null==e&&bn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ee(this,"address",e),this.provider)ee(this,"resolvedAddress",xn(this.provider,e));else try{ee(this,"resolvedAddress",Promise.resolve(Ie(e)))}catch(e){bn.throwError("provider is required to use ENS name as contract address",v.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((e=>{}));const n={},o={};Object.keys(this.interface.functions).forEach((e=>{const t=this.interface.functions[e];if(o[e])bn.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);else{o[e]=!0;{const r=t.name;n[`%${r}`]||(n[`%${r}`]=[]),n[`%${r}`].push(e)}null==this[e]&&ee(this,e,An(this,t,!0)),null==this.functions[e]&&ee(this.functions,e,An(this,t,!1)),null==this.callStatic[e]&&ee(this.callStatic,e,Cn(this,t,!0)),null==this.populateTransaction[e]&&ee(this.populateTransaction,e,function(e,t){return function(...r){return Sn(e,t,r)}}(this,t)),null==this.estimateGas[e]&&ee(this.estimateGas,e,function(e,t){const r=e.signer||e.provider;return function(...n){return yn(this,void 0,void 0,(function*(){r||bn.throwError("estimate require a provider or signer",v.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const o=yield Sn(e,t,n);return yield r.estimateGas(o)}))}}(this,t))}})),Object.keys(n).forEach((e=>{const t=n[e];if(t.length>1)return;e=e.substring(1);const r=t[0];try{null==this[e]&&ee(this,e,this[r])}catch(e){}null==this.functions[e]&&ee(this.functions,e,this.functions[r]),null==this.callStatic[e]&&ee(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&ee(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&ee(this.estimateGas,e,this.estimateGas[r])}))}static getContractAddress(e){return Fe(e)}static getInterface(e){return er.isInterface(e)?e:new er(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,e).then((e=>("0x"===e&&bn.throwError("contract not deployed",v.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(e){this.signer||bn.throwError("sending a transactions require a signer",v.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=oe(e||{});return["from","to"].forEach((function(e){null!=t[e]&&bn.throwError("cannot override "+e,v.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(t)))}connect(e){"string"==typeof e&&(e=new cr(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ee(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Xt.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new Pn);if("event"===e)return this._normalizeRunningEvent(new Tn("event",null));if("*"===e)return this._normalizeRunningEvent(new Dn(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Mn(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if("string"!=typeof t)throw new Error("invalid topic");const r=this.interface.getEvent(t);return this._normalizeRunningEvent(new Mn(this.address,this.interface,r,e.topics))}catch(e){}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Tn(kn(t),t))}return this._normalizeRunningEvent(new Dn(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){const n=le(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||bn.throwError("events require a provider or a signer with a provider",v.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const r=r=>{let n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{const t=e.getEmit(n);this.emit(e.filter,...t)}catch(e){n.decodeError=e.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=r,null!=e.filter&&this.provider.on(e.filter,r)}}queryFilter(e,t,r){const n=this._getRunningEvent(e),o=oe(n.filter);return"string"==typeof t&&T(t,32)?(null!=r&&bn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),o.blockHash=t):(o.fromBlock=null!=t?t:0,o.toBlock=null!=r?r:"latest"),this.provider.getLogs(o).then((e=>e.map((e=>this._wrapEvent(n,e,null)))))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const r=this._getRunningEvent(e),n=r.run(t)>0;return this._checkRunningEvents(r),n}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce(((e,t)=>e+this._runningEvents[t].listenerCount()),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){const e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach((t=>{e.push(t)}));return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class In extends On{}class Rn{constructor(e,t,r){let n=null;n="string"==typeof t?t:S(t)?M(t):t&&"string"==typeof t.object?t.object:"!","0x"!==n.substring(0,2)&&(n="0x"+n),(!T(n)||n.length%2)&&bn.throwArgumentError("invalid bytecode","bytecode",t),r&&!lr.isSigner(r)&&bn.throwArgumentError("invalid signer","signer",r),ee(this,"bytecode",n),ee(this,"interface",te(new.target,"getInterface")(e)),ee(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1]){t=oe(e.pop());for(const e in t)if(!wn[e])throw new Error("unknown transaction override "+e)}return["data","from","to"].forEach((e=>{null!=t[e]&&bn.throwError("cannot override "+e,v.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.value&&($.from(t.value).isZero()||this.interface.deploy.payable||bn.throwError("non-payable constructor cannot override value",v.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})),bn.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=M(C([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return yn(this,void 0,void 0,(function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),bn.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const r=yield En(this.signer,e,this.interface.deploy.inputs);r.push(t);const n=this.getDeployTransaction(...r),o=yield this.signer.sendTransaction(n),i=te(this.constructor,"getContractAddress")(o),s=te(this.constructor,"getContract")(i,this.interface,this.signer);return _n(s,o),ee(s,"deployTransaction",o),s}))}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){null==e&&bn.throwError("missing compiler output",v.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));const r=e.abi;let n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}static getInterface(e){return In.getInterface(e)}static getContractAddress(e){return Fe(e)}static getContract(e,t,r){return new In(e,t,r)}}const Nn=new v(H),Fn={},Bn=$.from(0),Ln=$.from(-1);function Vn(e,t,r,n){const o={fault:t,operation:r};return void 0!==n&&(o.value=n),Nn.throwError(e,v.errors.NUMERIC_FAULT,o)}let zn="0";for(;zn.length<256;)zn+=zn;function Hn(e){if("number"!=typeof e)try{e=$.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+zn.substring(0,e):Nn.throwArgumentError("invalid decimal size","decimals",e)}function jn(e,t){null==t&&(t=0);const r=Hn(t),n=(e=$.from(e)).lt(Bn);n&&(e=e.mul(Ln));let o=e.mod(r).toString();for(;o.length<r.length-1;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];const i=e.div(r).toString();return e=1===r.length?i:i+"."+o,n&&(e="-"+e),e}function Gn(e,t){null==t&&(t=0);const r=Hn(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||Nn.throwArgumentError("invalid decimal value","value",e);const n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&Nn.throwArgumentError("missing value","value",e);const o=e.split(".");o.length>2&&Nn.throwArgumentError("too many decimal points","value",e);let i=o[0],s=o[1];for(i||(i="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>r.length-1&&Vn("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<r.length-1;)s+="0";const a=$.from(i),l=$.from(s);let c=a.mul(r).add(l);return n&&(c=c.mul(Ln)),c}class Un{constructor(e,t,r,n){e!==Fn&&Nn.throwError("cannot use FixedFormat constructor; use FixedFormat.from",v.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=Hn(n),Object.freeze(this)}static from(e){if(e instanceof Un)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||Nn.throwArgumentError("invalid fixed format","format",e),t="u"!==o[1],r=parseInt(o[2]),n=parseInt(o[3])}else if(e){const o=(t,r,n)=>null==e[t]?n:(typeof e[t]!==r&&Nn.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=o("signed","boolean",t),r=o("width","number",r),n=o("decimals","number",n)}return r%8&&Nn.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&Nn.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Un(Fn,t,r,n)}}class qn{constructor(e,t,r,n){e!==Fn&&Nn.throwError("cannot use FixedNumber constructor; use FixedNumber.from",v.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Nn.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Gn(this._value,this.format.decimals),r=Gn(e._value,e.format.decimals);return qn.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Gn(this._value,this.format.decimals),r=Gn(e._value,e.format.decimals);return qn.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Gn(this._value,this.format.decimals),r=Gn(e._value,e.format.decimals);return qn.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Gn(this._value,this.format.decimals),r=Gn(e._value,e.format.decimals);return qn.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=qn.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(Wn.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=qn.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(Wn.toFormat(t.format))),t}round(e){null==e&&(e=0);const t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&Nn.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const r=qn.from("1"+zn.substring(0,e),this.format),n=$n.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){return null==e?this._hex:(e%8&&Nn.throwArgumentError("invalid byte width","width",e),F($.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8))}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return qn.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||function(e){return null!=e&&($.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||T(e)||"bigint"==typeof e||S(e))}(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),qn.fromString(jn(e,t),Un.from(r))}static fromString(e,t){null==t&&(t="fixed");const r=Un.from(t),n=Gn(e,r.decimals);!r.signed&&n.lt(Bn)&&Vn("unsigned value cannot be negative","overflow","value",e);let o=null;r.signed?o=n.toTwos(r.width).toHexString():(o=n.toHexString(),o=F(o,r.width/8));const i=jn(n,r.decimals);return new qn(Fn,o,i,r)}static fromBytes(e,t){null==t&&(t="fixed");const r=Un.from(t);if(_(e).length>r.width/8)throw new Error("overflow");let n=$.from(e);r.signed&&(n=n.fromTwos(r.width));const o=n.toTwos((r.signed?0:1)+r.width).toHexString(),i=jn(n,r.decimals);return new qn(Fn,o,i,r)}static from(e,t){if("string"==typeof e)return qn.fromString(e,t);if(S(e))return qn.fromBytes(e,t);try{return qn.fromValue(e,0,t)}catch(e){if(e.code!==v.errors.INVALID_ARGUMENT)throw e}return Nn.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!(!e||!e._isFixedNumber)}}const Wn=qn.from(1),$n=qn.from("0.5"),Zn="Ethereum Signed Message:\n";function Kn(e){return"string"==typeof e&&(e=Ue(e)),ye(C([Ue(Zn),Ue(String(e.length)),e]))}const Yn="hash/5.7.0";const Xn=new v(Yn),Jn=new Uint8Array(32);Jn.fill(0);const Qn=$.from(-1),eo=$.from(0),to=$.from(1),ro=$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),no=F(to.toHexString(),32),oo=F(eo.toHexString(),32),io={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},so=["name","version","chainId","verifyingContract","salt"];function ao(e){return function(t){return"string"!=typeof t&&Xn.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const lo={name:ao("name"),version:ao("version"),chainId:function(e){try{return $.from(e).toString()}catch(e){}return Xn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return Ie(e).toLowerCase()}catch(e){}return Xn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=_(e);if(32!==t.length)throw new Error("bad length");return M(t)}catch(e){}return Xn.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function co(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&Xn.throwArgumentError("invalid numeric width","type",e);const o=ro.mask(r?n-1:n),i=r?o.add(to).mul(Qn):eo;return function(t){const r=$.from(t);return(r.lt(i)||r.gt(o))&&Xn.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),F(r.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&Xn.throwArgumentError("invalid bytes width","type",e),function(t){return _(t).length!==r&&Xn.throwArgumentError(`invalid length for ${e}`,"value",t),function(e){const t=_(e),r=t.length%32;return r?I([t,Jn.slice(r)]):M(t)}(t)}}}switch(e){case"address":return function(e){return F(Ie(e),32)};case"bool":return function(e){return e?no:oo};case"bytes":return function(e){return ye(e)};case"string":return function(e){return Ye(e)}}return null}function ho(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class uo{constructor(e){ee(this,"types",Object.freeze(le(e))),ee(this,"_encoderCache",{}),ee(this,"_types",{});const t={},r={},n={};Object.keys(e).forEach((e=>{t[e]={},r[e]=[],n[e]={}}));for(const n in e){const o={};e[n].forEach((i=>{o[i.name]&&Xn.throwArgumentError(`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(n)}`,"types",e),o[i.name]=!0;const s=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===n&&Xn.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e),co(s)||(r[s]||Xn.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),r[s].push(n),t[n][s]=!0)}))}const o=Object.keys(r).filter((e=>0===r[e].length));0===o.length?Xn.throwArgumentError("missing primary type","types",e):o.length>1&&Xn.throwArgumentError(`ambiguous primary types or unused types: ${o.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),ee(this,"primaryType",o[0]),function o(i,s){s[i]&&Xn.throwArgumentError(`circular type reference to ${JSON.stringify(i)}`,"types",e),s[i]=!0,Object.keys(t[i]).forEach((e=>{r[e]&&(o(e,s),Object.keys(s).forEach((t=>{n[t][e]=!0})))})),delete s[i]}(this.primaryType,{});for(const t in n){const r=Object.keys(n[t]);r.sort(),this._types[t]=ho(t,e[t])+r.map((t=>ho(t,e[t]))).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const t=co(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&Xn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let o=t.map(r);return this._types[e]&&(o=o.map(ye)),ye(I(o))}}const r=this.types[e];if(r){const t=Ye(this._types[e]);return e=>{const n=r.map((({name:t,type:r})=>{const n=this.getEncoder(r)(e[t]);return this._types[r]?ye(n):n}));return n.unshift(t),I(n)}}return Xn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Xn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return ye(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(co(e))return r(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const e=n[1],o=parseInt(n[3]);return o>=0&&t.length!==o&&Xn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((t=>this._visit(e,t,r)))}const o=this.types[e];return o?o.reduce(((e,{name:n,type:o})=>(e[n]=this._visit(o,t[n],r),e)),{}):Xn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new uo(e)}static getPrimaryType(e){return uo.from(e).primaryType}static hashStruct(e,t,r){return uo.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const n=io[r];n||Xn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort(((e,t)=>so.indexOf(e.name)-so.indexOf(t.name))),uo.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return I(["0x1901",uo.hashDomain(e),uo.from(t).hash(r)])}static hash(e,t,r){return ye(uo.encode(e,t,r))}static resolveNames(e,t,r,n){return o=this,i=void 0,a=function*(){e=oe(e);const o={};e.verifyingContract&&!T(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const i=uo.from(t);i.visit(r,((e,t)=>("address"!==e||T(t,20)||(o[t]="0x"),t)));for(const e in o)o[e]=yield n(e);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=i.visit(r,((e,t)=>"address"===e&&o[t]?o[t]:t)),{domain:e,value:r}},new((s=void 0)||(s=Promise))((function(e,t){function r(e){try{l(a.next(e))}catch(e){t(e)}}function n(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(r,n)}l((a=a.apply(o,i||[])).next())}));var o,i,s,a}static getPayload(e,t,r){uo.hashDomain(e);const n={},o=[];so.forEach((t=>{const r=e[t];null!=r&&(n[t]=lo[t](r),o.push({name:t,type:io[t]}))}));const i=uo.from(t),s=oe(t);return s.EIP712Domain?Xn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=o,i.encode(r),{types:s,domain:n,primaryType:i.primaryType,message:i.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return M(_(t));if(e.match(/^u?int/))return $.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&Xn.throwArgumentError("invalid string","value",t),t}return Xn.throwArgumentError("unsupported type","type",e)}))}}}class po{constructor(e){ee(this,"alphabet",e),ee(this,"base",e.length),ee(this,"_alphabetMap",{}),ee(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=_(e);if(0===t.length)return"";let r=[0];for(let e=0;e<t.length;++e){let n=t[e];for(let e=0;e<r.length;++e)n+=r[e]<<8,r[e]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let e=0;0===t[e]&&e<t.length-1;++e)n+=this._leader;for(let e=r.length-1;e>=0;--e)n+=this.alphabet[r[e]];return n}decode(e){if("string"!=typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let o=n;for(let e=0;e<t.length;++e)o+=t[e]*this.base,t[e]=255&o,o>>=8;for(;o>0;)t.push(255&o),o>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return _(new Uint8Array(t.reverse()))}}new po("abcdefghijklmnopqrstuvwxyz234567");const fo=new po("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var mo;!function(e){e.sha256="sha256",e.sha512="sha512"}(mo||(mo={}));const go=new v("sha2/5.7.0");function vo(e){return"0x"+dr().ripemd160().update(_(e)).digest("hex")}function yo(e){return"0x"+dr().sha256().update(_(e)).digest("hex")}function bo(e){return"0x"+dr().sha512().update(_(e)).digest("hex")}function wo(e,t,r){return mo[e]||go.throwError("unsupported algorithm "+e,v.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+dr().hmac(dr()[e],_(t)).update(_(r)).digest("hex")}function xo(e,t,r,n,o){let i;e=_(e),t=_(t);let s=1;const a=new Uint8Array(n),l=new Uint8Array(t.length+4);let c,h;l.set(t);for(let d=1;d<=s;d++){l[t.length]=d>>24&255,l[t.length+1]=d>>16&255,l[t.length+2]=d>>8&255,l[t.length+3]=255&d;let u=_(wo(o,e,l));i||(i=u.length,h=new Uint8Array(i),s=Math.ceil(n/i),c=n-(s-1)*i),h.set(u);for(let t=1;t<r;t++){u=_(wo(o,e,u));for(let e=0;e<i;e++)h[e]^=u[e]}const p=(d-1)*i,f=d===s?c:i;a.set(_(h).slice(0,f),p)}return M(a)}const Eo=new v("wordlists/5.7.0");class So{constructor(e){Eo.checkAbstract(new.target,So),ee(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let r=0;r<2048;r++){const n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return Ye(t.join("\n")+"\n")}static register(e,t){t||(t=e.locale)}}let _o=null;function Co(e){if(null==_o&&(_o="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==So.check(e)))throw _o=null,new Error("BIP39 Wordlist for en (English) FAILED")}const Ao=new class extends So{constructor(){super("en")}getWord(e){return Co(this),_o[e]}getWordIndex(e){return Co(this),_o.indexOf(e)}};So.register(Ao);const ko={en:Ao},To=new v("hdnode/5.7.0"),Po=$.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Mo=Ue("Bitcoin seed"),Do=2147483648;function Oo(e){return(1<<e)-1<<8-e}function Io(e){return F(M(e),32)}function Ro(e){return fo.encode(C([e,O(yo(yo(e)),0,4)]))}function No(e){if(null==e)return ko.en;if("string"==typeof e){const t=ko[e];return null==t&&To.throwArgumentError("unknown locale","wordlist",e),t}return e}const Fo={},Bo="m/44'/60'/0'/0/0";class Lo{constructor(e,t,r,n,o,i,s,a){if(e!==Fo)throw new Error("HDNode constructor cannot be called directly");if(t){const e=new Xr(t);ee(this,"privateKey",e.privateKey),ee(this,"publicKey",e.compressedPublicKey)}else ee(this,"privateKey",null),ee(this,"publicKey",M(r));ee(this,"parentFingerprint",n),ee(this,"fingerprint",O(vo(yo(this.publicKey)),0,4)),ee(this,"address",an(this.publicKey)),ee(this,"chainCode",o),ee(this,"index",i),ee(this,"depth",s),null==a?(ee(this,"mnemonic",null),ee(this,"path",null)):"string"==typeof a?(ee(this,"mnemonic",null),ee(this,"path",a)):(ee(this,"mnemonic",a),ee(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Ro(C([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",M(this.depth),this.parentFingerprint,F(M(this.index),4),this.chainCode,null!=this.privateKey?C(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Lo(Fo,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~Do));const r=new Uint8Array(37);if(e&Do){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(_(this.privateKey),1),t&&(t+="'")}else r.set(_(this.publicKey));for(let t=24;t>=0;t-=8)r[33+(t>>3)]=e>>24-t&255;const n=_(wo(mo.sha512,this.chainCode,r)),o=n.slice(0,32),i=n.slice(32);let s=null,a=null;this.privateKey?s=Io($.from(o).add(this.privateKey).mod(Po)):a=new Xr(M(o))._addPoint(this.publicKey);let l=t;const c=this.mnemonic;return c&&(l=Object.freeze({phrase:c.phrase,path:t,locale:c.locale||"en"})),new Lo(Fo,s,a,this.fingerprint,Io(i),e,this.depth+1,l)}derivePath(e){const t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();let r=this;for(let e=0;e<t.length;e++){const n=t[e];if(n.match(/^[0-9]+'$/)){const e=parseInt(n.substring(0,n.length-1));if(e>=Do)throw new Error("invalid path index - "+n);r=r._derive(Do+e)}else{if(!n.match(/^[0-9]+$/))throw new Error("invalid path component - "+n);{const e=parseInt(n);if(e>=Do)throw new Error("invalid path index - "+n);r=r._derive(e)}}}return r}static _fromSeed(e,t){const r=_(e);if(r.length<16||r.length>64)throw new Error("invalid seed");const n=_(wo(mo.sha512,Mo,r));return new Lo(Fo,Io(n.slice(0,32)),null,"0x00000000",Io(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return e=Ho(zo(e,r=No(r)),r),Lo._fromSeed(Vo(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return Lo._fromSeed(e,null)}static fromExtendedKey(e){const t=fo.decode(e);82===t.length&&Ro(t.slice(0,78))===e||To.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=t[4],n=M(t.slice(5,9)),o=parseInt(M(t.slice(9,13)).substring(2),16),i=M(t.slice(13,45)),s=t.slice(45,78);switch(M(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Lo(Fo,null,M(s),n,i,o,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new Lo(Fo,M(s.slice(1)),null,n,i,o,r,null)}return To.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Vo(e,t){t||(t="");const r=Ue("mnemonic"+t,Ve.NFKD);return xo(Ue(e,Ve.NFKD),r,2048,64,"sha512")}function zo(e,t){t=No(t),To.checkNormalize();const r=t.split(e);if(r.length%3!=0)throw new Error("invalid mnemonic");const n=_(new Uint8Array(Math.ceil(11*r.length/8)));let o=0;for(let e=0;e<r.length;e++){let i=t.getWordIndex(r[e].normalize("NFKD"));if(-1===i)throw new Error("invalid mnemonic");for(let e=0;e<11;e++)i&1<<10-e&&(n[o>>3]|=1<<7-o%8),o++}const i=32*r.length/3,s=Oo(r.length/3);if((_(yo(n.slice(0,i/8)))[0]&s)!=(n[n.length-1]&s))throw new Error("invalid checksum");return M(n.slice(0,i/8))}function Ho(e,t){if(t=No(t),(e=_(e)).length%4!=0||e.length<16||e.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let t=0;t<e.length;t++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[t],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[t]>>8-n,r.push(e[t]&(1<<8-n)-1),n+=3);const o=e.length/4,i=_(yo(e))[0]&Oo(o);return r[r.length-1]<<=o,r[r.length-1]|=i>>8-o,t.join(r.map((e=>t.getWord(e))))}function jo(e,t){try{return zo(e,t),!0}catch(e){}return!1}function Go(e){return("number"!=typeof e||e<0||e>=Do||e%1)&&To.throwArgumentError("invalid account index","index",e),`m/44'/60'/${e}'/0/0`}const Uo=new v("random/5.7.0"),qo=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();let Wo=qo.crypto||qo.msCrypto;function $o(e){(e<=0||e>1024||e%1||e!=e)&&Uo.throwArgumentError("invalid length","length",e);const t=new Uint8Array(e);return Wo.getRandomValues(t),_(t)}Wo&&Wo.getRandomValues||(Uo.warn("WARNING: Missing strong random number source"),Wo={getRandomValues:function(e){return Uo.throwError("no secure random source avaialble",v.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var Zo=r(8826),Ko=r.n(Zo),Yo=r(7635),Xo=r.n(Yo);function Jo(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),_(e)}function Qo(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function ei(e){return"string"==typeof e?Ue(e,Ve.NFKC):_(e)}function ti(e,t){let r=e;const n=t.toLowerCase().split("/");for(let e=0;e<n.length;e++){let t=null;for(const o in r)if(o.toLowerCase()===n[e]){t=r[o];break}if(null===t)return null;r=t}return r}function ri(e){const t=_(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const r=M(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const ni="json-wallets/5.7.0";const oi=new v(ni);function ii(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class si extends ce{isKeystoreAccount(e){return!(!e||!e._isKeystoreAccount)}}function ai(e,t){const r=Jo(ti(e,"crypto/ciphertext"));if(M(ye(C([t.slice(16,32),r]))).substring(2)!==ti(e,"crypto/mac").toLowerCase())throw new Error("invalid password");const n=function(e,t,r){if("aes-128-ctr"===ti(e,"crypto/cipher")){const n=Jo(ti(e,"crypto/cipherparams/iv")),o=new(Ko().Counter)(n);return _(new(Ko().ModeOfOperation.ctr)(t,o).decrypt(r))}return null}(e,t.slice(0,16),r);n||oi.throwError("unsupported cipher",v.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const o=t.slice(32,64),i=an(n);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),Ie(t)!==i)throw new Error("address mismatch")}const s={_isKeystoreAccount:!0,address:i,privateKey:M(n)};if("0.1"===ti(e,"x-ethers/version")){const t=Jo(ti(e,"x-ethers/mnemonicCiphertext")),r=Jo(ti(e,"x-ethers/mnemonicCounter")),n=new(Ko().Counter)(r),i=new(Ko().ModeOfOperation.ctr)(o,n),a=ti(e,"x-ethers/path")||Bo,l=ti(e,"x-ethers/locale")||"en",c=_(i.decrypt(t));try{const e=Ho(c,l),t=Lo.fromMnemonic(e,null,l).derivePath(a);if(t.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=t.mnemonic}catch(e){if(e.code!==v.errors.INVALID_ARGUMENT||"wordlist"!==e.argument)throw e}}return new si(s)}function li(e,t,r,n,o){return _(xo(e,t,r,n,o))}function ci(e,t,r,n,o){return Promise.resolve(li(e,t,r,n,o))}function hi(e,t,r,n,o){const i=ei(t),s=ti(e,"crypto/kdf");if(s&&"string"==typeof s){const t=function(e,t){return oi.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===s.toLowerCase()){const r=Jo(ti(e,"crypto/kdfparams/salt")),a=parseInt(ti(e,"crypto/kdfparams/n")),l=parseInt(ti(e,"crypto/kdfparams/r")),c=parseInt(ti(e,"crypto/kdfparams/p"));a&&l&&c||t("kdf",s),0!=(a&a-1)&&t("N",a);const h=parseInt(ti(e,"crypto/kdfparams/dklen"));return 32!==h&&t("dklen",h),n(i,r,a,l,c,64,o)}if("pbkdf2"===s.toLowerCase()){const n=Jo(ti(e,"crypto/kdfparams/salt"));let o=null;const s=ti(e,"crypto/kdfparams/prf");"hmac-sha256"===s?o="sha256":"hmac-sha512"===s?o="sha512":t("prf",s);const a=parseInt(ti(e,"crypto/kdfparams/c")),l=parseInt(ti(e,"crypto/kdfparams/dklen"));return 32!==l&&t("dklen",l),r(i,n,a,l,o)}}return oi.throwArgumentError("unsupported key-derivation function","kdf",s)}const di=new v(ni);class ui extends ce{isCrowdsaleAccount(e){return!(!e||!e._isCrowdsaleAccount)}}function pi(e,t){const r=JSON.parse(e);t=ei(t);const n=Ie(ti(r,"ethaddr")),o=Jo(ti(r,"encseed"));o&&o.length%16==0||di.throwArgumentError("invalid encseed","json",e);const i=_(xo(t,t,2e3,32,"sha256")).slice(0,16),s=o.slice(0,16),a=o.slice(16),l=new(Ko().ModeOfOperation.cbc)(i,s),c=Ko().padding.pkcs7.strip(_(l.decrypt(a)));let h="";for(let e=0;e<c.length;e++)h+=String.fromCharCode(c[e]);const d=ye(Ue(h));return new ui({_isCrowdsaleAccount:!0,address:n,privateKey:d})}function fi(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}function mi(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function gi(e){if(fi(e))try{return Ie(JSON.parse(e).ethaddr)}catch(e){return null}if(mi(e))try{return Ie(JSON.parse(e).address)}catch(e){return null}return null}function vi(e,t,r){if(fi(e)){r&&r(0);const n=pi(e,t);return r&&r(1),Promise.resolve(n)}return mi(e)?function(e,t,r){return n=this,o=void 0,s=function*(){const n=JSON.parse(e);return ai(n,yield hi(n,t,ci,Xo().scrypt,r))},new((i=void 0)||(i=Promise))((function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,a)}l((s=s.apply(n,o||[])).next())}));var n,o,i,s}(e,t,r):Promise.reject(new Error("invalid JSON wallet"))}var yi=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const bi=new v("wallet/5.7.0");class wi extends lr{constructor(e,t){if(super(),null!=(r=e)&&T(r.privateKey,32)&&null!=r.address){const t=new Xr(e.privateKey);if(ee(this,"_signingKey",(()=>t)),ee(this,"address",an(this.publicKey)),this.address!==Ie(e.address)&&bi.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){const t=e.mnemonic;return t&&t.phrase}(e)){const t=e.mnemonic;ee(this,"_mnemonic",(()=>({phrase:t.phrase,path:t.path||Bo,locale:t.locale||"en"})));const r=this.mnemonic;an(Lo.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path).privateKey)!==this.address&&bi.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ee(this,"_mnemonic",(()=>null))}else{if(Xr.isSigningKey(e))"secp256k1"!==e.curve&&bi.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ee(this,"_signingKey",(()=>e));else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new Xr(e);ee(this,"_signingKey",(()=>t))}ee(this,"_mnemonic",(()=>null)),ee(this,"address",an(this.publicKey))}var r;t&&!nr.isProvider(t)&&bi.throwArgumentError("invalid provider","provider",t),ee(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new wi(this,e)}signTransaction(e){return re(e).then((t=>{null!=t.from&&(Ie(t.from)!==this.address&&bi.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const r=this._signingKey().signDigest(ye(mn(t)));return mn(t,r)}))}signMessage(e){return yi(this,void 0,void 0,(function*(){return L(this._signingKey().signDigest(Kn(e)))}))}_signTypedData(e,t,r){return yi(this,void 0,void 0,(function*(){const n=yield uo.resolveNames(e,t,r,(e=>(null==this.provider&&bi.throwError("cannot resolve ENS names without a provider",v.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e))));return L(this._signingKey().signDigest(uo.hash(n.domain,t,n.value)))}))}encrypt(e,t,r){if("function"!=typeof t||r||(r=t,t={}),r&&"function"!=typeof r)throw new Error("invalid callback");return t||(t={}),function(e,t,r,n){try{if(Ie(e.address)!==an(e.privateKey))throw new Error("address/privateKey mismatch");if(ii(e)){const t=e.mnemonic;if(Lo.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||Bo).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof r||n||(n=r,r={}),r||(r={});const o=_(e.privateKey),i=ei(t);let s=null,a=null,l=null;if(ii(e)){const t=e.mnemonic;s=_(zo(t.phrase,t.locale||"en")),a=t.path||Bo,l=t.locale||"en"}let c=r.client;c||(c="ethers.js");let h=null;h=r.salt?_(r.salt):$o(32);let d=null;if(r.iv){if(d=_(r.iv),16!==d.length)throw new Error("invalid iv")}else d=$o(16);let u=null;if(r.uuid){if(u=_(r.uuid),16!==u.length)throw new Error("invalid uuid")}else u=$o(16);let p=1<<17,f=8,m=1;return r.scrypt&&(r.scrypt.N&&(p=r.scrypt.N),r.scrypt.r&&(f=r.scrypt.r),r.scrypt.p&&(m=r.scrypt.p)),Xo().scrypt(i,h,p,f,m,64,n).then((t=>{const r=(t=_(t)).slice(0,16),n=t.slice(16,32),i=t.slice(32,64),g=new(Ko().Counter)(d),v=_(new(Ko().ModeOfOperation.ctr)(r,g).encrypt(o)),y=ye(C([n,v])),b={address:e.address.substring(2).toLowerCase(),id:ri(u),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:M(d).substring(2)},ciphertext:M(v).substring(2),kdf:"scrypt",kdfparams:{salt:M(h).substring(2),n:p,dklen:32,p:m,r:f},mac:y.substring(2)}};if(s){const e=$o(16),t=new(Ko().Counter)(e),r=_(new(Ko().ModeOfOperation.ctr)(i,t).encrypt(s)),n=new Date,o=n.getUTCFullYear()+"-"+Qo(n.getUTCMonth()+1,2)+"-"+Qo(n.getUTCDate(),2)+"T"+Qo(n.getUTCHours(),2)+"-"+Qo(n.getUTCMinutes(),2)+"-"+Qo(n.getUTCSeconds(),2)+".0Z";b["x-ethers"]={client:c,gethFilename:"UTC--"+o+"--"+b.address,mnemonicCounter:M(e).substring(2),mnemonicCiphertext:M(r).substring(2),path:a,locale:l,version:"0.1"}}return JSON.stringify(b)}))}(this,e,t,r)}static createRandom(e){let t=$o(16);e||(e={}),e.extraEntropy&&(t=_(O(ye(C([t,e.extraEntropy])),0,16)));const r=Ho(t,e.locale);return wi.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return vi(e,t,r).then((e=>new wi(e)))}static fromEncryptedJsonSync(e,t){return new wi(function(e,t){if(fi(e))return pi(e,t);if(mi(e))return function(e,t){const r=JSON.parse(e);return ai(r,hi(r,t,li,Xo().syncScrypt))}(e,t);throw new Error("invalid JSON wallet")}(e,t))}static fromMnemonic(e,t,r){return t||(t=Bo),new wi(Lo.fromMnemonic(e,null,r).derivePath(t))}}function xi(e,t){return ln(Kn(e),t)}function Ei(e,t,r,n){return ln(uo.hash(e,t,r),n)}const Si="0x0000000000000000000000000000000000000000",_i="0x0000000000000000000000000000000000000000000000000000000000000000",Ci="",Ai=new v("networks/5.7.1");function ki(e){const t=function(t,r){null==r&&(r={});const n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==r.pocket){const o=["goerli","ropsten","rinkeby","sepolia"];try{const i=new t.PocketProvider(e,r.pocket);i.network&&-1===o.indexOf(i.network.name)&&n.push(i)}catch(e){}}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==r.ankr)try{const o=["ropsten"],i=new t.AnkrProvider(e,r.ankr);i.network&&-1===o.indexOf(i.network.name)&&n.push(i)}catch(e){}if(0===n.length)return null;if(t.FallbackProvider){let o=1;return null!=r.quorum?o=r.quorum:"homestead"===e&&(o=2),new t.FallbackProvider(n,o)}return n[0]};return t.renetwork=function(e){return ki(e)},t}function Ti(e,t){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return Ti(e,t)},r}const Pi={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ki("homestead")},Mi={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ki("ropsten")},Di={chainId:63,name:"classicMordor",_defaultProvider:Ti("https://www.ethercluster.com/mordor","classicMordor")},Oi={unspecified:{chainId:0,name:"unspecified"},homestead:Pi,mainnet:Pi,morden:{chainId:2,name:"morden"},ropsten:Mi,testnet:Mi,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ki("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ki("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ki("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ki("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Ti("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Di,classicTestnet:Di,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Ti("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ki("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ki("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Ii(e){if(null==e)return null;if("number"==typeof e){for(const t in Oi){const r=Oi[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){const t=Oi[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}const t=Oi[e.name];if(!t)return"number"!=typeof e.chainId&&Ai.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&Ai.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;var n;return null==r&&t._defaultProvider&&(r=(n=t._defaultProvider)&&"function"==typeof n.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider),{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}function Ri(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return _(t)}function Ni(e){e=_(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function Fi(e,t){null==t&&(t=1);const r=[],n=r.forEach,o=function(e,t){n.call(e,(function(e){t>0&&Array.isArray(e)?o(e,t-1):r.push(e)}))};return o(e,t),r}function Bi(e){return 1&e?~e>>1:e>>1}function Li(e,t){let r=Array(e);for(let n=0,o=-1;n<e;n++)r[n]=o+=1+t();return r}function Vi(e,t){let r=Array(e);for(let n=0,o=0;n<e;n++)r[n]=o+=Bi(t());return r}function zi(e,t){let r=Li(e(),e),n=e(),o=Li(n,e),i=function(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}(n,e);for(let e=0;e<n;e++)for(let t=0;t<i[e];t++)r.push(o[e]+t);return t?r.map((e=>t[e])):r}function Hi(e,t,r){let n=Array(e).fill(void 0).map((()=>[]));for(let o=0;o<t;o++)Vi(e,r).forEach(((e,t)=>n[t].push(e)));return n}function ji(e,t){let r=1+t(),n=t(),o=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(r)}return t}(t);return Fi(Hi(o.length,1+e,t).map(((e,t)=>{const i=e[0],s=e.slice(1);return Array(o[t]).fill(void 0).map(((e,t)=>{let o=t*n;return[i+t*r,s.map((e=>e+o))]}))})))}function Gi(e,t){return Hi(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}const Ui=function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),o=1,i=[0,1];for(let e=1;e<n;e++)i.push(o+=r());let s=r(),a=t;t+=s;let l=0,c=0;function h(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}const d=Math.pow(2,31),u=d>>>1,p=u>>1,f=d-1;let m=0;for(let e=0;e<31;e++)m=m<<1|h();let g=[],v=0,y=d;for(;;){let e=Math.floor(((m-v+1)*o-1)/y),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<i[n]?r=n:t=n}if(0==t)break;g.push(t);let s=v+Math.floor(y*i[t]/o),a=v+Math.floor(y*i[t+1]/o)-1;for(;0==((s^a)&u);)m=m<<1&f|h(),s=s<<1&f,a=a<<1&f|1;for(;s&~a&p;)m=m&u|m<<1&f>>>1|h(),s=s<<1^u,a=(a^u)<<1|u|1;v=s,y=1+a-s}let b=n-4;return g.map((t=>{switch(t-b){case 3:return b+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return b+256+(e[a++]<<8|e[a++]);case 1:return b+e[a++];default:return t-1}}))}(Ri("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))),qi=new Set(zi(Ui)),Wi=new Set(zi(Ui)),$i=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(ji(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(Gi(r,e))}return function(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];t[n[0]]=n[1]}return t}(Fi(t))}(Ui),Zi=function(e){let t=zi(e).sort(((e,t)=>e-t));return function r(){let n=[];for(;;){let o=zi(e,t);if(0==o.length)break;n.push({set:new Set(o),node:r()})}n.sort(((e,t)=>t.set.size-e.set.size));let o=e(),i=o%3;o=o/3|0;let s=!!(1&o);return o>>=1,{branches:n,valid:i,fe0f:s,save:1==o,check:2==o}}()}(Ui),Ki=45,Yi=95;function Xi(e){return Ke(e)}function Ji(e){return e.filter((e=>65039!=e))}function Qi(e){for(let t of e.split(".")){let e=Xi(t);try{for(let t=e.lastIndexOf(Yi)-1;t>=0;t--)if(e[t]!==Yi)throw new Error("underscore only allowed at start");if(e.length>=4&&e.every((e=>e<128))&&e[2]===Ki&&e[3]===Ki)throw new Error("invalid label extension")}catch(e){throw new Error(`Invalid label "${t}": ${e.message}`)}}return e}function es(e,t){var r;let n,o,i=Zi,s=[],a=e.length;for(t&&(t.length=0);a;){let l=e[--a];if(i=null===(r=i.branches.find((e=>e.set.has(l))))||void 0===r?void 0:r.node,!i)break;if(i.save)o=l;else if(i.check&&l===o)break;s.push(l),i.fe0f&&(s.push(65039),a>0&&65039==e[a-1]&&a--),i.valid&&(n=s.slice(),2==i.valid&&n.splice(1,1),t&&t.push(...e.slice(a).reverse()),e.length=a)}return n}const ts=new v(Yn),rs=new Uint8Array(32);function ns(e){if(0===e.length)throw new Error("invalid ENS name; empty component");return e}function os(e){const t=Ue(function(e){return Qi(function(e,t){let r=Xi(e).reverse(),n=[];for(;r.length;){let e=es(r);if(e){n.push(...t(e));continue}let o=r.pop();if(qi.has(o)){n.push(o);continue}if(Wi.has(o))continue;let i=$i[o];if(!i)throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`);n.push(...i)}return Qi(String.fromCodePoint(...n).normalize("NFC"))}(e,Ji))}(e)),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(ns(t.slice(n,e))),n=e+1);if(n>=t.length)throw new Error("invalid ENS name; empty component");return r.push(ns(t.slice(n))),r}function is(e){try{return 0!==os(e).length}catch(e){}return!1}function ss(e){"string"!=typeof e&&ts.throwArgumentError("invalid ENS name; not a string","name",e);let t=rs;const r=os(e);for(;r.length;)t=ye(C([t,ye(r.pop())]));return M(t)}function as(e){return M(C(os(e).map((e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t}))))+"00"}rs.fill(0);var ls=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function cs(e,t){return ls(this,void 0,void 0,(function*(){null==t&&(t={});const r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),null!=t.fetchOptions){const e=t.fetchOptions;e.mode&&(r.mode=e.mode),e.cache&&(r.cache=e.cache),e.credentials&&(r.credentials=e.credentials),e.redirect&&(r.redirect=e.redirect),e.referrer&&(r.referrer=e.referrer)}const n=yield fetch(e,r),o=yield n.arrayBuffer(),i={};return n.headers.forEach?n.headers.forEach(((e,t)=>{i[t.toLowerCase()]=e})):n.headers.keys().forEach((e=>{i[e.toLowerCase()]=n.headers.get(e)})),{headers:i,statusCode:n.status,statusMessage:n.statusText,body:_(new Uint8Array(o))}}))}var hs=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const ds=new v("web/5.7.1");function us(e){return new Promise((t=>{setTimeout(t,e)}))}function ps(e,t){if(null==e)return null;if("string"==typeof e)return e;if(x(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return Ze(e)}catch(e){}return M(e)}return e}function fs(e,t,r){const n="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;ds.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const o="object"==typeof e?e.throttleCallback:null,i="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;ds.assertArgument(i>0&&i%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",i);const s="object"==typeof e&&!!e.errorPassThrough,a={};let l=null;const c={method:"GET"};let h=!1,d=12e4;if("string"==typeof e)l=e;else if("object"==typeof e){if(null!=e&&null!=e.url||ds.throwArgumentError("missing URL","connection.url",e),l=e.url,"number"==typeof e.timeout&&e.timeout>0&&(d=e.timeout),e.headers)for(const t in e.headers)a[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(h=!0);if(c.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==l.substring(0,6)&&!0!==e.allowInsecureAuthentication&&ds.throwError("basic authentication requires a secure https url",v.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:e.user,password:"[REDACTED]"});const t=e.user+":"+e.password;a.authorization={key:"Authorization",value:"Basic "+Ni(Ue(t))}}null!=e.skipFetchSetup&&(c.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(c.fetchOptions=oe(e.fetchOptions))}const u=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),p=l?l.match(u):null;if(p)try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":p[1]||"text/plain"},body:p[2]?Ri(p[3]):(f=p[3],Ue(f.replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))};let t=e.body;return r&&(t=r(e.body,e)),Promise.resolve(t)}catch(e){ds.throwError("processing response error",v.errors.SERVER_ERROR,{body:ps(p[1],p[2]),error:e,requestBody:null,requestMethod:"GET",url:l})}var f;t&&(c.method="POST",c.body=t,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(t.length)}));const m={};Object.keys(a).forEach((e=>{const t=a[e];m[t.key]=t.value})),c.headers=m;const g=function(){let e=null;return{promise:new Promise((function(t,r){d&&(e=setTimeout((()=>{null!=e&&(e=null,r(ds.makeError("timeout",v.errors.TIMEOUT,{requestBody:ps(c.body,m["content-type"]),requestMethod:c.method,timeout:d,url:l})))}),d))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),y=function(){return hs(this,void 0,void 0,(function*(){for(let e=0;e<n;e++){let t=null;try{if(t=yield cs(l,c),e<n)if(301===t.statusCode||302===t.statusCode){const e=t.headers.location||"";if("GET"===c.method&&e.match(/^https:/)){l=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(o&&(r=yield o(e,l)),r){let r=0;const n=t.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):i*parseInt(String(Math.random()*Math.pow(2,e))),yield us(r);continue}}}catch(e){t=e.response,null==t&&(g.cancel(),ds.throwError("missing response",v.errors.SERVER_ERROR,{requestBody:ps(c.body,m["content-type"]),requestMethod:c.method,serverError:e,url:l}))}let a=t.body;if(h&&304===t.statusCode?a=null:!s&&(t.statusCode<200||t.statusCode>=300)&&(g.cancel(),ds.throwError("bad response",v.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:ps(a,t.headers?t.headers["content-type"]:null),requestBody:ps(c.body,m["content-type"]),requestMethod:c.method,url:l})),r)try{const e=yield r(a,t);return g.cancel(),e}catch(r){if(r.throttleRetry&&e<n){let t=!0;if(o&&(t=yield o(e,l)),t){const t=i*parseInt(String(Math.random()*Math.pow(2,e)));yield us(t);continue}}g.cancel(),ds.throwError("processing response error",v.errors.SERVER_ERROR,{body:ps(a,t.headers?t.headers["content-type"]:null),error:r,requestBody:ps(c.body,m["content-type"]),requestMethod:c.method,url:l})}return g.cancel(),a}return ds.throwError("failed response",v.errors.SERVER_ERROR,{requestBody:ps(c.body,m["content-type"]),requestMethod:c.method,url:l})}))}();return Promise.race([g.promise,y])}function ms(e,t,r){let n=null;if(null!=t){n=Ue(t);const r="string"==typeof e?{url:e}:oe(e);r.headers?0!==Object.keys(r.headers).filter((e=>"content-type"===e.toLowerCase())).length||(r.headers=oe(r.headers),r.headers["content-type"]="application/json"):r.headers={"content-type":"application/json"},e=r}return fs(e,n,((e,t)=>{let n=null;if(null!=e)try{n=JSON.parse(Ze(e))}catch(t){ds.throwError("invalid JSON",v.errors.SERVER_ERROR,{body:e,error:t})}return r&&(n=r(n,t)),n}))}function gs(e,t){return t||(t={}),null==(t=oe(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(r,n){let o=null,i=!1;const s=()=>!i&&(i=!0,o&&clearTimeout(o),!0);t.timeout&&(o=setTimeout((()=>{s()&&n(new Error("timeout"))}),t.timeout));const a=t.retryLimit;let l=0;!function o(){return e().then((function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",o);else if(t.onceBlock)t.onceBlock.once("block",o);else if(!i){if(l++,l>a)return void(s()&&n(new Error("retry limit reached")));let e=t.interval*parseInt(String(Math.random()*Math.pow(2,l)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(o,e)}return null}),(function(e){s()&&n(e)}))}()}))}var vs=r(2882),ys=r.n(vs);const bs="providers/5.7.2",ws=new v(bs);class xs{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),o=this.data.bind(this),i=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this);return e.transaction={hash:i,type:l,accessList:xs.allowNull(this.accessList.bind(this),null),blockHash:xs.allowNull(i,null),blockNumber:xs.allowNull(a,null),transactionIndex:xs.allowNull(a,null),confirmations:xs.allowNull(a,null),from:t,gasPrice:xs.allowNull(r),maxPriorityFeePerGas:xs.allowNull(r),maxFeePerGas:xs.allowNull(r),gasLimit:r,to:xs.allowNull(t,null),value:r,nonce:a,data:o,r:xs.allowNull(this.uint256),s:xs.allowNull(this.uint256),v:xs.allowNull(a),creates:xs.allowNull(t,null),raw:xs.allowNull(o)},e.transactionRequest={from:xs.allowNull(t),nonce:xs.allowNull(a),gasLimit:xs.allowNull(r),gasPrice:xs.allowNull(r),maxPriorityFeePerGas:xs.allowNull(r),maxFeePerGas:xs.allowNull(r),to:xs.allowNull(t),value:xs.allowNull(r),data:xs.allowNull((e=>this.data(e,!0))),type:xs.allowNull(a),accessList:xs.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:i,address:t,topics:xs.arrayOf(i),data:o,logIndex:a,blockHash:i},e.receipt={to:xs.allowNull(this.address,null),from:xs.allowNull(this.address,null),contractAddress:xs.allowNull(t,null),transactionIndex:a,root:xs.allowNull(s),gasUsed:r,logsBloom:xs.allowNull(o),blockHash:i,transactionHash:i,logs:xs.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:xs.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:xs.allowNull(r),status:xs.allowNull(a),type:l},e.block={hash:xs.allowNull(i),parentHash:i,number:a,timestamp:a,nonce:xs.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:xs.allowNull(t),extraData:o,transactions:xs.allowNull(xs.arrayOf(i)),baseFeePerGas:xs.allowNull(r)},e.blockWithTransactions=oe(e.block),e.blockWithTransactions.transactions=xs.allowNull(xs.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:xs.allowNull(n,void 0),toBlock:xs.allowNull(n,void 0),blockHash:xs.allowNull(i,void 0),address:xs.allowNull(t,void 0),topics:xs.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:xs.allowNull(a),blockHash:xs.allowNull(i),transactionIndex:a,removed:xs.allowNull(this.boolean.bind(this)),address:t,data:xs.allowFalsish(o,"0x"),topics:xs.arrayOf(i),transactionHash:i,logIndex:a},e}accessList(e){return dn(e||[])}number(e){return"0x"===e?0:$.from(e).toNumber()}type(e){return"0x"===e||null==e?0:$.from(e).toNumber()}bigNumber(e){return $.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),T(e))?e.toLowerCase():ws.throwArgumentError("invalid hash","value",e)}data(e,t){const r=this.hex(e,t);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return Ie(e)}callAddress(e){if(!T(e,32))return null;const t=Ie(O(e,12));return t===Si?null:t}contractAddress(e){return Fe(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||T(e))return R(e);throw new Error("invalid blockTag")}hash(e,t){const r=this.hex(e,t);return 32!==D(r)?ws.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;const t=$.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!T(e))throw new Error("invalid uint256");return F(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);const r=null!=e._difficulty?e._difficulty:e.difficulty,n=xs.check(t,e);return n._difficulty=null==r?null:$.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return xs.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&$.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),1!==e.type&&2!==e.type||null!=e.accessList||(e.accessList=[]);const t=xs.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;T(r)&&(r=$.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),T(r)&&(r=$.from(r).toNumber()),"number"!=typeof r&&null!=t.v&&(r=(t.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return vn(e)}receiptLog(e){return xs.check(this.formats.receiptLog,e)}receipt(e){const t=xs.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){const e=$.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&ws.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):ws.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&ws.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map((e=>this.topics(e))):null!=e?this.hash(e,!0):null}filter(e){return xs.check(this.formats.filter,e)}filterLog(e){return xs.check(this.formats.filterLog,e)}static check(e,t){const r={};for(const n in e)try{const o=e[n](t[n]);void 0!==o&&(r[n]=o)}catch(e){throw e.checkKey=n,e.checkValue=t[n],e}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const r=[];return t.forEach((function(t){r.push(e(t))})),r}}}function Es(e){return e&&"function"==typeof e.isCommunityResource}function Ss(e){return Es(e)&&e.isCommunityResource()}let _s=!1;function Cs(){_s||(_s=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var As=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const ks=new v(bs);function Ts(e){return null==e?"null":(32!==D(e)&&ks.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function Ps(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((e=>{if(Array.isArray(e)){const t={};e.forEach((e=>{t[Ts(e)]=!0}));const r=Object.keys(t);return r.sort(),r.join("|")}return Ts(e)})).join("&")}function Ms(e){if("string"==typeof e){if(32===D(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+Ps(e);if(rr.isForkEvent(e))throw ks.warn("not implemented"),new Error("not implemented");if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+Ps(e.topics||[])}throw new Error("invalid event - "+e)}function Ds(){return(new Date).getTime()}function Os(e){return new Promise((t=>{setTimeout(t,e)}))}const Is=["block","network","pending","poll"];class Rs{constructor(e,t,r){ee(this,"tag",e),ee(this,"listener",t),ee(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){const e=this.tag.split(":");if("filter"!==e[0])return null;const t=e[1],r=""===(n=e[2])?[]:n.split(/&/g).map((e=>{if(""===e)return[];const t=e.split("|").map((e=>"null"===e?null:e));return 1===t.length?t[0]:t}));var n;const o={};return r.length>0&&(o.topics=r),t&&"*"!==t&&(o.address=t),o}pollable(){return this.tag.indexOf(":")>=0||Is.indexOf(this.tag)>=0}}const Ns={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Fs(e){return F($.from(e).toHexString(),32)}function Bs(e){return fo.encode(C([e,O(yo(yo(e)),0,4)]))}const Ls=new RegExp("^(ipfs)://(.*)$","i"),Vs=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Ls,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function zs(e,t){try{return Ze(Hs(e,t))}catch(e){}return null}function Hs(e,t){if("0x"===e)return null;const r=$.from(O(e,t,t+32)).toNumber(),n=$.from(O(e,r,r+32)).toNumber();return O(e,r+32,r+32+n)}function js(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):ks.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function Gs(e){const t=_(e);if(t.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(t,32-t.length),r}function Us(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function qs(e){const t=[];let r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let n=0;n<e.length;n++){const o=_(e[n]);t[n]=Gs(r),t.push(Gs(o.length)),t.push(Us(o)),r+=32+32*Math.ceil(o.length/32)}return I(t)}class Ws{constructor(e,t,r,n){ee(this,"provider",e),ee(this,"name",r),ee(this,"address",e.formatter.address(t)),ee(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((e=>$.from(e).eq(1))).catch((e=>{if(e.code===v.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e}))),this._supportsEip2544}_fetch(e,t){return As(this,void 0,void 0,(function*(){const r={to:this.address,ccipReadEnabled:!0,data:I([e,ss(this.name),t||"0x"])};let n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=I(["0x9061b923",qs([as(this.name),r.data])]));try{let e=yield this.provider.call(r);return _(e).length%32==4&&ks.throwError("resolver threw error",v.errors.CALL_EXCEPTION,{transaction:r,data:e}),n&&(e=Hs(e,0)),e}catch(e){if(e.code===v.errors.CALL_EXCEPTION)return null;throw e}}))}_fetchBytes(e,t){return As(this,void 0,void 0,(function*(){const r=yield this._fetch(e,t);return null!=r?Hs(r,0):null}))}_getAddress(e,t){const r=Ns[String(e)];if(null==r&&ks.throwError(`unsupported coin type: ${e}`,v.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);const n=_(t);if(null!=r.p2pkh){const e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Bs(C([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){const e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Bs(C([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){const e=n[1];let t=n[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&n.length===2+e&&e>=1&&e<=75){const e=ys().toWords(n.slice(2));return e.unshift(t),ys().encode(r.prefix,e)}}return null}getAddress(e){return As(this,void 0,void 0,(function*(){if(null==e&&(e=60),60===e)try{const e=yield this._fetch("0x3b3b57de");return"0x"===e||e===_i?null:this.provider.formatter.callAddress(e)}catch(e){if(e.code===v.errors.CALL_EXCEPTION)return null;throw e}const t=yield this._fetchBytes("0xf1cb7e06",Fs(e));if(null==t||"0x"===t)return null;const r=this._getAddress(e,t);return null==r&&ks.throwError("invalid or unsupported coin data",v.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r}))}getAvatar(){return As(this,void 0,void 0,(function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<Vs.length;r++){const n=t.match(Vs[r]);if(null==n)continue;const o=n[1].toLowerCase();switch(o){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:js(t)};case"erc721":case"erc1155":{const r="erc721"===o?"0xc87b56dd":"0x0e89341c";e.push({type:o,content:t});const i=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),l=F($.from(s[1]).toHexString(),32);if("erc721"===o){const t=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:I(["0x6352211e",l])}));if(i!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===o){const t=$.from(yield this.provider.call({to:a,data:I(["0x00fdd58e",F(i,32),l])}));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}const c={to:this.provider.formatter.address(s[0]),data:I([r,l])};let h=zs(yield this.provider.call(c),0);if(null==h)return null;e.push({type:"metadata-url-base",content:h}),"erc1155"===o&&(h=h.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=js(h)),e.push({type:"metadata-url",content:h});const d=yield ms(h);if(!d)return null;e.push({type:"metadata",content:JSON.stringify(d)});let u=d.image;if("string"!=typeof u)return null;if(u.match(/^(https:\/\/|data:)/i));else{if(null==u.match(Ls))return null;e.push({type:"url-ipfs",content:u}),u=js(u)}return e.push({type:"url",content:u}),{linkage:e,url:u}}}}}catch(e){}return null}))}getContentHash(){return As(this,void 0,void 0,(function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+fo.encode("0x"+t[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const e=parseInt(r[3],16);if(r[4].length===2*e)return"ipns://"+fo.encode("0x"+r[1])}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://"+n[1];const o=e.match(/^0x90b2c605([0-9a-f]*)$/);if(o&&68===o[1].length){const e={"=":"","+":"-","/":"_"};return"sia://"+Ni("0x"+o[1]).replace(/[=+\/]/g,(t=>e[t]))}return ks.throwError("invalid or unsupported content hash data",v.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})}))}getText(e){return As(this,void 0,void 0,(function*(){let t=Ue(e);t=C([Fs(64),Fs(t.length),t]),t.length%32!=0&&(t=C([t,F("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",M(t));return null==r||"0x"===r?null:Ze(r)}))}}let $s=null,Zs=1;class Ks extends nr{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ee(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch((e=>{})),this._ready().catch((e=>{}));else{const t=te(new.target,"getNetwork")(e);t?(ee(this,"_network",t),this.emit("network",t,null)):ks.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return As(this,void 0,void 0,(function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||ks.throwError("no network detected",v.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:ee(this,"_network",e),this.emit("network",e,null))}return this._network}))}get ready(){return gs((()=>this._ready().then((e=>e),(e=>{if(e.code!==v.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))))}static getFormatter(){return null==$s&&($s=new xs),$s}static getNetwork(e){return Ii(null==e?"homestead":e)}ccipReadFetch(e,t,r){return As(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===r.length)return null;const n=e.to.toLowerCase(),o=t.toLowerCase(),i=[];for(let e=0;e<r.length;e++){const t=r[e],s=t.replace("{sender}",n).replace("{data}",o),a=t.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:n}),l=yield ms({url:s,errorPassThrough:!0},a,((e,t)=>(e.status=t.statusCode,e)));if(l.data)return l.data;const c=l.message||"unknown error";if(l.status>=400&&l.status<500)return ks.throwError(`response not found during CCIP fetch: ${c}`,v.errors.SERVER_ERROR,{url:t,errorMessage:c});i.push(c)}return ks.throwError(`error encountered during CCIP fetch: ${i.map((e=>JSON.stringify(e))).join(", ")}`,v.errors.SERVER_ERROR,{urls:r,errorMessages:i})}))}_getInternalBlockNumber(e){return As(this,void 0,void 0,(function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const t=this._internalBlockNumber;try{const r=yield t;if(Ds()-r.respTime<=e)return r.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}const t=Ds(),r=re({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((e=>null),(e=>e))}).then((({blockNumber:e,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;const o=Ds();return(e=$.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:o}}));return this._internalBlockNumber=r,r.catch((e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)})),(yield r).blockNumber}))}poll(){return As(this,void 0,void 0,(function*(){const e=Zs++,t=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){return void this.emit("error",e)}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)ks.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",ks.makeError("network block skew detected",v.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((e=>{if("block"===e)return;const t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((e=>{switch(e.type){case"tx":{const r=e.hash;let n=this.getTransactionReceipt(r).then((e=>e&&null!=e.blockNumber?(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e),null):null)).catch((e=>{this.emit("error",e)}));t.push(n);break}case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=r-1);const n=e.filter;n.fromBlock=e._lastBlockNumber+1,n.toBlock=r;const o=n.toBlock-this._maxFilterBlockRange;o>n.fromBlock&&(n.fromBlock=o),n.fromBlock<0&&(n.fromBlock=0);const i=this.getLogs(n).then((t=>{e._inflight=!1,0!==t.length&&t.forEach((t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(n,t)}))})).catch((t=>{this.emit("error",t),e._inflight=!1}));t.push(i)}}})),this._lastBlockNumber=r,Promise.all(t).then((()=>{this.emit("didPoll",e)})).catch((e=>{this.emit("error",e)}))}else this.emit("didPoll",e)}))}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return As(this,void 0,void 0,(function*(){return ks.throwError("provider does not support network detection",v.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return As(this,void 0,void 0,(function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield Os(0),this._network;const r=ks.makeError("underlying network changed",v.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((e=>{this._setFastBlockNumber(e)}),(e=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const e=Ds();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then((e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=Ds(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return As(this,void 0,void 0,(function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)}))}_waitForTransaction(e,t,r,n){return As(this,void 0,void 0,(function*(){const o=yield this.getTransactionReceipt(e);return(o?o.confirmations:0)>=t?o:new Promise(((o,i)=>{const s=[];let a=!1;const l=function(){return!!a||(a=!0,s.forEach((e=>{e()})),!1)},c=e=>{e.confirmations<t||l()||o(e)};if(this.on(e,c),s.push((()=>{this.removeListener(e,c)})),n){let r=n.startBlock,o=null;const c=s=>As(this,void 0,void 0,(function*(){a||(yield Os(1e3),this.getTransactionCount(n.from).then((h=>As(this,void 0,void 0,(function*(){if(!a){if(h<=n.nonce)r=s;else{{const t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==o&&(o=r-3,o<n.startBlock&&(o=n.startBlock));o<=s;){if(a)return;const r=yield this.getBlockWithTransactions(o);for(let o=0;o<r.transactions.length;o++){const s=r.transactions[o];if(s.hash===e)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(s.hash,t);if(l())return;let o="replaced";return s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?o="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(o="cancelled"),void i(ks.makeError("transaction was replaced",v.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===o||"cancelled"===o,reason:o,replacement:this._wrapTransaction(s),hash:e,receipt:r}))}}o++}}a||this.once("block",c)}}))),(e=>{a||this.once("block",c)})))}));if(a)return;this.once("block",c),s.push((()=>{this.removeListener("block",c)}))}if("number"==typeof r&&r>0){const e=setTimeout((()=>{l()||i(ks.makeError("timeout exceeded",v.errors.TIMEOUT,{timeout:r}))}),r);e.unref&&e.unref(),s.push((()=>{clearTimeout(e)}))}}))}))}getBlockNumber(){return As(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return As(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return $.from(e)}catch(t){return ks.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}}))}getBalance(e,t){return As(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield re({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return $.from(n)}catch(e){return ks.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:e})}}))}getTransactionCount(e,t){return As(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield re({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return $.from(n).toNumber()}catch(e){return ks.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:e})}}))}getCode(e,t){return As(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield re({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return M(n)}catch(e){return ks.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:e})}}))}getStorageAt(e,t,r){return As(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield re({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then((e=>R(e)))}),o=yield this.perform("getStorageAt",n);try{return M(o)}catch(e){return ks.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:o,error:e})}}))}_wrapTransaction(e,t,r){if(null!=t&&32!==D(t))throw new Error("invalid response - sendTransaction");const n=e;return null!=t&&e.hash!==t&&ks.throwError("Transaction hash mismatch from Provider.sendTransaction.",v.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),n.wait=(t,n)=>As(this,void 0,void 0,(function*(){let o;null==t&&(t=1),null==n&&(n=0),0!==t&&null!=r&&(o={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const i=yield this._waitForTransaction(e.hash,t,n,o);return null==i&&0===t?null:(this._emitted["t:"+e.hash]=i.blockNumber,0===i.status&&ks.throwError("transaction failed",v.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:i}),i)})),n}sendTransaction(e){return As(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then((e=>M(e))),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(e){throw e.transaction=r,e.transactionHash=r.hash,e}}))}_getTransactionRequest(e){return As(this,void 0,void 0,(function*(){const t=yield e,r={};return["from","to"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?this._getAddress(e):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?$.from(e):null)))})),["type"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>null!=e?e:null)))})),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?M(e):null)))})),this.formatter.transactionRequest(yield re(r))}))}_getFilter(e){return As(this,void 0,void 0,(function*(){e=yield e;const t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach((r=>{null!=e[r]&&(t[r]=e[r])})),["fromBlock","toBlock"].forEach((r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))})),this.formatter.filter(yield re(t))}))}_call(e,t,r){return As(this,void 0,void 0,(function*(){r>=10&&ks.throwError("CCIP read exceeded maximum redirections",v.errors.SERVER_ERROR,{redirects:r,transaction:e});const n=e.to,o=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===o.substring(0,10)&&D(o)%32==4)try{const i=O(o,4),s=O(i,0,32);$.from(s).eq(n)||ks.throwError("CCIP Read sender did not match",v.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const a=[],l=$.from(O(i,32,64)).toNumber(),c=$.from(O(i,l,l+32)).toNumber(),h=O(i,l+32);for(let t=0;t<c;t++){const r=zs(h,32*t);null==r&&ks.throwError("CCIP Read contained corrupt URL string",v.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),a.push(r)}const d=Hs(i,64);$.from(O(i,100,128)).isZero()||ks.throwError("CCIP Read callback selector included junk",v.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const u=O(i,96,100),p=Hs(i,128),f=yield this.ccipReadFetch(e,d,a);null==f&&ks.throwError("CCIP Read disabled or provided no URLs",v.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const m={to:n,data:I([u,qs([f,p])])};return this._call(m,t,r+1)}catch(e){if(e.code===v.errors.SERVER_ERROR)throw e}try{return M(o)}catch(r){return ks.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:o,error:r})}}))}call(e,t){return As(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield re({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)}))}estimateGas(e){return As(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield re({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return $.from(r)}catch(e){return ks.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})}}))}_getAddress(e){return As(this,void 0,void 0,(function*(){"string"!=typeof(e=yield e)&&ks.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return null==t&&ks.throwError("ENS name not configured",v.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t}))}_getBlock(e,t){return As(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;let r=-128;const n={includeTransactions:!!t};if(T(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),T(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(t){ks.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return gs((()=>As(this,void 0,void 0,(function*(){const e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let r=0;r<e.transactions.length;r++){const n=e.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}}const r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map((e=>this._wrapTransaction(e))),r}return this.formatter.block(e)}))),{oncePoll:this})}))}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return As(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return gs((()=>As(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(e){return As(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return gs((()=>As(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return n}))),{oncePoll:this})}))}getLogs(e){return As(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield re({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach((e=>{null==e.removed&&(e.removed=!1)})),xs.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return As(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(e){return As(this,void 0,void 0,(function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&ks.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)}))}getResolver(e){return As(this,void 0,void 0,(function*(){let t=e;for(;;){if(""===t||"."===t)return null;if("eth"!==e&&"eth"===t)return null;const r=yield this._getResolver(t,"getResolver");if(null!=r){const n=new Ws(this,r,e);return t===e||(yield n.supportsWildcard())?n:null}t=t.split(".").slice(1).join(".")}}))}_getResolver(e,t){return As(this,void 0,void 0,(function*(){null==t&&(t="ENS");const r=yield this.getNetwork();r.ensAddress||ks.throwError("network does not support ENS",v.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{const t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+ss(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null}))}resolveName(e){return As(this,void 0,void 0,(function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if(T(e))throw t}"string"!=typeof e&&ks.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null}))}lookupAddress(e){return As(this,void 0,void 0,(function*(){e=yield e;const t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;const n=zs(yield this.call({to:r,data:"0x691f3431"+ss(t).substring(2)}),0);return(yield this.resolveName(n))!=e?null:n}))}getAvatar(e){return As(this,void 0,void 0,(function*(){let t=null;if(T(e)){const r=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"getAvatar");if(!n)return null;t=new Ws(this,n,r);try{const e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==v.errors.CALL_EXCEPTION)throw e}try{const e=zs(yield this.call({to:n,data:"0x691f3431"+ss(r).substring(2)}),0);t=yield this.getResolver(e)}catch(e){if(e.code!==v.errors.CALL_EXCEPTION)throw e;return null}}else if(t=yield this.getResolver(e),!t)return null;const r=yield t.getAvatar();return null==r?null:r.url}))}perform(e,t){return ks.throwError(e+" not implemented",v.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_stopEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_addEventListener(e,t,r){const n=new Rs(Ms(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,n=[],o=Ms(e);return this._events=this._events.filter((e=>e.tag!==o||(setTimeout((()=>{e.listener.apply(this,t)}),0),r=!0,!e.once||(n.push(e),!1)))),n.forEach((e=>{this._stopEvent(e)})),r}listenerCount(e){if(!e)return this._events.length;let t=Ms(e);return this._events.filter((e=>e.tag===t)).length}listeners(e){if(null==e)return this._events.map((e=>e.listener));let t=Ms(e);return this._events.filter((e=>e.tag===t)).map((e=>e.listener))}off(e,t){if(null==t)return this.removeAllListeners(e);const r=[];let n=!1,o=Ms(e);return this._events=this._events.filter((e=>e.tag!==o||e.listener!=t||!!n||(n=!0,r.push(e),!1))),r.forEach((e=>{this._stopEvent(e)})),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{const r=Ms(e);this._events=this._events.filter((e=>e.tag!==r||(t.push(e),!1)))}return t.forEach((e=>{this._stopEvent(e)})),this}}var Ys=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Xs=new v(bs),Js=["call","estimateGas"];function Qs(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){const r=T(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(const r in e){const n=Qs(e[r],t);if(n)return n}return null}if("string"==typeof e)try{return Qs(JSON.parse(e),t)}catch(e){}return null}function ea(e,t,r){const n=r.transaction||r.signedTransaction;if("call"===e){const e=Qs(t,!0);if(e)return e.data;Xs.throwError("missing revert data in call exception; Transaction reverted without a reason string",v.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){let r=Qs(t.body,!1);null==r&&(r=Qs(t,!1)),r&&Xs.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",v.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:n,error:t})}let o=t.message;throw t.code===v.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?o=t.error.message:"string"==typeof t.body?o=t.body:"string"==typeof t.responseText&&(o=t.responseText),o=(o||"").toLowerCase(),o.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Xs.throwError("insufficient funds for intrinsic transaction cost",v.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),o.match(/nonce (is )?too low/i)&&Xs.throwError("nonce has already been used",v.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),o.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Xs.throwError("replacement fee too low",v.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),o.match(/only replay-protected/i)&&Xs.throwError("legacy pre-eip-155 transactions not supported",v.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),Js.indexOf(e)>=0&&o.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Xs.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",v.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function ta(e){return new Promise((function(t){setTimeout(t,e)}))}function ra(e){if(e.error){const t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function na(e){return e?e.toLowerCase():e}const oa={};class ia extends lr{constructor(e,t,r){if(super(),e!==oa)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ee(this,"provider",t),null==r&&(r=0),"string"==typeof r?(ee(this,"_address",this.provider.formatter.address(r)),ee(this,"_index",null)):"number"==typeof r?(ee(this,"_index",r),ee(this,"_address",null)):Xs.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return Xs.throwError("cannot alter JSON-RPC Signer connection",v.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new sa(oa,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((e=>(e.length<=this._index&&Xs.throwError("unknown account #"+this._index,v.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index]))))}sendUncheckedTransaction(e){e=oe(e);const t=this.getAddress().then((e=>(e&&(e=e.toLowerCase()),e)));if(null==e.gasLimit){const r=oe(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((e=>Ys(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.provider.resolveName(e);return null==t&&Xs.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))))),re({tx:re(e),sender:t}).then((({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&Xs.throwArgumentError("from address mismatch","transaction",e):t.from=r;const n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then((e=>e),(e=>("string"==typeof e.message&&e.message.match(/user denied/i)&&Xs.throwError("user rejected transaction",v.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),ea("sendTransaction",e,n))))}))}signTransaction(e){return Xs.throwError("signing transactions is unsupported",v.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Ys(this,void 0,void 0,(function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield gs((()=>Ys(this,void 0,void 0,(function*(){const e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}))),{oncePoll:this.provider})}catch(e){throw e.transactionHash=r,e}}))}signMessage(e){return Ys(this,void 0,void 0,(function*(){const t="string"==typeof e?Ue(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[M(t),r.toLowerCase()])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&Xs.throwError("user rejected signing",v.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),t}}))}_legacySignMessage(e){return Ys(this,void 0,void 0,(function*(){const t="string"==typeof e?Ue(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),M(t)])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&Xs.throwError("user rejected signing",v.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),t}}))}_signTypedData(e,t,r){return Ys(this,void 0,void 0,(function*(){const n=yield uo.resolveNames(e,t,r,(e=>this.provider.resolveName(e))),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(uo.getPayload(n.domain,t,n.value))])}catch(e){throw"string"==typeof e.message&&e.message.match(/user denied/i)&&Xs.throwError("user rejected signing",v.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:n.domain,types:t,value:n.value}}),e}}))}unlock(e){return Ys(this,void 0,void 0,(function*(){const t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])}))}}class sa extends ia{sendTransaction(e){return this.sendUncheckedTransaction(e).then((e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)})))}}const aa={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class la extends Ks{constructor(e,t){let r=t;null==r&&(r=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then((t=>{e(t)}),(e=>{t(e)}))}),0)}))),super(r),e||(e=te(this.constructor,"defaultUrl")()),ee(this,"connection","string"==typeof e?Object.freeze({url:e}):Object.freeze(oe(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Ys(this,void 0,void 0,(function*(){yield ta(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){const t=te(this.constructor,"getNetwork");try{return t($.from(e).toNumber())}catch(t){return Xs.throwError("could not detect network",v.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return Xs.throwError("could not detect network",v.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(e){return new ia(oa,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((e=>e.map((e=>this.formatter.address(e)))))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:le(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];const o=ms(this.connection,JSON.stringify(r),ra).then((e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e}));return n&&(this._cache[e]=o,setTimeout((()=>{this._cache[e]=null}),0)),o}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[na(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[na(t.address),t.blockTag]];case"getCode":return["eth_getCode",[na(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[na(t.address),F(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[te(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[te(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=na(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Ys(this,void 0,void 0,(function*(){if("call"===e||"estimateGas"===e){const e=t.transaction;if(e&&null!=e.type&&$.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=oe(t)).transaction=oe(e),delete t.transaction.type)}}const r=this.prepareRequest(e,t);null==r&&Xs.throwError(e+" not implemented",v.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(r){return ea(e,r,t)}}))}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(r){return function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),n.then((function(){return ta(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){n()}),0),null;e.send("eth_uninstallFilter",[r])})).catch((e=>{}))}(),r})).catch((e=>{}))}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const r=oe(aa);if(t)for(const e in t)t[e]&&(r[e]=!0);ne(e,r);const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null==e[t])return;const r=R($.from(e[t]));"gasLimit"===t&&(t="gas"),n[t]=r})),["from","to","data"].forEach((function(t){null!=e[t]&&(n[t]=M(e[t]))})),e.accessList&&(n.accessList=dn(e.accessList)),n}}let ca=null;try{if(ca=WebSocket,null==ca)throw new Error("inject please")}catch(e){const t=new v(bs);ca=function(){t.throwError("WebSockets not supported in this environment",v.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var ha=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const da=new v(bs);let ua=1;class pa extends la{constructor(e,t){"any"===t&&da.throwError("WebSocketProvider does not support 'any' network yet",v.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super("string"==typeof e?e:"_websocket",t),this._pollingInterval=-1,this._wsReady=!1,ee(this,"_websocket","string"==typeof e?new ca(this.connection.url):e),ee(this,"_requests",{}),ee(this,"_subs",{}),ee(this,"_subIds",{}),ee(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((e=>{this.websocket.send(this._requests[e].payload)}))},this.websocket.onmessage=e=>{const t=e.data,r=JSON.parse(t);if(null!=r.id){const e=String(r.id),n=this._requests[e];if(delete this._requests[e],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let e=null;r.error?(e=new Error(r.error.message||"unknown error"),ee(e,"code",r.error.code||null),ee(e,"response",t)):e=new Error("unknown error"),n.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){const e=this._subs[r.params.subscription];e&&e.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval((()=>{this.emit("poll")}),1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){da.throwError("cannot reset events block on WebSocketProvider",v.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){da.throwError("cannot set polling interval on WebSocketProvider",v.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return ha(this,void 0,void 0,(function*(){return null}))}set polling(e){e&&da.throwError("cannot set polling on WebSocketProvider",v.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=ua++;return new Promise(((n,o)=>{const i=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(i),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?o(e):n(t)},payload:i},this._wsReady&&this.websocket.send(i)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return ha(this,void 0,void 0,(function*(){let n=this._subIds[e];null==n&&(n=Promise.all(t).then((e=>this.send("eth_subscribe",e))),this._subIds[e]=n);const o=yield n;this._subs[o]={tag:e,processFunc:r}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=$.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{e&&this.emit(t,e)}))};t(e),this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>"tx"===e.type)).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter((e=>"tx"===e.type)).length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];r&&(delete this._subIds[t],r.then((e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))})))}destroy(){return ha(this,void 0,void 0,(function*(){this.websocket.readyState===ca.CONNECTING&&(yield new Promise((e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}}))),this.websocket.close(1e3)}))}}const fa=new v(bs);class ma extends la{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return t=this,r=void 0,o=function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||fa.throwError("no network detected",v.errors.UNKNOWN_ERROR,{}),null==this._network&&(ee(this,"_network",t),this.emit("network",t,null))),t},new((n=void 0)||(n=Promise))((function(e,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(s,a)}l((o=o.apply(t,r||[])).next())}));var t,r,n,o}}class ga extends ma{constructor(e,t){fa.checkAbstract(new.target,ga),e=te(new.target,"getNetwork")(e),t=te(new.target,"getApiKey")(t),super(te(new.target,"getUrl")(e,t),e),"string"==typeof t?ee(this,"apiKey",t):null!=t&&Object.keys(t).forEach((e=>{ee(this,e,t[e])}))}_startPending(){fa.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return fa.throwError("API provider does not support signing",v.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return fa.throwError("not implemented; sub-classes must override getUrl",v.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const va=new v(bs),ya="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class ba extends pa{constructor(e,t){const r=new wa(e,t);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),ee(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===ya}}class wa extends ga{static getWebSocketProvider(e,t){return new ba(e,t)}static getApiKey(e){return null==e?ya:(e&&"string"!=typeof e&&va.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;default:va.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===ya&&Cs(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===ya}}const xa=new v(bs),Ea="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function Sa(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return xa.throwArgumentError("unsupported network","name",e)}class _a extends ga{isCommunityResource(){return this.apiKey===Ea}static getApiKey(e){return null==e?Ea:e}static getUrl(e,t){null==t&&(t=Ea);const r={allowGzip:!0,url:"https://"+Sa(e.name)+t,throttleCallback:(e,r)=>(t.apiKey===Ea&&Cs(),Promise.resolve(!0))};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}}const Ca=new v(bs);class Aa extends ga{static getApiKey(e){return null!=e&&Ca.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;return"homestead"===e.name?r="https://cloudflare-eth.com/":Ca.throwArgumentError("unsupported network","network",arguments[0]),r}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return n=this,o=void 0,s=function*(){return"getBlockNumber"===e?(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number:r.perform.call(this,e,t)},new((i=void 0)||(i=Promise))((function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,a)}l((s=s.apply(n,o||[])).next())}));var n,o,i,s}}var ka=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Ta=new v(bs);function Pa(e){const t={};for(let r in e){if(null==e[r])continue;let n=e[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?R(M(n)):"accessList"===r?"["+dn(n).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]":M(n),t[r]=n)}return t}function Ma(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"string"!=typeof e.message||!e.message.match(/^OK/)){const t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function Da(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){const t=new Error("invalid response");throw t.result=JSON.stringify(e),t}if(e.error){const t=new Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function Oa(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function Ia(e,t,r){if("call"===e&&t.code===v.errors.SERVER_ERROR){const e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let r=e.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),T(r))return r;Ta.throwError("missing revert data in call exception",v.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let n=t.message;throw t.code===v.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?n=t.error.message:"string"==typeof t.body?n=t.body:"string"==typeof t.responseText&&(n=t.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Ta.throwError("insufficient funds for intrinsic transaction cost",v.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Ta.throwError("nonce has already been used",v.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),n.match(/another transaction with same nonce/)&&Ta.throwError("replacement fee too low",v.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&Ta.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",v.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}class Ra extends Ks{constructor(e,t){super(e),ee(this,"baseUrl",this.getBaseUrl()),ee(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return Ta.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const r=Object.keys(t).reduce(((e,r)=>{const n=t[r];return null!=n&&(e+=`&${r}=${n}`),e}),""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return ka(this,void 0,void 0,(function*(){const n=r?this.getPostUrl():this.getUrl(e,t),o=r?this.getPostData(e,t):null,i="proxy"===e?Da:Ma;this.emit("debug",{action:"request",request:n,provider:this});const s={url:n,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&Cs(),Promise.resolve(!0))};let a=null;o&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},a=Object.keys(o).map((e=>`${e}=${o[e]}`)).join("&"));const l=yield ms(s,a,i||Da);return this.emit("debug",{action:"response",request:n,response:le(l),provider:this}),l}))}detectNetwork(){return ka(this,void 0,void 0,(function*(){return this.network}))}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return ka(this,void 0,void 0,(function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch((e=>Ia("sendTransaction",e,t.signedTransaction)));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const e=Pa(t.transaction);e.module="proxy",e.action="eth_call";try{return yield this.fetch("proxy",e,!0)}catch(e){return Ia("call",e,t.transaction)}}case"estimateGas":{const e=Pa(t.transaction);e.module="proxy",e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,!0)}catch(e){return Ia("estimateGas",e,t.transaction)}}case"getLogs":{const e={action:"getLogs"};if(t.filter.fromBlock&&(e.fromBlock=Oa(t.filter.fromBlock)),t.filter.toBlock&&(e.toBlock=Oa(t.filter.toBlock)),t.filter.address&&(e.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Ta.throwError("unsupported topic count",v.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){const r=t.filter.topics[0];"string"==typeof r&&66===r.length||Ta.throwError("unsupported topic format",v.errors.UNSUPPORTED_OPERATION,{topic0:r}),e.topic0=r}const r=yield this.fetch("logs",e);let n={};for(let e=0;e<r.length;e++){const t=r[e];if(null==t.blockHash){if(null==n[t.blockNumber]){const e=yield this.getBlock(t.blockNumber);e&&(n[t.blockNumber]=e.hash)}t.blockHash=n[t.blockNumber]}}return r}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)}))}getHistory(e,t,r){return ka(this,void 0,void 0,(function*(){const n={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==r?99999999:r,sort:"asc"};return(yield this.fetch("account",n)).map((e=>{["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);const t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t}))}))}isCommunityResource(){return null==this.apiKey}}function Na(e){for(let t=(e=e.slice()).length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}var Fa=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Ba=new v(bs);function La(){return(new Date).getTime()}function Va(e){let t=null;for(let r=0;r<e.length;r++){const n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||Ba.throwArgumentError("provider mismatch","networks",e):t=n}return t}function za(e,t){e=e.slice().sort();const r=Math.floor(e.length/2);if(e.length%2)return e[r];const n=e[r-1],o=e[r];return null!=t&&Math.abs(n-o)>t?null:(n+o)/2}function Ha(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if($.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map((e=>Ha(e))));if("object"==typeof e){const t=Object.keys(e);return t.sort(),"{"+t.map((t=>{let r=e[t];return r="function"==typeof r?"[function]":Ha(r),JSON.stringify(t)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}let ja=1;function Ga(e){let t=null,r=null,n=new Promise((n=>{t=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(t,e)}));return{cancel:t,getPromise:function(){return n},wait:e=>(n=n.then(e),n)}}const Ua=[v.errors.CALL_EXCEPTION,v.errors.INSUFFICIENT_FUNDS,v.errors.NONCE_EXPIRED,v.errors.REPLACEMENT_UNDERPRICED,v.errors.UNPREDICTABLE_GAS_LIMIT],qa=["address","args","errorArgs","errorSignature","method","transaction"];function Wa(e,t){const r={weight:e.weight};return Object.defineProperty(r,"provider",{get:()=>e.provider}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function $a(e,t){return Fa(this,void 0,void 0,(function*(){const r=e.provider;return null!=r.blockNumber&&r.blockNumber>=t||-1===t?r:gs((()=>new Promise(((n,o)=>{setTimeout((function(){return r.blockNumber>=t?n(r):e.cancelled?n(null):n(void 0)}),0)}))),{oncePoll:r})}))}function Za(e,t,r,n){return Fa(this,void 0,void 0,(function*(){let o=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return o[r]();case"getEtherPrice":if(o.getEtherPrice)return o.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&T(n.blockTag)&&(o=yield $a(e,t)),o[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&T(n.blockTag)&&(o=yield $a(e,t)),o.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&T(n.blockTag)&&(o=yield $a(e,t)),o[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&T(n.blockTag)&&(o=yield $a(e,t)),"call"===r&&n.blockTag?o[r](n.transaction,n.blockTag):o[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return o[r](n.transactionHash);case"getLogs":{let r=n.filter;return(r.fromBlock&&T(r.fromBlock)||r.toBlock&&T(r.toBlock))&&(o=yield $a(e,t)),o.getLogs(r)}}return Ba.throwError("unknown method error",v.errors.UNKNOWN_ERROR,{method:r,params:n})}))}class Ka extends Ks{constructor(e,t){0===e.length&&Ba.throwArgumentError("missing providers","providers",e);const r=e.map(((e,t)=>{if(nr.isProvider(e)){const t=Ss(e)?2e3:750,r=1;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:r})}const r=oe(e);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=Ss(e)?2e3:750),null==r.weight&&(r.weight=1);const n=r.weight;return(n%1||n>512||n<1)&&Ba.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,n),Object.freeze(r)})),n=r.reduce(((e,t)=>e+t.weight),0);null==t?t=n/2:t>n&&Ba.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let o=Va(r.map((e=>e.provider.network)));null==o&&(o=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then(e,t)}),0)}))),super(o),ee(this,"providerConfigs",Object.freeze(r)),ee(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Fa(this,void 0,void 0,(function*(){return Va(yield Promise.all(this.providerConfigs.map((e=>e.provider.getNetwork()))))}))}perform(e,t){return Fa(this,void 0,void 0,(function*(){if("sendTransaction"===e){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.sendTransaction(t.signedTransaction).then((e=>e.hash),(e=>e)))));for(let t=0;t<e.length;t++){const r=e[t];if("string"==typeof r)return r}throw e[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());const r=function(e,t,r){let n=Ha;switch(t){case"getBlockNumber":return function(t){const r=t.map((e=>e.result));let n=za(t.map((e=>e.result)),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){const t=e.map((e=>e.result));return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return za(e.map((e=>e.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=oe(e)).confirmations=-1,Ha(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=oe(e)).transactions=e.transactions.map((e=>((e=oe(e)).confirmations=-1,e))),Ha(e))}:function(e){return null==e?null:Ha(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(r){const n={};r.forEach((t=>{const r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++}));const o=Object.keys(n);for(let e=0;e<o.length;e++){const r=n[o[e]];if(r.count>=t)return r.result}}}(n,e.quorum)}(this,e,t),n=Na(this.providerConfigs.map(oe));n.sort(((e,t)=>e.priority-t.priority));const o=this._highestBlockNumber;let i=0,s=!0;for(;;){const a=La();let l=n.filter((e=>e.runner&&a-e.start<e.stallTimeout)).reduce(((e,t)=>e+t.weight),0);for(;l<this.quorum&&i<n.length;){const r=n[i++],s=ja++;r.start=La(),r.staller=Ga(r.stallTimeout),r.staller.wait((()=>{r.staller=null})),r.runner=Za(r,o,e,t).then((n=>{r.done=!0,r.result=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:Wa(r,La()),request:{method:e,params:le(t)},provider:this})}),(n=>{r.done=!0,r.error=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:Wa(r,La()),request:{method:e,params:le(t)},provider:this})})),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:Wa(r,null),request:{method:e,params:le(t)},provider:this}),l+=r.weight}const c=[];n.forEach((e=>{!e.done&&e.runner&&(c.push(e.runner),e.staller&&c.push(e.staller.getPromise()))})),c.length&&(yield Promise.race(c));const h=n.filter((e=>e.done&&null==e.error));if(h.length>=this.quorum){const e=r(h);if(void 0!==e)return n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),e;s||(yield Ga(100).getPromise()),s=!1}const d=n.reduce(((e,t)=>{if(!t.done||null==t.error)return e;const r=t.error.code;return Ua.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e}),{});if(Object.keys(d).forEach((e=>{const t=d[e];if(t.weight<this.quorum)return;n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}));const r=t.error,o={};qa.forEach((e=>{null!=r[e]&&(o[e]=r[e])})),Ba.throwError(r.reason||r.message,e,o)})),0===n.filter((e=>!e.done)).length)break}return n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),Ba.throwError("failed to meet quorum",v.errors.SERVER_ERROR,{method:e,params:t,results:n.map((e=>Wa(e))),provider:this})}))}}const Ya=null,Xa=new v(bs),Ja="84842078b09946638c03157f83405213";class Qa extends pa{constructor(e,t){const r=new el(e,t),n=r.connection;n.password&&Xa.throwError("INFURA WebSocket project secrets unsupported",v.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"}),super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),ee(this,"apiKey",r.projectId),ee(this,"projectId",r.projectId),ee(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===Ja}}class el extends ga{static getWebSocketProvider(e,t){return new Qa(e,t)}static getApiKey(e){const t={apiKey:Ja,projectId:Ja,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(Xa.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),Xa.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;default:Xa.throwError("unsupported network",v.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===Ja&&Cs(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}isCommunityResource(){return this.projectId===Ja}}class tl extends la{send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const n={request:r,resolve:null,reject:null},o=new Promise(((e,t)=>{n.resolve=e,n.reject=t}));return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((()=>{const e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const t=e.map((e=>e.request));return this.emit("debug",{action:"requestBatch",request:le(t),provider:this}),ms(this.connection,JSON.stringify(t)).then((r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this}),e.forEach(((e,t)=>{const n=r[t];if(n.error){const t=new Error(n.error.message);t.code=n.error.code,t.data=n.error.data,e.reject(t)}else e.resolve(n.result)}))}),(r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this}),e.forEach((e=>{e.reject(r)}))}))}),10)),o}}const rl=new v(bs);class nl extends ga{static getApiKey(e){return e&&"string"!=typeof e&&rl.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){rl.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:rl.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}const ol=new v(bs),il="62e1ad51b37b8e00394bda3b";class sl extends ga{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=il:"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:ol.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:ol.throwError("unsupported network",v.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={headers:{},url:`https://${r}/v1/lb/${t.applicationId}`};return null!=t.applicationSecretKey&&(n.user="",n.password=t.applicationSecretKey),n}isCommunityResource(){return this.applicationId===il}}const al=new v(bs);let ll=1;function cl(e,t){const r="Web3LegacyFetcher";return function(e,n){const o={method:e,params:n,id:ll++,jsonrpc:"2.0"};return new Promise(((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:le(o),provider:this}),t(o,((t,i)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:o,provider:this}),n(t);if(this.emit("debug",{action:"response",fetcher:r,request:o,response:i,provider:this}),i.error){const e=new Error(i.error.message);return e.code=i.error.code,e.data=i.error.data,n(e)}e(i.result)}))}))}}class hl extends la{constructor(e,t){null==e&&al.throwArgumentError("missing provider","provider",e);let r=null,n=null,o=null;"function"==typeof e?(r="unknown:",n=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),o=e,e.request?(""===r&&(r="eip-1193:"),n=function(e){return function(t,r){null==r&&(r=[]);const n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:le(n),provider:this}),e.request(n).then((e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this}),e}))}}(e)):e.sendAsync?n=cl(0,e.sendAsync.bind(e)):e.send?n=cl(0,e.send.bind(e)):al.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),ee(this,"jsonRpcFetchFunc",n),ee(this,"provider",o)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const dl=new v(bs);function ul(e,t){if(null==e&&(e="homestead"),"string"==typeof e){const t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1].toLowerCase()){case"http":case"https":return new la(e);case"ws":case"wss":return new pa(e);default:dl.throwArgumentError("unsupported URL scheme","network",e)}}const r=Ii(e);return r&&r._defaultProvider||dl.throwError("unsupported getDefaultProvider network",v.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),r._defaultProvider({FallbackProvider:Ka,AlchemyProvider:wa,AnkrProvider:_a,CloudflareProvider:Aa,EtherscanProvider:Ra,InfuraProvider:el,JsonRpcProvider:la,NodesmithProvider:nl,PocketProvider:sl,Web3Provider:hl,IpcProvider:Ya},t)}const pl=new RegExp("^bytes([0-9]+)$"),fl=new RegExp("^(u?int)([0-9]*)$"),ml=new RegExp("^(.*)\\[([0-9]*)\\]$"),gl="0000000000000000000000000000000000000000000000000000000000000000",vl=new v("solidity/5.7.0");function yl(e,t,r){switch(e){case"address":return r?k(t,32):_(t);case"string":return Ue(t);case"bytes":return _(t);case"bool":return t=t?"0x01":"0x00",r?k(t,32):_(t)}let n=e.match(fl);if(n){let o=parseInt(n[2]||"256");return(n[2]&&String(o)!==n[2]||o%8!=0||0===o||o>256)&&vl.throwArgumentError("invalid number type","type",e),r&&(o=256),k(t=$.from(t).toTwos(o),o/8)}if(n=e.match(pl),n){const o=parseInt(n[1]);return(String(o)!==n[1]||0===o||o>32)&&vl.throwArgumentError("invalid bytes type","type",e),_(t).byteLength!==o&&vl.throwArgumentError(`invalid value for ${e}`,"value",t),r?_((t+gl).substring(0,66)):t}if(n=e.match(ml),n&&Array.isArray(t)){const r=n[1];parseInt(n[2]||String(t.length))!=t.length&&vl.throwArgumentError(`invalid array length for ${e}`,"value",t);const o=[];return t.forEach((function(e){o.push(yl(r,e,!0))})),C(o)}return vl.throwArgumentError("invalid type","type",e)}function bl(e,t){e.length!=t.length&&vl.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);const r=[];return e.forEach((function(e,n){r.push(yl(e,t[n]))})),M(C(r))}function wl(e,t){return ye(bl(e,t))}function xl(e,t){return yo(bl(e,t))}function El(e,t){t||(t=function(e){return[parseInt(e,16)]});let r=0,n={};return e.split(",").forEach((e=>{let o=e.split(":");r+=parseInt(o[0],16),n[r]=t(o[1])})),n}function Sl(e){let t=0;return e.split(",").map((e=>{let r=e.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=t+parseInt(r[0],16);return t=parseInt(r[1],16),{l:n,h:t}}))}function _l(e,t){let r=0;for(let n=0;n<t.length;n++){let o=t[n];if(r+=o.l,e>=r&&e<=r+o.h&&(e-r)%(o.d||1)==0){if(o.e&&-1!==o.e.indexOf(e-r))continue;return o}}return null}const Cl=Sl("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Al="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e=>parseInt(e,16))),kl=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Tl=El("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Pl=El("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Ml=El("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(e){if(e.length%4!=0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t})),Dl=Sl("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Ol(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=Ke(e);var r;r=t.map((e=>{if(Al.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];let t=function(e){let t=_l(e,kl);if(t)return[e+t.s];let r=Tl[e];if(r)return r;let n=Pl[e];return n?[e+n[0]]:Ml[e]||null}(e);return t||[e]})),t=r.reduce(((e,t)=>(t.forEach((t=>{e.push(t)})),e)),[]),t=Ke($e(t),Ve.NFKC),t.forEach((e=>{if(_l(e,Dl))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),t.forEach((e=>{if(_l(e,Cl))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let n=$e(t);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");return n}function Il(e){const t=Ue(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return M(C([t,_i]).slice(0,32))}function Rl(e){const t=_(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return Ze(t.slice(0,r))}const Nl=new v("units/5.7.0"),Fl=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Bl(e){const t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&Nl.throwArgumentError("invalid value","value",e);let r=t[0],n="";for("-"===r.substring(0,1)&&(n="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");let o="";for(2===t.length&&(o="."+(t[1]||"0"));o.length>2&&"0"===o[o.length-1];)o=o.substring(0,o.length-1);const i=[];for(;r.length;){if(r.length<=3){i.unshift(r);break}{const e=r.length-3;i.unshift(r.substring(e)),r=r.substring(0,e)}}return n+i.join(",")+o}function Ll(e,t){if("string"==typeof t){const e=Fl.indexOf(t);-1!==e&&(t=3*e)}return jn(e,null!=t?t:18)}function Vl(e,t){if("string"!=typeof e&&Nl.throwArgumentError("value must be a string","value",e),"string"==typeof t){const e=Fl.indexOf(t);-1!==e&&(t=3*e)}return Gn(e,null!=t?t:18)}function zl(e){return Ll(e,18)}function Hl(e){return Vl(e,18)}const jl="ethers/5.7.2",Gl=new v(jl)},3413:()=>{"use strict";const e=function(){function e(e,t){void 0===t&&(t=[]),this._eventType=e,this._eventFunctions=t}return e.prototype.init=function(){var e=this;this._eventFunctions.forEach((function(t){"undefined"!=typeof window&&window.addEventListener(e._eventType,t)}))},e}();var t=function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)},r={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},n=function(){function e(e,n){void 0===e&&(e=[]),void 0===n&&(n=r),this._items=e,this._options=t(t({},r),n),this._init()}return e.prototype._init=function(){var e=this;this._items.length&&this._items.map((function(t){t.active&&e.open(t.id),t.triggerEl.addEventListener("click",(function(){e.toggle(t.id)}))}))},e.prototype.getItem=function(e){return this._items.filter((function(t){return t.id===e}))[0]},e.prototype.open=function(e){var t,r,n=this,o=this.getItem(e);this._options.alwaysOpen||this._items.map((function(e){var t,r;e!==o&&((t=e.triggerEl.classList).remove.apply(t,n._options.activeClasses.split(" ")),(r=e.triggerEl.classList).add.apply(r,n._options.inactiveClasses.split(" ")),e.targetEl.classList.add("hidden"),e.triggerEl.setAttribute("aria-expanded","false"),e.active=!1,e.iconEl&&e.iconEl.classList.remove("rotate-180"))})),(t=o.triggerEl.classList).add.apply(t,this._options.activeClasses.split(" ")),(r=o.triggerEl.classList).remove.apply(r,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-expanded","true"),o.targetEl.classList.remove("hidden"),o.active=!0,o.iconEl&&o.iconEl.classList.add("rotate-180"),this._options.onOpen(this,o)},e.prototype.toggle=function(e){var t=this.getItem(e);t.active?this.close(e):this.open(e),this._options.onToggle(this,t)},e.prototype.close=function(e){var t,r,n=this.getItem(e);(t=n.triggerEl.classList).remove.apply(t,this._options.activeClasses.split(" ")),(r=n.triggerEl.classList).add.apply(r,this._options.inactiveClasses.split(" ")),n.targetEl.classList.add("hidden"),n.triggerEl.setAttribute("aria-expanded","false"),n.active=!1,n.iconEl&&n.iconEl.classList.remove("rotate-180"),this._options.onClose(this,n)},e}();"undefined"!=typeof window&&(window.Accordion=n);var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},s=function(){function e(e,t,r){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=i),this._targetEl=e,this._triggerEl=t,this._options=o(o({},i),r),this._visible=!1,this._init()}return e.prototype._init=function(){var e=this;this._triggerEl&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible="true"===this._triggerEl.getAttribute("aria-expanded"):this._visible=!this._targetEl.classList.contains("hidden"),this._triggerEl.addEventListener("click",(function(){e.toggle()})))},e.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},e.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},e.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},e}();"undefined"!=typeof window&&(window.Collapse=s);var a=function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},l={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},c=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=l),this._items=e,this._options=a(a(a({},l),t),{indicators:a(a({},l.indicators),t.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._init()}return e.prototype._init=function(){var e=this;this._items.map((function(e){e.el.classList.add("absolute","inset-0","transition-transform","transform")})),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map((function(t,r){t.el.addEventListener("click",(function(){e.slideTo(r)}))}))},e.prototype.getItem=function(e){return this._items[e]},e.prototype.slideTo=function(e){var t=this._items[e],r={left:0===t.position?this._items[this._items.length-1]:this._items[t.position-1],middle:t,right:t.position===this._items.length-1?this._items[0]:this._items[t.position+1]};this._rotate(r),this._setActiveItem(t),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},e.prototype.next=function(){var e,t=this._getActiveItem();e=t.position===this._items.length-1?this._items[0]:this._items[t.position+1],this.slideTo(e.position),this._options.onNext(this)},e.prototype.prev=function(){var e,t=this._getActiveItem();e=0===t.position?this._items[this._items.length-1]:this._items[t.position-1],this.slideTo(e.position),this._options.onPrev(this)},e.prototype._rotate=function(e){this._items.map((function(e){e.el.classList.add("hidden")})),e.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.left.el.classList.add("-translate-x-full","z-10"),e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-20"),e.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.right.el.classList.add("translate-x-full","z-10")},e.prototype.cycle=function(){var e=this;"undefined"!=typeof window&&(this._intervalInstance=window.setInterval((function(){e.next()}),this._intervalDuration))},e.prototype.pause=function(){clearInterval(this._intervalInstance)},e.prototype._getActiveItem=function(){return this._activeItem},e.prototype._setActiveItem=function(e){var t,r,n=this;this._activeItem=e;var o=e.position;this._indicators.length&&(this._indicators.map((function(e){var t,r;e.el.setAttribute("aria-current","false"),(t=e.el.classList).remove.apply(t,n._options.indicators.activeClasses.split(" ")),(r=e.el.classList).add.apply(r,n._options.indicators.inactiveClasses.split(" "))})),(t=this._indicators[o].el.classList).add.apply(t,this._options.indicators.activeClasses.split(" ")),(r=this._indicators[o].el.classList).remove.apply(r,this._options.indicators.inactiveClasses.split(" ")),this._indicators[o].el.setAttribute("aria-current","true"))},e}();"undefined"!=typeof window&&(window.Carousel=c);var h=function(){return h=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h.apply(this,arguments)},d={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},u=function(){function e(e,t,r){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=d),this._targetEl=e,this._triggerEl=t,this._options=h(h({},d),r),this._init()}return e.prototype._init=function(){var e=this;this._triggerEl&&this._triggerEl.addEventListener("click",(function(){e.hide()}))},e.prototype.hide=function(){var e=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout((function(){e._targetEl.classList.add("hidden")}),this._options.duration),this._options.onHide(this,this._targetEl)},e}();function p(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function f(e){return e instanceof p(e).Element||e instanceof Element}function m(e){return e instanceof p(e).HTMLElement||e instanceof HTMLElement}function g(e){return"undefined"!=typeof ShadowRoot&&(e instanceof p(e).ShadowRoot||e instanceof ShadowRoot)}"undefined"!=typeof window&&(window.Dismiss=u);var v=Math.max,y=Math.min,b=Math.round;function w(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function x(){return!/^((?!chrome|android).)*safari/i.test(w())}function E(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.getBoundingClientRect(),o=1,i=1;t&&m(e)&&(o=e.offsetWidth>0&&b(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&b(n.height)/e.offsetHeight||1);var s=(f(e)?p(e):window).visualViewport,a=!x()&&r,l=(n.left+(a&&s?s.offsetLeft:0))/o,c=(n.top+(a&&s?s.offsetTop:0))/i,h=n.width/o,d=n.height/i;return{width:h,height:d,top:c,right:l+h,bottom:c+d,left:l,x:l,y:c}}function S(e){var t=p(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function _(e){return e?(e.nodeName||"").toLowerCase():null}function C(e){return((f(e)?e.ownerDocument:e.document)||window.document).documentElement}function A(e){return E(C(e)).left+S(e).scrollLeft}function k(e){return p(e).getComputedStyle(e)}function T(e){var t=k(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function P(e,t,r){void 0===r&&(r=!1);var n,o,i=m(t),s=m(t)&&function(e){var t=e.getBoundingClientRect(),r=b(t.width)/e.offsetWidth||1,n=b(t.height)/e.offsetHeight||1;return 1!==r||1!==n}(t),a=C(t),l=E(e,s,r),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(i||!i&&!r)&&(("body"!==_(t)||T(a))&&(c=(n=t)!==p(n)&&m(n)?{scrollLeft:(o=n).scrollLeft,scrollTop:o.scrollTop}:S(n)),m(t)?((h=E(t,!0)).x+=t.clientLeft,h.y+=t.clientTop):a&&(h.x=A(a))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function M(e){var t=E(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function D(e){return"html"===_(e)?e:e.assignedSlot||e.parentNode||(g(e)?e.host:null)||C(e)}function O(e){return["html","body","#document"].indexOf(_(e))>=0?e.ownerDocument.body:m(e)&&T(e)?e:O(D(e))}function I(e,t){var r;void 0===t&&(t=[]);var n=O(e),o=n===(null==(r=e.ownerDocument)?void 0:r.body),i=p(n),s=o?[i].concat(i.visualViewport||[],T(n)?n:[]):n,a=t.concat(s);return o?a:a.concat(I(D(s)))}function R(e){return["table","td","th"].indexOf(_(e))>=0}function N(e){return m(e)&&"fixed"!==k(e).position?e.offsetParent:null}function F(e){for(var t=p(e),r=N(e);r&&R(r)&&"static"===k(r).position;)r=N(r);return r&&("html"===_(r)||"body"===_(r)&&"static"===k(r).position)?t:r||function(e){var t=/firefox/i.test(w());if(/Trident/i.test(w())&&m(e)&&"fixed"===k(e).position)return null;var r=D(e);for(g(r)&&(r=r.host);m(r)&&["html","body"].indexOf(_(r))<0;){var n=k(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}var B="top",L="bottom",V="right",z="left",H="auto",j=[B,L,V,z],G="start",U="end",q="viewport",W="popper",$=j.reduce((function(e,t){return e.concat([t+"-"+G,t+"-"+U])}),[]),Z=[].concat(j,[H]).reduce((function(e,t){return e.concat([t,t+"-"+G,t+"-"+U])}),[]),K=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Y(e){var t=new Map,r=new Set,n=[];function o(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||o(e)})),n}var X={placement:"bottom",modifiers:[],strategy:"absolute"};function J(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Q(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,o=t.defaultOptions,i=void 0===o?X:o;return function(e,t,r){void 0===r&&(r=i);var o,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},X,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,h={state:a,setOptions:function(r){var o="function"==typeof r?r(a.options):r;d(),a.options=Object.assign({},i,a.options,o),a.scrollParents={reference:f(e)?I(e):e.contextElement?I(e.contextElement):[],popper:I(t)};var s,c,u=function(e){var t=Y(e);return K.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}((s=[].concat(n,a.options.modifiers),c=s.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return a.orderedModifiers=u.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,o=e.effect;if("function"==typeof o){var i=o({state:a,name:t,instance:h,options:n});l.push(i||function(){})}})),h.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,r=e.popper;if(J(t,r)){a.rects={reference:P(t,F(r),"fixed"===a.options.strategy),popper:M(r)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var o=a.orderedModifiers[n],i=o.fn,s=o.options,l=void 0===s?{}:s,d=o.name;"function"==typeof i&&(a=i({state:a,options:l,name:d,instance:h})||a)}else a.reset=!1,n=-1}}},update:(o=function(){return new Promise((function(e){h.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(o())}))}))),s}),destroy:function(){d(),c=!0}};if(!J(e,t))return h;function d(){l.forEach((function(e){return e()})),l=[]}return h.setOptions(r).then((function(e){!c&&r.onFirstUpdate&&r.onFirstUpdate(e)})),h}}var ee={passive:!0};function te(e){return e.split("-")[0]}function re(e){return e.split("-")[1]}function ne(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function oe(e){var t,r=e.reference,n=e.element,o=e.placement,i=o?te(o):null,s=o?re(o):null,a=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(i){case B:t={x:a,y:r.y-n.height};break;case L:t={x:a,y:r.y+r.height};break;case V:t={x:r.x+r.width,y:l};break;case z:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var c=i?ne(i):null;if(null!=c){var h="y"===c?"height":"width";switch(s){case G:t[c]=t[c]-(r[h]/2-n[h]/2);break;case U:t[c]=t[c]+(r[h]/2-n[h]/2)}}return t}var ie={top:"auto",right:"auto",bottom:"auto",left:"auto"};function se(e){var t,r=e.popper,n=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,h=e.roundOffsets,d=e.isFixed,u=s.x,f=void 0===u?0:u,m=s.y,g=void 0===m?0:m,v="function"==typeof h?h({x:f,y:g}):{x:f,y:g};f=v.x,g=v.y;var y=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),x=z,E=B,S=window;if(c){var _=F(r),A="clientHeight",T="clientWidth";_===p(r)&&"static"!==k(_=C(r)).position&&"absolute"===a&&(A="scrollHeight",T="scrollWidth"),(o===B||(o===z||o===V)&&i===U)&&(E=L,g-=(d&&_===S&&S.visualViewport?S.visualViewport.height:_[A])-n.height,g*=l?1:-1),o!==z&&(o!==B&&o!==L||i!==U)||(x=V,f-=(d&&_===S&&S.visualViewport?S.visualViewport.width:_[T])-n.width,f*=l?1:-1)}var P,M=Object.assign({position:a},c&&ie),D=!0===h?function(e,t){var r=e.x,n=e.y,o=t.devicePixelRatio||1;return{x:b(r*o)/o||0,y:b(n*o)/o||0}}({x:f,y:g},p(r)):{x:f,y:g};return f=D.x,g=D.y,l?Object.assign({},M,((P={})[E]=w?"0":"",P[x]=y?"0":"",P.transform=(S.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",P)):Object.assign({},M,((t={})[E]=w?g+"px":"",t[x]=y?f+"px":"",t.transform="",t))}var ae={left:"right",right:"left",bottom:"top",top:"bottom"};function le(e){return e.replace(/left|right|bottom|top/g,(function(e){return ae[e]}))}var ce={start:"end",end:"start"};function he(e){return e.replace(/start|end/g,(function(e){return ce[e]}))}function de(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&g(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ue(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function pe(e,t,r){return t===q?ue(function(e,t){var r=p(e),n=C(e),o=r.visualViewport,i=n.clientWidth,s=n.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;var c=x();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a+A(e),y:l}}(e,r)):f(t)?function(e,t){var r=E(e,!1,"fixed"===t);return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}(t,r):ue(function(e){var t,r=C(e),n=S(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=v(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=v(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+A(e),l=-n.scrollTop;return"rtl"===k(o||r).direction&&(a+=v(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}(C(e)))}function fe(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function me(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function ge(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=void 0===n?e.placement:n,i=r.strategy,s=void 0===i?e.strategy:i,a=r.boundary,l=void 0===a?"clippingParents":a,c=r.rootBoundary,h=void 0===c?q:c,d=r.elementContext,u=void 0===d?W:d,p=r.altBoundary,g=void 0!==p&&p,b=r.padding,w=void 0===b?0:b,x=fe("number"!=typeof w?w:me(w,j)),S=u===W?"reference":W,A=e.rects.popper,T=e.elements[g?S:u],P=function(e,t,r,n){var o="clippingParents"===t?function(e){var t=I(D(e)),r=["absolute","fixed"].indexOf(k(e).position)>=0&&m(e)?F(e):e;return f(r)?t.filter((function(e){return f(e)&&de(e,r)&&"body"!==_(e)})):[]}(e):[].concat(t),i=[].concat(o,[r]),s=i[0],a=i.reduce((function(t,r){var o=pe(e,r,n);return t.top=v(o.top,t.top),t.right=y(o.right,t.right),t.bottom=y(o.bottom,t.bottom),t.left=v(o.left,t.left),t}),pe(e,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(f(T)?T:T.contextElement||C(e.elements.popper),l,h,s),M=E(e.elements.reference),O=oe({reference:M,element:A,strategy:"absolute",placement:o}),R=ue(Object.assign({},A,O)),N=u===W?R:M,z={top:P.top-N.top+x.top,bottom:N.bottom-P.bottom+x.bottom,left:P.left-N.left+x.left,right:N.right-P.right+x.right},H=e.modifiersData.offset;if(u===W&&H){var G=H[o];Object.keys(z).forEach((function(e){var t=[V,L].indexOf(e)>=0?1:-1,r=[B,L].indexOf(e)>=0?"y":"x";z[e]+=G[r]*t}))}return z}function ve(e,t,r){return v(e,y(t,r))}function ye(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function be(e){return[B,V,L,z].some((function(t){return e[t]>=0}))}var we=Q({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,o=n.scroll,i=void 0===o||o,s=n.resize,a=void 0===s||s,l=p(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",r.update,ee)})),a&&l.addEventListener("resize",r.update,ee),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",r.update,ee)})),a&&l.removeEventListener("resize",r.update,ee)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=oe({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=void 0===n||n,i=r.adaptive,s=void 0===i||i,a=r.roundOffsets,l=void 0===a||a,c={placement:te(t.placement),variation:re(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,se(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,se(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];m(o)&&_(o)&&(Object.assign(o.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});m(n)&&_(n)&&(Object.assign(n.style,i),Object.keys(o).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.offset,i=void 0===o?[0,0]:o,s=Z.reduce((function(e,r){return e[r]=function(e,t,r){var n=te(e),o=[z,B].indexOf(n)>=0?-1:1,i="function"==typeof r?r(Object.assign({},t,{placement:e})):r,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[z,V].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}(r,t.rects,i),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,i=void 0===o||o,s=r.altAxis,a=void 0===s||s,l=r.fallbackPlacements,c=r.padding,h=r.boundary,d=r.rootBoundary,u=r.altBoundary,p=r.flipVariations,f=void 0===p||p,m=r.allowedAutoPlacements,g=t.options.placement,v=te(g),y=l||(v!==g&&f?function(e){if(te(e)===H)return[];var t=le(e);return[he(e),t,he(t)]}(g):[le(g)]),b=[g].concat(y).reduce((function(e,r){return e.concat(te(r)===H?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=r.boundary,i=r.rootBoundary,s=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?Z:l,h=re(n),d=h?a?$:$.filter((function(e){return re(e)===h})):j,u=d.filter((function(e){return c.indexOf(e)>=0}));0===u.length&&(u=d);var p=u.reduce((function(t,r){return t[r]=ge(e,{placement:r,boundary:o,rootBoundary:i,padding:s})[te(r)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:r,boundary:h,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):r)}),[]),w=t.rects.reference,x=t.rects.popper,E=new Map,S=!0,_=b[0],C=0;C<b.length;C++){var A=b[C],k=te(A),T=re(A)===G,P=[B,L].indexOf(k)>=0,M=P?"width":"height",D=ge(t,{placement:A,boundary:h,rootBoundary:d,altBoundary:u,padding:c}),O=P?T?V:z:T?L:B;w[M]>x[M]&&(O=le(O));var I=le(O),R=[];if(i&&R.push(D[k]<=0),a&&R.push(D[O]<=0,D[I]<=0),R.every((function(e){return e}))){_=A,S=!1;break}E.set(A,R)}if(S)for(var N=function(e){var t=b.find((function(t){var r=E.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},F=f?3:1;F>0&&"break"!==N(F);F--);t.placement!==_&&(t.modifiersData[n]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,i=void 0===o||o,s=r.altAxis,a=void 0!==s&&s,l=r.boundary,c=r.rootBoundary,h=r.altBoundary,d=r.padding,u=r.tether,p=void 0===u||u,f=r.tetherOffset,m=void 0===f?0:f,g=ge(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:h}),b=te(t.placement),w=re(t.placement),x=!w,E=ne(b),S="x"===E?"y":"x",_=t.modifiersData.popperOffsets,C=t.rects.reference,A=t.rects.popper,k="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(_){if(i){var O,I="y"===E?B:z,R="y"===E?L:V,N="y"===E?"height":"width",H=_[E],j=H+g[I],U=H-g[R],q=p?-A[N]/2:0,W=w===G?C[N]:A[N],$=w===G?-A[N]:-C[N],Z=t.elements.arrow,K=p&&Z?M(Z):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},X=Y[I],J=Y[R],Q=ve(0,C[N],K[N]),ee=x?C[N]/2-q-Q-X-T.mainAxis:W-Q-X-T.mainAxis,oe=x?-C[N]/2+q+Q+J+T.mainAxis:$+Q+J+T.mainAxis,ie=t.elements.arrow&&F(t.elements.arrow),se=ie?"y"===E?ie.clientTop||0:ie.clientLeft||0:0,ae=null!=(O=null==P?void 0:P[E])?O:0,le=H+oe-ae,ce=ve(p?y(j,H+ee-ae-se):j,H,p?v(U,le):U);_[E]=ce,D[E]=ce-H}if(a){var he,de="x"===E?B:z,ue="x"===E?L:V,pe=_[S],fe="y"===S?"height":"width",me=pe+g[de],ye=pe-g[ue],be=-1!==[B,z].indexOf(b),we=null!=(he=null==P?void 0:P[S])?he:0,xe=be?me:pe-C[fe]-A[fe]-we+T.altAxis,Ee=be?pe+C[fe]+A[fe]-we-T.altAxis:ye,Se=p&&be?function(e,t,r){var n=ve(e,t,r);return n>r?r:n}(xe,pe,Ee):ve(p?xe:me,pe,p?Ee:ye);_[S]=Se,D[S]=Se-pe}t.modifiersData[n]=D}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,o=e.options,i=r.elements.arrow,s=r.modifiersData.popperOffsets,a=te(r.placement),l=ne(a),c=[z,V].indexOf(a)>=0?"height":"width";if(i&&s){var h=function(e,t){return fe("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:me(e,j))}(o.padding,r),d=M(i),u="y"===l?B:z,p="y"===l?L:V,f=r.rects.reference[c]+r.rects.reference[l]-s[l]-r.rects.popper[c],m=s[l]-r.rects.reference[l],g=F(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=h[u],w=v-d[c]-h[p],x=v/2-d[c]/2+y,E=ve(b,x,w),S=l;r.modifiersData[n]=((t={})[S]=E,t.centerOffset=E-x,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&de(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=ge(t,{elementContext:"reference"}),a=ge(t,{altBoundary:!0}),l=ye(s,n),c=ye(a,o,i),h=be(l),d=be(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}}]}),xe=function(){return xe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xe.apply(this,arguments)},Ee=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},Se={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,onShow:function(){},onHide:function(){},onToggle:function(){}},_e=function(){function e(e,t,r){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=Se),this._targetEl=e,this._triggerEl=t,this._options=xe(xe({},Se),r),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return e.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},e.prototype._setupEventListeners=function(){var e=this,t=this._getTriggerEvents();"click"===this._options.triggerType&&t.showEvents.forEach((function(t){e._triggerEl.addEventListener(t,(function(){e.toggle()}))})),"hover"===this._options.triggerType&&(t.showEvents.forEach((function(t){e._triggerEl.addEventListener(t,(function(){"click"===t?e.toggle():setTimeout((function(){e.show()}),e._options.delay)})),e._targetEl.addEventListener(t,(function(){e.show()}))})),t.hideEvents.forEach((function(t){e._triggerEl.addEventListener(t,(function(){setTimeout((function(){e._targetEl.matches(":hover")||e.hide()}),e._options.delay)})),e._targetEl.addEventListener(t,(function(){setTimeout((function(){e._triggerEl.matches(":hover")||e.hide()}),e._options.delay)}))})))},e.prototype._createPopperInstance=function(){return we(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},e.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(t){e._handleClickOutside(t,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(e,t){var r=e.target;r===t||t.contains(r)||this._triggerEl.contains(r)||!this.isVisible()||this.hide()},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":default:return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]}}},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.isVisible=function(){return this._visible},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions((function(e){return xe(xe({},e),{modifiers:Ee(Ee([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions((function(e){return xe(xe({},e),{modifiers:Ee(Ee([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},e}();"undefined"!=typeof window&&(window.Dropdown=_e);var Ce=function(){return Ce=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ce.apply(this,arguments)},Ae={placement:"center",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},ke=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=Ae),this._targetEl=e,this._options=Ce(Ce({},Ae),t),this._isHidden=!0,this._backdropEl=null,this._init()}return e.prototype._init=function(){var e=this;this._targetEl&&this._getPlacementClasses().map((function(t){e._targetEl.classList.add(t)}))},e.prototype._createBackdrop=function(){var e;if(this._isHidden){var t=document.createElement("div");t.setAttribute("modal-backdrop",""),(e=t.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(t),this._backdropEl=t}},e.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},e.prototype._setupModalCloseEventListeners=function(){var e=this;"dynamic"===this._options.backdrop&&(this._clickOutsideEventListener=function(t){e._handleOutsideClick(t.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(t){"Escape"===t.key&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeModalCloseEventListeners=function(){"dynamic"===this._options.backdrop&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._handleOutsideClick=function(e){(e===this._targetEl||e===this._backdropEl&&this.isVisible())&&this.hide()},e.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":default:return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"]}},e.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},e.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,document.body.classList.add("overflow-hidden"),this._options.closable&&this._setupModalCloseEventListeners(),this._options.onShow(this))},e.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},e.prototype.isVisible=function(){return!this._isHidden},e.prototype.isHidden=function(){return this._isHidden},e}();"undefined"!=typeof window&&(window.Modal=ke);var Te=function(e,t){return t.some((function(t){return t.id===e}))?t.find((function(t){return t.id===e})):null},Pe=function(){return Pe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pe.apply(this,arguments)},Me={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},De=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=Me),this._targetEl=e,this._options=Pe(Pe({},Me),t),this._visible=!1,this._init()}return e.prototype._init=function(){var e=this;this._targetEl&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform")),this._getPlacementClasses(this._options.placement).base.map((function(t){e._targetEl.classList.add(t)})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&e.isVisible()&&e.hide()}))},e.prototype.hide=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map((function(t){e._targetEl.classList.remove(t)})),this._getPlacementClasses(this._options.placement+"-edge").inactive.map((function(t){e._targetEl.classList.add(t)}))):(this._getPlacementClasses(this._options.placement).active.map((function(t){e._targetEl.classList.remove(t)})),this._getPlacementClasses(this._options.placement).inactive.map((function(t){e._targetEl.classList.add(t)}))),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map((function(t){e._targetEl.classList.add(t)})),this._getPlacementClasses(this._options.placement+"-edge").inactive.map((function(t){e._targetEl.classList.remove(t)}))):(this._getPlacementClasses(this._options.placement).active.map((function(t){e._targetEl.classList.add(t)})),this._getPlacementClasses(this._options.placement).inactive.map((function(t){e._targetEl.classList.remove(t)}))),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype._createBackdrop=function(){var e,t=this;if(!this._visible){var r=document.createElement("div");r.setAttribute("drawer-backdrop",""),(e=r.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(r),r.addEventListener("click",(function(){t.hide()}))}},e.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()},e.prototype._getPlacementClasses=function(e){switch(e){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]}}},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e}();"undefined"!=typeof window&&(window.Drawer=De);var Oe=function(e,t){if(t.some((function(t){return t.id===e})))return t.find((function(t){return t.id===e}))},Ie=function(){return Ie=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ie.apply(this,arguments)},Re={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},Ne=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=Re),this._items=e,this._activeTab=t?this.getTab(t.defaultTabId):null,this._options=Ie(Ie({},Re),t),this._init()}return e.prototype._init=function(){var e=this;this._items.length&&(this._activeTab||this._setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map((function(t){t.triggerEl.addEventListener("click",(function(){e.show(t.id)}))})))},e.prototype.getActiveTab=function(){return this._activeTab},e.prototype._setActiveTab=function(e){this._activeTab=e},e.prototype.getTab=function(e){return this._items.filter((function(t){return t.id===e}))[0]},e.prototype.show=function(e,t){var r,n,o=this;void 0===t&&(t=!1);var i=this.getTab(e);(i!==this._activeTab||t)&&(this._items.map((function(e){var t,r;e!==i&&((t=e.triggerEl.classList).remove.apply(t,o._options.activeClasses.split(" ")),(r=e.triggerEl.classList).add.apply(r,o._options.inactiveClasses.split(" ")),e.targetEl.classList.add("hidden"),e.triggerEl.setAttribute("aria-selected","false"))})),(r=i.triggerEl.classList).add.apply(r,this._options.activeClasses.split(" ")),(n=i.triggerEl.classList).remove.apply(n,this._options.inactiveClasses.split(" ")),i.triggerEl.setAttribute("aria-selected","true"),i.targetEl.classList.remove("hidden"),this._setActiveTab(i),this._options.onShow(this,i))},e}();"undefined"!=typeof window&&(window.Tabs=Ne);var Fe=function(){return Fe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fe.apply(this,arguments)},Be=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},Le={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Ve=function(){function e(e,t,r){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=Le),this._targetEl=e,this._triggerEl=t,this._options=Fe(Fe({},Le),r),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return e.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},e.prototype._setupEventListeners=function(){var e=this,t=this._getTriggerEvents();t.showEvents.forEach((function(t){e._triggerEl.addEventListener(t,(function(){e.show()}))})),t.hideEvents.forEach((function(t){e._triggerEl.addEventListener(t,(function(){e.hide()}))}))},e.prototype._createPopperInstance=function(){return we(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},e.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(t){"Escape"===t.key&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(t){e._handleClickOutside(t,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(e,t){var r=e.target;r===t||t.contains(r)||this._triggerEl.contains(r)||!this.isVisible()||this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions((function(e){return Fe(Fe({},e),{modifiers:Be(Be([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions((function(e){return Fe(Fe({},e),{modifiers:Be(Be([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e}();"undefined"!=typeof window&&(window.Tooltip=Ve);var ze=function(){return ze=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ze.apply(this,arguments)},He=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},je={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Ge=function(){function e(e,t,r){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=je),this._targetEl=e,this._triggerEl=t,this._options=ze(ze({},je),r),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return e.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},e.prototype._setupEventListeners=function(){var e=this,t=this._getTriggerEvents();t.showEvents.forEach((function(t){e._triggerEl.addEventListener(t,(function(){e.show()})),e._targetEl.addEventListener(t,(function(){e.show()}))})),t.hideEvents.forEach((function(t){e._triggerEl.addEventListener(t,(function(){setTimeout((function(){e._targetEl.matches(":hover")||e.hide()}),100)})),e._targetEl.addEventListener(t,(function(){setTimeout((function(){e._triggerEl.matches(":hover")||e.hide()}),100)}))}))},e.prototype._createPopperInstance=function(){return we(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},e.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(t){"Escape"===t.key&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(t){e._handleClickOutside(t,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(e,t){var r=e.target;r===t||t.contains(r)||this._triggerEl.contains(r)||!this.isVisible()||this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions((function(e){return ze(ze({},e),{modifiers:He(He([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions((function(e){return ze(ze({},e),{modifiers:He(He([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e}();"undefined"!=typeof window&&(window.Popover=Ge);var Ue=function(){return Ue=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ue.apply(this,arguments)},qe={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},We=function(){function e(e,t,r,n){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=qe),this._parentEl=e,this._triggerEl=t,this._targetEl=r,this._options=Ue(Ue({},qe),n),this._visible=!1,this._init()}return e.prototype._init=function(){var e=this;if(this._triggerEl){var t=this._getTriggerEventTypes(this._options.triggerType);t.showEvents.forEach((function(t){e._triggerEl.addEventListener(t,(function(){e.show()})),e._targetEl.addEventListener(t,(function(){e.show()}))})),t.hideEvents.forEach((function(t){e._parentEl.addEventListener(t,(function(){e._parentEl.matches(":hover")||e.hide()}))}))}},e.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this._visible?this.hide():this.show()},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e.prototype._getTriggerEventTypes=function(e){switch(e){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},e}();"undefined"!=typeof window&&(window.Dial=We),new e("load",[function(){document.querySelectorAll("[data-accordion]").forEach((function(e){var t=e.getAttribute("data-accordion"),o=e.getAttribute("data-active-classes"),i=e.getAttribute("data-inactive-classes"),s=[];e.querySelectorAll("[data-accordion-target]").forEach((function(e){var t={id:e.getAttribute("data-accordion-target"),triggerEl:e,targetEl:document.querySelector(e.getAttribute("data-accordion-target")),iconEl:e.querySelector("[data-accordion-icon]"),active:"true"===e.getAttribute("aria-expanded")};s.push(t)})),new n(s,{alwaysOpen:"open"===t,activeClasses:o||r.activeClasses,inactiveClasses:i||r.inactiveClasses})}))},function(){document.querySelectorAll("[data-collapse-toggle]").forEach((function(e){var t=e.getAttribute("data-collapse-toggle"),r=document.getElementById(t);r?new s(r,e):console.error('The target element with id "'.concat(t,'" does not exist. Please check the data-collapse-toggle attribute.'))}))},function(){document.querySelectorAll("[data-carousel]").forEach((function(e){var t=e.getAttribute("data-carousel-interval"),r="slide"===e.getAttribute("data-carousel"),n=[],o=0;e.querySelectorAll("[data-carousel-item]").length&&Array.from(e.querySelectorAll("[data-carousel-item]")).map((function(e,t){n.push({position:t,el:e}),"active"===e.getAttribute("data-carousel-item")&&(o=t)}));var i=[];e.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(e.querySelectorAll("[data-carousel-slide-to]")).map((function(e){i.push({position:parseInt(e.getAttribute("data-carousel-slide-to")),el:e})}));var s=new c(n,{defaultPosition:o,indicators:{items:i},interval:t||l.interval});r&&s.cycle();var a=e.querySelector("[data-carousel-next]"),h=e.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",(function(){s.next()})),h&&h.addEventListener("click",(function(){s.prev()}))}))},function(){document.querySelectorAll("[data-dismiss-target]").forEach((function(e){var t=e.getAttribute("data-dismiss-target"),r=document.querySelector(t);r?new u(r,e):console.error('The dismiss element with id "'.concat(t,'" does not exist. Please check the data-dismiss-target attribute.'))}))},function(){document.querySelectorAll("[data-dropdown-toggle]").forEach((function(e){var t=e.getAttribute("data-dropdown-toggle"),r=document.getElementById(t);if(r){var n=e.getAttribute("data-dropdown-placement"),o=e.getAttribute("data-dropdown-offset-skidding"),i=e.getAttribute("data-dropdown-offset-distance"),s=e.getAttribute("data-dropdown-trigger"),a=e.getAttribute("data-dropdown-delay");new _e(r,e,{placement:n||Se.placement,triggerType:s||Se.triggerType,offsetSkidding:o?parseInt(o):Se.offsetSkidding,offsetDistance:i?parseInt(i):Se.offsetDistance,delay:a?parseInt(a):Se.delay})}else console.error('The dropdown element with id "'.concat(t,'" does not exist. Please check the data-dropdown-toggle attribute.'))}))},function(){var e=[];document.querySelectorAll("[data-modal-target]").forEach((function(t){var r=t.getAttribute("data-modal-target"),n=document.getElementById(r);if(n){var o=n.getAttribute("data-modal-placement"),i=n.getAttribute("data-modal-backdrop");Te(r,e)||e.push({id:r,object:new ke(n,{placement:o||Ae.placement,backdrop:i||Ae.backdrop})})}else console.error("Modal with id ".concat(r," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))})),document.querySelectorAll("[data-modal-toggle]").forEach((function(t){var r=t.getAttribute("data-modal-toggle"),n=document.getElementById(r);if(n){var o=n.getAttribute("data-modal-placement"),i=n.getAttribute("data-modal-backdrop"),s=Te(r,e);s||(s={id:r,object:new ke(n,{placement:o||Ae.placement,backdrop:i||Ae.backdrop})},e.push(s)),t.addEventListener("click",(function(){s.object.toggle()}))}else console.error("Modal with id ".concat(r," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))})),document.querySelectorAll("[data-modal-show]").forEach((function(t){var r=t.getAttribute("data-modal-show");if(document.getElementById(r)){var n=Te(r,e);n?t.addEventListener("click",(function(){n.object.isHidden&&n.object.show()})):console.error("Modal with id ".concat(r," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(r," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))})),document.querySelectorAll("[data-modal-hide]").forEach((function(t){var r=t.getAttribute("data-modal-hide");if(document.getElementById(r)){var n=Te(r,e);n?t.addEventListener("click",(function(){n.object.isVisible&&n.object.hide()})):console.error("Modal with id ".concat(r," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(r," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))}))},function(){var e=[];document.querySelectorAll("[data-drawer-target]").forEach((function(t){var r=t.getAttribute("data-drawer-target"),n=document.getElementById(r);if(n){var o=t.getAttribute("data-drawer-placement"),i=t.getAttribute("data-drawer-body-scrolling"),s=t.getAttribute("data-drawer-backdrop"),a=t.getAttribute("data-drawer-edge"),l=t.getAttribute("data-drawer-edge-offset");Oe(r,e)||e.push({id:r,object:new De(n,{placement:o||Me.placement,bodyScrolling:i?"true"===i:Me.bodyScrolling,backdrop:s?"true"===s:Me.backdrop,edge:a?"true"===a:Me.edge,edgeOffset:l||Me.edgeOffset})})}else console.error("Drawer with id ".concat(r," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})),document.querySelectorAll("[data-drawer-toggle]").forEach((function(t){var r=t.getAttribute("data-drawer-toggle");if(document.getElementById(r)){var n=Oe(r,e);n?t.addEventListener("click",(function(){n.object.toggle()})):console.error("Drawer with id ".concat(r," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(r," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach((function(t){var r=t.getAttribute("data-drawer-dismiss")?t.getAttribute("data-drawer-dismiss"):t.getAttribute("data-drawer-hide");if(document.getElementById(r)){var n=Oe(r,e);n?t.addEventListener("click",(function(){n.object.hide()})):console.error("Drawer with id ".concat(r," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(r," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))})),document.querySelectorAll("[data-drawer-show]").forEach((function(t){var r=t.getAttribute("data-drawer-show");if(document.getElementById(r)){var n=Oe(r,e);n?t.addEventListener("click",(function(){n.object.show()})):console.error("Drawer with id ".concat(r," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(r," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}))},function(){document.querySelectorAll("[data-tabs-toggle]").forEach((function(e){var t=[],r=null;e.querySelectorAll('[role="tab"]').forEach((function(e){var n="true"===e.getAttribute("aria-selected"),o={id:e.getAttribute("data-tabs-target"),triggerEl:e,targetEl:document.querySelector(e.getAttribute("data-tabs-target"))};t.push(o),n&&(r=o.id)})),new Ne(t,{defaultTabId:r})}))},function(){document.querySelectorAll("[data-tooltip-target]").forEach((function(e){var t=e.getAttribute("data-tooltip-target"),r=document.getElementById(t);if(r){var n=e.getAttribute("data-tooltip-trigger"),o=e.getAttribute("data-tooltip-placement");new Ve(r,e,{placement:o||Le.placement,triggerType:n||Le.triggerType})}else console.error('The tooltip element with id "'.concat(t,'" does not exist. Please check the data-tooltip-target attribute.'))}))},function(){document.querySelectorAll("[data-popover-target]").forEach((function(e){var t=e.getAttribute("data-popover-target"),r=document.getElementById(t);if(r){var n=e.getAttribute("data-popover-trigger"),o=e.getAttribute("data-popover-placement"),i=e.getAttribute("data-popover-offset");new Ge(r,e,{placement:o||je.placement,offset:i?parseInt(i):je.offset,triggerType:n||je.triggerType})}else console.error('The popover element with id "'.concat(t,'" does not exist. Please check the data-popover-target attribute.'))}))},function(){document.querySelectorAll("[data-dial-init]").forEach((function(e){var t=e.querySelector("[data-dial-toggle]");if(t){var r=t.getAttribute("data-dial-toggle"),n=document.getElementById(r);if(n){var o=t.getAttribute("data-dial-trigger");new We(e,t,n,{triggerType:o||qe.triggerType})}else console.error("Dial with id ".concat(r," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(e.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))}))}]).init()},3715:(e,t,r)=>{var n=t;n.utils=r(6436),n.common=r(5772),n.sha=r(9041),n.ripemd=r(2949),n.hmac=r(2344),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},5772:(e,t,r)=>{"use strict";var n=r(6436),o=r(9746);function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=i,i.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var o=0;o<e.length;o+=this._delta32)this._update(e,o,o+this._delta32)}return this},i.prototype.digest=function(e){return this.update(this._pad()),o(null===this.pending),this._digest(e)},i.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var o=1;o<r;o++)n[o]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)n[o++]=0;n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=e>>>24&255,n[o++]=e>>>16&255,n[o++]=e>>>8&255,n[o++]=255&e}else for(n[o++]=255&e,n[o++]=e>>>8&255,n[o++]=e>>>16&255,n[o++]=e>>>24&255,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,i=8;i<this.padLength;i++)n[o++]=0;return n}},2344:(e,t,r)=>{"use strict";var n=r(6436),o=r(9746);function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=i,i.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),o(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},i.prototype.update=function(e,t){return this.inner.update(e,t),this},i.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},2949:(e,t,r)=>{"use strict";var n=r(6436),o=r(5772),i=n.rotl32,s=n.sum32,a=n.sum32_3,l=n.sum32_4,c=o.BlockHash;function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function u(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function p(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(h,c),t.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],o=this.h[2],c=this.h[3],h=this.h[4],y=r,b=n,w=o,x=c,E=h,S=0;S<80;S++){var _=s(i(l(r,d(S,n,o,c),e[f[S]+t],u(S)),g[S]),h);r=h,h=c,c=i(o,10),o=n,n=_,_=s(i(l(y,d(79-S,b,w,x),e[m[S]+t],p(S)),v[S]),E),y=E,E=x,x=i(w,10),w=b,b=_}_=a(this.h[1],o,x),this.h[1]=a(this.h[2],c,E),this.h[2]=a(this.h[3],h,y),this.h[3]=a(this.h[4],r,b),this.h[4]=a(this.h[0],n,w),this.h[0]=_},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9041:(e,t,r)=>{"use strict";t.sha1=r(4761),t.sha224=r(799),t.sha256=r(9344),t.sha384=r(772),t.sha512=r(5900)},4761:(e,t,r)=>{"use strict";var n=r(6436),o=r(5772),i=r(7038),s=n.rotl32,a=n.sum32,l=n.sum32_5,c=i.ft_1,h=o.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(u,h),e.exports=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var o=this.h[0],i=this.h[1],h=this.h[2],u=this.h[3],p=this.h[4];for(n=0;n<r.length;n++){var f=~~(n/20),m=l(s(o,5),c(f,i,h,u),p,r[n],d[f]);p=u,u=h,h=s(i,30),i=o,o=m}this.h[0]=a(this.h[0],o),this.h[1]=a(this.h[1],i),this.h[2]=a(this.h[2],h),this.h[3]=a(this.h[3],u),this.h[4]=a(this.h[4],p)},u.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},799:(e,t,r)=>{"use strict";var n=r(6436),o=r(9344);function i(){if(!(this instanceof i))return new i;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(i,o),e.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},9344:(e,t,r)=>{"use strict";var n=r(6436),o=r(5772),i=r(7038),s=r(9746),a=n.sum32,l=n.sum32_4,c=n.sum32_5,h=i.ch32,d=i.maj32,u=i.s0_256,p=i.s1_256,f=i.g0_256,m=i.g1_256,g=o.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}n.inherits(y,g),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=l(m(r[n-2]),r[n-7],f(r[n-15]),r[n-16]);var o=this.h[0],i=this.h[1],g=this.h[2],v=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],x=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var E=c(x,p(y),h(y,b,w),this.k[n],r[n]),S=a(u(o),d(o,i,g));x=w,w=b,b=y,y=a(v,E),v=g,g=i,i=o,o=a(E,S)}this.h[0]=a(this.h[0],o),this.h[1]=a(this.h[1],i),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],x)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},772:(e,t,r)=>{"use strict";var n=r(6436),o=r(5900);function i(){if(!(this instanceof i))return new i;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(i,o),e.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},5900:(e,t,r)=>{"use strict";var n=r(6436),o=r(5772),i=r(9746),s=n.rotr64_hi,a=n.rotr64_lo,l=n.shr64_hi,c=n.shr64_lo,h=n.sum64,d=n.sum64_hi,u=n.sum64_lo,p=n.sum64_4_hi,f=n.sum64_4_lo,m=n.sum64_5_hi,g=n.sum64_5_lo,v=o.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(e,t,r,n,o){var i=e&r^~e&o;return i<0&&(i+=4294967296),i}function x(e,t,r,n,o,i){var s=t&n^~t&i;return s<0&&(s+=4294967296),s}function E(e,t,r,n,o){var i=e&r^e&o^r&o;return i<0&&(i+=4294967296),i}function S(e,t,r,n,o,i){var s=t&n^t&i^n&i;return s<0&&(s+=4294967296),s}function _(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function C(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function A(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function k(e,t){var r=s(e,t,1)^s(e,t,8)^l(e,t,7);return r<0&&(r+=4294967296),r}function T(e,t){var r=a(e,t,1)^a(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=a(e,t,19)^a(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(b,v),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var o=(g=r[n-4],v=r[n-3],y=void 0,(y=s(g,v,19)^s(v,g,29)^l(g,v,6))<0&&(y+=4294967296),y),i=P(r[n-4],r[n-3]),a=r[n-14],c=r[n-13],h=k(r[n-30],r[n-29]),d=T(r[n-30],r[n-29]),u=r[n-32],m=r[n-31];r[n]=p(o,i,a,c,h,d,u,m),r[n+1]=f(o,i,a,c,h,d,u,m)}var g,v,y},b.prototype._update=function(e,t){this._prepareBlock(e,t);var r,n,o,a=this.W,l=this.h[0],c=this.h[1],p=this.h[2],f=this.h[3],v=this.h[4],y=this.h[5],b=this.h[6],k=this.h[7],T=this.h[8],P=this.h[9],M=this.h[10],D=this.h[11],O=this.h[12],I=this.h[13],R=this.h[14],N=this.h[15];i(this.k.length===a.length);for(var F=0;F<a.length;F+=2){var B=R,L=N,V=(o=void 0,(o=s(r=T,n=P,14)^s(r,n,18)^s(n,r,9))<0&&(o+=4294967296),o),z=A(T,P),H=w(T,0,M,0,O),j=x(0,P,0,D,0,I),G=this.k[F],U=this.k[F+1],q=a[F],W=a[F+1],$=m(B,L,V,z,H,j,G,U,q,W),Z=g(B,L,V,z,H,j,G,U,q,W);B=_(l,c),L=C(l,c),V=E(l,0,p,0,v),z=S(0,c,0,f,0,y);var K=d(B,L,V,z),Y=u(B,L,V,z);R=O,N=I,O=M,I=D,M=T,D=P,T=d(b,k,$,Z),P=u(k,k,$,Z),b=v,k=y,v=p,y=f,p=l,f=c,l=d($,Z,K,Y),c=u($,Z,K,Y)}h(this.h,0,l,c),h(this.h,2,p,f),h(this.h,4,v,y),h(this.h,6,b,k),h(this.h,8,T,P),h(this.h,10,M,D),h(this.h,12,O,I),h(this.h,14,R,N)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},7038:(e,t,r)=>{"use strict";var n=r(6436).rotr32;function o(e,t,r){return e&t^~e&r}function i(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?o(t,r,n):1===e||3===e?s(t,r,n):2===e?i(t,r,n):void 0},t.ch32=o,t.maj32=i,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},6436:(e,t,r)=>{"use strict";var n=r(9746),o=r(5717);function i(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function l(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=o,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),o=0;o<e.length;o+=2)r.push(parseInt(e[o]+e[o+1],16))}else for(var n=0,o=0;o<e.length;o++){var s=e.charCodeAt(o);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):i(e,o)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++o)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(o=0;o<e.length;o++)r[o]=0|e[o];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var o=e[n];"little"===t&&(o=s(o)),r+=l(o.toString(16))}return r},t.zero2=a,t.zero8=l,t.join32=function(e,t,r,o){var i=r-t;n(i%4==0);for(var s=new Array(i/4),a=0,l=t;a<s.length;a++,l+=4){var c;c="big"===o?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],s[a]=c>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,o=0;n<e.length;n++,o+=4){var i=e[n];"big"===t?(r[o]=i>>>24,r[o+1]=i>>>16&255,r[o+2]=i>>>8&255,r[o+3]=255&i):(r[o+3]=i>>>24,r[o+2]=i>>>16&255,r[o+1]=i>>>8&255,r[o]=255&i)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,o){return e+t+r+n+o>>>0},t.sum64=function(e,t,r,n){var o=e[t],i=n+e[t+1]>>>0,s=(i<n?1:0)+r+o;e[t]=s>>>0,e[t+1]=i},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,o,i,s,a){var l=0,c=t;return l+=(c=c+n>>>0)<t?1:0,l+=(c=c+i>>>0)<i?1:0,e+r+o+s+(l+=(c=c+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,o,i,s,a){return t+n+i+a>>>0},t.sum64_5_hi=function(e,t,r,n,o,i,s,a,l,c){var h=0,d=t;return h+=(d=d+n>>>0)<t?1:0,h+=(d=d+i>>>0)<i?1:0,h+=(d=d+a>>>0)<a?1:0,e+r+o+s+l+(h+=(d=d+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,o,i,s,a,l,c){return t+n+i+a+c>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},5450:function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;"undefined"!=typeof self&&self,factory=function(){return function(){"use strict";var htmx={onLoad:onLoadHelper,process:processNode,on:addEventListenerImpl,off:removeEventListenerImpl,trigger:triggerEvent,ajax:ajaxHelper,find,findAll,closest,values:function(e,t){return getInputValues(e,t||"post").values},remove:removeElement,addClass:addClassToElement,removeClass:removeClassFromElement,toggleClass:toggleClassOnElement,takeClass:takeClassForElement,defineExtension,removeExtension,logAll,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,inlineScriptNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",useTemplateFragments:!1,scrollBehavior:"smooth",defaultFocusScroll:!1,getCacheBusterParam:!1},parseInterval,_:internalEval,createEventSource:function(e){return new EventSource(e,{withCredentials:!0})},createWebSocket:function(e){var t=new WebSocket(e,[]);return t.binaryType=htmx.config.wsBinaryType,t},version:"1.8.6"},internalAPI={addTriggerHandler,bodyContains,canAccessLocalStorage,filterValues,hasAttribute,getAttributeValue,getClosestMatch,getExpressionVars,getHeaders,getInputValues,getInternalData,getSwapSpecification,getTriggerSpecs,getTarget,makeFragment,mergeObjects,makeSettleInfo,oobSwap,selectAndSwap,settleImmediately,shouldCancel,triggerEvent,triggerErrorEvent,withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map((function(e){return"[hx-"+e+"], [data-hx-"+e+"]"})).join(", ");function parseInterval(e){if(null!=e)return"ms"==e.slice(-2)?parseFloat(e.slice(0,-2))||void 0:"s"==e.slice(-1)?1e3*parseFloat(e.slice(0,-1))||void 0:"m"==e.slice(-1)?1e3*parseFloat(e.slice(0,-1))*60||void 0:parseFloat(e)||void 0}function getRawAttribute(e,t){return e.getAttribute&&e.getAttribute(t)}function hasAttribute(e,t){return e.hasAttribute&&(e.hasAttribute(t)||e.hasAttribute("data-"+t))}function getAttributeValue(e,t){return getRawAttribute(e,t)||getRawAttribute(e,"data-"+t)}function parentElt(e){return e.parentElement}function getDocument(){return document}function getClosestMatch(e,t){for(;e&&!t(e);)e=parentElt(e);return e||null}function getAttributeValueWithDisinheritance(e,t,r){var n=getAttributeValue(t,r),o=getAttributeValue(t,"hx-disinherit");return e!==t&&o&&("*"===o||o.split(" ").indexOf(r)>=0)?"unset":n}function getClosestAttributeValue(e,t){var r=null;if(getClosestMatch(e,(function(n){return r=getAttributeValueWithDisinheritance(e,n,t)})),"unset"!==r)return r}function matches(e,t){var r=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector;return r&&r.call(e,t)}function getStartTag(e){var t=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(e);return t?t[1].toLowerCase():""}function parseHTML(e,t){for(var r=(new DOMParser).parseFromString(e,"text/html").body;t>0;)t--,r=r.firstChild;return null==r&&(r=getDocument().createDocumentFragment()),r}function makeFragment(e){if(htmx.config.useTemplateFragments)return parseHTML("<body><template>"+e+"</template></body>",0).querySelector("template").content;switch(getStartTag(e)){case"thead":case"tbody":case"tfoot":case"colgroup":case"caption":return parseHTML("<table>"+e+"</table>",1);case"col":return parseHTML("<table><colgroup>"+e+"</colgroup></table>",2);case"tr":return parseHTML("<table><tbody>"+e+"</tbody></table>",2);case"td":case"th":return parseHTML("<table><tbody><tr>"+e+"</tr></tbody></table>",3);case"script":return parseHTML("<div>"+e+"</div>",1);default:return parseHTML(e,0)}}function maybeCall(e){e&&e()}function isType(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function isFunction(e){return isType(e,"Function")}function isRawObject(e){return isType(e,"Object")}function getInternalData(e){var t="htmx-internal-data",r=e[t];return r||(r=e[t]={}),r}function toArray(e){var t=[];if(e)for(var r=0;r<e.length;r++)t.push(e[r]);return t}function forEach(e,t){if(e)for(var r=0;r<e.length;r++)t(e[r])}function isScrolledIntoView(e){var t=e.getBoundingClientRect(),r=t.top,n=t.bottom;return r<window.innerHeight&&n>=0}function bodyContains(e){return e.getRootNode&&e.getRootNode()instanceof ShadowRoot?getDocument().body.contains(e.getRootNode().host):getDocument().body.contains(e)}function splitOnWhitespace(e){return e.trim().split(/\s+/)}function mergeObjects(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function parseJSON(e){try{return JSON.parse(e)}catch(e){return logError(e),null}}function canAccessLocalStorage(){var e="htmx:localStorageTest";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function internalEval(str){return maybeEval(getDocument().body,(function(){return eval(str)}))}function onLoadHelper(e){return htmx.on("htmx:load",(function(t){e(t.detail.elt)}))}function logAll(){htmx.logger=function(e,t,r){console&&console.log(t,e,r)}}function find(e,t){return t?e.querySelector(t):find(getDocument(),e)}function findAll(e,t){return t?e.querySelectorAll(t):findAll(getDocument(),e)}function removeElement(e,t){e=resolveTarget(e),t?setTimeout((function(){removeElement(e)}),t):e.parentElement.removeChild(e)}function addClassToElement(e,t,r){e=resolveTarget(e),r?setTimeout((function(){addClassToElement(e,t)}),r):e.classList&&e.classList.add(t)}function removeClassFromElement(e,t,r){e=resolveTarget(e),r?setTimeout((function(){removeClassFromElement(e,t)}),r):e.classList&&(e.classList.remove(t),0===e.classList.length&&e.removeAttribute("class"))}function toggleClassOnElement(e,t){(e=resolveTarget(e)).classList.toggle(t)}function takeClassForElement(e,t){forEach((e=resolveTarget(e)).parentElement.children,(function(e){removeClassFromElement(e,t)})),addClassToElement(e,t)}function closest(e,t){if((e=resolveTarget(e)).closest)return e.closest(t);do{if(null==e||matches(e,t))return e}while(e=e&&parentElt(e));return null}function querySelectorAllExt(e,t){return 0===t.indexOf("closest ")?[closest(e,t.substr(8))]:0===t.indexOf("find ")?[find(e,t.substr(5))]:0===t.indexOf("next ")?[scanForwardQuery(e,t.substr(5))]:0===t.indexOf("previous ")?[scanBackwardsQuery(e,t.substr(9))]:"document"===t?[document]:"window"===t?[window]:getDocument().querySelectorAll(t)}var scanForwardQuery=function(e,t){for(var r=getDocument().querySelectorAll(t),n=0;n<r.length;n++){var o=r[n];if(o.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return o}},scanBackwardsQuery=function(e,t){for(var r=getDocument().querySelectorAll(t),n=r.length-1;n>=0;n--){var o=r[n];if(o.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return o}};function querySelectorExt(e,t){return t?querySelectorAllExt(e,t)[0]:querySelectorAllExt(getDocument().body,e)[0]}function resolveTarget(e){return isType(e,"String")?find(e):e}function processEventArgs(e,t,r){return isFunction(t)?{target:getDocument().body,event:e,listener:t}:{target:resolveTarget(e),event:t,listener:r}}function addEventListenerImpl(e,t,r){return ready((function(){var n=processEventArgs(e,t,r);n.target.addEventListener(n.event,n.listener)})),isFunction(t)?t:r}function removeEventListenerImpl(e,t,r){return ready((function(){var n=processEventArgs(e,t,r);n.target.removeEventListener(n.event,n.listener)})),isFunction(t)?t:r}var DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(e,t){var r=getClosestAttributeValue(e,t);if(r){if("this"===r)return[findThisElement(e,t)];var n=querySelectorAllExt(e,r);return 0===n.length?(logError('The selector "'+r+'" on '+t+" returned no matches!"),[DUMMY_ELT]):n}}function findThisElement(e,t){return getClosestMatch(e,(function(e){return null!=getAttributeValue(e,t)}))}function getTarget(e){var t=getClosestAttributeValue(e,"hx-target");return t?"this"===t?findThisElement(e,"hx-target"):querySelectorExt(e,t):getInternalData(e).boosted?getDocument().body:e}function shouldSettleAttribute(e){for(var t=htmx.config.attributesToSettle,r=0;r<t.length;r++)if(e===t[r])return!0;return!1}function cloneAttributes(e,t){forEach(e.attributes,(function(r){!t.hasAttribute(r.name)&&shouldSettleAttribute(r.name)&&e.removeAttribute(r.name)})),forEach(t.attributes,(function(t){shouldSettleAttribute(t.name)&&e.setAttribute(t.name,t.value)}))}function isInlineSwap(e,t){for(var r=getExtensions(t),n=0;n<r.length;n++){var o=r[n];try{if(o.isInlineSwap(e))return!0}catch(e){logError(e)}}return"outerHTML"===e}function oobSwap(e,t,r){var n="#"+t.id,o="outerHTML";"true"===e||(e.indexOf(":")>0?(o=e.substr(0,e.indexOf(":")),n=e.substr(e.indexOf(":")+1,e.length)):o=e);var i=getDocument().querySelectorAll(n);return i?(forEach(i,(function(e){var n,i=t.cloneNode(!0);(n=getDocument().createDocumentFragment()).appendChild(i),isInlineSwap(o,e)||(n=i);var s={shouldSwap:!0,target:e,fragment:n};triggerEvent(e,"htmx:oobBeforeSwap",s)&&(e=s.target,s.shouldSwap&&swap(o,e,e,n,r),forEach(r.elts,(function(e){triggerEvent(e,"htmx:oobAfterSwap",s)})))})),t.parentNode.removeChild(t)):(t.parentNode.removeChild(t),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:t})),e}function handleOutOfBandSwaps(e,t,r){var n=getClosestAttributeValue(e,"hx-select-oob");if(n){var o=n.split(",");for(let e=0;e<o.length;e++){var i=o[e].split(":",2),s=i[0];0===s.indexOf("#")&&(s=s.substring(1));var a=i[1]||"true",l=t.querySelector("#"+s);l&&oobSwap(a,l,r)}}forEach(findAll(t,"[hx-swap-oob], [data-hx-swap-oob]"),(function(e){var t=getAttributeValue(e,"hx-swap-oob");null!=t&&oobSwap(t,e,r)}))}function handlePreservedElements(e){forEach(findAll(e,"[hx-preserve], [data-hx-preserve]"),(function(e){var t=getAttributeValue(e,"id"),r=getDocument().getElementById(t);null!=r&&e.parentNode.replaceChild(r,e)}))}function handleAttributes(e,t,r){forEach(t.querySelectorAll("[id]"),(function(t){if(t.id&&t.id.length>0){var n=t.id.replace("'","\\'"),o=e.querySelector(t.tagName+"[id='"+n+"']");if(o&&o!==e){var i=t.cloneNode();cloneAttributes(t,o),r.tasks.push((function(){cloneAttributes(t,i)}))}}}))}function makeAjaxLoadTask(e){return function(){removeClassFromElement(e,htmx.config.addedClass),processNode(e),processScripts(e),processFocus(e),triggerEvent(e,"htmx:load")}}function processFocus(e){var t="[autofocus]",r=matches(e,t)?e:e.querySelector(t);null!=r&&r.focus()}function insertNodesBefore(e,t,r,n){for(handleAttributes(e,r,n);r.childNodes.length>0;){var o=r.firstChild;addClassToElement(o,htmx.config.addedClass),e.insertBefore(o,t),o.nodeType!==Node.TEXT_NODE&&o.nodeType!==Node.COMMENT_NODE&&n.tasks.push(makeAjaxLoadTask(o))}}function stringHash(e,t){for(var r=0;r<e.length;)t=(t<<5)-t+e.charCodeAt(r++)|0;return t}function attributeHash(e){var t=0;if(e.attributes)for(var r=0;r<e.attributes.length;r++){var n=e.attributes[r];n.value&&(t=stringHash(n.name,t),t=stringHash(n.value,t))}return t}function deInitNode(e){var t=getInternalData(e);t.webSocket&&t.webSocket.close(),t.sseEventSource&&t.sseEventSource.close(),t.listenerInfos&&forEach(t.listenerInfos,(function(e){e.on&&e.on.removeEventListener(e.trigger,e.listener)}))}function cleanUpElement(e){triggerEvent(e,"htmx:beforeCleanupElement"),deInitNode(e),e.children&&forEach(e.children,(function(e){cleanUpElement(e)}))}function swapOuterHTML(e,t,r){if("BODY"===e.tagName)return swapInnerHTML(e,t,r);var n,o=e.previousSibling;for(insertNodesBefore(parentElt(e),e,t,r),n=null==o?parentElt(e).firstChild:o.nextSibling,getInternalData(e).replacedWith=n,r.elts=[];n&&n!==e;)n.nodeType===Node.ELEMENT_NODE&&r.elts.push(n),n=n.nextElementSibling;cleanUpElement(e),parentElt(e).removeChild(e)}function swapAfterBegin(e,t,r){return insertNodesBefore(e,e.firstChild,t,r)}function swapBeforeBegin(e,t,r){return insertNodesBefore(parentElt(e),e,t,r)}function swapBeforeEnd(e,t,r){return insertNodesBefore(e,null,t,r)}function swapAfterEnd(e,t,r){return insertNodesBefore(parentElt(e),e.nextSibling,t,r)}function swapDelete(e,t,r){return cleanUpElement(e),parentElt(e).removeChild(e)}function swapInnerHTML(e,t,r){var n=e.firstChild;if(insertNodesBefore(e,n,t,r),n){for(;n.nextSibling;)cleanUpElement(n.nextSibling),e.removeChild(n.nextSibling);cleanUpElement(n),e.removeChild(n)}}function maybeSelectFromResponse(e,t){var r=getClosestAttributeValue(e,"hx-select");if(r){var n=getDocument().createDocumentFragment();forEach(t.querySelectorAll(r),(function(e){n.appendChild(e)})),t=n}return t}function swap(e,t,r,n,o){switch(e){case"none":return;case"outerHTML":return void swapOuterHTML(r,n,o);case"afterbegin":return void swapAfterBegin(r,n,o);case"beforebegin":return void swapBeforeBegin(r,n,o);case"beforeend":return void swapBeforeEnd(r,n,o);case"afterend":return void swapAfterEnd(r,n,o);case"delete":return void swapDelete(r,n,o);default:for(var i=getExtensions(t),s=0;s<i.length;s++){var a=i[s];try{var l=a.handleSwap(e,r,n,o);if(l){if(void 0!==l.length)for(var c=0;c<l.length;c++){var h=l[c];h.nodeType!==Node.TEXT_NODE&&h.nodeType!==Node.COMMENT_NODE&&o.tasks.push(makeAjaxLoadTask(h))}return}}catch(e){logError(e)}}"innerHTML"===e?swapInnerHTML(r,n,o):swap(htmx.config.defaultSwapStyle,t,r,n,o)}}function findTitle(e){if(e.indexOf("<title")>-1){var t=e.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"").match(/<title(\s[^>]*>|>)([\s\S]*?)<\/title>/im);if(t)return t[2]}}function selectAndSwap(e,t,r,n,o){o.title=findTitle(n);var i=makeFragment(n);if(i)return handleOutOfBandSwaps(r,i,o),handlePreservedElements(i=maybeSelectFromResponse(r,i)),swap(e,r,t,i,o)}function handleTrigger(e,t,r){var n=e.getResponseHeader(t);if(0===n.indexOf("{")){var o=parseJSON(n);for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];isRawObject(s)||(s={value:s}),triggerEvent(r,i,s)}}else triggerEvent(r,n,[])}var WHITESPACE=/\s/,WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/;function tokenizeString(e){for(var t=[],r=0;r<e.length;){if(SYMBOL_START.exec(e.charAt(r))){for(var n=r;SYMBOL_CONT.exec(e.charAt(r+1));)r++;t.push(e.substr(n,r-n+1))}else if(-1!==STRINGISH_START.indexOf(e.charAt(r))){var o=e.charAt(r);for(n=r,r++;r<e.length&&e.charAt(r)!==o;)"\\"===e.charAt(r)&&r++,r++;t.push(e.substr(n,r-n+1))}else{var i=e.charAt(r);t.push(i)}r++}return t}function isPossibleRelativeReference(e,t,r){return SYMBOL_START.exec(e.charAt(0))&&"true"!==e&&"false"!==e&&"this"!==e&&e!==r&&"."!==t}function maybeGenerateConditional(e,t,r){if("["===t[0]){t.shift();for(var n=1,o=" return (function("+r+"){ return (",i=null;t.length>0;){var s=t[0];if("]"===s){if(0==--n){null===i&&(o+="true"),t.shift(),o+=")})";try{var a=maybeEval(e,(function(){return Function(o)()}),(function(){return!0}));return a.source=o,a}catch(e){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:e,source:o}),null}}}else"["===s&&n++;isPossibleRelativeReference(s,i,r)?o+="(("+r+"."+s+") ? ("+r+"."+s+") : (window."+s+"))":o+=s,i=t.shift()}}}function consumeUntil(e,t){for(var r="";e.length>0&&!e[0].match(t);)r+=e.shift();return r}var INPUT_SELECTOR="input, textarea, select";function getTriggerSpecs(e){var t=getAttributeValue(e,"hx-trigger"),r=[];if(t){var n=tokenizeString(t);do{consumeUntil(n,NOT_WHITESPACE);var o=n.length,i=consumeUntil(n,/[,\[\s]/);if(""!==i)if("every"===i){var s={trigger:"every"};consumeUntil(n,NOT_WHITESPACE),s.pollInterval=parseInterval(consumeUntil(n,/[,\[\s]/)),consumeUntil(n,NOT_WHITESPACE),(a=maybeGenerateConditional(e,n,"event"))&&(s.eventFilter=a),r.push(s)}else if(0===i.indexOf("sse:"))r.push({trigger:"sse",sseEvent:i.substr(4)});else{var a,l={trigger:i};for((a=maybeGenerateConditional(e,n,"event"))&&(l.eventFilter=a);n.length>0&&","!==n[0];){consumeUntil(n,NOT_WHITESPACE);var c=n.shift();if("changed"===c)l.changed=!0;else if("once"===c)l.once=!0;else if("consume"===c)l.consume=!0;else if("delay"===c&&":"===n[0])n.shift(),l.delay=parseInterval(consumeUntil(n,WHITESPACE_OR_COMMA));else if("from"===c&&":"===n[0]){n.shift();var h=consumeUntil(n,WHITESPACE_OR_COMMA);"closest"!==h&&"find"!==h&&"next"!==h&&"previous"!==h||(n.shift(),h+=" "+consumeUntil(n,WHITESPACE_OR_COMMA)),l.from=h}else"target"===c&&":"===n[0]?(n.shift(),l.target=consumeUntil(n,WHITESPACE_OR_COMMA)):"throttle"===c&&":"===n[0]?(n.shift(),l.throttle=parseInterval(consumeUntil(n,WHITESPACE_OR_COMMA))):"queue"===c&&":"===n[0]?(n.shift(),l.queue=consumeUntil(n,WHITESPACE_OR_COMMA)):"root"!==c&&"threshold"!==c||":"!==n[0]?triggerErrorEvent(e,"htmx:syntax:error",{token:n.shift()}):(n.shift(),l[c]=consumeUntil(n,WHITESPACE_OR_COMMA))}r.push(l)}n.length===o&&triggerErrorEvent(e,"htmx:syntax:error",{token:n.shift()}),consumeUntil(n,NOT_WHITESPACE)}while(","===n[0]&&n.shift())}return r.length>0?r:matches(e,"form")?[{trigger:"submit"}]:matches(e,'input[type="button"]')?[{trigger:"click"}]:matches(e,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(e){getInternalData(e).cancelled=!0}function processPolling(e,t,r){var n=getInternalData(e);n.timeout=setTimeout((function(){bodyContains(e)&&!0!==n.cancelled&&(maybeFilterEvent(r,makeEvent("hx:poll:trigger",{triggerSpec:r,target:e}))||t(e),processPolling(e,t,r))}),r.pollInterval)}function isLocalLink(e){return location.hostname===e.hostname&&getRawAttribute(e,"href")&&0!==getRawAttribute(e,"href").indexOf("#")}function boostElement(e,t,r){if("A"===e.tagName&&isLocalLink(e)&&(""===e.target||"_self"===e.target)||"FORM"===e.tagName){var n,o;if(t.boosted=!0,"A"===e.tagName)n="get",o=getRawAttribute(e,"href");else{var i=getRawAttribute(e,"method");n=i?i.toLowerCase():"get",o=getRawAttribute(e,"action")}r.forEach((function(r){addEventListener(e,(function(e,t){issueAjaxRequest(n,o,e,t)}),t,r,!0)}))}}function shouldCancel(e,t){if("submit"===e.type||"click"===e.type){if("FORM"===t.tagName)return!0;if(matches(t,'input[type="submit"], button')&&null!==closest(t,"form"))return!0;if("A"===t.tagName&&t.href&&("#"===t.getAttribute("href")||0!==t.getAttribute("href").indexOf("#")))return!0}return!1}function ignoreBoostedAnchorCtrlClick(e,t){return getInternalData(e).boosted&&"A"===e.tagName&&"click"===t.type&&(t.ctrlKey||t.metaKey)}function maybeFilterEvent(e,t){var r=e.eventFilter;if(r)try{return!0!==r(t)}catch(e){return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:e,source:r.source}),!0}return!1}function addEventListener(e,t,r,n,o){var i,s=getInternalData(e);i=n.from?querySelectorAllExt(e,n.from):[e],n.changed&&(s.lastValue=e.value),forEach(i,(function(i){var a=function(r){if(bodyContains(e)){if(!ignoreBoostedAnchorCtrlClick(e,r)&&((o||shouldCancel(r,e))&&r.preventDefault(),!maybeFilterEvent(n,r))){var l=getInternalData(r);if(l.triggerSpec=n,null==l.handledFor&&(l.handledFor=[]),l.handledFor.indexOf(e)<0){if(l.handledFor.push(e),n.consume&&r.stopPropagation(),n.target&&r.target&&!matches(r.target,n.target))return;if(n.once){if(s.triggeredOnce)return;s.triggeredOnce=!0}if(n.changed){if(s.lastValue===e.value)return;s.lastValue=e.value}if(s.delayed&&clearTimeout(s.delayed),s.throttle)return;n.throttle?s.throttle||(t(e,r),s.throttle=setTimeout((function(){s.throttle=null}),n.throttle)):n.delay?s.delayed=setTimeout((function(){t(e,r)}),n.delay):t(e,r)}}}else i.removeEventListener(n.trigger,a)};null==r.listenerInfos&&(r.listenerInfos=[]),r.listenerInfos.push({trigger:n.trigger,listener:a,on:i}),i.addEventListener(n.trigger,a)}))}var windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),setInterval((function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger='revealed'],[data-hx-trigger='revealed']"),(function(e){maybeReveal(e)})))}),200))}function maybeReveal(e){!hasAttribute(e,"data-hx-revealed")&&isScrolledIntoView(e)&&(e.setAttribute("data-hx-revealed","true"),getInternalData(e).initHash?triggerEvent(e,"revealed"):e.addEventListener("htmx:afterProcessNode",(function(t){triggerEvent(e,"revealed")}),{once:!0}))}function processWebSocketInfo(e,t,r){for(var n=splitOnWhitespace(r),o=0;o<n.length;o++){var i=n[o].split(/:(.+)/);"connect"===i[0]&&ensureWebSocket(e,i[1],0),"send"===i[0]&&processWebSocketSend(e)}}function ensureWebSocket(e,t,r){if(bodyContains(e)){if(0==t.indexOf("/")){var n=location.hostname+(location.port?":"+location.port:"");"https:"==location.protocol?t="wss://"+n+t:"http:"==location.protocol&&(t="ws://"+n+t)}var o=htmx.createWebSocket(t);o.onerror=function(t){triggerErrorEvent(e,"htmx:wsError",{error:t,socket:o}),maybeCloseWebSocketSource(e)},o.onclose=function(n){if([1006,1012,1013].indexOf(n.code)>=0){var o=getWebSocketReconnectDelay(r);setTimeout((function(){ensureWebSocket(e,t,r+1)}),o)}},o.onopen=function(e){r=0},getInternalData(e).webSocket=o,o.addEventListener("message",(function(t){if(!maybeCloseWebSocketSource(e)){var r=t.data;withExtensions(e,(function(t){r=t.transformResponse(r,null,e)}));for(var n=makeSettleInfo(e),o=toArray(makeFragment(r).children),i=0;i<o.length;i++){var s=o[i];oobSwap(getAttributeValue(s,"hx-swap-oob")||"true",s,n)}settleImmediately(n.tasks)}}))}}function maybeCloseWebSocketSource(e){if(!bodyContains(e))return getInternalData(e).webSocket.close(),!0}function processWebSocketSend(e){var t=getClosestMatch(e,(function(e){return null!=getInternalData(e).webSocket}));t?e.addEventListener(getTriggerSpecs(e)[0].trigger,(function(r){var n=getInternalData(t).webSocket,o=getHeaders(e,t),i=getInputValues(e,"post"),s=i.errors,a=filterValues(mergeObjects(i.values,getExpressionVars(e)),e);a.HEADERS=o,s&&s.length>0?triggerEvent(e,"htmx:validation:halted",s):(n.send(JSON.stringify(a)),shouldCancel(r,e)&&r.preventDefault())})):triggerErrorEvent(e,"htmx:noWebSocketSourceError")}function getWebSocketReconnectDelay(e){var t=htmx.config.wsReconnectDelay;if("function"==typeof t)return t(e);if("full-jitter"===t){var r=Math.min(e,6);return 1e3*Math.pow(2,r)*Math.random()}logError('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function processSSEInfo(e,t,r){for(var n=splitOnWhitespace(r),o=0;o<n.length;o++){var i=n[o].split(/:(.+)/);"connect"===i[0]&&processSSESource(e,i[1]),"swap"===i[0]&&processSSESwap(e,i[1])}}function processSSESource(e,t){var r=htmx.createEventSource(t);r.onerror=function(t){triggerErrorEvent(e,"htmx:sseError",{error:t,source:r}),maybeCloseSSESource(e)},getInternalData(e).sseEventSource=r}function processSSESwap(e,t){var r=getClosestMatch(e,hasEventSource);if(r){var n=getInternalData(r).sseEventSource,o=function(i){if(maybeCloseSSESource(r))n.removeEventListener(t,o);else{var s=i.data;withExtensions(e,(function(t){s=t.transformResponse(s,null,e)}));var a=getSwapSpecification(e),l=getTarget(e),c=makeSettleInfo(e);selectAndSwap(a.swapStyle,e,l,s,c),settleImmediately(c.tasks),triggerEvent(e,"htmx:sseMessage",i)}};getInternalData(e).sseListener=o,n.addEventListener(t,o)}else triggerErrorEvent(e,"htmx:noSSESourceError")}function processSSETrigger(e,t,r){var n=getClosestMatch(e,hasEventSource);if(n){var o=getInternalData(n).sseEventSource,i=function(){maybeCloseSSESource(n)||(bodyContains(e)?t(e):o.removeEventListener(r,i))};getInternalData(e).sseListener=i,o.addEventListener(r,i)}else triggerErrorEvent(e,"htmx:noSSESourceError")}function maybeCloseSSESource(e){if(!bodyContains(e))return getInternalData(e).sseEventSource.close(),!0}function hasEventSource(e){return null!=getInternalData(e).sseEventSource}function loadImmediately(e,t,r,n){var o=function(){r.loaded||(r.loaded=!0,t(e))};n?setTimeout(o,n):o()}function processVerbs(e,t,r){var n=!1;return forEach(VERBS,(function(o){if(hasAttribute(e,"hx-"+o)){var i=getAttributeValue(e,"hx-"+o);n=!0,t.path=i,t.verb=o,r.forEach((function(r){addTriggerHandler(e,r,t,(function(e,t){issueAjaxRequest(o,i,e,t)}))}))}})),n}function addTriggerHandler(e,t,r,n){if(t.sseEvent)processSSETrigger(e,n,t.sseEvent);else if("revealed"===t.trigger)initScrollHandler(),addEventListener(e,n,r,t),maybeReveal(e);else if("intersect"===t.trigger){var o={};t.root&&(o.root=querySelectorExt(e,t.root)),t.threshold&&(o.threshold=parseFloat(t.threshold)),new IntersectionObserver((function(t){for(var r=0;r<t.length;r++)if(t[r].isIntersecting){triggerEvent(e,"intersect");break}}),o).observe(e),addEventListener(e,n,r,t)}else"load"===t.trigger?maybeFilterEvent(t,makeEvent("load",{elt:e}))||loadImmediately(e,n,r,t.delay):t.pollInterval?(r.polling=!0,processPolling(e,n,t)):addEventListener(e,n,r,t)}function evalScript(e){if("text/javascript"===e.type||"module"===e.type||""===e.type){var t=getDocument().createElement("script");forEach(e.attributes,(function(e){t.setAttribute(e.name,e.value)})),t.textContent=e.textContent,t.async=!1,htmx.config.inlineScriptNonce&&(t.nonce=htmx.config.inlineScriptNonce);var r=e.parentElement;try{r.insertBefore(t,e)}catch(e){logError(e)}finally{e.parentElement&&e.parentElement.removeChild(e)}}}function processScripts(e){matches(e,"script")&&evalScript(e),forEach(findAll(e,"script"),(function(e){evalScript(e)}))}function hasChanceOfBeingBoosted(){return document.querySelector("[hx-boost], [data-hx-boost]")}function findElementsToProcess(e){if(e.querySelectorAll){var t=hasChanceOfBeingBoosted()?", a, form":"";return e.querySelectorAll(VERB_SELECTOR+t+", [hx-sse], [data-hx-sse], [hx-ws], [data-hx-ws], [hx-ext], [data-hx-ext]")}return[]}function initButtonTracking(e){var t=function(t){var r=closest(t.target,"button, input[type='submit']");null!==r&&(getInternalData(e).lastButtonClicked=r)};e.addEventListener("click",t),e.addEventListener("focusin",t),e.addEventListener("focusout",(function(t){getInternalData(e).lastButtonClicked=null}))}function initNode(e){if(!e.closest||!e.closest(htmx.config.disableSelector)){var t=getInternalData(e);if(t.initHash!==attributeHash(e)){t.initHash=attributeHash(e),deInitNode(e),triggerEvent(e,"htmx:beforeProcessNode"),e.value&&(t.lastValue=e.value);var r=getTriggerSpecs(e);processVerbs(e,t,r)||"true"!==getClosestAttributeValue(e,"hx-boost")||boostElement(e,t,r),"FORM"===e.tagName&&initButtonTracking(e);var n=getAttributeValue(e,"hx-sse");n&&processSSEInfo(e,t,n);var o=getAttributeValue(e,"hx-ws");o&&processWebSocketInfo(e,t,o),triggerEvent(e,"htmx:afterProcessNode")}}}function processNode(e){initNode(e=resolveTarget(e)),forEach(findElementsToProcess(e),(function(e){initNode(e)}))}function kebabEventName(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(e,t){var r;return window.CustomEvent&&"function"==typeof window.CustomEvent?r=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t}):(r=getDocument().createEvent("CustomEvent")).initCustomEvent(e,!0,!0,t),r}function triggerErrorEvent(e,t,r){triggerEvent(e,t,mergeObjects({error:t},r))}function ignoreEventForLogging(e){return"htmx:afterProcessNode"===e}function withExtensions(e,t){forEach(getExtensions(e),(function(e){try{t(e)}catch(e){logError(e)}}))}function logError(e){console.error?console.error(e):console.log&&console.log("ERROR: ",e)}function triggerEvent(e,t,r){e=resolveTarget(e),null==r&&(r={}),r.elt=e;var n=makeEvent(t,r);htmx.logger&&!ignoreEventForLogging(t)&&htmx.logger(e,t,r),r.error&&(logError(r.error),triggerEvent(e,"htmx:error",{errorInfo:r}));var o=e.dispatchEvent(n),i=kebabEventName(t);if(o&&i!==t){var s=makeEvent(i,n.detail);o=o&&e.dispatchEvent(s)}return withExtensions(e,(function(e){o=o&&!1!==e.onEvent(t,n)})),o}var currentPathForHistory=location.pathname+location.search;function getHistoryElement(){return getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]")||getDocument().body}function saveToHistoryCache(e,t,r,n){if(canAccessLocalStorage()){for(var o=parseJSON(localStorage.getItem("htmx-history-cache"))||[],i=0;i<o.length;i++)if(o[i].url===e){o.splice(i,1);break}var s={url:e,content:t,title:r,scroll:n};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:s,cache:o}),o.push(s);o.length>htmx.config.historyCacheSize;)o.shift();for(;o.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(o));break}catch(e){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:e,cache:o}),o.shift()}}}function getCachedHistory(e){if(!canAccessLocalStorage())return null;for(var t=parseJSON(localStorage.getItem("htmx-history-cache"))||[],r=0;r<t.length;r++)if(t[r].url===e)return t[r];return null}function cleanInnerHtmlForHistory(e){var t=htmx.config.requestClass,r=e.cloneNode(!0);return forEach(findAll(r,"."+t),(function(e){removeClassFromElement(e,t)})),r.innerHTML}function saveCurrentPageToHistory(){var e=getHistoryElement(),t=currentPathForHistory||location.pathname+location.search;getDocument().querySelector('[hx-history="false" i],[data-hx-history="false" i]')||(triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:t,historyElt:e}),saveToHistoryCache(t,cleanInnerHtmlForHistory(e),getDocument().title,window.scrollY)),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,window.location.href)}function pushUrlIntoHistory(e){htmx.config.getCacheBusterParam&&((e=e.replace(/org\.htmx\.cache-buster=[^&]*&?/,"")).endsWith("&")||e.endsWith("?"))&&(e=e.slice(0,-1)),htmx.config.historyEnabled&&history.pushState({htmx:!0},"",e),currentPathForHistory=e}function replaceUrlInHistory(e){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",e),currentPathForHistory=e}function settleImmediately(e){forEach(e,(function(e){e.call()}))}function loadHistoryFromServer(e){var t=new XMLHttpRequest,r={path:e,xhr:t};triggerEvent(getDocument().body,"htmx:historyCacheMiss",r),t.open("GET",e,!0),t.setRequestHeader("HX-History-Restore-Request","true"),t.onload=function(){if(this.status>=200&&this.status<400){triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",r);var t=makeFragment(this.response);t=t.querySelector("[hx-history-elt],[data-hx-history-elt]")||t;var n=getHistoryElement(),o=makeSettleInfo(n),i=findTitle(this.response);if(i){var s=find("title");s?s.innerHTML=i:window.document.title=i}swapInnerHTML(n,t,o),settleImmediately(o.tasks),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,cacheMiss:!0,serverResponse:this.response})}else triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",r)},t.send()}function restoreHistory(e){saveCurrentPageToHistory();var t=getCachedHistory(e=e||location.pathname+location.search);if(t){var r=makeFragment(t.content),n=getHistoryElement(),o=makeSettleInfo(n);swapInnerHTML(n,r,o),settleImmediately(o.tasks),document.title=t.title,window.scrollTo(0,t.scroll),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,item:t})}else htmx.config.refreshOnHistoryMiss?window.location.reload(!0):loadHistoryFromServer(e)}function addRequestIndicatorClasses(e){var t=findAttributeTargets(e,"hx-indicator");return null==t&&(t=[e]),forEach(t,(function(e){var t=getInternalData(e);t.requestCount=(t.requestCount||0)+1,e.classList.add.call(e.classList,htmx.config.requestClass)})),t}function removeRequestIndicatorClasses(e){forEach(e,(function(e){var t=getInternalData(e);t.requestCount=(t.requestCount||0)-1,0===t.requestCount&&e.classList.remove.call(e.classList,htmx.config.requestClass)}))}function haveSeenNode(e,t){for(var r=0;r<e.length;r++)if(e[r].isSameNode(t))return!0;return!1}function shouldInclude(e){return""!==e.name&&null!=e.name&&!e.disabled&&"button"!==e.type&&"submit"!==e.type&&"image"!==e.tagName&&"reset"!==e.tagName&&"file"!==e.tagName&&("checkbox"!==e.type&&"radio"!==e.type||e.checked)}function processInputValue(e,t,r,n,o){if(null!=n&&!haveSeenNode(e,n)){if(e.push(n),shouldInclude(n)){var i=getRawAttribute(n,"name"),s=n.value;if(n.multiple&&(s=toArray(n.querySelectorAll("option:checked")).map((function(e){return e.value}))),n.files&&(s=toArray(n.files)),null!=i&&null!=s){var a=t[i];void 0!==a?Array.isArray(a)?Array.isArray(s)?t[i]=a.concat(s):a.push(s):Array.isArray(s)?t[i]=[a].concat(s):t[i]=[a,s]:t[i]=s}o&&validateElement(n,r)}matches(n,"form")&&forEach(n.elements,(function(n){processInputValue(e,t,r,n,o)}))}}function validateElement(e,t){e.willValidate&&(triggerEvent(e,"htmx:validation:validate"),e.checkValidity()||(t.push({elt:e,message:e.validationMessage,validity:e.validity}),triggerEvent(e,"htmx:validation:failed",{message:e.validationMessage,validity:e.validity})))}function getInputValues(e,t){var r=[],n={},o={},i=[],s=getInternalData(e),a=matches(e,"form")&&!0!==e.noValidate||"true"===getAttributeValue(e,"hx-validate");if(s.lastButtonClicked&&(a=a&&!0!==s.lastButtonClicked.formNoValidate),"get"!==t&&processInputValue(r,o,i,closest(e,"form"),a),processInputValue(r,n,i,e,a),s.lastButtonClicked){var l=getRawAttribute(s.lastButtonClicked,"name");l&&(n[l]=s.lastButtonClicked.value)}return forEach(findAttributeTargets(e,"hx-include"),(function(e){processInputValue(r,n,i,e,a),matches(e,"form")||forEach(e.querySelectorAll(INPUT_SELECTOR),(function(e){processInputValue(r,n,i,e,a)}))})),n=mergeObjects(n,o),{errors:i,values:n}}function appendParam(e,t,r){""!==e&&(e+="&"),"[object Object]"===String(r)&&(r=JSON.stringify(r));var n=encodeURIComponent(r);return e+(encodeURIComponent(t)+"=")+n}function urlEncode(e){var t="";for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];Array.isArray(n)?forEach(n,(function(e){t=appendParam(t,r,e)})):t=appendParam(t,r,n)}return t}function makeFormData(e){var t=new FormData;for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];Array.isArray(n)?forEach(n,(function(e){t.append(r,e)})):t.append(r,n)}return t}function getHeaders(e,t,r){var n={"HX-Request":"true","HX-Trigger":getRawAttribute(e,"id"),"HX-Trigger-Name":getRawAttribute(e,"name"),"HX-Target":getAttributeValue(t,"id"),"HX-Current-URL":getDocument().location.href};return getValuesForElement(e,"hx-headers",!1,n),void 0!==r&&(n["HX-Prompt"]=r),getInternalData(e).boosted&&(n["HX-Boosted"]="true"),n}function filterValues(e,t){var r=getClosestAttributeValue(t,"hx-params");if(r){if("none"===r)return{};if("*"===r)return e;if(0===r.indexOf("not "))return forEach(r.substr(4).split(","),(function(t){t=t.trim(),delete e[t]})),e;var n={};return forEach(r.split(","),(function(t){t=t.trim(),n[t]=e[t]})),n}return e}function isAnchorLink(e){return getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")>=0}function getSwapSpecification(e,t){var r=t||getClosestAttributeValue(e,"hx-swap"),n={swapStyle:getInternalData(e).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(getInternalData(e).boosted&&!isAnchorLink(e)&&(n.show="top"),r){var o=splitOnWhitespace(r);if(o.length>0){n.swapStyle=o[0];for(var i=1;i<o.length;i++){var s=o[i];if(0===s.indexOf("swap:")&&(n.swapDelay=parseInterval(s.substr(5))),0===s.indexOf("settle:")&&(n.settleDelay=parseInterval(s.substr(7))),0===s.indexOf("scroll:")){var a=(c=s.substr(7).split(":")).pop(),l=c.length>0?c.join(":"):null;n.scroll=a,n.scrollTarget=l}if(0===s.indexOf("show:")){var c,h=(c=s.substr(5).split(":")).pop();l=c.length>0?c.join(":"):null,n.show=h,n.showTarget=l}if(0===s.indexOf("focus-scroll:")){var d=s.substr("focus-scroll:".length);n.focusScroll="true"==d}}}}return n}function usesFormData(e){return"multipart/form-data"===getClosestAttributeValue(e,"hx-encoding")||matches(e,"form")&&"multipart/form-data"===getRawAttribute(e,"enctype")}function encodeParamsForBody(e,t,r){var n=null;return withExtensions(t,(function(o){null==n&&(n=o.encodeParameters(e,r,t))})),null!=n?n:usesFormData(t)?makeFormData(r):urlEncode(r)}function makeSettleInfo(e){return{tasks:[],elts:[e]}}function updateScrollState(e,t){var r=e[0],n=e[e.length-1];if(t.scroll){var o=null;t.scrollTarget&&(o=querySelectorExt(r,t.scrollTarget)),"top"===t.scroll&&(r||o)&&((o=o||r).scrollTop=0),"bottom"===t.scroll&&(n||o)&&((o=o||n).scrollTop=o.scrollHeight)}if(t.show){if(o=null,t.showTarget){var i=t.showTarget;"window"===t.showTarget&&(i="body"),o=querySelectorExt(r,i)}"top"===t.show&&(r||o)&&(o=o||r).scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior}),"bottom"===t.show&&(n||o)&&(o=o||n).scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior})}}function getValuesForElement(e,t,r,n){if(null==n&&(n={}),null==e)return n;var o=getAttributeValue(e,t);if(o){var i,s=o.trim(),a=r;if("unset"===s)return null;for(var l in 0===s.indexOf("javascript:")?(s=s.substr(11),a=!0):0===s.indexOf("js:")&&(s=s.substr(3),a=!0),0!==s.indexOf("{")&&(s="{"+s+"}"),i=a?maybeEval(e,(function(){return Function("return ("+s+")")()}),{}):parseJSON(s))i.hasOwnProperty(l)&&null==n[l]&&(n[l]=i[l])}return getValuesForElement(parentElt(e),t,r,n)}function maybeEval(e,t,r){return htmx.config.allowEval?t():(triggerErrorEvent(e,"htmx:evalDisallowedError"),r)}function getHXVarsForElement(e,t){return getValuesForElement(e,"hx-vars",!0,t)}function getHXValsForElement(e,t){return getValuesForElement(e,"hx-vals",!1,t)}function getExpressionVars(e){return mergeObjects(getHXVarsForElement(e),getHXValsForElement(e))}function safelySetHeaderValue(e,t,r){if(null!==r)try{e.setRequestHeader(t,r)}catch(n){e.setRequestHeader(t,encodeURIComponent(r)),e.setRequestHeader(t+"-URI-AutoEncoded","true")}}function getPathFromResponse(e){if(e.responseURL&&"undefined"!=typeof URL)try{var t=new URL(e.responseURL);return t.pathname+t.search}catch(t){triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:e.responseURL})}}function hasHeader(e,t){return e.getAllResponseHeaders().match(t)}function ajaxHelper(e,t,r){return e=e.toLowerCase(),r?r instanceof Element||isType(r,"String")?issueAjaxRequest(e,t,null,null,{targetOverride:resolveTarget(r),returnPromise:!0}):issueAjaxRequest(e,t,resolveTarget(r.source),r.event,{handler:r.handler,headers:r.headers,values:r.values,targetOverride:resolveTarget(r.target),swapOverride:r.swap,returnPromise:!0}):issueAjaxRequest(e,t,null,null,{returnPromise:!0})}function hierarchyForElt(e){for(var t=[];e;)t.push(e),e=e.parentElement;return t}function issueAjaxRequest(e,t,r,n,o,i){var s=null,a=null;if((o=null!=o?o:{}).returnPromise&&"undefined"!=typeof Promise)var l=new Promise((function(e,t){s=e,a=t}));null==r&&(r=getDocument().body);var c=o.handler||handleAjaxResponse;if(bodyContains(r)){var h=o.targetOverride||getTarget(r);if(null!=h&&h!=DUMMY_ELT){if(!i&&!1===triggerEvent(r,"htmx:confirm",{target:h,elt:r,path:t,verb:e,triggeringEvent:n,etc:o,issueRequest:function(){return issueAjaxRequest(e,t,r,n,o,!0)}}))return;var d=r,u=getInternalData(r),p=getClosestAttributeValue(r,"hx-sync"),f=null,m=!1;if(p){var g=p.split(":"),v=g[0].trim();if(d="this"===v?findThisElement(r,"hx-sync"):querySelectorExt(r,v),p=(g[1]||"drop").trim(),u=getInternalData(d),"drop"===p&&u.xhr&&!0!==u.abortable)return;if("abort"===p){if(u.xhr)return;m=!0}else"replace"===p?triggerEvent(d,"htmx:abort"):0===p.indexOf("queue")&&(f=(p.split(" ")[1]||"last").trim())}if(u.xhr){if(!u.abortable){if(null==f){if(n){var y=getInternalData(n);y&&y.triggerSpec&&y.triggerSpec.queue&&(f=y.triggerSpec.queue)}null==f&&(f="last")}return null==u.queuedRequests&&(u.queuedRequests=[]),void("first"===f&&0===u.queuedRequests.length||"all"===f?u.queuedRequests.push((function(){issueAjaxRequest(e,t,r,n,o)})):"last"===f&&(u.queuedRequests=[],u.queuedRequests.push((function(){issueAjaxRequest(e,t,r,n,o)}))))}triggerEvent(d,"htmx:abort")}var b=new XMLHttpRequest;u.xhr=b,u.abortable=m;var w=function(){u.xhr=null,u.abortable=!1,null!=u.queuedRequests&&u.queuedRequests.length>0&&u.queuedRequests.shift()()},x=getClosestAttributeValue(r,"hx-prompt");if(x){var E=prompt(x);if(null===E||!triggerEvent(r,"htmx:prompt",{prompt:E,target:h}))return maybeCall(s),w(),l}var S=getClosestAttributeValue(r,"hx-confirm");if(S&&!confirm(S))return maybeCall(s),w(),l;var _=getHeaders(r,h,E);o.headers&&(_=mergeObjects(_,o.headers));var C=getInputValues(r,e),A=C.errors,k=C.values;o.values&&(k=mergeObjects(k,o.values));var T=mergeObjects(k,getExpressionVars(r)),P=filterValues(T,r);"get"===e||usesFormData(r)||(_["Content-Type"]="application/x-www-form-urlencoded"),htmx.config.getCacheBusterParam&&"get"===e&&(P["org.htmx.cache-buster"]=getRawAttribute(h,"id")||"true"),null!=t&&""!==t||(t=getDocument().location.href);var M=getValuesForElement(r,"hx-request"),D=getInternalData(r).boosted,O={boosted:D,parameters:P,unfilteredParameters:T,headers:_,target:h,verb:e,errors:A,withCredentials:o.credentials||M.credentials||htmx.config.withCredentials,timeout:o.timeout||M.timeout||htmx.config.timeout,path:t,triggeringEvent:n};if(!triggerEvent(r,"htmx:configRequest",O))return maybeCall(s),w(),l;if(t=O.path,e=O.verb,_=O.headers,P=O.parameters,(A=O.errors)&&A.length>0)return triggerEvent(r,"htmx:validation:halted",O),maybeCall(s),w(),l;var I=t.split("#"),R=I[0],N=I[1],F=null;if("get"===e?(F=R,0!==Object.keys(P).length&&(F.indexOf("?")<0?F+="?":F+="&",F+=urlEncode(P),N&&(F+="#"+N)),b.open("GET",F,!0)):b.open(e.toUpperCase(),t,!0),b.overrideMimeType("text/html"),b.withCredentials=O.withCredentials,b.timeout=O.timeout,M.noHeaders);else for(var B in _)if(_.hasOwnProperty(B)){var L=_[B];safelySetHeaderValue(b,B,L)}var V={xhr:b,target:h,requestConfig:O,etc:o,boosted:D,pathInfo:{requestPath:t,finalRequestPath:F||t,anchor:N}};if(b.onload=function(){try{var e=hierarchyForElt(r);if(V.pathInfo.responsePath=getPathFromResponse(b),c(r,V),removeRequestIndicatorClasses(z),triggerEvent(r,"htmx:afterRequest",V),triggerEvent(r,"htmx:afterOnLoad",V),!bodyContains(r)){for(var t=null;e.length>0&&null==t;){var n=e.shift();bodyContains(n)&&(t=n)}t&&(triggerEvent(t,"htmx:afterRequest",V),triggerEvent(t,"htmx:afterOnLoad",V))}maybeCall(s),w()}catch(e){throw triggerErrorEvent(r,"htmx:onLoadError",mergeObjects({error:e},V)),e}},b.onerror=function(){removeRequestIndicatorClasses(z),triggerErrorEvent(r,"htmx:afterRequest",V),triggerErrorEvent(r,"htmx:sendError",V),maybeCall(a),w()},b.onabort=function(){removeRequestIndicatorClasses(z),triggerErrorEvent(r,"htmx:afterRequest",V),triggerErrorEvent(r,"htmx:sendAbort",V),maybeCall(a),w()},b.ontimeout=function(){removeRequestIndicatorClasses(z),triggerErrorEvent(r,"htmx:afterRequest",V),triggerErrorEvent(r,"htmx:timeout",V),maybeCall(a),w()},!triggerEvent(r,"htmx:beforeRequest",V))return maybeCall(s),w(),l;var z=addRequestIndicatorClasses(r);return forEach(["loadstart","loadend","progress","abort"],(function(e){forEach([b,b.upload],(function(t){t.addEventListener(e,(function(t){triggerEvent(r,"htmx:xhr:"+e,{lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total})}))}))})),triggerEvent(r,"htmx:beforeSend",V),b.send("get"===e?null:encodeParamsForBody(b,r,P)),l}triggerErrorEvent(r,"htmx:targetError",{target:getAttributeValue(r,"hx-target")})}}function determineHistoryUpdates(e,t){var r=t.xhr,n=null,o=null;if(hasHeader(r,/HX-Push:/i)?(n=r.getResponseHeader("HX-Push"),o="push"):hasHeader(r,/HX-Push-Url:/i)?(n=r.getResponseHeader("HX-Push-Url"),o="push"):hasHeader(r,/HX-Replace-Url:/i)&&(n=r.getResponseHeader("HX-Replace-Url"),o="replace"),n)return"false"===n?{}:{type:o,path:n};var i=t.pathInfo.finalRequestPath,s=t.pathInfo.responsePath,a=getClosestAttributeValue(e,"hx-push-url"),l=getClosestAttributeValue(e,"hx-replace-url"),c=getInternalData(e).boosted,h=null,d=null;return a?(h="push",d=a):l?(h="replace",d=l):c&&(h="push",d=s||i),d?"false"===d?{}:("true"===d&&(d=s||i),t.pathInfo.anchor&&-1===d.indexOf("#")&&(d=d+"#"+t.pathInfo.anchor),{type:h,path:d}):{}}function handleAjaxResponse(e,t){var r=t.xhr,n=t.target,o=t.etc;if(triggerEvent(e,"htmx:beforeOnLoad",t)){if(hasHeader(r,/HX-Trigger:/i)&&handleTrigger(r,"HX-Trigger",e),hasHeader(r,/HX-Location:/i)){saveCurrentPageToHistory();var i=r.getResponseHeader("HX-Location");return 0===i.indexOf("{")&&(u=parseJSON(i),i=u.path,delete u.path),void ajaxHelper("GET",i,u).then((function(){pushUrlIntoHistory(i)}))}if(hasHeader(r,/HX-Redirect:/i))location.href=r.getResponseHeader("HX-Redirect");else if(hasHeader(r,/HX-Refresh:/i)&&"true"===r.getResponseHeader("HX-Refresh"))location.reload();else{hasHeader(r,/HX-Retarget:/i)&&(t.target=getDocument().querySelector(r.getResponseHeader("HX-Retarget")));var s=determineHistoryUpdates(e,t),a=r.status>=200&&r.status<400&&204!==r.status,l=r.response,c=r.status>=400,h=mergeObjects({shouldSwap:a,serverResponse:l,isError:c},t);if(triggerEvent(n,"htmx:beforeSwap",h)){if(n=h.target,l=h.serverResponse,c=h.isError,t.target=n,t.failed=c,t.successful=!c,h.shouldSwap){286===r.status&&cancelPolling(e),withExtensions(e,(function(t){l=t.transformResponse(l,r,e)})),s.type&&saveCurrentPageToHistory();var d=o.swapOverride;hasHeader(r,/HX-Reswap:/i)&&(d=r.getResponseHeader("HX-Reswap"));var u=getSwapSpecification(e,d);n.classList.add(htmx.config.swappingClass);var p=function(){try{var o=document.activeElement,i={};try{i={elt:o,start:o?o.selectionStart:null,end:o?o.selectionEnd:null}}catch(e){}var a=makeSettleInfo(n);if(selectAndSwap(u.swapStyle,n,e,l,a),i.elt&&!bodyContains(i.elt)&&i.elt.id){var c=document.getElementById(i.elt.id),h={preventScroll:void 0!==u.focusScroll?!u.focusScroll:!htmx.config.defaultFocusScroll};if(c){if(i.start&&c.setSelectionRange)try{c.setSelectionRange(i.start,i.end)}catch(e){}c.focus(h)}}if(n.classList.remove(htmx.config.swappingClass),forEach(a.elts,(function(e){e.classList&&e.classList.add(htmx.config.settlingClass),triggerEvent(e,"htmx:afterSwap",t)})),hasHeader(r,/HX-Trigger-After-Swap:/i)){var d=e;bodyContains(e)||(d=getDocument().body),handleTrigger(r,"HX-Trigger-After-Swap",d)}var p=function(){if(forEach(a.tasks,(function(e){e.call()})),forEach(a.elts,(function(e){e.classList&&e.classList.remove(htmx.config.settlingClass),triggerEvent(e,"htmx:afterSettle",t)})),s.type&&("push"===s.type?(pushUrlIntoHistory(s.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:s.path})):(replaceUrlInHistory(s.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:s.path}))),t.pathInfo.anchor){var n=find("#"+t.pathInfo.anchor);n&&n.scrollIntoView({block:"start",behavior:"auto"})}if(a.title){var o=find("title");o?o.innerHTML=a.title:window.document.title=a.title}if(updateScrollState(a.elts,u),hasHeader(r,/HX-Trigger-After-Settle:/i)){var i=e;bodyContains(e)||(i=getDocument().body),handleTrigger(r,"HX-Trigger-After-Settle",i)}};u.settleDelay>0?setTimeout(p,u.settleDelay):p()}catch(r){throw triggerErrorEvent(e,"htmx:swapError",t),r}};u.swapDelay>0?setTimeout(p,u.swapDelay):p()}c&&triggerErrorEvent(e,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+r.status+" from "+t.pathInfo.requestPath},t))}}}}var extensions={};function extensionBase(){return{init:function(e){return null},onEvent:function(e,t){return!0},transformResponse:function(e,t,r){return e},isInlineSwap:function(e){return!1},handleSwap:function(e,t,r,n){return!1},encodeParameters:function(e,t,r){return null}}}function defineExtension(e,t){t.init&&t.init(internalAPI),extensions[e]=mergeObjects(extensionBase(),t)}function removeExtension(e){delete extensions[e]}function getExtensions(e,t,r){if(null==e)return t;null==t&&(t=[]),null==r&&(r=[]);var n=getAttributeValue(e,"hx-ext");return n&&forEach(n.split(","),(function(e){if("ignore:"!=(e=e.replace(/ /g,"")).slice(0,7)){if(r.indexOf(e)<0){var n=extensions[e];n&&t.indexOf(n)<0&&t.push(n)}}else r.push(e.slice(7))})),getExtensions(parentElt(e),t,r)}function ready(e){"loading"!==getDocument().readyState?e():getDocument().addEventListener("DOMContentLoaded",e)}function insertIndicatorStyles(){!1!==htmx.config.includeIndicatorStyles&&getDocument().head.insertAdjacentHTML("beforeend","<style>                      ."+htmx.config.indicatorClass+"{opacity:0;transition: opacity 200ms ease-in;}                      ."+htmx.config.requestClass+" ."+htmx.config.indicatorClass+"{opacity:1}                      ."+htmx.config.requestClass+"."+htmx.config.indicatorClass+"{opacity:1}                    </style>")}function getMetaConfig(){var e=getDocument().querySelector('meta[name="htmx-config"]');return e?parseJSON(e.content):null}function mergeMetaConfig(){var e=getMetaConfig();e&&(htmx.config=mergeObjects(htmx.config,e))}return ready((function(){mergeMetaConfig(),insertIndicatorStyles();var e=getDocument().body;processNode(e);var t=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");e.addEventListener("htmx:abort",(function(e){var t=getInternalData(e.target);t&&t.xhr&&t.xhr.abort()})),window.onpopstate=function(e){e.state&&e.state.htmx&&(restoreHistory(),forEach(t,(function(e){triggerEvent(e,"htmx:restored",{document:getDocument(),triggerEvent})})))},setTimeout((function(){triggerEvent(e,"htmx:load",{})}),0)})),htmx}()},__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},1077:function(e,t,r){var n,o,i;void 0!==r.g?r.g:window||this.window||this.global,o=[],void 0===(i="function"==typeof(n=function(e){"use strict";var t={},r="iziToast",n=(document.querySelector("body"),!!/Mobi/.test(navigator.userAgent)),o=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),i="undefined"!=typeof InstallTrigger,s="ontouchstart"in document.documentElement,a=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],l=568,c={};t.children={};var h={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof window.CustomEvent){var d=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r};d.prototype=window.Event.prototype,window.CustomEvent=d}var u=function(e,t,r){if("[object Object]"===Object.prototype.toString.call(e))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(r,e[n],n,e);else if(e)for(var o=0,i=e.length;i>o;o++)t.call(r,e[o],o,e)},p=function(e,t){var r={};return u(e,(function(t,n){r[n]=e[n]})),u(t,(function(e,n){r[n]=t[n]})),r},f=function(e){var t=document.createDocumentFragment(),r=document.createElement("div");for(r.innerHTML=e;r.firstChild;)t.appendChild(r.firstChild);return t},m={move:function(e,t,n,s){var a,l=.3,c=180;0!==s&&(e.classList.add(r+"-dragged"),e.style.transform="translateX("+s+"px)",s>0?l>(a=(c-s)/c)&&t.hide(p(n,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),e,"drag"):l>(a=(c+s)/c)&&t.hide(p(n,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),e,"drag"),e.style.opacity=a,l>a&&((o||i)&&(e.style.left=s+"px"),e.parentNode.style.opacity=l,this.stopMoving(e,null)))},startMoving:function(e,t,r,n){n=n||window.event;var o=s?n.touches[0].clientX:n.clientX,i=e.style.transform.replace("px)",""),a=o-(i=i.replace("translateX(",""));r.transitionIn&&e.classList.remove(r.transitionIn),r.transitionInMobile&&e.classList.remove(r.transitionInMobile),e.style.transition="",s?document.ontouchmove=function(n){n.preventDefault();var o=(n=n||window.event).touches[0].clientX-a;m.move(e,t,r,o)}:document.onmousemove=function(n){n.preventDefault();var o=(n=n||window.event).clientX-a;m.move(e,t,r,o)}},stopMoving:function(e,t){s?document.ontouchmove=function(){}:document.onmousemove=function(){},e.style.opacity="",e.style.transform="",e.classList.contains(r+"-dragged")&&(e.classList.remove(r+"-dragged"),e.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout((function(){e.style.transition=""}),400))}};return t.setSetting=function(e,r,n){t.children[e][r]=n},t.getSetting=function(e,r){return t.children[e][r]},t.destroy=function(){u(document.querySelectorAll("."+r+"-overlay"),(function(e,t){e.remove()})),u(document.querySelectorAll("."+r+"-wrapper"),(function(e,t){e.remove()})),u(document.querySelectorAll("."+r),(function(e,t){e.remove()})),this.children={},document.removeEventListener(r+"-opened",{},!1),document.removeEventListener(r+"-opening",{},!1),document.removeEventListener(r+"-closing",{},!1),document.removeEventListener(r+"-closed",{},!1),document.removeEventListener("keyup",{},!1),c={}},t.settings=function(e){t.destroy(),c=e,h=p(h,e||{})},u({info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},(function(e,r){t[r]=function(t){var r=p(c,t||{});r=p(e,r||{}),this.show(r)}})),t.progress=function(e,t,n){var o=this,i=t.getAttribute("data-iziToast-ref"),s=p(this.children[i],e||{}),a=t.querySelector("."+r+"-progressbar div");return{start:function(){void 0===s.time.REMAINING&&(t.classList.remove(r+"-reseted"),null!==a&&(a.style.transition="width "+s.timeout+"ms "+s.progressBarEasing,a.style.width="0%"),s.time.START=(new Date).getTime(),s.time.END=s.time.START+s.timeout,s.time.TIMER=setTimeout((function(){clearTimeout(s.time.TIMER),t.classList.contains(r+"-closing")||(o.hide(s,t,"timeout"),"function"==typeof n&&n.apply(o))}),s.timeout),o.setSetting(i,"time",s.time))},pause:function(){if(void 0!==s.time.START&&!t.classList.contains(r+"-paused")&&!t.classList.contains(r+"-reseted")){if(t.classList.add(r+"-paused"),s.time.REMAINING=s.time.END-(new Date).getTime(),clearTimeout(s.time.TIMER),o.setSetting(i,"time",s.time),null!==a){var e=window.getComputedStyle(a).getPropertyValue("width");a.style.transition="none",a.style.width=e}"function"==typeof n&&setTimeout((function(){n.apply(o)}),10)}},resume:function(){void 0!==s.time.REMAINING?(t.classList.remove(r+"-paused"),null!==a&&(a.style.transition="width "+s.time.REMAINING+"ms "+s.progressBarEasing,a.style.width="0%"),s.time.END=(new Date).getTime()+s.time.REMAINING,s.time.TIMER=setTimeout((function(){clearTimeout(s.time.TIMER),t.classList.contains(r+"-closing")||(o.hide(s,t,"timeout"),"function"==typeof n&&n.apply(o))}),s.time.REMAINING),o.setSetting(i,"time",s.time)):this.start()},reset:function(){clearTimeout(s.time.TIMER),delete s.time.REMAINING,o.setSetting(i,"time",s.time),t.classList.add(r+"-reseted"),t.classList.remove(r+"-paused"),null!==a&&(a.style.transition="none",a.style.width="100%"),"function"==typeof n&&setTimeout((function(){n.apply(o)}),10)}}},t.hide=function(e,t,o){"object"!=typeof t&&(t=document.querySelector(t));var i=this,s=p(this.children[t.getAttribute("data-iziToast-ref")],e||{});s.closedBy=o||null,delete s.time.REMAINING,t.classList.add(r+"-closing"),function(){var e=document.querySelector("."+r+"-overlay");if(null!==e){var t=e.getAttribute("data-iziToast-ref"),n=(t=t.split(",")).indexOf(String(s.ref));-1!==n&&t.splice(n,1),e.setAttribute("data-iziToast-ref",t.join()),0===t.length&&(e.classList.remove("fadeIn"),e.classList.add("fadeOut"),setTimeout((function(){e.remove()}),700))}}(),s.transitionIn&&t.classList.remove(s.transitionIn),s.transitionInMobile&&t.classList.remove(s.transitionInMobile),n||window.innerWidth<=l?s.transitionOutMobile&&t.classList.add(s.transitionOutMobile):s.transitionOut&&t.classList.add(s.transitionOut);var a=t.parentNode.offsetHeight;t.parentNode.style.height=a+"px",t.style.pointerEvents="none",(!n||window.innerWidth>l)&&(t.parentNode.style.transitionDelay="0.2s");try{var c=new CustomEvent(r+"-closing",{detail:s,bubbles:!0,cancelable:!0});document.dispatchEvent(c)}catch(e){console.warn(e)}setTimeout((function(){t.parentNode.style.height="0px",t.parentNode.style.overflow="",setTimeout((function(){delete i.children[s.ref],t.parentNode.remove();try{var e=new CustomEvent(r+"-closed",{detail:s,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}catch(e){console.warn(e)}void 0!==s.onClosed&&s.onClosed.apply(null,[s,t,o])}),1e3)}),200),void 0!==s.onClosing&&s.onClosing.apply(null,[s,t,o])},t.show=function(e){var o=this,i=p(c,e||{});if((i=p(h,i)).time={},null===i.id&&(i.id=function(e){return btoa(encodeURIComponent(e)).replace(/=/g,"")}(i.title+i.message+i.color)),1===i.displayMode||"once"==i.displayMode)try{if(document.querySelectorAll("."+r+"#"+i.id).length>0)return!1}catch(e){console.warn("["+r+"] Could not find an element with this selector: #"+i.id+". Try to set an valid id.")}if(2===i.displayMode||"replace"==i.displayMode)try{u(document.querySelectorAll("."+r+"#"+i.id),(function(e,t){o.hide(i,e,"replaced")}))}catch(e){console.warn("["+r+"] Could not find an element with this selector: #"+i.id+". Try to set an valid id.")}i.ref=(new Date).getTime()+Math.floor(1e7*Math.random()+1),t.children[i.ref]=i;var d,g={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:i.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};g.toast.setAttribute("data-iziToast-ref",i.ref),g.toast.appendChild(g.toastBody),g.toastCapsule.appendChild(g.toast),function(){if(g.toast.classList.add(r),g.toast.classList.add(r+"-opening"),g.toastCapsule.classList.add(r+"-capsule"),g.toastBody.classList.add(r+"-body"),g.toastTexts.classList.add(r+"-texts"),n||window.innerWidth<=l?i.transitionInMobile&&g.toast.classList.add(i.transitionInMobile):i.transitionIn&&g.toast.classList.add(i.transitionIn),i.class){var e=i.class.split(" ");u(e,(function(e,t){g.toast.classList.add(e)}))}i.id&&(g.toast.id=i.id),i.rtl&&(g.toast.classList.add(r+"-rtl"),g.toast.setAttribute("dir","rtl")),i.layout>1&&g.toast.classList.add(r+"-layout"+i.layout),i.balloon&&g.toast.classList.add(r+"-balloon"),i.maxWidth&&(isNaN(i.maxWidth)?g.toast.style.maxWidth=i.maxWidth:g.toast.style.maxWidth=i.maxWidth+"px"),""===i.theme&&"light"===i.theme||g.toast.classList.add(r+"-theme-"+i.theme),i.color&&(function(e){return"#"==e.substring(0,1)||"rgb"==e.substring(0,3)||"hsl"==e.substring(0,3)}(i.color)?g.toast.style.background=i.color:g.toast.classList.add(r+"-color-"+i.color)),i.backgroundColor&&(g.toast.style.background=i.backgroundColor,i.balloon&&(g.toast.style.borderColor=i.backgroundColor))}(),i.image&&(g.cover.classList.add(r+"-cover"),g.cover.style.width=i.imageWidth+"px",function(e){try{return btoa(atob(e))==e}catch(e){return!1}}(i.image.replace(/ /g,""))?g.cover.style.backgroundImage="url(data:image/png;base64,"+i.image.replace(/ /g,"")+")":g.cover.style.backgroundImage="url("+i.image+")",i.rtl?g.toastBody.style.marginRight=i.imageWidth+10+"px":g.toastBody.style.marginLeft=i.imageWidth+10+"px",g.toast.appendChild(g.cover)),i.close?(g.buttonClose=document.createElement("button"),g.buttonClose.type="button",g.buttonClose.classList.add(r+"-close"),g.buttonClose.addEventListener("click",(function(e){e.target,o.hide(i,g.toast,"button")})),g.toast.appendChild(g.buttonClose)):i.rtl?g.toast.style.paddingLeft="18px":g.toast.style.paddingRight="18px",i.progressBar&&(g.progressBar=document.createElement("div"),g.progressBarDiv=document.createElement("div"),g.progressBar.classList.add(r+"-progressbar"),g.progressBarDiv.style.background=i.progressBarColor,g.progressBar.appendChild(g.progressBarDiv),g.toast.appendChild(g.progressBar)),i.timeout&&(i.pauseOnHover&&!i.resetOnHover&&(g.toast.addEventListener("mouseenter",(function(e){o.progress(i,g.toast).pause()})),g.toast.addEventListener("mouseleave",(function(e){o.progress(i,g.toast).resume()}))),i.resetOnHover&&(g.toast.addEventListener("mouseenter",(function(e){o.progress(i,g.toast).reset()})),g.toast.addEventListener("mouseleave",(function(e){o.progress(i,g.toast).start()})))),i.iconUrl?(g.icon.setAttribute("class",r+"-icon"),g.icon.setAttribute("src",i.iconUrl)):i.icon&&(g.icon.setAttribute("class",r+"-icon "+i.icon),i.iconText&&g.icon.appendChild(document.createTextNode(i.iconText)),i.iconColor&&(g.icon.style.color=i.iconColor)),(i.icon||i.iconUrl)&&(i.rtl?g.toastBody.style.paddingRight="33px":g.toastBody.style.paddingLeft="33px",g.toastBody.appendChild(g.icon)),i.title.length>0&&(g.strong=document.createElement("strong"),g.strong.classList.add(r+"-title"),g.strong.appendChild(f(i.title)),g.toastTexts.appendChild(g.strong),i.titleColor&&(g.strong.style.color=i.titleColor),i.titleSize&&(isNaN(i.titleSize)?g.strong.style.fontSize=i.titleSize:g.strong.style.fontSize=i.titleSize+"px"),i.titleLineHeight&&(isNaN(i.titleSize)?g.strong.style.lineHeight=i.titleLineHeight:g.strong.style.lineHeight=i.titleLineHeight+"px")),i.message.length>0&&(g.p=document.createElement("p"),g.p.classList.add(r+"-message"),g.p.appendChild(f(i.message)),g.toastTexts.appendChild(g.p),i.messageColor&&(g.p.style.color=i.messageColor),i.messageSize&&(isNaN(i.titleSize)?g.p.style.fontSize=i.messageSize:g.p.style.fontSize=i.messageSize+"px"),i.messageLineHeight&&(isNaN(i.titleSize)?g.p.style.lineHeight=i.messageLineHeight:g.p.style.lineHeight=i.messageLineHeight+"px")),i.title.length>0&&i.message.length>0&&(i.rtl?g.strong.style.marginLeft="10px":2===i.layout||i.rtl||(g.strong.style.marginRight="10px")),g.toastBody.appendChild(g.toastTexts),i.inputs.length>0&&(g.inputs.classList.add(r+"-inputs"),u(i.inputs,(function(e,t){g.inputs.appendChild(f(e[0])),(d=g.inputs.childNodes)[t].classList.add(r+"-inputs-child"),e[3]&&setTimeout((function(){d[t].focus()}),300),d[t].addEventListener(e[1],(function(t){return(0,e[2])(o,g.toast,this,t)}))})),g.toastBody.appendChild(g.inputs)),i.buttons.length>0&&(g.buttons.classList.add(r+"-buttons"),u(i.buttons,(function(e,t){g.buttons.appendChild(f(e[0]));var n=g.buttons.childNodes;n[t].classList.add(r+"-buttons-child"),e[2]&&setTimeout((function(){n[t].focus()}),300),n[t].addEventListener("click",(function(t){return t.preventDefault(),(0,e[1])(o,g.toast,this,t,d)}))}))),g.toastBody.appendChild(g.buttons),i.message.length>0&&(i.inputs.length>0||i.buttons.length>0)&&(g.p.style.marginBottom="0"),(i.inputs.length>0||i.buttons.length>0)&&(i.rtl?g.toastTexts.style.marginLeft="10px":g.toastTexts.style.marginRight="10px",i.inputs.length>0&&i.buttons.length>0&&(i.rtl?g.inputs.style.marginLeft="8px":g.inputs.style.marginRight="8px")),g.toastCapsule.style.visibility="hidden",setTimeout((function(){var e=g.toast.offsetHeight,t=g.toast.currentStyle||window.getComputedStyle(g.toast),r=t.marginTop;r=r.split("px"),r=parseInt(r[0]);var n=t.marginBottom;n=n.split("px"),n=parseInt(n[0]),g.toastCapsule.style.visibility="",g.toastCapsule.style.height=e+n+r+"px",setTimeout((function(){g.toastCapsule.style.height="auto",i.target&&(g.toastCapsule.style.overflow="visible")}),500),i.timeout&&o.progress(i,g.toast).start()}),100),function(){var e=i.position;if(i.target)g.wrapper=document.querySelector(i.target),g.wrapper.classList.add(r+"-target"),i.targetFirst?g.wrapper.insertBefore(g.toastCapsule,g.wrapper.firstChild):g.wrapper.appendChild(g.toastCapsule);else{if(-1==a.indexOf(i.position))return void console.warn("["+r+"] Incorrect position.\nIt can be  "+a);e=n||window.innerWidth<=l?"bottomLeft"==i.position||"bottomRight"==i.position||"bottomCenter"==i.position?r+"-wrapper-bottomCenter":"topLeft"==i.position||"topRight"==i.position||"topCenter"==i.position?r+"-wrapper-topCenter":r+"-wrapper-center":r+"-wrapper-"+e,g.wrapper=document.querySelector("."+r+"-wrapper."+e),g.wrapper||(g.wrapper=document.createElement("div"),g.wrapper.classList.add(r+"-wrapper"),g.wrapper.classList.add(e),document.body.appendChild(g.wrapper)),"topLeft"==i.position||"topCenter"==i.position||"topRight"==i.position?g.wrapper.insertBefore(g.toastCapsule,g.wrapper.firstChild):g.wrapper.appendChild(g.toastCapsule)}isNaN(i.zindex)?console.warn("["+r+"] Invalid zIndex."):g.wrapper.style.zIndex=i.zindex}(),i.overlay&&(null!==document.querySelector("."+r+"-overlay.fadeIn")?(g.overlay=document.querySelector("."+r+"-overlay"),g.overlay.setAttribute("data-iziToast-ref",g.overlay.getAttribute("data-iziToast-ref")+","+i.ref),isNaN(i.zindex)||null===i.zindex||(g.overlay.style.zIndex=i.zindex-1)):(g.overlay.classList.add(r+"-overlay"),g.overlay.classList.add("fadeIn"),g.overlay.style.background=i.overlayColor,g.overlay.setAttribute("data-iziToast-ref",i.ref),isNaN(i.zindex)||null===i.zindex||(g.overlay.style.zIndex=i.zindex-1),document.querySelector("body").appendChild(g.overlay)),i.overlayClose?(g.overlay.removeEventListener("click",{}),g.overlay.addEventListener("click",(function(e){o.hide(i,g.toast,"overlay")}))):g.overlay.removeEventListener("click",{})),function(){if(i.animateInside){g.toast.classList.add(r+"-animateInside");var e=[200,100,300];"bounceInLeft"!=i.transitionIn&&"bounceInRight"!=i.transitionIn||(e=[400,200,400]),i.title.length>0&&setTimeout((function(){g.strong.classList.add("slideIn")}),e[0]),i.message.length>0&&setTimeout((function(){g.p.classList.add("slideIn")}),e[1]),(i.icon||i.iconUrl)&&setTimeout((function(){g.icon.classList.add("revealIn")}),e[2]);var t=150;i.buttons.length>0&&g.buttons&&setTimeout((function(){u(g.buttons.childNodes,(function(e,r){setTimeout((function(){e.classList.add("revealIn")}),t),t+=150}))}),i.inputs.length>0?150:0),i.inputs.length>0&&g.inputs&&(t=150,u(g.inputs.childNodes,(function(e,r){setTimeout((function(){e.classList.add("revealIn")}),t),t+=150})))}}(),i.onOpening.apply(null,[i,g.toast]);try{var v=new CustomEvent(r+"-opening",{detail:i,bubbles:!0,cancelable:!0});document.dispatchEvent(v)}catch(e){console.warn(e)}setTimeout((function(){g.toast.classList.remove(r+"-opening"),g.toast.classList.add(r+"-opened");try{var e=new CustomEvent(r+"-opened",{detail:i,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}catch(e){console.warn(e)}i.onOpened.apply(null,[i,g.toast])}),1e3),i.drag&&(s?(g.toast.addEventListener("touchstart",(function(e){m.startMoving(this,o,i,e)}),!1),g.toast.addEventListener("touchend",(function(e){m.stopMoving(this,e)}),!1)):(g.toast.addEventListener("mousedown",(function(e){e.preventDefault(),m.startMoving(this,o,i,e)}),!1),g.toast.addEventListener("mouseup",(function(e){e.preventDefault(),m.stopMoving(this,e)}),!1))),i.closeOnEscape&&document.addEventListener("keyup",(function(e){27==(e=e||window.event).keyCode&&o.hide(i,g.toast,"esc")})),i.closeOnClick&&g.toast.addEventListener("click",(function(e){o.hide(i,g.toast,"toast")})),o.toast=g.toast},t}())?n.apply(t,o):n)||(e.exports=i)},9755:function(e,t){var r;!function(t,r){"use strict";"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,(function(n,o){"use strict";var i=[],s=Object.getPrototypeOf,a=i.slice,l=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},c=i.push,h=i.indexOf,d={},u=d.toString,p=d.hasOwnProperty,f=p.toString,m=f.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},b=n.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,r){var n,o,i=(r=r||b).createElement("script");if(i.text=e,t)for(n in w)(o=t[n]||t.getAttribute&&t.getAttribute(n))&&i.setAttribute(n,o);r.head.appendChild(i).parentNode.removeChild(i)}function E(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[u.call(e)]||"object":typeof e}var S="3.6.4",_=function(e,t){return new _.fn.init(e,t)};function C(e){var t=!!e&&"length"in e&&e.length,r=E(e);return!v(e)&&!y(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}_.fn=_.prototype={jquery:S,constructor:_,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _.each(this,e)},map:function(e){return this.pushStack(_.map(this,(function(t,r){return e.call(t,r,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(_.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},_.extend=_.fn.extend=function(){var e,t,r,n,o,i,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||v(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&s!==n&&(c&&n&&(_.isPlainObject(n)||(o=Array.isArray(n)))?(r=s[t],i=o&&!Array.isArray(r)?[]:o||_.isPlainObject(r)?r:{},o=!1,s[t]=_.extend(c,i,n)):void 0!==n&&(s[t]=n));return s},_.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==u.call(e)||(t=s(e))&&("function"!=typeof(r=p.call(t,"constructor")&&t.constructor)||f.call(r)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){x(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,n=0;if(C(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){var r=t||[];return null!=e&&(C(Object(e))?_.merge(r,"string"==typeof e?[e]:e):c.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:h.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,o=e.length;n<r;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,r){for(var n=[],o=0,i=e.length,s=!r;o<i;o++)!t(e[o],o)!==s&&n.push(e[o]);return n},map:function(e,t,r){var n,o,i=0,s=[];if(C(e))for(n=e.length;i<n;i++)null!=(o=t(e[i],i,r))&&s.push(o);else for(i in e)null!=(o=t(e[i],i,r))&&s.push(o);return l(s)},guid:1,support:g}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=i[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var A=function(e){var t,r,n,o,i,s,a,l,c,h,d,u,p,f,m,g,v,y,b,w="sizzle"+1*new Date,x=e.document,E=0,S=0,_=le(),C=le(),A=le(),k=le(),T=function(e,t){return e===t&&(d=!0),0},P={}.hasOwnProperty,M=[],D=M.pop,O=M.push,I=M.push,R=M.slice,N=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",L="(?:\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",V="\\["+B+"*("+L+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+B+"*\\]",z=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+V+")*)|.*)\\)|)",H=new RegExp(B+"+","g"),j=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),G=new RegExp("^"+B+"*,"+B+"*"),U=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),q=new RegExp(B+"|>"),W=new RegExp(z),$=new RegExp("^"+L+"$"),Z={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+V),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\([^\\r\\n\\f])","g"),re=function(e,t){var r="0x"+e.slice(1)-65536;return t||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){u()},se=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{I.apply(M=R.call(x.childNodes),x.childNodes),M[x.childNodes.length].nodeType}catch(e){I={apply:M.length?function(e,t){O.apply(e,R.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function ae(e,t,n,o){var i,a,c,h,d,f,v,y=t&&t.ownerDocument,x=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return n;if(!o&&(u(t),t=t||p,m)){if(11!==x&&(d=Q.exec(e)))if(i=d[1]){if(9===x){if(!(c=t.getElementById(i)))return n;if(c.id===i)return n.push(c),n}else if(y&&(c=y.getElementById(i))&&b(t,c)&&c.id===i)return n.push(c),n}else{if(d[2])return I.apply(n,t.getElementsByTagName(e)),n;if((i=d[3])&&r.getElementsByClassName&&t.getElementsByClassName)return I.apply(n,t.getElementsByClassName(i)),n}if(r.qsa&&!k[e+" "]&&(!g||!g.test(e))&&(1!==x||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===x&&(q.test(e)||U.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&r.scope||((h=t.getAttribute("id"))?h=h.replace(ne,oe):t.setAttribute("id",h=w)),a=(f=s(e)).length;a--;)f[a]=(h?"#"+h:":scope")+" "+be(f[a]);v=f.join(",")}try{return I.apply(n,y.querySelectorAll(v)),n}catch(t){k(e,!0)}finally{h===w&&t.removeAttribute("id")}}}return l(e.replace(j,"$1"),t,n,o)}function le(){var e=[];return function t(r,o){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=o}}function ce(e){return e[w]=!0,e}function he(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var r=e.split("|"),o=r.length;o--;)n.attrHandle[r[o]]=t}function ue(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(r,n){for(var o,i=e([],r.length,t),s=i.length;s--;)r[o=i[s]]&&(r[o]=!(n[o]=r[o]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=ae.support={},i=ae.isXML=function(e){var t=e&&e.namespaceURI,r=e&&(e.ownerDocument||e).documentElement;return!K.test(t||r&&r.nodeName||"HTML")},u=ae.setDocument=function(e){var t,o,s=e?e.ownerDocument||e:x;return s!=p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,m=!i(p),x!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),r.scope=he((function(e){return f.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),r.cssHas=he((function(){try{return p.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),r.attributes=he((function(e){return e.className="i",!e.getAttribute("className")})),r.getElementsByTagName=he((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),r.getElementsByClassName=J.test(p.getElementsByClassName),r.getById=he((function(e){return f.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length})),r.getById?(n.filter.ID=function(e){var t=e.replace(te,re);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var r=t.getElementById(e);return r?[r]:[]}}):(n.filter.ID=function(e){var t=e.replace(te,re);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var r,n,o,i=t.getElementById(e);if(i){if((r=i.getAttributeNode("id"))&&r.value===e)return[i];for(o=t.getElementsByName(e),n=0;i=o[n++];)if((r=i.getAttributeNode("id"))&&r.value===e)return[i]}return[]}}),n.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;r=i[o++];)1===r.nodeType&&n.push(r);return n}return i},n.find.CLASS=r.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(r.qsa=J.test(p.querySelectorAll))&&(he((function(e){var t;f.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+B+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+B+"*name"+B+"*="+B+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),he((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+B+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(r.matchesSelector=J.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&he((function(e){r.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",z)})),r.cssHas||g.push(":has"),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(f.compareDocumentPosition),b=t||J.test(f.contains)?function(e,t){var r=9===e.nodeType&&e.documentElement||e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===n?e==p||e.ownerDocument==x&&b(x,e)?-1:t==p||t.ownerDocument==x&&b(x,t)?1:h?N(h,e)-N(h,t):0:4&n?-1:1)}:function(e,t){if(e===t)return d=!0,0;var r,n=0,o=e.parentNode,i=t.parentNode,s=[e],a=[t];if(!o||!i)return e==p?-1:t==p?1:o?-1:i?1:h?N(h,e)-N(h,t):0;if(o===i)return ue(e,t);for(r=e;r=r.parentNode;)s.unshift(r);for(r=t;r=r.parentNode;)a.unshift(r);for(;s[n]===a[n];)n++;return n?ue(s[n],a[n]):s[n]==x?-1:a[n]==x?1:0},p):p},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(u(e),r.matchesSelector&&m&&!k[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){k(t,!0)}return ae(t,p,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=p&&u(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=p&&u(e);var o=n.attrHandle[t.toLowerCase()],i=o&&P.call(n.attrHandle,t.toLowerCase())?o(e,t,!m):void 0;return void 0!==i?i:r.attributes||!m?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ae.escape=function(e){return(e+"").replace(ne,oe)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,n=[],o=0,i=0;if(d=!r.detectDuplicates,h=!r.sortStable&&e.slice(0),e.sort(T),d){for(;t=e[i++];)t===e[i]&&(o=n.push(i));for(;o--;)e.splice(n[o],1)}return h=null,e},o=ae.getText=function(e){var t,r="",n=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[n++];)r+=o(t);return r},n=ae.selectors={cacheLength:50,createPseudo:ce,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,re),e[3]=(e[3]||e[4]||e[5]||"").replace(te,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return Z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&W.test(r)&&(t=s(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&_(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,r){return function(n){var o=ae.attr(n,e);return null==o?"!="===t:!t||(o+="","="===t?o===r:"!="===t?o!==r:"^="===t?r&&0===o.indexOf(r):"*="===t?r&&o.indexOf(r)>-1:"$="===t?r&&o.slice(-r.length)===r:"~="===t?(" "+o.replace(H," ")+" ").indexOf(r)>-1:"|="===t&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,o){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,r,l){var c,h,d,u,p,f,m=i!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(i){for(;m;){for(u=t;u=u[m];)if(a?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(b=(p=(c=(h=(d=(u=g)[w]||(u[w]={}))[u.uniqueID]||(d[u.uniqueID]={}))[e]||[])[0]===E&&c[1])&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(b=p=0)||f.pop();)if(1===u.nodeType&&++b&&u===t){h[e]=[E,p,b];break}}else if(y&&(b=p=(c=(h=(d=(u=t)[w]||(u[w]={}))[u.uniqueID]||(d[u.uniqueID]={}))[e]||[])[0]===E&&c[1]),!1===b)for(;(u=++p&&u&&u[m]||(b=p=0)||f.pop())&&((a?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++b||(y&&((h=(d=u[w]||(u[w]={}))[u.uniqueID]||(d[u.uniqueID]={}))[e]=[E,b]),u!==t)););return(b-=o)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,t){var r,o=n.pseudos[e]||n.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return o[w]?o(t):o.length>1?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,r){for(var n,i=o(e,t),s=i.length;s--;)e[n=N(e,i[s])]=!(r[n]=i[s])})):function(e){return o(e,0,r)}):o}},pseudos:{not:ce((function(e){var t=[],r=[],n=a(e.replace(j,"$1"));return n[w]?ce((function(e,t,r,o){for(var i,s=n(e,null,o,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))})):function(e,o,i){return t[0]=e,n(t,null,i,r),t[0]=null,!r.pop()}})),has:ce((function(e){return function(t){return ae(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,re),function(t){return(t.textContent||o(t)).indexOf(e)>-1}})),lang:ce((function(e){return $.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,re).toLowerCase(),function(t){var r;do{if(r=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,r){return[r<0?r+t:r]})),even:ge((function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e})),odd:ge((function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e})),lt:ge((function(e,t,r){for(var n=r<0?r+t:r>t?t:r;--n>=0;)e.push(n);return e})),gt:ge((function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e}))}},n.pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=fe(t);function ye(){}function be(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function we(e,t,r){var n=t.dir,o=t.next,i=o||n,s=r&&"parentNode"===i,a=S++;return t.first?function(t,r,o){for(;t=t[n];)if(1===t.nodeType||s)return e(t,r,o);return!1}:function(t,r,l){var c,h,d,u=[E,a];if(l){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,r,l))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if(h=(d=t[w]||(t[w]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[n]||t;else{if((c=h[i])&&c[0]===E&&c[1]===a)return u[2]=c[2];if(h[i]=u,u[2]=e(t,r,l))return!0}return!1}}function xe(e){return e.length>1?function(t,r,n){for(var o=e.length;o--;)if(!e[o](t,r,n))return!1;return!0}:e[0]}function Ee(e,t,r,n,o){for(var i,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(i=e[a])&&(r&&!r(i,n,o)||(s.push(i),c&&t.push(a)));return s}function Se(e,t,r,n,o,i){return n&&!n[w]&&(n=Se(n)),o&&!o[w]&&(o=Se(o,i)),ce((function(i,s,a,l){var c,h,d,u=[],p=[],f=s.length,m=i||function(e,t,r){for(var n=0,o=t.length;n<o;n++)ae(e,t[n],r);return r}(t||"*",a.nodeType?[a]:a,[]),g=!e||!i&&t?m:Ee(m,u,e,a,l),v=r?o||(i?e:f||n)?[]:s:g;if(r&&r(g,v,a,l),n)for(c=Ee(v,p),n(c,[],a,l),h=c.length;h--;)(d=c[h])&&(v[p[h]]=!(g[p[h]]=d));if(i){if(o||e){if(o){for(c=[],h=v.length;h--;)(d=v[h])&&c.push(g[h]=d);o(null,v=[],c,l)}for(h=v.length;h--;)(d=v[h])&&(c=o?N(i,d):u[h])>-1&&(i[c]=!(s[c]=d))}}else v=Ee(v===s?v.splice(f,v.length):v),o?o(null,s,v,l):I.apply(s,v)}))}function _e(e){for(var t,r,o,i=e.length,s=n.relative[e[0].type],a=s||n.relative[" "],l=s?1:0,h=we((function(e){return e===t}),a,!0),d=we((function(e){return N(t,e)>-1}),a,!0),u=[function(e,r,n){var o=!s&&(n||r!==c)||((t=r).nodeType?h(e,r,n):d(e,r,n));return t=null,o}];l<i;l++)if(r=n.relative[e[l].type])u=[we(xe(u),r)];else{if((r=n.filter[e[l].type].apply(null,e[l].matches))[w]){for(o=++l;o<i&&!n.relative[e[o].type];o++);return Se(l>1&&xe(u),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(j,"$1"),r,l<o&&_e(e.slice(l,o)),o<i&&_e(e=e.slice(o)),o<i&&be(e))}u.push(r)}return xe(u)}return ye.prototype=n.filters=n.pseudos,n.setFilters=new ye,s=ae.tokenize=function(e,t){var r,o,i,s,a,l,c,h=C[e+" "];if(h)return t?0:h.slice(0);for(a=e,l=[],c=n.preFilter;a;){for(s in r&&!(o=G.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(i=[])),r=!1,(o=U.exec(a))&&(r=o.shift(),i.push({value:r,type:o[0].replace(j," ")}),a=a.slice(r.length)),n.filter)!(o=Z[s].exec(a))||c[s]&&!(o=c[s](o))||(r=o.shift(),i.push({value:r,type:s,matches:o}),a=a.slice(r.length));if(!r)break}return t?a.length:a?ae.error(e):C(e,l).slice(0)},a=ae.compile=function(e,t){var r,o=[],i=[],a=A[e+" "];if(!a){for(t||(t=s(e)),r=t.length;r--;)(a=_e(t[r]))[w]?o.push(a):i.push(a);a=A(e,function(e,t){var r=t.length>0,o=e.length>0,i=function(i,s,a,l,h){var d,f,g,v=0,y="0",b=i&&[],w=[],x=c,S=i||o&&n.find.TAG("*",h),_=E+=null==x?1:Math.random()||.1,C=S.length;for(h&&(c=s==p||s||h);y!==C&&null!=(d=S[y]);y++){if(o&&d){for(f=0,s||d.ownerDocument==p||(u(d),a=!m);g=e[f++];)if(g(d,s||p,a)){l.push(d);break}h&&(E=_)}r&&((d=!g&&d)&&v--,i&&b.push(d))}if(v+=y,r&&y!==v){for(f=0;g=t[f++];)g(b,w,s,a);if(i){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=D.call(l));w=Ee(w)}I.apply(l,w),h&&!i&&w.length>0&&v+t.length>1&&ae.uniqueSort(l)}return h&&(E=_,c=x),b};return r?ce(i):i}(i,o)),a.selector=e}return a},l=ae.select=function(e,t,r,o){var i,l,c,h,d,u="function"==typeof e&&e,p=!o&&s(e=u.selector||e);if(r=r||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&n.relative[l[1].type]){if(!(t=(n.find.ID(c.matches[0].replace(te,re),t)||[])[0]))return r;u&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=Z.needsContext.test(e)?0:l.length;i--&&(c=l[i],!n.relative[h=c.type]);)if((d=n.find[h])&&(o=d(c.matches[0].replace(te,re),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(i,1),!(e=o.length&&be(l)))return I.apply(r,o),r;break}}return(u||a(e,p))(o,t,!m,r,!t||ee.test(e)&&ve(t.parentNode)||t),r},r.sortStable=w.split("").sort(T).join("")===w,r.detectDuplicates=!!d,u(),r.sortDetached=he((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),he((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),r.attributes&&he((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),he((function(e){return null==e.getAttribute("disabled")}))||de(F,(function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),ae}(n);_.find=A,_.expr=A.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=A.uniqueSort,_.text=A.getText,_.isXMLDoc=A.isXML,_.contains=A.contains,_.escapeSelector=A.escape;var k=function(e,t,r){for(var n=[],o=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&_(e).is(r))break;n.push(e)}return n},T=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},P=_.expr.match.needsContext;function M(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(e,t,r){return v(t)?_.grep(e,(function(e,n){return!!t.call(e,n,e)!==r})):t.nodeType?_.grep(e,(function(e){return e===t!==r})):"string"!=typeof t?_.grep(e,(function(e){return h.call(t,e)>-1!==r})):_.filter(t,e,r)}_.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?_.find.matchesSelector(n,e)?[n]:[]:_.find.matches(e,_.grep(t,(function(e){return 1===e.nodeType})))},_.fn.extend({find:function(e){var t,r,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(_(e).filter((function(){for(t=0;t<n;t++)if(_.contains(o[t],this))return!0})));for(r=this.pushStack([]),t=0;t<n;t++)_.find(e,o[t],r);return n>1?_.uniqueSort(r):r},filter:function(e){return this.pushStack(O(this,e||[],!1))},not:function(e){return this.pushStack(O(this,e||[],!0))},is:function(e){return!!O(this,"string"==typeof e&&P.test(e)?_(e):e||[],!1).length}});var I,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_.fn.init=function(e,t,r){var n,o;if(!e)return this;if(r=r||I,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof _?t[0]:t,_.merge(this,_.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),D.test(n[1])&&_.isPlainObject(t))for(n in t)v(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(o=b.getElementById(n[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==r.ready?r.ready(e):e(_):_.makeArray(e,this)}).prototype=_.fn,I=_(b);var N=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function B(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.fn.extend({has:function(e){var t=_(e,this),r=t.length;return this.filter((function(){for(var e=0;e<r;e++)if(_.contains(this,t[e]))return!0}))},closest:function(e,t){var r,n=0,o=this.length,i=[],s="string"!=typeof e&&_(e);if(!P.test(e))for(;n<o;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(s?s.index(r)>-1:1===r.nodeType&&_.find.matchesSelector(r,e))){i.push(r);break}return this.pushStack(i.length>1?_.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?h.call(_(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,r){return k(e,"parentNode",r)},next:function(e){return B(e,"nextSibling")},prev:function(e){return B(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,r){return k(e,"nextSibling",r)},prevUntil:function(e,t,r){return k(e,"previousSibling",r)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(M(e,"template")&&(e=e.content||e),_.merge([],e.childNodes))}},(function(e,t){_.fn[e]=function(r,n){var o=_.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(o=_.filter(n,o)),this.length>1&&(F[e]||_.uniqueSort(o),N.test(e)&&o.reverse()),this.pushStack(o)}}));var L=/[^\x20\t\r\n\f]+/g;function V(e){return e}function z(e){throw e}function H(e,t,r,n){var o;try{e&&v(o=e.promise)?o.call(e).done(t).fail(r):e&&v(o=e.then)?o.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}_.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return _.each(e.match(L)||[],(function(e,r){t[r]=!0})),t}(e):_.extend({},e);var t,r,n,o,i=[],s=[],a=-1,l=function(){for(o=o||e.once,n=t=!0;s.length;a=-1)for(r=s.shift();++a<i.length;)!1===i[a].apply(r[0],r[1])&&e.stopOnFalse&&(a=i.length,r=!1);e.memory||(r=!1),t=!1,o&&(i=r?[]:"")},c={add:function(){return i&&(r&&!t&&(a=i.length-1,s.push(r)),function t(r){_.each(r,(function(r,n){v(n)?e.unique&&c.has(n)||i.push(n):n&&n.length&&"string"!==E(n)&&t(n)}))}(arguments),r&&!t&&l()),this},remove:function(){return _.each(arguments,(function(e,t){for(var r;(r=_.inArray(t,i,r))>-1;)i.splice(r,1),r<=a&&a--})),this},has:function(e){return e?_.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=s=[],i=r="",this},disabled:function(){return!i},lock:function(){return o=s=[],r||t||(i=r=""),this},locked:function(){return!!o},fireWith:function(e,r){return o||(r=[e,(r=r||[]).slice?r.slice():r],s.push(r),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},_.extend({Deferred:function(e){var t=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return _.Deferred((function(r){_.each(t,(function(t,n){var o=v(e[n[4]])&&e[n[4]];i[n[1]]((function(){var e=o&&o.apply(this,arguments);e&&v(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[n[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,r,o){var i=0;function s(e,t,r,o){return function(){var a=this,l=arguments,c=function(){var n,c;if(!(e<i)){if((n=r.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(c)?o?c.call(n,s(i,t,V,o),s(i,t,z,o)):(i++,c.call(n,s(i,t,V,o),s(i,t,z,o),s(i,t,V,t.notifyWith))):(r!==V&&(a=void 0,l=[n]),(o||t.resolveWith)(a,l))}},h=o?c:function(){try{c()}catch(n){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(n,h.stackTrace),e+1>=i&&(r!==z&&(a=void 0,l=[n]),t.rejectWith(a,l))}};e?h():(_.Deferred.getStackHook&&(h.stackTrace=_.Deferred.getStackHook()),n.setTimeout(h))}}return _.Deferred((function(n){t[0][3].add(s(0,n,v(o)?o:V,n.notifyWith)),t[1][3].add(s(0,n,v(e)?e:V)),t[2][3].add(s(0,n,v(r)?r:z))})).promise()},promise:function(e){return null!=e?_.extend(e,o):o}},i={};return _.each(t,(function(e,n){var s=n[2],a=n[5];o[n[1]]=s.add,a&&s.add((function(){r=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=s.fireWith})),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,r=t,n=Array(r),o=a.call(arguments),i=_.Deferred(),s=function(e){return function(r){n[e]=this,o[e]=arguments.length>1?a.call(arguments):r,--t||i.resolveWith(n,o)}};if(t<=1&&(H(e,i.done(s(r)).resolve,i.reject,!t),"pending"===i.state()||v(o[r]&&o[r].then)))return i.then();for(;r--;)H(o[r],s(r),i.reject);return i.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&j.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},_.readyException=function(e){n.setTimeout((function(){throw e}))};var G=_.Deferred();function U(){b.removeEventListener("DOMContentLoaded",U),n.removeEventListener("load",U),_.ready()}_.fn.ready=function(e){return G.then(e).catch((function(e){_.readyException(e)})),this},_.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_.readyWait:_.isReady)||(_.isReady=!0,!0!==e&&--_.readyWait>0||G.resolveWith(b,[_]))}}),_.ready.then=G.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(_.ready):(b.addEventListener("DOMContentLoaded",U),n.addEventListener("load",U));var q=function(e,t,r,n,o,i,s){var a=0,l=e.length,c=null==r;if("object"===E(r))for(a in o=!0,r)q(e,t,a,r[a],!0,i,s);else if(void 0!==n&&(o=!0,v(n)||(s=!0),c&&(s?(t.call(e,n),t=null):(c=t,t=function(e,t,r){return c.call(_(e),r)})),t))for(;a<l;a++)t(e[a],r,s?n:n.call(e[a],a,t(e[a],r)));return o?e:c?t.call(e):l?t(e[0],r):i},W=/^-ms-/,$=/-([a-z])/g;function Z(e,t){return t.toUpperCase()}function K(e){return e.replace(W,"ms-").replace($,Z)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=_.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,o=this.cache(e);if("string"==typeof t)o[K(t)]=r;else for(n in t)o[K(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][K(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){r=(t=Array.isArray(t)?t.map(K):(t=K(t))in n?[t]:t.match(L)||[]).length;for(;r--;)delete n[t[r]]}(void 0===t||_.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!_.isEmptyObject(t)}};var J=new X,Q=new X,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function re(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(r)}catch(e){}Q.set(e,t,r)}else r=void 0;return r}_.extend({hasData:function(e){return Q.hasData(e)||J.hasData(e)},data:function(e,t,r){return Q.access(e,t,r)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,r){return J.access(e,t,r)},_removeData:function(e,t){J.remove(e,t)}}),_.fn.extend({data:function(e,t){var r,n,o,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(o=Q.get(i),1===i.nodeType&&!J.get(i,"hasDataAttrs"))){for(r=s.length;r--;)s[r]&&0===(n=s[r].name).indexOf("data-")&&(n=K(n.slice(5)),re(i,n,o[n]));J.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){Q.set(this,e)})):q(this,(function(t){var r;if(i&&void 0===t)return void 0!==(r=Q.get(i,e))||void 0!==(r=re(i,e))?r:void 0;this.each((function(){Q.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Q.remove(this,e)}))}}),_.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=J.get(e,t),r&&(!n||Array.isArray(r)?n=J.access(e,t,_.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=_.queue(e,t),n=r.length,o=r.shift(),i=_._queueHooks(e,t);"inprogress"===o&&(o=r.shift(),n--),o&&("fx"===t&&r.unshift("inprogress"),delete i.stop,o.call(e,(function(){_.dequeue(e,t)}),i)),!n&&i&&i.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return J.get(e,r)||J.access(e,r,{empty:_.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",r])}))})}}),_.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?_.queue(this[0],e):void 0===t?this:this.each((function(){var r=_.queue(this,e,t);_._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&_.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){_.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,o=_.Deferred(),i=this,s=this.length,a=function(){--n||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(r=J.get(i[s],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(a));return a(),o.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],se=b.documentElement,ae=function(e){return _.contains(e.ownerDocument,e)},le={composed:!0};se.getRootNode&&(ae=function(e){return _.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===_.css(e,"display")};function he(e,t,r,n){var o,i,s=20,a=n?function(){return n.cur()}:function(){return _.css(e,t,"")},l=a(),c=r&&r[3]||(_.cssNumber[t]?"":"px"),h=e.nodeType&&(_.cssNumber[t]||"px"!==c&&+l)&&oe.exec(_.css(e,t));if(h&&h[3]!==c){for(l/=2,c=c||h[3],h=+l||1;s--;)_.style(e,t,h+c),(1-i)*(1-(i=a()/l||.5))<=0&&(s=0),h/=i;h*=2,_.style(e,t,h+c),r=r||[]}return r&&(h=+h||+l||0,o=r[1]?h+(r[1]+1)*r[2]:+r[2],n&&(n.unit=c,n.start=h,n.end=o)),o}var de={};function ue(e){var t,r=e.ownerDocument,n=e.nodeName,o=de[n];return o||(t=r.body.appendChild(r.createElement(n)),o=_.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),de[n]=o,o)}function pe(e,t){for(var r,n,o=[],i=0,s=e.length;i<s;i++)(n=e[i]).style&&(r=n.style.display,t?("none"===r&&(o[i]=J.get(n,"display")||null,o[i]||(n.style.display="")),""===n.style.display&&ce(n)&&(o[i]=ue(n))):"none"!==r&&(o[i]="none",J.set(n,"display",r)));for(i=0;i<s;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}_.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?_(this).show():_(this).hide()}))}});var fe,me,ge=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ye=/^$|^module$|\/(?:java|ecma)script/i;fe=b.createDocumentFragment().appendChild(b.createElement("div")),(me=b.createElement("input")).setAttribute("type","radio"),me.setAttribute("checked","checked"),me.setAttribute("name","t"),fe.appendChild(me),g.checkClone=fe.cloneNode(!0).cloneNode(!0).lastChild.checked,fe.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!fe.cloneNode(!0).lastChild.defaultValue,fe.innerHTML="<option></option>",g.option=!!fe.lastChild;var be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function we(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&M(e,t)?_.merge([e],r):r}function xe(e,t){for(var r=0,n=e.length;r<n;r++)J.set(e[r],"globalEval",!t||J.get(t[r],"globalEval"))}be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td,g.option||(be.optgroup=be.option=[1,"<select multiple='multiple'>","</select>"]);var Ee=/<|&#?\w+;/;function Se(e,t,r,n,o){for(var i,s,a,l,c,h,d=t.createDocumentFragment(),u=[],p=0,f=e.length;p<f;p++)if((i=e[p])||0===i)if("object"===E(i))_.merge(u,i.nodeType?[i]:i);else if(Ee.test(i)){for(s=s||d.appendChild(t.createElement("div")),a=(ve.exec(i)||["",""])[1].toLowerCase(),l=be[a]||be._default,s.innerHTML=l[1]+_.htmlPrefilter(i)+l[2],h=l[0];h--;)s=s.lastChild;_.merge(u,s.childNodes),(s=d.firstChild).textContent=""}else u.push(t.createTextNode(i));for(d.textContent="",p=0;i=u[p++];)if(n&&_.inArray(i,n)>-1)o&&o.push(i);else if(c=ae(i),s=we(d.appendChild(i),"script"),c&&xe(s),r)for(h=0;i=s[h++];)ye.test(i.type||"")&&r.push(i);return d}var _e=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Ae(){return!1}function ke(e,t){return e===function(){try{return b.activeElement}catch(e){}}()==("focus"===t)}function Te(e,t,r,n,o,i){var s,a;if("object"==typeof t){for(a in"string"!=typeof r&&(n=n||r,r=void 0),t)Te(e,a,r,n,t[a],i);return e}if(null==n&&null==o?(o=r,n=r=void 0):null==o&&("string"==typeof r?(o=n,n=void 0):(o=n,n=r,r=void 0)),!1===o)o=Ae;else if(!o)return e;return 1===i&&(s=o,o=function(e){return _().off(e),s.apply(this,arguments)},o.guid=s.guid||(s.guid=_.guid++)),e.each((function(){_.event.add(this,t,o,n,r)}))}function Pe(e,t,r){r?(J.set(e,t,!1),_.event.add(e,t,{namespace:!1,handler:function(e){var n,o,i=J.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(_.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=a.call(arguments),J.set(this,t,i),n=r(this,t),this[t](),i!==(o=J.get(this,t))||n?J.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else i.length&&(J.set(this,t,{value:_.event.trigger(_.extend(i[0],_.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&_.event.add(e,t,Ce)}_.event={global:{},add:function(e,t,r,n,o){var i,s,a,l,c,h,d,u,p,f,m,g=J.get(e);if(Y(e))for(r.handler&&(r=(i=r).handler,o=i.selector),o&&_.find.matchesSelector(se,o),r.guid||(r.guid=_.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==_&&_.event.triggered!==t.type?_.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(L)||[""]).length;c--;)p=m=(a=_e.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=_.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=_.event.special[p]||{},h=_.extend({type:p,origType:m,data:n,handler:r,guid:r.guid,selector:o,needsContext:o&&_.expr.match.needsContext.test(o),namespace:f.join(".")},i),(u=l[p])||((u=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=r.guid)),o?u.splice(u.delegateCount++,0,h):u.push(h),_.event.global[p]=!0)},remove:function(e,t,r,n,o){var i,s,a,l,c,h,d,u,p,f,m,g=J.hasData(e)&&J.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(p=m=(a=_e.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=_.event.special[p]||{},u=l[p=(n?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=u.length;i--;)h=u[i],!o&&m!==h.origType||r&&r.guid!==h.guid||a&&!a.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(u.splice(i,1),h.selector&&u.delegateCount--,d.remove&&d.remove.call(e,h));s&&!u.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||_.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)_.event.remove(e,p+t[c],r,n,!0);_.isEmptyObject(l)&&J.remove(e,"handle events")}},dispatch:function(e){var t,r,n,o,i,s,a=new Array(arguments.length),l=_.event.fix(e),c=(J.get(this,"events")||Object.create(null))[l.type]||[],h=_.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,l)){for(s=_.event.handlers.call(this,l,c),t=0;(o=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==i.namespace&&!l.rnamespace.test(i.namespace)||(l.handleObj=i,l.data=i.data,void 0!==(n=((_.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,a))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,l),l.result}},handlers:function(e,t){var r,n,o,i,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],s={},r=0;r<l;r++)void 0===s[o=(n=t[r]).selector+" "]&&(s[o]=n.needsContext?_(o,this).index(c)>-1:_.find(o,this,null,[c]).length),s[o]&&i.push(n);i.length&&a.push({elem:c,handlers:i})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(_.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_.expando]?e:new _.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&M(t,"input")&&Pe(t,"click",Ce),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&M(t,"input")&&Pe(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&M(t,"input")&&J.get(t,"click")||M(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},_.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Ae,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:Ae,isPropagationStopped:Ae,isImmediatePropagationStopped:Ae,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},(function(e,t){_.event.special[e]={setup:function(){return Pe(this,e,ke),!1},trigger:function(){return Pe(this,e),!0},_default:function(t){return J.get(t.target,e)},delegateType:t}})),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){_.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=e.relatedTarget,o=e.handleObj;return n&&(n===this||_.contains(this,n))||(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}})),_.fn.extend({on:function(e,t,r,n){return Te(this,e,t,r,n)},one:function(e,t,r,n){return Te(this,e,t,r,n,1)},off:function(e,t,r){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,_(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=Ae),this.each((function(){_.event.remove(this,e,r,t)}))}});var Me=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ie(e,t){return M(e,"table")&&M(11!==t.nodeType?t:t.firstChild,"tr")&&_(e).children("tbody")[0]||e}function Re(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ne(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var r,n,o,i,s,a;if(1===t.nodeType){if(J.hasData(e)&&(a=J.get(e).events))for(o in J.remove(t,"handle events"),a)for(r=0,n=a[o].length;r<n;r++)_.event.add(t,o,a[o][r]);Q.hasData(e)&&(i=Q.access(e),s=_.extend({},i),Q.set(t,s))}}function Be(e,t){var r=t.nodeName.toLowerCase();"input"===r&&ge.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function Le(e,t,r,n){t=l(t);var o,i,s,a,c,h,d=0,u=e.length,p=u-1,f=t[0],m=v(f);if(m||u>1&&"string"==typeof f&&!g.checkClone&&De.test(f))return e.each((function(o){var i=e.eq(o);m&&(t[0]=f.call(this,o,i.html())),Le(i,t,r,n)}));if(u&&(i=(o=Se(t,e[0].ownerDocument,!1,e,n)).firstChild,1===o.childNodes.length&&(o=i),i||n)){for(a=(s=_.map(we(o,"script"),Re)).length;d<u;d++)c=o,d!==p&&(c=_.clone(c,!0,!0),a&&_.merge(s,we(c,"script"))),r.call(e[d],c,d);if(a)for(h=s[s.length-1].ownerDocument,_.map(s,Ne),d=0;d<a;d++)c=s[d],ye.test(c.type||"")&&!J.access(c,"globalEval")&&_.contains(h,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?_._evalUrl&&!c.noModule&&_._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},h):x(c.textContent.replace(Oe,""),c,h))}return e}function Ve(e,t,r){for(var n,o=t?_.filter(t,e):e,i=0;null!=(n=o[i]);i++)r||1!==n.nodeType||_.cleanData(we(n)),n.parentNode&&(r&&ae(n)&&xe(we(n,"script")),n.parentNode.removeChild(n));return e}_.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var n,o,i,s,a=e.cloneNode(!0),l=ae(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(s=we(a),n=0,o=(i=we(e)).length;n<o;n++)Be(i[n],s[n]);if(t)if(r)for(i=i||we(e),s=s||we(a),n=0,o=i.length;n<o;n++)Fe(i[n],s[n]);else Fe(e,a);return(s=we(a,"script")).length>0&&xe(s,!l&&we(e,"script")),a},cleanData:function(e){for(var t,r,n,o=_.event.special,i=0;void 0!==(r=e[i]);i++)if(Y(r)){if(t=r[J.expando]){if(t.events)for(n in t.events)o[n]?_.event.remove(r,n):_.removeEvent(r,n,t.handle);r[J.expando]=void 0}r[Q.expando]&&(r[Q.expando]=void 0)}}}),_.fn.extend({detach:function(e){return Ve(this,e,!0)},remove:function(e){return Ve(this,e)},text:function(e){return q(this,(function(e){return void 0===e?_.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Le(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ie(this,e).appendChild(e)}))},prepend:function(){return Le(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ie(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Le(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Le(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(we(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return _.clone(this,e,t)}))},html:function(e){return q(this,(function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Me.test(e)&&!be[(ve.exec(e)||["",""])[1].toLowerCase()]){e=_.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(_.cleanData(we(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Le(this,arguments,(function(t){var r=this.parentNode;_.inArray(this,e)<0&&(_.cleanData(we(this)),r&&r.replaceChild(t,this))}),e)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){_.fn[e]=function(e){for(var r,n=[],o=_(e),i=o.length-1,s=0;s<=i;s++)r=s===i?this:this.clone(!0),_(o[s])[t](r),c.apply(n,r.get());return this.pushStack(n)}}));var ze=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),He=/^--/,je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Ge=function(e,t,r){var n,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in n=r.call(e),t)e.style[o]=i[o];return n},Ue=new RegExp(ie.join("|"),"i"),qe="[\\x20\\t\\r\\n\\f]",We=new RegExp("^"+qe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+qe+"+$","g");function $e(e,t,r){var n,o,i,s,a=He.test(t),l=e.style;return(r=r||je(e))&&(s=r.getPropertyValue(t)||r[t],a&&s&&(s=s.replace(We,"$1")||void 0),""!==s||ae(e)||(s=_.style(e,t)),!g.pixelBoxStyles()&&ze.test(s)&&Ue.test(t)&&(n=l.width,o=l.minWidth,i=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=r.width,l.width=n,l.minWidth=o,l.maxWidth=i)),void 0!==s?s+"":s}function Ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(h){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(c).appendChild(h);var e=n.getComputedStyle(h);r="1%"!==e.top,l=12===t(e.marginLeft),h.style.right="60%",s=36===t(e.right),o=36===t(e.width),h.style.position="absolute",i=12===t(h.offsetWidth/3),se.removeChild(c),h=null}}function t(e){return Math.round(parseFloat(e))}var r,o,i,s,a,l,c=b.createElement("div"),h=b.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===h.style.backgroundClip,_.extend(g,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,r,o;return null==a&&(e=b.createElement("table"),t=b.createElement("tr"),r=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",r.style.height="9px",r.style.display="block",se.appendChild(e).appendChild(t).appendChild(r),o=n.getComputedStyle(t),a=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===t.offsetHeight,se.removeChild(e)),a}}))}();var Ke=["Webkit","Moz","ms"],Ye=b.createElement("div").style,Xe={};function Je(e){return _.cssProps[e]||Xe[e]||(e in Ye?e:Xe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),r=Ke.length;r--;)if((e=Ke[r]+t)in Ye)return e}(e)||e)}var Qe=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"};function rt(e,t,r){var n=oe.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function nt(e,t,r,n,o,i){var s="width"===t?1:0,a=0,l=0;if(r===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===r&&(l+=_.css(e,r+ie[s],!0,o)),n?("content"===r&&(l-=_.css(e,"padding"+ie[s],!0,o)),"margin"!==r&&(l-=_.css(e,"border"+ie[s]+"Width",!0,o))):(l+=_.css(e,"padding"+ie[s],!0,o),"padding"!==r?l+=_.css(e,"border"+ie[s]+"Width",!0,o):a+=_.css(e,"border"+ie[s]+"Width",!0,o));return!n&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-a-.5))||0),l}function ot(e,t,r){var n=je(e),o=(!g.boxSizingReliable()||r)&&"border-box"===_.css(e,"boxSizing",!1,n),i=o,s=$e(e,t,n),a="offset"+t[0].toUpperCase()+t.slice(1);if(ze.test(s)){if(!r)return s;s="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&M(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===_.css(e,"display",!1,n))&&e.getClientRects().length&&(o="border-box"===_.css(e,"boxSizing",!1,n),(i=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+nt(e,t,r||(o?"border":"content"),i,n,s)+"px"}function it(e,t,r,n,o){return new it.prototype.init(e,t,r,n,o)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=$e(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,s,a=K(t),l=He.test(t),c=e.style;if(l||(t=Je(a)),s=_.cssHooks[t]||_.cssHooks[a],void 0===r)return s&&"get"in s&&void 0!==(o=s.get(e,!1,n))?o:c[t];"string"==(i=typeof r)&&(o=oe.exec(r))&&o[1]&&(r=he(e,t,o),i="number"),null!=r&&r==r&&("number"!==i||l||(r+=o&&o[3]||(_.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==r||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(r=s.set(e,r,n))||(l?c.setProperty(t,r):c[t]=r))}},css:function(e,t,r,n){var o,i,s,a=K(t);return He.test(t)||(t=Je(a)),(s=_.cssHooks[t]||_.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,r)),void 0===o&&(o=$e(e,t,n)),"normal"===o&&t in tt&&(o=tt[t]),""===r||r?(i=parseFloat(o),!0===r||isFinite(i)?i||0:o):o}}),_.each(["height","width"],(function(e,t){_.cssHooks[t]={get:function(e,r,n){if(r)return!Qe.test(_.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,t,n):Ge(e,et,(function(){return ot(e,t,n)}))},set:function(e,r,n){var o,i=je(e),s=!g.scrollboxSize()&&"absolute"===i.position,a=(s||n)&&"border-box"===_.css(e,"boxSizing",!1,i),l=n?nt(e,t,n,a,i):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-nt(e,t,"border",!1,i)-.5)),l&&(o=oe.exec(r))&&"px"!==(o[3]||"px")&&(e.style[t]=r,r=_.css(e,t)),rt(0,r,l)}}})),_.cssHooks.marginLeft=Ze(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat($e(e,"marginLeft"))||e.getBoundingClientRect().left-Ge(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),_.each({margin:"",padding:"",border:"Width"},(function(e,t){_.cssHooks[e+t]={expand:function(r){for(var n=0,o={},i="string"==typeof r?r.split(" "):[r];n<4;n++)o[e+ie[n]+t]=i[n]||i[n-2]||i[0];return o}},"margin"!==e&&(_.cssHooks[e+t].set=rt)})),_.fn.extend({css:function(e,t){return q(this,(function(e,t,r){var n,o,i={},s=0;if(Array.isArray(t)){for(n=je(e),o=t.length;s<o;s++)i[t[s]]=_.css(e,t[s],!1,n);return i}return void 0!==r?_.style(e,t,r):_.css(e,t)}),e,t,arguments.length>1)}}),_.Tween=it,it.prototype={constructor:it,init:function(e,t,r,n,o,i){this.elem=e,this.prop=r,this.easing=o||_.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=i||(_.cssNumber[r]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,r=it.propHooks[this.prop];return this.options.duration?this.pos=t=_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):it.propHooks._default.set(this),this}},it.prototype.init.prototype=it.prototype,it.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=_.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):1!==e.elem.nodeType||!_.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:_.style(e.elem,e.prop,e.now+e.unit)}}},it.propHooks.scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},_.fx=it.prototype.init,_.fx.step={};var st,at,lt=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function ht(){at&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ht):n.setTimeout(ht,_.fx.interval),_.fx.tick())}function dt(){return n.setTimeout((function(){st=void 0})),st=Date.now()}function ut(e,t){var r,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)o["margin"+(r=ie[n])]=o["padding"+r]=e;return t&&(o.opacity=o.width=e),o}function pt(e,t,r){for(var n,o=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),i=0,s=o.length;i<s;i++)if(n=o[i].call(r,t,e))return n}function ft(e,t,r){var n,o,i=0,s=ft.prefilters.length,a=_.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=st||dt(),r=Math.max(0,c.startTime+c.duration-t),n=1-(r/c.duration||0),i=0,s=c.tweens.length;i<s;i++)c.tweens[i].run(n);return a.notifyWith(e,[c,n,r]),n<1&&s?r:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:_.extend({},t),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},r),originalProperties:t,originalOptions:r,startTime:st||dt(),duration:r.duration,tweens:[],createTween:function(t,r){var n=_.Tween(e,c.opts,t,r,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var r=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;r<n;r++)c.tweens[r].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),h=c.props;for(function(e,t){var r,n,o,i,s;for(r in e)if(o=t[n=K(r)],i=e[r],Array.isArray(i)&&(o=i[1],i=e[r]=i[0]),r!==n&&(e[n]=i,delete e[r]),(s=_.cssHooks[n])&&"expand"in s)for(r in i=s.expand(i),delete e[n],i)r in e||(e[r]=i[r],t[r]=o);else t[n]=o}(h,c.opts.specialEasing);i<s;i++)if(n=ft.prefilters[i].call(c,e,h,c.opts))return v(n.stop)&&(_._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return _.map(h,pt,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),_.fx.timer(_.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}_.Animation=_.extend(ft,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return he(r.elem,e,oe.exec(t),r),r}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(L);for(var r,n=0,o=e.length;n<o;n++)r=e[n],ft.tweeners[r]=ft.tweeners[r]||[],ft.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,o,i,s,a,l,c,h,d="width"in t||"height"in t,u=this,p={},f=e.style,m=e.nodeType&&ce(e),g=J.get(e,"fxshow");for(n in r.queue||(null==(s=_._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,u.always((function(){u.always((function(){s.unqueued--,_.queue(e,"fx").length||s.empty.fire()}))}))),t)if(o=t[n],lt.test(o)){if(delete t[n],i=i||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||_.style(e,n)}if((l=!_.isEmptyObject(t))||!_.isEmptyObject(p))for(n in d&&1===e.nodeType&&(r.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=J.get(e,"display")),"none"===(h=_.css(e,"display"))&&(c?h=c:(pe([e],!0),c=e.style.display||c,h=_.css(e,"display"),pe([e]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===_.css(e,"float")&&(l||(u.done((function(){f.display=c})),null==c&&(h=f.display,c="none"===h?"":h)),f.display="inline-block")),r.overflow&&(f.overflow="hidden",u.always((function(){f.overflow=r.overflow[0],f.overflowX=r.overflow[1],f.overflowY=r.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=J.access(e,"fxshow",{display:c}),i&&(g.hidden=!m),m&&pe([e],!0),u.done((function(){for(n in m||pe([e]),J.remove(e,"fxshow"),p)_.style(e,n,p[n])}))),l=pt(m?g[n]:0,n,u),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),_.speed=function(e,t,r){var n=e&&"object"==typeof e?_.extend({},e):{complete:r||!r&&t||v(e)&&e,duration:e,easing:r&&t||t&&!v(t)&&t};return _.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in _.fx.speeds?n.duration=_.fx.speeds[n.duration]:n.duration=_.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){v(n.old)&&n.old.call(this),n.queue&&_.dequeue(this,n.queue)},n},_.fn.extend({fadeTo:function(e,t,r,n){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var o=_.isEmptyObject(e),i=_.speed(t,r,n),s=function(){var t=ft(this,_.extend({},e),i);(o||J.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=_.timers,s=J.get(this);if(o)s[o]&&s[o].stop&&n(s[o]);else for(o in s)s[o]&&s[o].stop&&ct.test(o)&&n(s[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(r),t=!1,i.splice(o,1));!t&&r||_.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,r=J.get(this),n=r[e+"queue"],o=r[e+"queueHooks"],i=_.timers,s=n?n.length:0;for(r.finish=!0,_.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish}))}}),_.each(["toggle","show","hide"],(function(e,t){var r=_.fn[t];_.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(ut(t,!0),e,n,o)}})),_.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){_.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}})),_.timers=[],_.fx.tick=function(){var e,t=0,r=_.timers;for(st=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||_.fx.stop(),st=void 0},_.fx.timer=function(e){_.timers.push(e),_.fx.start()},_.fx.interval=13,_.fx.start=function(){at||(at=!0,ht())},_.fx.stop=function(){at=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(e,t){return e=_.fx&&_.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var mt,gt=_.expr.attrHandle;_.fn.extend({attr:function(e,t){return q(this,_.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){_.removeAttr(this,e)}))}}),_.extend({attr:function(e,t,r){var n,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?_.prop(e,t,r):(1===i&&_.isXMLDoc(e)||(o=_.attrHooks[t.toLowerCase()]||(_.expr.match.bool.test(t)?mt:void 0)),void 0!==r?null===r?void _.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:(e.setAttribute(t,r+""),r):o&&"get"in o&&null!==(n=o.get(e,t))?n:null==(n=_.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&M(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,o=t&&t.match(L);if(o&&1===e.nodeType)for(;r=o[n++];)e.removeAttribute(r)}}),mt={set:function(e,t,r){return!1===t?_.removeAttr(e,r):e.setAttribute(r,r),r}},_.each(_.expr.match.bool.source.match(/\w+/g),(function(e,t){var r=gt[t]||_.find.attr;gt[t]=function(e,t,n){var o,i,s=t.toLowerCase();return n||(i=gt[s],gt[s]=o,o=null!=r(e,t,n)?s:null,gt[s]=i),o}}));var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function bt(e){return(e.match(L)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}_.fn.extend({prop:function(e,t){return q(this,_.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[_.propFix[e]||e]}))}}),_.extend({prop:function(e,t,r){var n,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&_.isXMLDoc(e)||(t=_.propFix[t]||t,o=_.propHooks[t]),void 0!==r?o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:e[t]=r:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=_.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(_.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){_.propFix[this.toLowerCase()]=this})),_.fn.extend({addClass:function(e){var t,r,n,o,i,s;return v(e)?this.each((function(t){_(this).addClass(e.call(this,t,wt(this)))})):(t=xt(e)).length?this.each((function(){if(n=wt(this),r=1===this.nodeType&&" "+bt(n)+" "){for(i=0;i<t.length;i++)o=t[i],r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=bt(r),n!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,r,n,o,i,s;return v(e)?this.each((function(t){_(this).removeClass(e.call(this,t,wt(this)))})):arguments.length?(t=xt(e)).length?this.each((function(){if(n=wt(this),r=1===this.nodeType&&" "+bt(n)+" "){for(i=0;i<t.length;i++)for(o=t[i];r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=bt(r),n!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var r,n,o,i,s=typeof e,a="string"===s||Array.isArray(e);return v(e)?this.each((function(r){_(this).toggleClass(e.call(this,r,wt(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(r=xt(e),this.each((function(){if(a)for(i=_(this),o=0;o<r.length;o++)n=r[o],i.hasClass(n)?i.removeClass(n):i.addClass(n);else void 0!==e&&"boolean"!==s||((n=wt(this))&&J.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===e?"":J.get(this,"__className__")||""))})))},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+bt(wt(r))+" ").indexOf(t)>-1)return!0;return!1}});var Et=/\r/g;_.fn.extend({val:function(e){var t,r,n,o=this[0];return arguments.length?(n=v(e),this.each((function(r){var o;1===this.nodeType&&(null==(o=n?e.call(this,r,_(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=_.map(o,(function(e){return null==e?"":e+""}))),(t=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=_.valHooks[o.type]||_.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(o,"value"))?r:"string"==typeof(r=o.value)?r.replace(Et,""):null==r?"":r:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,"value");return null!=t?t:bt(_.text(e))}},select:{get:function(e){var t,r,n,o=e.options,i=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?i+1:o.length;for(n=i<0?l:s?i:0;n<l;n++)if(((r=o[n]).selected||n===i)&&!r.disabled&&(!r.parentNode.disabled||!M(r.parentNode,"optgroup"))){if(t=_(r).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var r,n,o=e.options,i=_.makeArray(t),s=o.length;s--;)((n=o[s]).selected=_.inArray(_.valHooks.option.get(n),i)>-1)&&(r=!0);return r||(e.selectedIndex=-1),i}}}}),_.each(["radio","checkbox"],(function(){_.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=_.inArray(_(e).val(),t)>-1}},g.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in n;var St=/^(?:focusinfocus|focusoutblur)$/,_t=function(e){e.stopPropagation()};_.extend(_.event,{trigger:function(e,t,r,o){var i,s,a,l,c,h,d,u,f=[r||b],m=p.call(e,"type")?e.type:e,g=p.call(e,"namespace")?e.namespace.split("."):[];if(s=u=a=r=r||b,3!==r.nodeType&&8!==r.nodeType&&!St.test(m+_.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[_.expando]?e:new _.Event(m,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:_.makeArray(t,[e]),d=_.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(r,t))){if(!o&&!d.noBubble&&!y(r)){for(l=d.delegateType||m,St.test(l+m)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(r.ownerDocument||b)&&f.push(a.defaultView||a.parentWindow||n)}for(i=0;(s=f[i++])&&!e.isPropagationStopped();)u=s,e.type=i>1?l:d.bindType||m,(h=(J.get(s,"events")||Object.create(null))[e.type]&&J.get(s,"handle"))&&h.apply(s,t),(h=c&&s[c])&&h.apply&&Y(s)&&(e.result=h.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),t)||!Y(r)||c&&v(r[m])&&!y(r)&&((a=r[c])&&(r[c]=null),_.event.triggered=m,e.isPropagationStopped()&&u.addEventListener(m,_t),r[m](),e.isPropagationStopped()&&u.removeEventListener(m,_t),_.event.triggered=void 0,a&&(r[c]=a)),e.result}},simulate:function(e,t,r){var n=_.extend(new _.Event,r,{type:e,isSimulated:!0});_.event.trigger(n,null,t)}}),_.fn.extend({trigger:function(e,t){return this.each((function(){_.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var r=this[0];if(r)return _.event.trigger(e,t,r,!0)}}),g.focusin||_.each({focus:"focusin",blur:"focusout"},(function(e,t){var r=function(e){_.event.simulate(t,e.target,_.event.fix(e))};_.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,o=J.access(n,t);o||n.addEventListener(e,r,!0),J.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,o=J.access(n,t)-1;o?J.access(n,t,o):(n.removeEventListener(e,r,!0),J.remove(n,t))}}}));var Ct=n.location,At={guid:Date.now()},kt=/\?/;_.parseXML=function(e){var t,r;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){}return r=t&&t.getElementsByTagName("parsererror")[0],t&&!r||_.error("Invalid XML: "+(r?_.map(r.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Tt=/\[\]$/,Pt=/\r?\n/g,Mt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;function Ot(e,t,r,n){var o;if(Array.isArray(t))_.each(t,(function(t,o){r||Tt.test(e)?n(e,o):Ot(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,r,n)}));else if(r||"object"!==E(t))n(e,t);else for(o in t)Ot(e+"["+o+"]",t[o],r,n)}_.param=function(e,t){var r,n=[],o=function(e,t){var r=v(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,(function(){o(this.name,this.value)}));else for(r in e)Ot(r,e[r],t,o);return n.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=_.prop(this,"elements");return e?_.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!_(this).is(":disabled")&&Dt.test(this.nodeName)&&!Mt.test(e)&&(this.checked||!ge.test(e))})).map((function(e,t){var r=_(this).val();return null==r?null:Array.isArray(r)?_.map(r,(function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}})):{name:t.name,value:r.replace(Pt,"\r\n")}})).get()}});var It=/%20/g,Rt=/#.*$/,Nt=/([?&])_=[^&]*/,Ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:GET|HEAD)$/,Lt=/^\/\//,Vt={},zt={},Ht="*/".concat("*"),jt=b.createElement("a");function Gt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,o=0,i=t.toLowerCase().match(L)||[];if(v(r))for(;n=i[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function Ut(e,t,r,n){var o={},i=e===zt;function s(a){var l;return o[a]=!0,_.each(e[a]||[],(function(e,a){var c=a(t,r,n);return"string"!=typeof c||i||o[c]?i?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!o["*"]&&s("*")}function qt(e,t){var r,n,o=_.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((o[r]?e:n||(n={}))[r]=t[r]);return n&&_.extend(!0,e,n),e}jt.href=Ct.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,_.ajaxSettings),t):qt(_.ajaxSettings,e)},ajaxPrefilter:Gt(Vt),ajaxTransport:Gt(zt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,i,s,a,l,c,h,d,u,p=_.ajaxSetup({},t),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?_(f):_.event,g=_.Deferred(),v=_.Callbacks("once memory"),y=p.statusCode||{},w={},x={},E="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Ft.exec(i);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||E;return r&&r.abort(t),C(0,t),this}};if(g.promise(S),p.url=((e||p.url||Ct.href)+"").replace(Lt,Ct.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(L)||[""],null==p.crossDomain){l=b.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=jt.protocol+"//"+jt.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=_.param(p.data,p.traditional)),Ut(Vt,p,t,S),c)return S;for(d in(h=_.event&&p.global)&&0==_.active++&&_.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Bt.test(p.type),o=p.url.replace(Rt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(It,"+")):(u=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(kt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Nt,"$1"),u=(kt.test(o)?"&":"?")+"_="+At.guid+++u),p.url=o+u),p.ifModified&&(_.lastModified[o]&&S.setRequestHeader("If-Modified-Since",_.lastModified[o]),_.etag[o]&&S.setRequestHeader("If-None-Match",_.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ht+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(f,S,p)||c))return S.abort();if(E="abort",v.add(p.complete),S.done(p.success),S.fail(p.error),r=Ut(zt,p,t,S)){if(S.readyState=1,h&&m.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(a=n.setTimeout((function(){S.abort("timeout")}),p.timeout));try{c=!1,r.send(w,C)}catch(e){if(c)throw e;C(-1,e)}}else C(-1,"No Transport");function C(e,t,s,l){var d,u,b,w,x,E=t;c||(c=!0,a&&n.clearTimeout(a),r=void 0,i=l||"",S.readyState=e>0?4:0,d=e>=200&&e<300||304===e,s&&(w=function(e,t,r){for(var n,o,i,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in r)i=l[0];else{for(o in r){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}s||(s=o)}i=i||s}if(i)return i!==l[0]&&l.unshift(i),r[i]}(p,S,s)),!d&&_.inArray("script",p.dataTypes)>-1&&_.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),w=function(e,t,r,n){var o,i,s,a,l,c={},h=e.dataTypes.slice();if(h[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(i=h.shift();i;)if(e.responseFields[i]&&(r[e.responseFields[i]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=h.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(s=c[l+" "+i]||c["* "+i]))for(o in c)if((a=o.split(" "))[1]===i&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[o]:!0!==c[o]&&(i=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(p,w,S,d),d?(p.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(_.lastModified[o]=x),(x=S.getResponseHeader("etag"))&&(_.etag[o]=x)),204===e||"HEAD"===p.type?E="nocontent":304===e?E="notmodified":(E=w.state,u=w.data,d=!(b=w.error))):(b=E,!e&&E||(E="error",e<0&&(e=0))),S.status=e,S.statusText=(t||E)+"",d?g.resolveWith(f,[u,E,S]):g.rejectWith(f,[S,E,b]),S.statusCode(y),y=void 0,h&&m.trigger(d?"ajaxSuccess":"ajaxError",[S,p,d?u:b]),v.fireWith(f,[S,E]),h&&(m.trigger("ajaxComplete",[S,p]),--_.active||_.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,r){return _.get(e,t,r,"json")},getScript:function(e,t){return _.get(e,void 0,t,"script")}}),_.each(["get","post"],(function(e,t){_[t]=function(e,r,n,o){return v(r)&&(o=o||n,n=r,r=void 0),_.ajax(_.extend({url:e,type:t,dataType:o,data:r,success:n},_.isPlainObject(e)&&e))}})),_.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),_._evalUrl=function(e,t,r){return _.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){_.globalEval(e,t,r)}})},_.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=_(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){_(this).wrapInner(e.call(this,t))})):this.each((function(){var t=_(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(r){_(this).wrapAll(t?e.call(this,r):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){_(this).replaceWith(this.childNodes)})),this}}),_.expr.pseudos.hidden=function(e){return!_.expr.pseudos.visible(e)},_.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Wt={0:200,1223:204},$t=_.ajaxSettings.xhr();g.cors=!!$t&&"withCredentials"in $t,g.ajax=$t=!!$t,_.ajaxTransport((function(e){var t,r;if(g.cors||$t&&!e.crossDomain)return{send:function(o,i){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(s,o[s]);t=function(e){return function(){t&&(t=r=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(Wt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),r=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){t&&r()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),_.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),_.ajaxTransport("script",(function(e){var t,r;if(e.crossDomain||e.scriptAttrs)return{send:function(n,o){t=_("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&o("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){r&&r()}}}));var Zt,Kt=[],Yt=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||_.expando+"_"+At.guid++;return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",(function(e,t,r){var o,i,s,a=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Yt,"$1"+o):!1!==e.jsonp&&(e.url+=(kt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||_.error(o+" was not called"),s[0]},e.dataTypes[0]="json",i=n[o],n[o]=function(){s=arguments},r.always((function(){void 0===i?_(n).removeProp(o):n[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(o)),s&&v(i)&&i(s[0]),s=i=void 0})),"script"})),g.createHTMLDocument=((Zt=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Zt.childNodes.length),_.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(g.createHTMLDocument?((n=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(n)):t=b),i=!r&&[],(o=D.exec(e))?[t.createElement(o[1])]:(o=Se([e],t,i),i&&i.length&&_(i).remove(),_.merge([],o.childNodes)));var n,o,i},_.fn.load=function(e,t,r){var n,o,i,s=this,a=e.indexOf(" ");return a>-1&&(n=bt(e.slice(a)),e=e.slice(0,a)),v(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&_.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){i=arguments,s.html(n?_("<div>").append(_.parseHTML(e)).find(n):e)})).always(r&&function(e,t){s.each((function(){r.apply(this,i||[e.responseText,t,e])}))}),this},_.expr.pseudos.animated=function(e){return _.grep(_.timers,(function(t){return e===t.elem})).length},_.offset={setOffset:function(e,t,r){var n,o,i,s,a,l,c=_.css(e,"position"),h=_(e),d={};"static"===c&&(e.style.position="relative"),a=h.offset(),i=_.css(e,"top"),l=_.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+l).indexOf("auto")>-1?(s=(n=h.position()).top,o=n.left):(s=parseFloat(i)||0,o=parseFloat(l)||0),v(t)&&(t=t.call(e,r,_.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):h.css(d)}},_.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){_.offset.setOffset(this,e,t)}));var t,r,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],o={top:0,left:0};if("fixed"===_.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===_.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((o=_(e).offset()).top+=_.css(e,"borderTopWidth",!0),o.left+=_.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-_.css(n,"marginTop",!0),left:t.left-o.left-_.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===_.css(e,"position");)e=e.offsetParent;return e||se}))}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var r="pageYOffset"===t;_.fn[e]=function(n){return q(this,(function(e,n,o){var i;if(y(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[n];i?i.scrollTo(r?i.pageXOffset:o,r?o:i.pageYOffset):e[n]=o}),e,n,arguments.length)}})),_.each(["top","left"],(function(e,t){_.cssHooks[t]=Ze(g.pixelPosition,(function(e,r){if(r)return r=$e(e,t),ze.test(r)?_(e).position()[t]+"px":r}))})),_.each({Height:"height",Width:"width"},(function(e,t){_.each({padding:"inner"+e,content:t,"":"outer"+e},(function(r,n){_.fn[n]=function(o,i){var s=arguments.length&&(r||"boolean"!=typeof o),a=r||(!0===o||!0===i?"margin":"border");return q(this,(function(t,r,o){var i;return y(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?_.css(t,r,a):_.style(t,r,o,a)}),t,s?o:void 0,s)}}))})),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){_.fn[t]=function(e){return this.on(t,e)}})),_.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){_.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}));var Xt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;_.proxy=function(e,t){var r,n,o;if("string"==typeof t&&(r=e[t],t=e,e=r),v(e))return n=a.call(arguments,2),o=function(){return e.apply(t||this,n.concat(a.call(arguments)))},o.guid=e.guid=e.guid||_.guid++,o},_.holdReady=function(e){e?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=M,_.isFunction=v,_.isWindow=y,_.camelCase=K,_.type=E,_.now=Date.now,_.isNumeric=function(e){var t=_.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},_.trim=function(e){return null==e?"":(e+"").replace(Xt,"$1")},void 0===(r=function(){return _}.apply(t,[]))||(e.exports=r);var Jt=n.jQuery,Qt=n.$;return _.noConflict=function(e){return n.$===_&&(n.$=Qt),e&&n.jQuery===_&&(n.jQuery=Jt),_},void 0===o&&(n.jQuery=n.$=_),_}))},1094:(e,t,r)=>{var n;!function(){"use strict";var o="input is invalid type",i="object"==typeof window,s=i?window:{};s.JS_SHA3_NO_WINDOW&&(i=!1);var a=!i&&"object"==typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?s=r.g:a&&(s=self);var l=!s.JS_SHA3_NO_COMMON_JS&&e.exports,c=r.amdO,h=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),u=[4,1024,262144,67108864],p=[0,8,16,24],f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],g=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],y={128:168,256:136};!s.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!h||!s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var b=function(e,t,r){return function(n){return new R(e,t,e).update(n)[r]()}},w=function(e,t,r){return function(n,o){return new R(e,t,o).update(n)[r]()}},x=function(e,t,r){return function(t,n,o,i){return A["cshake"+e].update(t,n,o,i)[r]()}},E=function(e,t,r){return function(t,n,o,i){return A["kmac"+e].update(t,n,o,i)[r]()}},S=function(e,t,r,n){for(var o=0;o<v.length;++o){var i=v[o];e[i]=t(r,n,i)}return e},_=function(e,t){var r=b(e,t,"hex");return r.create=function(){return new R(e,t,e)},r.update=function(e){return r.create().update(e)},S(r,b,e,t)},C=[{name:"keccak",padding:[1,256,65536,16777216],bits:m,createMethod:_},{name:"sha3",padding:[6,1536,393216,100663296],bits:m,createMethod:_},{name:"shake",padding:[31,7936,2031616,520093696],bits:g,createMethod:function(e,t){var r=w(e,t,"hex");return r.create=function(r){return new R(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},S(r,w,e,t)}},{name:"cshake",padding:u,bits:g,createMethod:function(e,t){var r=y[e],n=x(e,0,"hex");return n.create=function(n,o,i){return o||i?new R(e,t,n).bytepad([o,i],r):A["shake"+e].create(n)},n.update=function(e,t,r,o){return n.create(t,r,o).update(e)},S(n,x,e,t)}},{name:"kmac",padding:u,bits:g,createMethod:function(e,t){var r=y[e],n=E(e,0,"hex");return n.create=function(n,o,i){return new N(e,t,o).bytepad(["KMAC",i],r).bytepad([n],r)},n.update=function(e,t,r,o){return n.create(e,r,o).update(t)},S(n,E,e,t)}}],A={},k=[],T=0;T<C.length;++T)for(var P=C[T],M=P.bits,D=0;D<M.length;++D){var O=P.name+"_"+M[D];if(k.push(O),A[O]=P.createMethod(M[D],P.padding),"sha3"!==P.name){var I=P.name+M[D];k.push(I),A[I]=A[O]}}function R(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function N(e,t,r){R.call(this,e,t,r)}R.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(o);if(null===e)throw new Error(o);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||h&&ArrayBuffer.isView(e)))throw new Error(o);t=!0}for(var n,i,s=this.blocks,a=this.byteCount,l=e.length,c=this.blockCount,d=0,u=this.s;d<l;){if(this.reset)for(this.reset=!1,s[0]=this.block,n=1;n<c+1;++n)s[n]=0;if(t)for(n=this.start;d<l&&n<a;++d)s[n>>2]|=e[d]<<p[3&n++];else for(n=this.start;d<l&&n<a;++d)(i=e.charCodeAt(d))<128?s[n>>2]|=i<<p[3&n++]:i<2048?(s[n>>2]|=(192|i>>6)<<p[3&n++],s[n>>2]|=(128|63&i)<<p[3&n++]):i<55296||i>=57344?(s[n>>2]|=(224|i>>12)<<p[3&n++],s[n>>2]|=(128|i>>6&63)<<p[3&n++],s[n>>2]|=(128|63&i)<<p[3&n++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++d)),s[n>>2]|=(240|i>>18)<<p[3&n++],s[n>>2]|=(128|i>>12&63)<<p[3&n++],s[n>>2]|=(128|i>>6&63)<<p[3&n++],s[n>>2]|=(128|63&i)<<p[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=s[c],n=0;n<c;++n)u[n]^=s[n];F(u),this.reset=!0}else this.start=n}return this},R.prototype.encode=function(e,t){var r=255&e,n=1,o=[r];for(r=255&(e>>=8);r>0;)o.unshift(r),r=255&(e>>=8),++n;return t?o.push(n):o.unshift(n),this.update(o),o.length},R.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(o);if(null===e)throw new Error(o);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||h&&ArrayBuffer.isView(e)))throw new Error(o);t=!0}var n=0,i=e.length;if(t)n=i;else for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),n+=4)}return n+=this.encode(8*n),this.update(e),n},R.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var o=t-r%t,i=[];return i.length=o,this.update(i),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];F(n)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,o=this.extraBytes,i=0,s=0,a="";s<n;){for(i=0;i<t&&s<n;++i,++s)e=r[i],a+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];s%t==0&&(F(r),i=0)}return o&&(e=r[i],a+=d[e>>4&15]+d[15&e],o>1&&(a+=d[e>>12&15]+d[e>>8&15]),o>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},R.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,o=this.extraBytes,i=0,s=0,a=this.outputBits>>3;e=o?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var l=new Uint32Array(e);s<n;){for(i=0;i<t&&s<n;++i,++s)l[s]=r[i];s%t==0&&F(r)}return o&&(l[i]=r[i],e=e.slice(0,a)),e},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,o=this.outputBlocks,i=this.extraBytes,s=0,a=0,l=[];a<o;){for(s=0;s<r&&a<o;++s,++a)e=a<<2,t=n[s],l[e]=255&t,l[e+1]=t>>8&255,l[e+2]=t>>16&255,l[e+3]=t>>24&255;a%r==0&&F(n)}return i&&(e=a<<2,t=n[s],l[e]=255&t,i>1&&(l[e+1]=t>>8&255),i>2&&(l[e+2]=t>>16&255)),l},N.prototype=new R,N.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var F=function(e){var t,r,n,o,i,s,a,l,c,h,d,u,p,m,g,v,y,b,w,x,E,S,_,C,A,k,T,P,M,D,O,I,R,N,F,B,L,V,z,H,j,G,U,q,W,$,Z,K,Y,X,J,Q,ee,te,re,ne,oe,ie,se,ae,le,ce,he;for(n=0;n<48;n+=2)o=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],l=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],h=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],t=(u=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=o^(l<<1|c>>>31),r=i^(c<<1|l>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(h<<1|d>>>31),r=a^(d<<1|h>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=l^(u<<1|p>>>31),r=c^(p<<1|u>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=h^(o<<1|i>>>31),r=d^(i<<1|o>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[0],g=e[1],$=e[11]<<4|e[10]>>>28,Z=e[10]<<4|e[11]>>>28,P=e[20]<<3|e[21]>>>29,M=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,le=e[30]<<9|e[31]>>>23,G=e[40]<<18|e[41]>>>14,U=e[41]<<18|e[40]>>>14,N=e[2]<<1|e[3]>>>31,F=e[3]<<1|e[2]>>>31,v=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,K=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,D=e[33]<<13|e[32]>>>19,O=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,B=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,J=e[35]<<15|e[34]>>>17,I=e[45]<<29|e[44]>>>3,R=e[44]<<29|e[45]>>>3,C=e[6]<<28|e[7]>>>4,A=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,oe=e[16]<<23|e[17]>>>9,V=e[26]<<25|e[27]>>>7,z=e[27]<<25|e[26]>>>7,x=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,q=e[8]<<27|e[9]>>>5,W=e[9]<<27|e[8]>>>5,k=e[18]<<20|e[19]>>>12,T=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,H=e[38]<<8|e[39]>>>24,j=e[39]<<8|e[38]>>>24,S=e[48]<<14|e[49]>>>18,_=e[49]<<14|e[48]>>>18,e[0]=m^~v&b,e[1]=g^~y&w,e[10]=C^~k&P,e[11]=A^~T&M,e[20]=N^~B&V,e[21]=F^~L&z,e[30]=q^~$&K,e[31]=W^~Z&Y,e[40]=te^~ne&ie,e[41]=re^~oe&se,e[2]=v^~b&x,e[3]=y^~w&E,e[12]=k^~P&D,e[13]=T^~M&O,e[22]=B^~V&H,e[23]=L^~z&j,e[32]=$^~K&X,e[33]=Z^~Y&J,e[42]=ne^~ie&ae,e[43]=oe^~se&le,e[4]=b^~x&S,e[5]=w^~E&_,e[14]=P^~D&I,e[15]=M^~O&R,e[24]=V^~H&G,e[25]=z^~j&U,e[34]=K^~X&Q,e[35]=Y^~J&ee,e[44]=ie^~ae&ce,e[45]=se^~le&he,e[6]=x^~S&m,e[7]=E^~_&g,e[16]=D^~I&C,e[17]=O^~R&A,e[26]=H^~G&N,e[27]=j^~U&F,e[36]=X^~Q&q,e[37]=J^~ee&W,e[46]=ae^~ce&te,e[47]=le^~he&re,e[8]=S^~m&v,e[9]=_^~g&y,e[18]=I^~C&k,e[19]=R^~A&T,e[28]=G^~N&B,e[29]=U^~F&L,e[38]=Q^~q&$,e[39]=ee^~W&Z,e[48]=ce^~te&ne,e[49]=he^~re&oe,e[0]^=f[n],e[1]^=f[n+1]};if(l)e.exports=A;else{for(T=0;T<k.length;++T)s[k[T]]=A[k[T]];c&&(void 0===(n=function(){return A}.call(t,r,t,e))||(e.exports=n))}}()},1248:function(module,exports,__webpack_require__){var factory;"undefined"!=typeof navigator&&(factory=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var r,n,o=e.length;for(r=0;r<o;r+=1)for(var i in n=e[r].prototype)Object.prototype.hasOwnProperty.call(n,i)&&(t.prototype[i]=n[i])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(e,t){var r,n=0,o=[];switch(e){case"int16":case"uint8c":r=1;break;default:r=1.1}for(n=0;n<t;n+=1)o.push(r);return o}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,r){return"float32"===t?new Float32Array(r):"int16"===t?new Int16Array(r):"uint8c"===t?new Uint8ClampedArray(r):e(t,r)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=t.length;for(e=0;e<r;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===_typeof$6(e)&&e.length){var t,r=createSizedArray(e.length),n=e.length;for(t=0;t<n;t+=1)r[t]=Math.abs(e[t]);return r}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){_shouldRoundValues=!!e}function bmRnd(e){return _shouldRoundValues?Math.round(e):e}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,r,n){this.type=e,this.currentTime=t,this.totalTime=r,this.direction=n<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,r,n){this.type=e,this.currentLoop=r,this.totalLoops=t,this.direction=n<0?-1:1}function BMSegmentStartEvent(e,t,r){this.type=e,this.firstFrame=t,this.totalFrames=r}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(e,t,r){var n,o,i,s,a,l,c,h;switch(l=r*(1-t),c=r*(1-(a=6*e-(s=Math.floor(6*e)))*t),h=r*(1-(1-a)*t),s%6){case 0:n=r,o=h,i=l;break;case 1:n=c,o=r,i=l;break;case 2:n=l,o=r,i=h;break;case 3:n=l,o=c,i=r;break;case 4:n=h,o=l,i=r;break;case 5:n=r,o=l,i=c}return[n,o,i]}function RGBtoHSV(e,t,r){var n,o=Math.max(e,t,r),i=Math.min(e,t,r),s=o-i,a=0===o?0:s/o,l=o/255;switch(o){case i:n=0;break;case e:n=t-r+s*(t<r?6:0),n/=6*s;break;case t:n=r-e+2*s,n/=6*s;break;case r:n=e-t+4*s,n/=6*s}return[n,a,l]}function addSaturationToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[1]+=t,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[2]+=t,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[0]+=t/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var e,t,r=[];for(e=0;e<256;e+=1)t=e.toString(16),r[e]=1===t.length?"0"+t:t;return function(e,t,n){return e<0&&(e=0),t<0&&(t=0),n<0&&(n=0),"#"+r[e]+r[t]+r[n]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e},getIdPrefix=function(){return idPrefix$1};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(e)}var dataManager=function(){var e,t,r=1,n=[],o={onmessage:function(){},postMessage:function(t){e({data:t})}},i={postMessage:function(e){o.onmessage({data:e})}};function s(){t||(t=function(t){if(window.Worker&&window.Blob&&getWebWorker()){var r=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"}),n=URL.createObjectURL(r);return new Worker(n)}return e=t,o}((function(e){if(i.dataManager||(i.dataManager=function(){function e(o,i){var s,a,l,c,h,d,u,p=o.length;for(a=0;a<p;a+=1)if("ks"in(s=o[a])&&!s.completed){if(s.completed=!0,s.hasMask){var f=s.masksProperties;for(c=f.length,l=0;l<c;l+=1)if(f[l].pt.k.i)n(f[l].pt.k);else for(d=f[l].pt.k.length,h=0;h<d;h+=1)f[l].pt.k[h].s&&n(f[l].pt.k[h].s[0]),f[l].pt.k[h].e&&n(f[l].pt.k[h].e[0])}0===s.ty?(s.layers=t(s.refId,i),e(s.layers,i)):4===s.ty?r(s.shapes):5===s.ty&&(0===(u=s).t.a.length&&u.t.p)}}function t(e,t){var r=function(e,t){for(var r=0,n=t.length;r<n;){if(t[r].id===e)return t[r];r+=1}return null}(e,t);return r?r.layers.__used?JSON.parse(JSON.stringify(r.layers)):(r.layers.__used=!0,r.layers):null}function r(e){var t,o,i;for(t=e.length-1;t>=0;t-=1)if("sh"===e[t].ty)if(e[t].ks.k.i)n(e[t].ks.k);else for(i=e[t].ks.k.length,o=0;o<i;o+=1)e[t].ks.k[o].s&&n(e[t].ks.k[o].s[0]),e[t].ks.k[o].e&&n(e[t].ks.k[o].e[0]);else"gr"===e[t].ty&&r(e[t].it)}function n(e){var t,r=e.i.length;for(t=0;t<r;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function o(e,t){var r=t?t.split("."):[100,100,100];return e[0]>r[0]||!(r[0]>e[0])&&(e[1]>r[1]||!(r[1]>e[1])&&(e[2]>r[2]||!(r[2]>e[2])&&null))}var i,s=function(){var e=[4,4,14];function t(e){var t,r,n,o=e.length;for(t=0;t<o;t+=1)5===e[t].ty&&(void 0,n=(r=e[t]).t.d,r.t.d={k:[{s:n,t:0}]})}return function(r){if(o(e,r.v)&&(t(r.layers),r.assets)){var n,i=r.assets.length;for(n=0;n<i;n+=1)r.assets[n].layers&&t(r.assets[n].layers)}}}(),a=(i=[4,7,99],function(e){if(e.chars&&!o(i,e.v)){var t,n=e.chars.length;for(t=0;t<n;t+=1){var s=e.chars[t];s.data&&s.data.shapes&&(r(s.data.shapes),s.data.ip=0,s.data.op=99999,s.data.st=0,s.data.sr=1,s.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},e.chars[t].t||(s.data.shapes.push({ty:"no"}),s.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),l=function(){var e=[5,7,15];function t(e){var t,r,n=e.length;for(t=0;t<n;t+=1)5===e[t].ty&&(r=void 0,"number"==typeof(r=e[t].t.p).a&&(r.a={a:0,k:r.a}),"number"==typeof r.p&&(r.p={a:0,k:r.p}),"number"==typeof r.r&&(r.r={a:0,k:r.r}))}return function(r){if(o(e,r.v)&&(t(r.layers),r.assets)){var n,i=r.assets.length;for(n=0;n<i;n+=1)r.assets[n].layers&&t(r.assets[n].layers)}}}(),c=function(){var e=[4,1,9];function t(e){var r,n,o,i=e.length;for(r=0;r<i;r+=1)if("gr"===e[r].ty)t(e[r].it);else if("fl"===e[r].ty||"st"===e[r].ty)if(e[r].c.k&&e[r].c.k[0].i)for(o=e[r].c.k.length,n=0;n<o;n+=1)e[r].c.k[n].s&&(e[r].c.k[n].s[0]/=255,e[r].c.k[n].s[1]/=255,e[r].c.k[n].s[2]/=255,e[r].c.k[n].s[3]/=255),e[r].c.k[n].e&&(e[r].c.k[n].e[0]/=255,e[r].c.k[n].e[1]/=255,e[r].c.k[n].e[2]/=255,e[r].c.k[n].e[3]/=255);else e[r].c.k[0]/=255,e[r].c.k[1]/=255,e[r].c.k[2]/=255,e[r].c.k[3]/=255}function r(e){var r,n=e.length;for(r=0;r<n;r+=1)4===e[r].ty&&t(e[r].shapes)}return function(t){if(o(e,t.v)&&(r(t.layers),t.assets)){var n,i=t.assets.length;for(n=0;n<i;n+=1)t.assets[n].layers&&r(t.assets[n].layers)}}}(),h=function(){var e=[4,4,18];function t(e){var r,n,o;for(r=e.length-1;r>=0;r-=1)if("sh"===e[r].ty)if(e[r].ks.k.i)e[r].ks.k.c=e[r].closed;else for(o=e[r].ks.k.length,n=0;n<o;n+=1)e[r].ks.k[n].s&&(e[r].ks.k[n].s[0].c=e[r].closed),e[r].ks.k[n].e&&(e[r].ks.k[n].e[0].c=e[r].closed);else"gr"===e[r].ty&&t(e[r].it)}function r(e){var r,n,o,i,s,a,l=e.length;for(n=0;n<l;n+=1){if((r=e[n]).hasMask){var c=r.masksProperties;for(i=c.length,o=0;o<i;o+=1)if(c[o].pt.k.i)c[o].pt.k.c=c[o].cl;else for(a=c[o].pt.k.length,s=0;s<a;s+=1)c[o].pt.k[s].s&&(c[o].pt.k[s].s[0].c=c[o].cl),c[o].pt.k[s].e&&(c[o].pt.k[s].e[0].c=c[o].cl)}4===r.ty&&t(r.shapes)}}return function(t){if(o(e,t.v)&&(r(t.layers),t.assets)){var n,i=t.assets.length;for(n=0;n<i;n+=1)t.assets[n].layers&&r(t.assets[n].layers)}}}();var d={completeData:function(r){r.__complete||(c(r),s(r),a(r),l(r),h(r),e(r.layers,r.assets),function(r,n){if(r){var o=0,i=r.length;for(o=0;o<i;o+=1)1===r[o].t&&(r[o].data.layers=t(r[o].data.refId,n),e(r[o].data.layers,n))}}(r.chars,r.assets),r.__complete=!0)}};return d.checkColors=c,d.checkChars=a,d.checkPathProperties=l,d.checkShapes=h,d.completeLayers=e,d}()),i.assetLoader||(i.assetLoader=function(){function e(e){var t=e.getResponseHeader("content-type");return t&&"json"===e.responseType&&-1!==t.indexOf("json")||e.response&&"object"===_typeof$5(e.response)?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}return{load:function(t,r,n,o){var i,s=new XMLHttpRequest;try{s.responseType="json"}catch(e){}s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)i=e(s),n(i);else try{i=e(s),n(i)}catch(e){o&&o(e)}};try{s.open(["G","E","T"].join(""),t,!0)}catch(e){s.open(["G","E","T"].join(""),r+"/"+t,!0)}s.send()}}}()),"loadAnimation"===e.data.type)i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}));else if("complete"===e.data.type){var t=e.data.animation;i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}else"loadData"===e.data.type&&i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}))})),t.onmessage=function(e){var t=e.data,r=t.id,o=n[r];n[r]=null,"success"===t.status?o.onComplete(t.payload):o.onError&&o.onError()})}function a(e,t){var o="processId_"+(r+=1);return n[o]={onComplete:e,onError:t},o}return{loadAnimation:function(e,r,n){s();var o=a(r,n);t.postMessage({type:"loadAnimation",path:e,fullPath:window.location.origin+window.location.pathname,id:o})},loadData:function(e,r,n){s();var o=a(r,n);t.postMessage({type:"loadData",path:e,fullPath:window.location.origin+window.location.pathname,id:o})},completeAnimation:function(e,r,n){s();var o=a(r,n);t.postMessage({type:"complete",animation:e,id:o})}}}(),ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(e,t,r){var n="";if(e.e)n=e.p;else if(t){var o=e.p;-1!==o.indexOf("images/")&&(o=o.split("/")[1]),n=t+o}else n=r,n+=e.u?e.u:"",n+=e.p;return n}function o(e){var t=0,r=setInterval(function(){(e.getBBox().width||t>500)&&(this._imageLoaded(),clearInterval(r)),t+=1}.bind(this),50)}function i(e){var t={assetData:e},r=n(e,this.assetsPath,this.path);return dataManager.loadData(r,function(e){t.img=e,this._footageLoaded()}.bind(this),function(){t.img={},this._footageLoaded()}.bind(this)),t}function s(){this._imageLoaded=t.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=o.bind(this),this.createFootageData=i.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return s.prototype={loadAssets:function(e,t){var r;this.imagesLoadedCb=t;var n=e.length;for(r=0;r<n;r+=1)e[r].layers||(e[r].t&&"seq"!==e[r].t?3===e[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[r]))):(this.totalImages+=1,this.images.push(this._createImageData(e[r]))))},setAssetsPath:function(e){this.assetsPath=e||""},setPath:function(e){this.path=e||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(e){for(var t=0,r=this.images.length;t<r;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}return null},createImgData:function(t){var r=n(t,this.assetsPath,this.path),o=createTag("img");o.crossOrigin="anonymous",o.addEventListener("load",this._imageLoaded,!1),o.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),o.src=r;var i={img:o,assetData:t};return i},createImageData:function(t){var r=n(t,this.assetsPath,this.path),o=createNS("image");isSafari?this.testImageLoaded(o):o.addEventListener("load",this._imageLoaded,!1),o.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),o.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this._elementHelper.append?this._elementHelper.append(o):this._elementHelper.appendChild(o);var i={img:o,assetData:t};return i},imageLoaded:t,footageLoaded:r,setCacheType:function(e,t){"svg"===e?(this._elementHelper=t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},s}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var r=this._cbs[e],n=0;n<r.length;n+=1)r[n](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var r=0,n=this._cbs[e].length;r<n;)this._cbs[e][r]===t&&(this._cbs[e].splice(r,1),r-=1,n-=1),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var markerParser=function(){function e(e){for(var t,r=e.split("\r\n"),n={},o=0,i=0;i<r.length;i+=1)2===(t=r[i].split(":")).length&&(n[t[0]]=t[1].trim(),o+=1);if(0===o)throw new Error;return n}return function(t){for(var r=[],n=0;n<t.length;n+=1){var o=t[n],i={time:o.tm,duration:o.dr};try{i.payload=JSON.parse(t[n].cm)}catch(r){try{i.payload=e(t[n].cm)}catch(e){i.payload={name:t[n].cm}}}r.push(i)}return r}}(),ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,r=this.compositions.length;t<r;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),renderers={},registerRenderer=function(e,t){renderers[e]=t};function getRenderer(e){return renderers[e]}function _typeof$4(e){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var r=getRenderer(t);this.renderer=new r(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&"object"!==_typeof$4(t)&&(t=JSON.parse(t));var r={wrapper:e,animationData:t},n=e.attributes;r.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",r.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:"canvas";var o=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";"false"===o?r.loop=!1:"true"===o?r.loop=!0:""!==o&&(r.loop=parseInt(o,10));var i=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;r.autoplay="false"!==i,r.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,r,n=this.animationData.layers,o=n.length,i=e.layers,s=i.length;for(r=0;r<s;r+=1)for(t=0;t<o;){if(n[t].id===i[r].id){n[t]=i[r];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(o=e.assets.length,t=0;t<o;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,t){var r="number"==typeof e?e:void 0,n="number"==typeof t?t:void 0;this.renderer.updateContainerSize(r,n)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,r=0;r<this.markers.length;r+=1)if((t=this.markers[r]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,r){if(!r||this.name===r){var n=Number(e);if(isNaN(n)){var o=this.getMarkerData(e);o&&this.goToAndStop(o.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,r){if(!r||this.name===r){var n=Number(e);if(isNaN(n)){var o=this.getMarkerData(e);o&&(o.duration?this.playSegments([o.time,o.time+o.duration],!0):this.goToAndStop(o.time,!0))}else this.goToAndStop(n,t,r);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,r=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(r=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),r&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?r=e:this.currentRawFrame+this.firstFrame>t&&(r=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"===_typeof$4(e[0])){var r,n=e.length;for(r=0;r<n;r+=1)this.segments.push(e[r])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(e){this.loop=e},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),t=this.assetsPath+r}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,r=this.assets.length;t<r;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,r){try{this.renderer.getElementByPath(e).updateDocumentData(t,r)}catch(e){}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var e={},t=[],r=0,n=0,o=0,i=!0,s=!1;function a(e){for(var r=0,o=e.target;r<n;)t[r].animation===o&&(t.splice(r,1),r-=1,n-=1,o.isPaused||h()),r+=1}function l(e,r){if(!e)return null;for(var o=0;o<n;){if(t[o].elem===e&&null!==t[o].elem)return t[o].animation;o+=1}var i=new AnimationItem;return d(i,e),i.setData(e,r),i}function c(){o+=1,f()}function h(){o-=1}function d(e,r){e.addEventListener("destroy",a),e.addEventListener("_active",c),e.addEventListener("_idle",h),t.push({elem:r,animation:e}),n+=1}function u(e){var a,l=e-r;for(a=0;a<n;a+=1)t[a].animation.advanceTime(l);r=e,o&&!s?window.requestAnimationFrame(u):i=!0}function p(e){r=e,window.requestAnimationFrame(u)}function f(){!s&&o&&i&&(window.requestAnimationFrame(p),i=!1)}return e.registerAnimation=l,e.loadAnimation=function(e){var t=new AnimationItem;return d(t,null),t.setParams(e),t},e.setSpeed=function(e,r){var o;for(o=0;o<n;o+=1)t[o].animation.setSpeed(e,r)},e.setDirection=function(e,r){var o;for(o=0;o<n;o+=1)t[o].animation.setDirection(e,r)},e.play=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.play(e)},e.pause=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.pause(e)},e.stop=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.stop(e)},e.togglePause=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.togglePause(e)},e.searchAnimations=function(e,t,r){var n,o=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),i=o.length;for(n=0;n<i;n+=1)r&&o[n].setAttribute("data-bm-type",r),l(o[n],e);if(t&&0===i){r||(r="svg");var s=document.getElementsByTagName("body")[0];s.innerText="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",r),s.appendChild(a),l(a,e)}},e.resize=function(){var e;for(e=0;e<n;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,r,o){var i;for(i=0;i<n;i+=1)t[i].animation.goToAndStop(e,r,o)},e.destroy=function(e){var r;for(r=n-1;r>=0;r-=1)t[r].animation.destroy(e)},e.freeze=function(){s=!0},e.unfreeze=function(){s=!1,f()},e.setVolume=function(e,r){var o;for(o=0;o<n;o+=1)t[o].animation.setVolume(e,r)},e.mute=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.mute(e)},e.unmute=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.unmute(e)},e.getRegisteredAnimations=function(){var e,r=t.length,n=[];for(e=0;e<r;e+=1)n.push(t[e].animation);return n},e}(),BezierFactory=function(){var e={getBezierEasing:function(e,r,n,o,i){var s=i||("bez_"+e+"_"+r+"_"+n+"_"+o).replace(/\./g,"p");if(t[s])return t[s];var a=new h([e,r,n,o]);return t[s]=a,a}},t={},r=11,n=1/(r-1),o="function"==typeof Float32Array;function i(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function a(e){return 3*e}function l(e,t,r){return((i(t,r)*e+s(t,r))*e+a(t))*e}function c(e,t,r){return 3*i(t,r)*e*e+2*s(t,r)*e+a(t)}function h(e){this._p=e,this._mSampleValues=o?new Float32Array(r):new Array(r),this._precomputed=!1,this.get=this.get.bind(this)}return h.prototype={get:function(e){var t=this._p[0],r=this._p[1],n=this._p[2],o=this._p[3];return this._precomputed||this._precompute(),t===r&&n===o?e:0===e?0:1===e?1:l(this._getTForX(e),r,o)},_precompute:function(){var e=this._p[0],t=this._p[1],r=this._p[2],n=this._p[3];this._precomputed=!0,e===t&&r===n||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],o=0;o<r;++o)this._mSampleValues[o]=l(o*n,e,t)},_getTForX:function(e){for(var t=this._p[0],o=this._p[2],i=this._mSampleValues,s=0,a=1,h=r-1;a!==h&&i[a]<=e;++a)s+=n;var d=s+(e-i[--a])/(i[a+1]-i[a])*n,u=c(d,t,o);return u>=.001?function(e,t,r,n){for(var o=0;o<4;++o){var i=c(t,r,n);if(0===i)return t;t-=(l(t,r,n)-e)/i}return t}(e,d,t,o):0===u?d:function(e,t,r,n,o){var i,s,a=0;do{(i=l(s=t+(r-t)/2,n,o)-e)>0?r=s:t=s}while(Math.abs(i)>1e-7&&++a<10);return s}(e,s,s+n,t,o)}},e}(),pooling={double:function(e){return e.concat(createSizedArray(e.length))}},poolFactory=function(e,t,r){var n=0,o=e,i=createSizedArray(o);return{newElement:function(){return n?i[n-=1]:t()},release:function(e){n===o&&(i=pooling.double(i),o*=2),r&&r(e),i[n]=e,n+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(e){var t,r=e.lengths.length;for(t=0;t<r;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0}));function bezFunction(){var e=Math;function t(e,t,r,n,o,i){var s=e*n+t*o+r*i-o*n-i*e-r*t;return s>-.001&&s<.001}var r=function(e,t,r,n){var o,i,s,a,l,c,h=getDefaultCurveSegments(),d=0,u=[],p=[],f=bezierLengthPool.newElement();for(s=r.length,o=0;o<h;o+=1){for(l=o/(h-1),c=0,i=0;i<s;i+=1)a=bmPow(1-l,3)*e[i]+3*bmPow(1-l,2)*l*r[i]+3*(1-l)*bmPow(l,2)*n[i]+bmPow(l,3)*t[i],u[i]=a,null!==p[i]&&(c+=bmPow(u[i]-p[i],2)),p[i]=u[i];c&&(d+=c=bmSqrt(c)),f.percents[o]=l,f.lengths[o]=d}return f.addedLength=d,f};function n(e){this.segmentLength=0,this.points=new Array(e)}function o(e,t){this.partialLength=e,this.point=t}var i,s=(i={},function(e,r,s,a){var l=(e[0]+"_"+e[1]+"_"+r[0]+"_"+r[1]+"_"+s[0]+"_"+s[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!i[l]){var c,h,d,u,p,f,m,g=getDefaultCurveSegments(),v=0,y=null;2===e.length&&(e[0]!==r[0]||e[1]!==r[1])&&t(e[0],e[1],r[0],r[1],e[0]+s[0],e[1]+s[1])&&t(e[0],e[1],r[0],r[1],r[0]+a[0],r[1]+a[1])&&(g=2);var b=new n(g);for(d=s.length,c=0;c<g;c+=1){for(m=createSizedArray(d),p=c/(g-1),f=0,h=0;h<d;h+=1)u=bmPow(1-p,3)*e[h]+3*bmPow(1-p,2)*p*(e[h]+s[h])+3*(1-p)*bmPow(p,2)*(r[h]+a[h])+bmPow(p,3)*r[h],m[h]=u,null!==y&&(f+=bmPow(m[h]-y[h],2));v+=f=bmSqrt(f),b.points[c]=new o(f,m),y=m}b.segmentLength=v,i[l]=b}return i[l]});function a(e,t){var r=t.percents,n=t.lengths,o=r.length,i=bmFloor((o-1)*e),s=e*t.addedLength,a=0;if(i===o-1||0===i||s===n[i])return r[i];for(var l=n[i]>s?-1:1,c=!0;c;)if(n[i]<=s&&n[i+1]>s?(a=(s-n[i])/(n[i+1]-n[i]),c=!1):i+=l,i<0||i>=o-1){if(i===o-1)return r[i];c=!1}return r[i]+(r[i+1]-r[i])*a}var l=createTypedArray("float32",8);return{getSegmentsLength:function(e){var t,n=segmentsLengthPool.newElement(),o=e.c,i=e.v,s=e.o,a=e.i,l=e._length,c=n.lengths,h=0;for(t=0;t<l-1;t+=1)c[t]=r(i[t],i[t+1],s[t],a[t+1]),h+=c[t].addedLength;return o&&l&&(c[t]=r(i[t],i[0],s[t],a[0]),h+=c[t].addedLength),n.totalLength=h,n},getNewSegment:function(t,r,n,o,i,s,c){i<0?i=0:i>1&&(i=1);var h,d=a(i,c),u=a(s=s>1?1:s,c),p=t.length,f=1-d,m=1-u,g=f*f*f,v=d*f*f*3,y=d*d*f*3,b=d*d*d,w=f*f*m,x=d*f*m+f*d*m+f*f*u,E=d*d*m+f*d*u+d*f*u,S=d*d*u,_=f*m*m,C=d*m*m+f*u*m+f*m*u,A=d*u*m+f*u*u+d*m*u,k=d*u*u,T=m*m*m,P=u*m*m+m*u*m+m*m*u,M=u*u*m+m*u*u+u*m*u,D=u*u*u;for(h=0;h<p;h+=1)l[4*h]=e.round(1e3*(g*t[h]+v*n[h]+y*o[h]+b*r[h]))/1e3,l[4*h+1]=e.round(1e3*(w*t[h]+x*n[h]+E*o[h]+S*r[h]))/1e3,l[4*h+2]=e.round(1e3*(_*t[h]+C*n[h]+A*o[h]+k*r[h]))/1e3,l[4*h+3]=e.round(1e3*(T*t[h]+P*n[h]+M*o[h]+D*r[h]))/1e3;return l},getPointInSegment:function(t,r,n,o,i,s){var l=a(i,s),c=1-l;return[e.round(1e3*(c*c*c*t[0]+(l*c*c+c*l*c+c*c*l)*n[0]+(l*l*c+c*l*l+l*c*l)*o[0]+l*l*l*r[0]))/1e3,e.round(1e3*(c*c*c*t[1]+(l*c*c+c*l*c+c*c*l)*n[1]+(l*l*c+c*l*l+l*c*l)*o[1]+l*l*l*r[1]))/1e3]},buildBezierData:s,pointOnLine2D:t,pointOnLine3D:function(r,n,o,i,s,a,l,c,h){if(0===o&&0===a&&0===h)return t(r,n,i,s,l,c);var d,u=e.sqrt(e.pow(i-r,2)+e.pow(s-n,2)+e.pow(a-o,2)),p=e.sqrt(e.pow(l-r,2)+e.pow(c-n,2)+e.pow(h-o,2)),f=e.sqrt(e.pow(l-i,2)+e.pow(c-s,2)+e.pow(h-a,2));return(d=u>p?u>f?u-p-f:f-p-u:f>p?f-p-u:p-u-f)>-1e-4&&d<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var e=initialDefaultFrame,t=Math.abs;function r(e,t){var r,o=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var i,s,a,l,c,h,d,u,p,f=t.lastIndex,m=f,g=this.keyframes.length-1,v=!0;v;){if(i=this.keyframes[m],s=this.keyframes[m+1],m===g-1&&e>=s.t-o){i.h&&(i=s),f=0;break}if(s.t-o>e){f=m;break}m<g-1?m+=1:(f=0,v=!1)}a=this.keyframesMetadata[m]||{};var y,b,w,x,E,S,_,C,A,k,T=s.t-o,P=i.t-o;if(i.to){a.bezierData||(a.bezierData=bez.buildBezierData(i.s,s.s||i.e,i.to,i.ti));var M=a.bezierData;if(e>=T||e<P){var D=e>=T?M.points.length-1:0;for(c=M.points[D].point.length,l=0;l<c;l+=1)r[l]=M.points[D].point[l]}else{a.__fnct?p=a.__fnct:(p=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y,i.n).get,a.__fnct=p),h=p((e-P)/(T-P));var O,I=M.segmentLength*h,R=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastAddedLength:0;for(u=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastPoint:0,v=!0,d=M.points.length;v;){if(R+=M.points[u].partialLength,0===I||0===h||u===M.points.length-1){for(c=M.points[u].point.length,l=0;l<c;l+=1)r[l]=M.points[u].point[l];break}if(I>=R&&I<R+M.points[u+1].partialLength){for(O=(I-R)/M.points[u+1].partialLength,c=M.points[u].point.length,l=0;l<c;l+=1)r[l]=M.points[u].point[l]+(M.points[u+1].point[l]-M.points[u].point[l])*O;break}u<d-1?u+=1:v=!1}t._lastPoint=u,t._lastAddedLength=R-M.points[u].partialLength,t._lastKeyframeIndex=m}}else{var N,F,B,L,V;if(g=i.s.length,y=s.s||i.e,this.sh&&1!==i.h)if(e>=T)r[0]=y[0],r[1]=y[1],r[2]=y[2];else if(e<=P)r[0]=i.s[0],r[1]=i.s[1],r[2]=i.s[2];else{b=r,w=function(e,t,r){var n,o,i,s,a,l=[],c=e[0],h=e[1],d=e[2],u=e[3],p=t[0],f=t[1],m=t[2],g=t[3];return(o=c*p+h*f+d*m+u*g)<0&&(o=-o,p=-p,f=-f,m=-m,g=-g),1-o>1e-6?(n=Math.acos(o),i=Math.sin(n),s=Math.sin((1-r)*n)/i,a=Math.sin(r*n)/i):(s=1-r,a=r),l[0]=s*c+a*p,l[1]=s*h+a*f,l[2]=s*d+a*m,l[3]=s*u+a*g,l}(n(i.s),n(y),(e-P)/(T-P)),x=w[0],E=w[1],S=w[2],_=w[3],C=Math.atan2(2*E*_-2*x*S,1-2*E*E-2*S*S),A=Math.asin(2*x*E+2*S*_),k=Math.atan2(2*x*_-2*E*S,1-2*x*x-2*S*S),b[0]=C/degToRads,b[1]=A/degToRads,b[2]=k/degToRads}else for(m=0;m<g;m+=1)1!==i.h&&(e>=T?h=1:e<P?h=0:(i.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[m]?p=a.__fnct[m]:(N=void 0===i.o.x[m]?i.o.x[0]:i.o.x[m],F=void 0===i.o.y[m]?i.o.y[0]:i.o.y[m],B=void 0===i.i.x[m]?i.i.x[0]:i.i.x[m],L=void 0===i.i.y[m]?i.i.y[0]:i.i.y[m],p=BezierFactory.getBezierEasing(N,F,B,L).get,a.__fnct[m]=p)):a.__fnct?p=a.__fnct:(N=i.o.x,F=i.o.y,B=i.i.x,L=i.i.y,p=BezierFactory.getBezierEasing(N,F,B,L).get,i.keyframeMetadata=p),h=p((e-P)/(T-P)))),y=s.s||i.e,V=1===i.h?i.s[m]:i.s[m]+(y[m]-i.s[m])*h,"multidimensional"===this.propType?r[m]=V:r=V}return t.lastIndex=f,r}function n(e){var t=e[0]*degToRads,r=e[1]*degToRads,n=e[2]*degToRads,o=Math.cos(t/2),i=Math.cos(r/2),s=Math.cos(n/2),a=Math.sin(t/2),l=Math.sin(r/2),c=Math.sin(n/2);return[a*l*s+o*i*c,a*i*s+o*l*c,o*l*s-a*i*c,o*i*s-a*l*c]}function o(){var t=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==e&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<r&&t<r))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var o=this.interpolateValue(t,this._caching);this.pv=o}return this._caching.lastFrame=t,this.pv}function i(e){var r;if("unidimensional"===this.propType)r=e*this.mult,t(this.v-r)>1e-5&&(this.v=r,this._mdf=!0);else for(var n=0,o=this.v.length;n<o;)r=e[n]*this.mult,t(this.v[n]-r)>1e-5&&(this.v[n]=r,this._mdf=!0),n+=1}function s(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e;this.lock=!0,this._mdf=this._isFirstFrame;var t=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)r=this.effectsSequence[e](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(e,t,r,n){this.propType="unidimensional",this.mult=r||1,this.data=t,this.v=r?t.k*r:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=s,this.setVValue=i,this.addEffect=a}function c(e,t,r,n){var o;this.propType="multidimensional",this.mult=r||1,this.data=t,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var l=t.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),this.vel=createTypedArray("float32",l),o=0;o<l;o+=1)this.v[o]=t.k[o]*this.mult,this.pv[o]=t.k[o];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=s,this.setVValue=i,this.addEffect=a}function h(t,n,l,c){this.propType="unidimensional",this.keyframes=n.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=n,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.v=e,this.pv=e,this._isFirstFrame=!0,this.getValue=s,this.setVValue=i,this.interpolateValue=r,this.effectsSequence=[o.bind(this)],this.addEffect=a}function d(t,n,l,c){var h;this.propType="multidimensional";var d,u,p,f,m=n.k.length;for(h=0;h<m-1;h+=1)n.k[h].to&&n.k[h].s&&n.k[h+1]&&n.k[h+1].s&&(d=n.k[h].s,u=n.k[h+1].s,p=n.k[h].to,f=n.k[h].ti,(2===d.length&&(d[0]!==u[0]||d[1]!==u[1])&&bez.pointOnLine2D(d[0],d[1],u[0],u[1],d[0]+p[0],d[1]+p[1])&&bez.pointOnLine2D(d[0],d[1],u[0],u[1],u[0]+f[0],u[1]+f[1])||3===d.length&&(d[0]!==u[0]||d[1]!==u[1]||d[2]!==u[2])&&bez.pointOnLine3D(d[0],d[1],d[2],u[0],u[1],u[2],d[0]+p[0],d[1]+p[1],d[2]+p[2])&&bez.pointOnLine3D(d[0],d[1],d[2],u[0],u[1],u[2],u[0]+f[0],u[1]+f[1],u[2]+f[2]))&&(n.k[h].to=null,n.k[h].ti=null),d[0]===u[0]&&d[1]===u[1]&&0===p[0]&&0===p[1]&&0===f[0]&&0===f[1]&&(2===d.length||d[2]===u[2]&&0===p[2]&&0===f[2])&&(n.k[h].to=null,n.k[h].ti=null));this.effectsSequence=[o.bind(this)],this.data=n,this.keyframes=n.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.getValue=s,this.setVValue=i,this.interpolateValue=r,this.frameId=-1;var g=n.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),h=0;h<g;h+=1)this.v[h]=e,this.pv[h]=e;this._caching={lastFrame:e,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=a}return{getProp:function(e,t,r,n,o){var i;if(t.k.length)if("number"==typeof t.k[0])i=new c(e,t,n,o);else switch(r){case 0:i=new h(e,t,n,o);break;case 1:i=new d(e,t,n,o)}else i=new l(e,t,n,o);return i.effectsSequence.length&&o.addDynamicProperty(i),i}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var r=0;r<t;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,r,n,o){var i;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":i=this.v;break;case"i":i=this.i;break;case"o":i=this.o;break;default:i=[]}(!i[n]||i[n]&&!o)&&(i[n]=pointPool.newElement()),i[n][0]=e,i[n][1]=t},ShapePath.prototype.setTripleAt=function(e,t,r,n,o,i,s,a){this.setXYAt(e,t,"v",s,a),this.setXYAt(r,n,"o",s,a),this.setXYAt(o,i,"i",s,a)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,r=this.o,n=this.i,o=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],n[0][0],n[0][1],r[0][0],r[0][1],0,!1),o=1);var i,s=this._length-1,a=this._length;for(i=o;i<a;i+=1)e.setTripleAt(t[s][0],t[s][1],n[s][0],n[s][1],r[s][0],r[s][1],i,!1),s-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(e){var t,r=e._length;for(t=0;t<r;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1})),factory.clone=function(e){var t,r=factory.newElement(),n=void 0===e._length?e.v.length:e._length;for(r.setLength(n),r.c=e.c,t=0;t<n;t+=1)r.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return r},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(e){var t,r=e._length;for(t=0;t<r;t+=1)shapePool.release(e.shapes[t]);e._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=e,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var e=-999999;function t(e,t,r){var n,o,i,s,a,l,c,h,d,u=r.lastIndex,p=this.keyframes;if(e<p[0].t-this.offsetTime)n=p[0].s[0],i=!0,u=0;else if(e>=p[p.length-1].t-this.offsetTime)n=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],i=!0;else{for(var f,m,g,v=u,y=p.length-1,b=!0;b&&(f=p[v],!((m=p[v+1]).t-this.offsetTime>e));)v<y-1?v+=1:b=!1;if(g=this.keyframesMetadata[v]||{},u=v,!(i=1===f.h)){if(e>=m.t-this.offsetTime)h=1;else if(e<f.t-this.offsetTime)h=0;else{var w;g.__fnct?w=g.__fnct:(w=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,g.__fnct=w),h=w((e-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}o=m.s?m.s[0]:f.e[0]}n=f.s[0]}for(l=t._length,c=n.i[0].length,r.lastIndex=u,s=0;s<l;s+=1)for(a=0;a<c;a+=1)d=i?n.i[s][a]:n.i[s][a]+(o.i[s][a]-n.i[s][a])*h,t.i[s][a]=d,d=i?n.o[s][a]:n.o[s][a]+(o.o[s][a]-n.o[s][a])*h,t.o[s][a]=d,d=i?n.v[s][a]:n.v[s][a]+(o.v[s][a]-n.v[s][a])*h,t.v[s][a]=d}function r(){var t=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,o=this._caching.lastFrame;return o!==e&&(o<r&&t<r||o>n&&t>n)||(this._caching.lastIndex=o<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function n(){this.paths=this.localShapeCollection}function o(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var r,n=e._length;for(r=0;r<n;r+=1)if(e.v[r][0]!==t.v[r][0]||e.v[r][1]!==t.v[r][1]||e.o[r][0]!==t.o[r][0]||e.o[r][1]!==t.o[r][1]||e.i[r][0]!==t.i[r][0]||e.i[r][1]!==t.i[r][1])return!1;return!0})(this.v,e)||(this.v=shapePool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e,t;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var r=this.effectsSequence.length;for(t=0;t<r;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function s(e,t,r){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var o=3===r?t.pt.k:t.ks.k;this.v=shapePool.clone(o),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(t,o,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===i?o.pt.k:o.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var s=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,s),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=n,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[r.bind(this)]}s.prototype.interpolateShape=t,s.prototype.getValue=i,s.prototype.setVValue=o,s.prototype.addEffect=a,l.prototype.getValue=i,l.prototype.interpolateShape=t,l.prototype.setVValue=o,l.prototype.addEffect=a;var c=function(){var e=roundCorner;function t(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],r=this.p.v[1],n=this.s.v[0]/2,o=this.s.v[1]/2,i=3!==this.d,s=this.v;s.v[0][0]=t,s.v[0][1]=r-o,s.v[1][0]=i?t+n:t-n,s.v[1][1]=r,s.v[2][0]=t,s.v[2][1]=r+o,s.v[3][0]=i?t-n:t+n,s.v[3][1]=r,s.i[0][0]=i?t-n*e:t+n*e,s.i[0][1]=r-o,s.i[1][0]=i?t+n:t-n,s.i[1][1]=r-o*e,s.i[2][0]=i?t+n*e:t-n*e,s.i[2][1]=r+o,s.i[3][0]=i?t-n:t+n,s.i[3][1]=r+o*e,s.o[0][0]=i?t+n*e:t-n*e,s.o[0][1]=r-o,s.o[1][0]=i?t+n:t-n,s.o[1][1]=r+o*e,s.o[2][0]=i?t-n*e:t+n*e,s.o[2][1]=r+o,s.o[3][0]=i?t-n:t+n,s.o[3][1]=r-o*e}},extendPrototype([DynamicPropertyContainer],t),t}(),h=function(){function e(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,r,n,o=2*Math.floor(this.pt.v),i=2*Math.PI/o,s=!0,a=this.or.v,l=this.ir.v,c=this.os.v,h=this.is.v,d=2*Math.PI*a/(2*o),u=2*Math.PI*l/(2*o),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<o;e+=1){r=s?c:h,n=s?d:u;var m=(t=s?a:l)*Math.cos(p),g=t*Math.sin(p),v=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),y=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-v*n*r*f,g-y*n*r*f,m+v*n*r*f,g+y*n*r*f,e,!0),s=!s,p+=i*f}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),r=2*Math.PI/t,n=this.or.v,o=this.os.v,i=2*Math.PI*n/(4*t),s=.5*-Math.PI,a=3===this.data.d?-1:1;for(s+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var l=n*Math.cos(s),c=n*Math.sin(s),h=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),d=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-h*i*o*a,c-d*i*o*a,l+h*i*o*a,c+d*i*o*a,e,!0),s+=r*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),d=function(){function e(e,t){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],r=this.s.v[0]/2,n=this.s.v[1]/2,o=bmMin(r,n,this.r.v),i=o*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+r,t-n+o,e+r,t-n+o,e+r,t-n+i,0,!0),this.v.setTripleAt(e+r,t+n-o,e+r,t+n-i,e+r,t+n-o,1,!0),0!==o?(this.v.setTripleAt(e+r-o,t+n,e+r-o,t+n,e+r-i,t+n,2,!0),this.v.setTripleAt(e-r+o,t+n,e-r+i,t+n,e-r+o,t+n,3,!0),this.v.setTripleAt(e-r,t+n-o,e-r,t+n-o,e-r,t+n-i,4,!0),this.v.setTripleAt(e-r,t-n+o,e-r,t-n+i,e-r,t-n+o,5,!0),this.v.setTripleAt(e-r+o,t-n,e-r+o,t-n,e-r+i,t-n,6,!0),this.v.setTripleAt(e+r-o,t-n,e+r-i,t-n,e+r-o,t-n,7,!0)):(this.v.setTripleAt(e-r,t+n,e-r+i,t+n,e-r,t+n,2),this.v.setTripleAt(e-r,t-n,e-r,t-n+i,e-r,t-n,3))):(this.v.setTripleAt(e+r,t-n+o,e+r,t-n+i,e+r,t-n+o,0,!0),0!==o?(this.v.setTripleAt(e+r-o,t-n,e+r-o,t-n,e+r-i,t-n,1,!0),this.v.setTripleAt(e-r+o,t-n,e-r+i,t-n,e-r+o,t-n,2,!0),this.v.setTripleAt(e-r,t-n+o,e-r,t-n+o,e-r,t-n+i,3,!0),this.v.setTripleAt(e-r,t+n-o,e-r,t+n-i,e-r,t+n-o,4,!0),this.v.setTripleAt(e-r+o,t+n,e-r+o,t+n,e-r+i,t+n,5,!0),this.v.setTripleAt(e+r-o,t+n,e+r-i,t+n,e+r-o,t+n,6,!0),this.v.setTripleAt(e+r,t+n-o,e+r,t+n-o,e+r,t+n-i,7,!0)):(this.v.setTripleAt(e-r,t-n,e-r+i,t-n,e-r,t-n,1,!0),this.v.setTripleAt(e-r,t+n,e-r,t+n-i,e-r,t+n,2,!0),this.v.setTripleAt(e+r,t+n,e+r-i,t+n,e+r,t+n,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],e),e}();return{getShapeProp:function(e,t,r){var n;return 3===r||4===r?n=(3===r?t.pt:t.ks).k.length?new l(e,t,r):new s(e,t,r):5===r?n=new d(e,t):6===r?n=new c(e,t):7===r&&(n=new h(e,t)),n.k&&e.addDynamicProperty(n),n},getConstructorFunction:function(){return s},getKeyframedConstructorFunction:function(){return l}}}(),Matrix=function(){var e=Math.cos,t=Math.sin,r=Math.tan,n=Math.round;function o(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function i(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1)}function s(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(1,0,0,0,0,n,-o,0,0,o,n,0,0,0,0,1)}function a(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(n,0,o,0,0,1,0,0,-o,0,n,0,0,0,0,1)}function l(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1)}function c(e,t){return this._t(1,t,e,1,0,0)}function h(e,t){return this.shear(r(e),r(t))}function d(n,o){var i=e(o),s=t(o);return this._t(i,s,0,0,-s,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(n),1,0,0,0,0,1,0,0,0,0,1)._t(i,-s,0,0,s,i,0,0,0,0,1,0,0,0,0,1)}function u(e,t,r){return r||0===r||(r=1),1===e&&1===t&&1===r?this:this._t(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1)}function p(e,t,r,n,o,i,s,a,l,c,h,d,u,p,f,m){return this.props[0]=e,this.props[1]=t,this.props[2]=r,this.props[3]=n,this.props[4]=o,this.props[5]=i,this.props[6]=s,this.props[7]=a,this.props[8]=l,this.props[9]=c,this.props[10]=h,this.props[11]=d,this.props[12]=u,this.props[13]=p,this.props[14]=f,this.props[15]=m,this}function f(e,t,r){return r=r||0,0!==e||0!==t||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1):this}function m(e,t,r,n,o,i,s,a,l,c,h,d,u,p,f,m){var g=this.props;if(1===e&&0===t&&0===r&&0===n&&0===o&&1===i&&0===s&&0===a&&0===l&&0===c&&1===h&&0===d)return g[12]=g[12]*e+g[15]*u,g[13]=g[13]*i+g[15]*p,g[14]=g[14]*h+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var v=g[0],y=g[1],b=g[2],w=g[3],x=g[4],E=g[5],S=g[6],_=g[7],C=g[8],A=g[9],k=g[10],T=g[11],P=g[12],M=g[13],D=g[14],O=g[15];return g[0]=v*e+y*o+b*l+w*u,g[1]=v*t+y*i+b*c+w*p,g[2]=v*r+y*s+b*h+w*f,g[3]=v*n+y*a+b*d+w*m,g[4]=x*e+E*o+S*l+_*u,g[5]=x*t+E*i+S*c+_*p,g[6]=x*r+E*s+S*h+_*f,g[7]=x*n+E*a+S*d+_*m,g[8]=C*e+A*o+k*l+T*u,g[9]=C*t+A*i+k*c+T*p,g[10]=C*r+A*s+k*h+T*f,g[11]=C*n+A*a+k*d+T*m,g[12]=P*e+M*o+D*l+O*u,g[13]=P*t+M*i+D*c+O*p,g[14]=P*r+M*s+D*h+O*f,g[15]=P*n+M*a+D*d+O*m,this._identityCalculated=!1,this}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function y(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t];return e}function b(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function w(e,t,r){return{x:e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}}function x(e,t,r){return e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12]}function E(e,t,r){return e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13]}function S(e,t,r){return e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}function _(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,r=-this.props[1]/e,n=-this.props[4]/e,o=this.props[0]/e,i=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,a=new Matrix;return a.props[0]=t,a.props[1]=r,a.props[4]=n,a.props[5]=o,a.props[12]=i,a.props[13]=s,a}function C(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function A(e){var t,r=e.length,n=[];for(t=0;t<r;t+=1)n[t]=C(e[t]);return n}function k(e,t,r){var n=createTypedArray("float32",6);if(this.isIdentity())n[0]=e[0],n[1]=e[1],n[2]=t[0],n[3]=t[1],n[4]=r[0],n[5]=r[1];else{var o=this.props[0],i=this.props[1],s=this.props[4],a=this.props[5],l=this.props[12],c=this.props[13];n[0]=e[0]*o+e[1]*s+l,n[1]=e[0]*i+e[1]*a+c,n[2]=t[0]*o+t[1]*s+l,n[3]=t[0]*i+t[1]*a+c,n[4]=r[0]*o+r[1]*s+l,n[5]=r[0]*i+r[1]*a+c}return n}function T(e,t,r){return this.isIdentity()?[e,t,r]:[e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]]}function P(e,t){if(this.isIdentity())return e+","+t;var r=this.props;return Math.round(100*(e*r[0]+t*r[4]+r[12]))/100+","+Math.round(100*(e*r[1]+t*r[5]+r[13]))/100}function M(){for(var e=0,t=this.props,r="matrix3d(";e<16;)r+=n(1e4*t[e])/1e4,r+=15===e?")":",",e+=1;return r}function D(e){return e<1e-6&&e>0||e>-1e-6&&e<0?n(1e4*e)/1e4:e}function O(){var e=this.props;return"matrix("+D(e[0])+","+D(e[1])+","+D(e[4])+","+D(e[5])+","+D(e[12])+","+D(e[13])+")"}return function(){this.reset=o,this.rotate=i,this.rotateX=s,this.rotateY=a,this.rotateZ=l,this.skew=h,this.skewFromAxis=d,this.shear=c,this.scale=u,this.setTransform=p,this.translate=f,this.transform=m,this.applyToPoint=w,this.applyToX=x,this.applyToY=E,this.applyToZ=S,this.applyToPointArray=T,this.applyToTriplePoints=k,this.applyToPointStringified=P,this.toCSS=M,this.to2dCSS=O,this.clone=y,this.cloneFromProps=b,this.equals=v,this.inversePoints=A,this.inversePoint=C,this.getInverseMatrix=_,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(e)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(e){setLocationHref(e)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),r=0;r<t.length;r+=1){var n=t[r].split("=");if(decodeURIComponent(n[0])==e)return decodeURIComponent(n[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.10.2";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&__webpack_require__.amdO}catch(e){}var ShapeModifiers=function(){var e={},t={};return e.registerModifier=function(e,r){t[e]||(t[e]=r)},e.getModifier=function(e,r,n){return new t[e](r,n)},e}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,r,n,o){var i=[];t<=1?i.push({s:e,e:t}):e>=1?i.push({s:e-1,e:t-1}):(i.push({s:e,e:1}),i.push({s:0,e:t-1}));var s,a,l=[],c=i.length;for(s=0;s<c;s+=1){var h,d;(a=i[s]).e*o<n||a.s*o>n+r||(h=a.s*o<=n?0:(a.s*o-n)/r,d=a.e*o>=n+r?1:(a.e*o-n)/r,l.push([h,d]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,r=e.length;for(t=0;t<r;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,r,n,o;if(this._mdf||e){var i=this.o.v%360/360;if(i<0&&(i+=1),(t=this.s.v>1?1+i:this.s.v<0?0+i:this.s.v+i)>(r=this.e.v>1?1+i:this.e.v<0?0+i:this.e.v+i)){var s=t;t=r,r=s}t=1e-4*Math.round(1e4*t),r=1e-4*Math.round(1e4*r),this.sValue=t,this.eValue=r}else t=this.sValue,r=this.eValue;var a,l,c,h,d,u=this.shapes.length,p=0;if(r===t)for(o=0;o<u;o+=1)this.shapes[o].localShapeCollection.releaseShapes(),this.shapes[o].shape._mdf=!0,this.shapes[o].shape.paths=this.shapes[o].localShapeCollection,this._mdf&&(this.shapes[o].pathsData.length=0);else if(1===r&&0===t||0===r&&1===t){if(this._mdf)for(o=0;o<u;o+=1)this.shapes[o].pathsData.length=0,this.shapes[o].shape._mdf=!0}else{var f,m,g=[];for(o=0;o<u;o+=1)if((f=this.shapes[o]).shape._mdf||this._mdf||e||2===this.m){if(l=(n=f.shape.paths)._length,d=0,!f.shape._mdf&&f.pathsData.length)d=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),a=0;a<l;a+=1)h=bez.getSegmentsLength(n.shapes[a]),c.push(h),d+=h.totalLength;f.totalShapeLength=d,f.pathsData=c}p+=d,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var v,y=t,b=r,w=0;for(o=u-1;o>=0;o-=1)if((f=this.shapes[o]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&u>1?(v=this.calculateShapeEdges(t,r,f.totalShapeLength,w,p),w+=f.totalShapeLength):v=[[y,b]],l=v.length,a=0;a<l;a+=1){y=v[a][0],b=v[a][1],g.length=0,b<=1?g.push({s:f.totalShapeLength*y,e:f.totalShapeLength*b}):y>=1?g.push({s:f.totalShapeLength*(y-1),e:f.totalShapeLength*(b-1)}):(g.push({s:f.totalShapeLength*y,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(b-1)}));var x=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var E=x.pop();this.addPaths(x,m),x=this.addShapes(f,g[1],E)}else this.addPaths(x,m),x=this.addShapes(f,g[1]);this.addPaths(x,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)t.addShape(e[r])},TrimModifier.prototype.addSegment=function(e,t,r,n,o,i,s){o.setXYAt(t[0],t[1],"o",i),o.setXYAt(r[0],r[1],"i",i+1),s&&o.setXYAt(e[0],e[1],"v",i),o.setXYAt(n[0],n[1],"v",i+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,r,n){t.setXYAt(e[1],e[5],"o",r),t.setXYAt(e[2],e[6],"i",r+1),n&&t.setXYAt(e[0],e[4],"v",r),t.setXYAt(e[3],e[7],"v",r+1)},TrimModifier.prototype.addShapes=function(e,t,r){var n,o,i,s,a,l,c,h,d=e.pathsData,u=e.shape.paths.shapes,p=e.shape.paths._length,f=0,m=[],g=!0;for(r?(a=r._length,h=r._length):(r=shapePool.newElement(),a=0,h=0),m.push(r),n=0;n<p;n+=1){for(l=d[n].lengths,r.c=u[n].c,i=u[n].c?l.length:l.length+1,o=1;o<i;o+=1)if(f+(s=l[o-1]).addedLength<t.s)f+=s.addedLength,r.c=!1;else{if(f>t.e){r.c=!1;break}t.s<=f&&t.e>=f+s.addedLength?(this.addSegment(u[n].v[o-1],u[n].o[o-1],u[n].i[o],u[n].v[o],r,a,g),g=!1):(c=bez.getNewSegment(u[n].v[o-1],u[n].v[o],u[n].o[o-1],u[n].i[o],(t.s-f)/s.addedLength,(t.e-f)/s.addedLength,l[o-1]),this.addSegmentFromArray(c,r,a,g),g=!1,r.c=!1),f+=s.addedLength,a+=1}if(u[n].c&&l.length){if(s=l[o-1],f<=t.e){var v=l[o-1].addedLength;t.s<=f&&t.e>=f+v?(this.addSegment(u[n].v[o-1],u[n].o[o-1],u[n].i[0],u[n].v[0],r,a,g),g=!1):(c=bez.getNewSegment(u[n].v[o-1],u[n].v[0],u[n].o[o-1],u[n].i[0],(t.s-f)/v,(t.e-f)/v,l[o-1]),this.addSegmentFromArray(c,r,a,g),g=!1,r.c=!1)}else r.c=!1;f+=s.addedLength,a+=1}if(r._length&&(r.setXYAt(r.v[h][0],r.v[h][1],"i",h),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),f>t.e)break;n<p-1&&(r=shapePool.newElement(),g=!0,m.push(r),a=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var r=t/100,n=[0,0],o=e._length,i=0;for(i=0;i<o;i+=1)n[0]+=e.v[i][0],n[1]+=e.v[i][1];n[0]/=o,n[1]/=o;var s,a,l,c,h,d,u=shapePool.newElement();for(u.c=e.c,i=0;i<o;i+=1)s=e.v[i][0]+(n[0]-e.v[i][0])*r,a=e.v[i][1]+(n[1]-e.v[i][1])*r,l=e.o[i][0]+(n[0]-e.o[i][0])*-r,c=e.o[i][1]+(n[1]-e.o[i][1])*-r,h=e.i[i][0]+(n[0]-e.i[i][0])*-r,d=e.i[i][1]+(n[1]-e.i[i][1])*-r,u.setTripleAt(s,a,l,c,h,d,i);return u},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,r,n,o,i,s,a=this.shapes.length,l=this.amount.v;if(0!==l)for(r=0;r<a;r+=1){if(s=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,n=0;n<o;n+=1)s.addShape(this.processPath(t[n],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function t(e,t,r){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var n,o=t.or.k.length;for(n=0;n<o;n+=1)t.or.k[n].to=null,t.or.k[n].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var r;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,o;if(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),o=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),o=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(n=this.p.pv,o=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],o=[];var i=this.px,s=this.py;i._caching.lastFrame+i.offsetTime<=i.keyframes[0].t?(n[0]=i.getValueAtTime((i.keyframes[0].t+.01)/r,0),n[1]=s.getValueAtTime((s.keyframes[0].t+.01)/r,0),o[0]=i.getValueAtTime(i.keyframes[0].t/r,0),o[1]=s.getValueAtTime(s.keyframes[0].t/r,0)):i._caching.lastFrame+i.offsetTime>=i.keyframes[i.keyframes.length-1].t?(n[0]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/r,0),n[1]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/r,0),o[0]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/r,0),o[1]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/r,0)):(n=[i.pv,s.pv],o[0]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/r,i.offsetTime),o[1]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/r,s.offsetTime))}else n=o=e;this.v.rotate(-Math.atan2(n[1]-o[1],n[0]-o[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,r,n){return new t(e,r,n)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(e,t){return 1e5*Math.abs(e-t)<=Math.min(Math.abs(e),Math.abs(t))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,t,r){return e*(1-r)+t*r}function lerpPoint(e,t,r){return[lerp(e[0],t[0],r),lerp(e[1],t[1],r)]}function quadRoots(e,t,r){if(0===e)return[];var n=t*t-4*e*r;if(n<0)return[];var o=-t/(2*e);if(0===n)return[o];var i=Math.sqrt(n)/(2*e);return[o-i,o+i]}function polynomialCoefficients(e,t,r,n){return[3*t-e-3*r+n,3*e-6*t+3*r,-3*e+3*t,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,t,r,n,o){o&&pointEqual(e,t)&&(t=lerpPoint(e,n,1/3)),o&&pointEqual(r,n)&&(r=lerpPoint(e,n,2/3));var i=polynomialCoefficients(e[0],t[0],r[0],n[0]),s=polynomialCoefficients(e[1],t[1],r[1],n[1]);this.a=[i[0],s[0]],this.b=[i[1],s[1]],this.c=[i[2],s[2]],this.d=[i[3],s[3]],this.points=[e,t,r,n]}function extrema(e,t){var r=e.points[0][t],n=e.points[e.points.length-1][t];if(r>n){var o=n;n=r,r=o}for(var i=quadRoots(3*e.a[t],2*e.b[t],e.c[t]),s=0;s<i.length;s+=1)if(i[s]>0&&i[s]<1){var a=e.point(i[s])[t];a<r?r=a:a>n&&(n=a)}return{min:r,max:n}}function intersectData(e,t,r){var n=e.boundingBox();return{cx:n.cx,cy:n.cy,width:n.width,height:n.height,bez:e,t:(t+r)/2,t1:t,t2:r}}function splitData(e){var t=e.bez.split(.5);return[intersectData(t[0],e.t1,e.t),intersectData(t[1],e.t,e.t2)]}function boxIntersect(e,t){return 2*Math.abs(e.cx-t.cx)<e.width+t.width&&2*Math.abs(e.cy-t.cy)<e.height+t.height}function intersectsImpl(e,t,r,n,o,i){if(boxIntersect(e,t))if(r>=i||e.width<=n&&e.height<=n&&t.width<=n&&t.height<=n)o.push([e.t,t.t]);else{var s=splitData(e),a=splitData(t);intersectsImpl(s[0],a[0],r+1,n,o,i),intersectsImpl(s[0],a[1],r+1,n,o,i),intersectsImpl(s[1],a[0],r+1,n,o,i),intersectsImpl(s[1],a[1],r+1,n,o,i)}}function crossProduct(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function lineIntersection(e,t,r,n){var o=[e[0],e[1],1],i=[t[0],t[1],1],s=[r[0],r[1],1],a=[n[0],n[1],1],l=crossProduct(crossProduct(o,i),crossProduct(s,a));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(e,t,r){return[e[0]+Math.cos(t)*r,e[1]-Math.sin(t)*r]}function pointDistance(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function pointEqual(e,t){return floatEqual(e[0],t[0])&&floatEqual(e[1],t[1])}function ZigZagModifier(){}function setPoint(e,t,r,n,o,i,s){var a=r-Math.PI/2,l=r+Math.PI/2,c=t[0]+Math.cos(r)*n*o,h=t[1]-Math.sin(r)*n*o;e.setTripleAt(c,h,c+Math.cos(a)*i,h-Math.sin(a)*i,c+Math.cos(l)*s,h-Math.sin(l)*s,e.length())}function getPerpendicularVector(e,t){var r=[t[0]-e[0],t[1]-e[1]],n=.5*-Math.PI;return[Math.cos(n)*r[0]-Math.sin(n)*r[1],Math.sin(n)*r[0]+Math.cos(n)*r[1]]}function getProjectingAngle(e,t){var r=0===t?e.length()-1:t-1,n=(t+1)%e.length(),o=getPerpendicularVector(e.v[r],e.v[n]);return Math.atan2(0,1)-Math.atan2(o[1],o[0])}function zigZagCorner(e,t,r,n,o,i,s){var a=getProjectingAngle(t,r),l=t.v[r%t._length],c=t.v[0===r?t._length-1:r-1],h=t.v[(r+1)%t._length],d=2===i?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,u=2===i?Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)):0;setPoint(e,t.v[r%t._length],a,s,n,u/(2*(o+1)),d/(2*(o+1)),i)}function zigZagSegment(e,t,r,n,o,i){for(var s=0;s<n;s+=1){var a=(s+1)/(n+1),l=2===o?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,c=t.normalAngle(a);setPoint(e,t.point(a),c,i,r,l/(2*(n+1)),l/(2*(n+1)),o),i=-i}return i}function linearOffset(e,t,r){var n=Math.atan2(t[0]-e[0],t[1]-e[1]);return[polarOffset(e,n,r),polarOffset(t,n,r)]}function offsetSegment(e,t){var r,n,o,i,s,a,l;r=(l=linearOffset(e.points[0],e.points[1],t))[0],n=l[1],o=(l=linearOffset(e.points[1],e.points[2],t))[0],i=l[1],s=(l=linearOffset(e.points[2],e.points[3],t))[0],a=l[1];var c=lineIntersection(r,n,o,i);null===c&&(c=n);var h=lineIntersection(s,a,o,i);return null===h&&(h=s),new PolynomialBezier(r,c,h,a)}function joinLines(e,t,r,n,o){var i=t.points[3],s=r.points[0];if(3===n)return i;if(pointEqual(i,s))return i;if(2===n){var a=-t.tangentAngle(1),l=-r.tangentAngle(0)+Math.PI,c=lineIntersection(i,polarOffset(i,a+Math.PI/2,100),s,polarOffset(s,a+Math.PI/2,100)),h=c?pointDistance(c,i):pointDistance(i,s)/2,d=polarOffset(i,a,2*h*roundCorner);return e.setXYAt(d[0],d[1],"o",e.length()-1),d=polarOffset(s,l,2*h*roundCorner),e.setTripleAt(s[0],s[1],s[0],s[1],d[0],d[1],e.length()),s}var u=lineIntersection(pointEqual(i,t.points[2])?t.points[0]:t.points[2],i,s,pointEqual(s,r.points[1])?r.points[3]:r.points[1]);return u&&pointDistance(u,i)<o?(e.setTripleAt(u[0],u[1],u[0],u[1],u[0],u[1],e.length()),u):i}function getIntersection(e,t){var r=e.intersections(t);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(e,t){var r=e.slice(),n=t.slice(),o=getIntersection(e[e.length-1],t[0]);return o&&(r[e.length-1]=e[e.length-1].split(o[0])[0],n[0]=t[0].split(o[1])[1]),e.length>1&&t.length>1&&(o=getIntersection(e[0],t[t.length-1]))?[[e[0].split(o[0])[0]],[t[t.length-1].split(o[1])[1]]]:[r,n]}function pruneIntersections(e){for(var t,r=1;r<e.length;r+=1)t=pruneSegmentIntersection(e[r-1],e[r]),e[r-1]=t[0],e[r]=t[1];return e.length>1&&(t=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function offsetSegmentSplit(e,t){var r,n,o,i,s=e.inflectionPoints();if(0===s.length)return[offsetSegment(e,t)];if(1===s.length||floatEqual(s[1],1))return r=(o=e.split(s[0]))[0],n=o[1],[offsetSegment(r,t),offsetSegment(n,t)];r=(o=e.split(s[0]))[0];var a=(s[1]-s[0])/(1-s[0]);return i=(o=o[1].split(a))[0],n=o[1],[offsetSegment(r,t),offsetSegment(i,t),offsetSegment(n,t)]}function OffsetPathModifier(){}function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],r="normal",n="normal",o=t.length,i=0;i<o;i+=1)switch(t[i].toLowerCase()){case"italic":n="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:n,weight:e.fWeight||r}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,r,n,o,i){var s=i?-1:1,a=n.s.v[0]+(1-n.s.v[0])*(1-o),l=n.s.v[1]+(1-n.s.v[1])*(1-o);e.translate(n.p.v[0]*s*o,n.p.v[1]*s*o,n.p.v[2]),t.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),t.rotate(-n.r.v*s*o),t.translate(n.a.v[0],n.a.v[1],n.a.v[2]),r.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),r.scale(i?1/a:a,i?1/l:l),r.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(e,t,r,n){for(this.elem=e,this.arr=t,this.pos=r,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[r]);r>0;)r-=1,this._elements.unshift(t[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)e[r]._render=t,"gr"===e[r].ty&&this.changeGroupRender(e[r].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,r,n,o,i,s=!1;if(this._mdf||e){var a,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),s=!0}for(i=0,n=0;n<=this._groups.length-1;n+=1){if(a=i<l,this._groups[n]._render=a,this.changeGroupRender(this._groups[n].it,a),!a){var h=this.elemsData[n].it,d=h[h.length-1];0!==d.transform.op.v?(d.transform.op._mdf=!0,d.transform.op.v=0):d.transform.op._mdf=!1}i+=1}this._currentCopies=l;var u=this.o.v,p=u%1,f=u>0?Math.floor(u):Math.ceil(u),m=this.pMatrix.props,g=this.rMatrix.props,v=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var y,b,w=0;if(u>0){for(;w<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),w+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),w+=p)}else if(u<0){for(;w>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),w-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),w-=p)}for(n=1===this.data.m?0:this._currentCopies-1,o=1===this.data.m?1:-1,i=this._currentCopies;i;){if(b=(r=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==w){for((0!==n&&1===o||n!==this._currentCopies-1&&-1===o)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),y=0;y<b;y+=1)r[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<b;y+=1)r[y]=this.matrix.props[y];w+=1,i-=1,n+=o}}else for(i=this._currentCopies,n=0,o=1;i;)r=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,i-=1,n+=o;return s},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var r,n=shapePool.newElement();n.c=e.c;var o,i,s,a,l,c,h,d,u,p,f,m,g=e._length,v=0;for(r=0;r<g;r+=1)o=e.v[r],s=e.o[r],i=e.i[r],o[0]===s[0]&&o[1]===s[1]&&o[0]===i[0]&&o[1]===i[1]?0!==r&&r!==g-1||e.c?(a=0===r?e.v[g-1]:e.v[r-1],c=(l=Math.sqrt(Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)))?Math.min(l/2,t)/l:0,h=f=o[0]+(a[0]-o[0])*c,d=m=o[1]-(o[1]-a[1])*c,u=h-(h-o[0])*roundCorner,p=d-(d-o[1])*roundCorner,n.setTripleAt(h,d,u,p,f,m,v),v+=1,a=r===g-1?e.v[0]:e.v[r+1],c=(l=Math.sqrt(Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)))?Math.min(l/2,t)/l:0,h=u=o[0]+(a[0]-o[0])*c,d=p=o[1]+(a[1]-o[1])*c,f=h-(h-o[0])*roundCorner,m=d-(d-o[1])*roundCorner,n.setTripleAt(h,d,u,p,f,m,v),v+=1):(n.setTripleAt(o[0],o[1],s[0],s[1],i[0],i[1],v),v+=1):(n.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],v),v+=1);return n},RoundCornersModifier.prototype.processShapes=function(e){var t,r,n,o,i,s,a=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;r<a;r+=1){if(s=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,n=0;n<o;n+=1)s.addShape(this.processPath(t[n],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,r=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(r<0)return[];var n=Math.sqrt(r);return floatZero(n)?n>0&&n<1?[t]:[]:[t-n,t+n].filter((function(e){return e>0&&e<1}))},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],e),r=lerpPoint(this.points[1],this.points[2],e),n=lerpPoint(this.points[2],this.points[3],e),o=lerpPoint(t,r,e),i=lerpPoint(r,n,e),s=lerpPoint(o,i,e);return[new PolynomialBezier(this.points[0],t,o,s,!0),new PolynomialBezier(s,i,n,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}},PolynomialBezier.prototype.intersections=function(e,t,r){void 0===t&&(t=2),void 0===r&&(r=7);var n=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,t,n,r),n},PolynomialBezier.shapeSegment=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[t],e.o[t],e.i[r],e.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[r],e.i[r],e.o[t],e.v[t],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,t.s,0,null,this),this.frequency=PropertyFactory.getProp(e,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,t.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(e,t,r,n){var o=e._length,i=shapePool.newElement();if(i.c=e.c,e.c||(o-=1),0===o)return i;var s=-1,a=PolynomialBezier.shapeSegment(e,0);zigZagCorner(i,e,0,t,r,n,s);for(var l=0;l<o;l+=1)s=zigZagSegment(i,a,t,r,n,-s),a=l!==o-1||e.c?PolynomialBezier.shapeSegment(e,(l+1)%o):null,zigZagCorner(i,e,l+1,t,r,n,s);return i},ZigZagModifier.prototype.processShapes=function(e){var t,r,n,o,i,s,a=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),h=this.pointsType.v;if(0!==l)for(r=0;r<a;r+=1){if(s=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,n=0;n<o;n+=1)s.addShape(this.processPath(t[n],l,c,h));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(e,t,r,n){var o=shapePool.newElement();o.c=e.c;var i,s,a,l=e.length();e.c||(l-=1);var c=[];for(i=0;i<l;i+=1)a=PolynomialBezier.shapeSegment(e,i),c.push(offsetSegmentSplit(a,t));if(!e.c)for(i=l-1;i>=0;i-=1)a=PolynomialBezier.shapeSegmentInverted(e,i),c.push(offsetSegmentSplit(a,t));c=pruneIntersections(c);var h=null,d=null;for(i=0;i<c.length;i+=1){var u=c[i];for(d&&(h=joinLines(o,d,u[0],r,n)),d=u[u.length-1],s=0;s<u.length;s+=1)a=u[s],h&&pointEqual(a.points[0],h)?o.setXYAt(a.points[1][0],a.points[1][1],"o",o.length()-1):o.setTripleAt(a.points[0][0],a.points[0][1],a.points[1][0],a.points[1][1],a.points[0][0],a.points[0][1],o.length()),o.setTripleAt(a.points[3][0],a.points[3][1],a.points[3][0],a.points[3][1],a.points[2][0],a.points[2][1],o.length()),h=a.points[3]}return c.length&&joinLines(o,d,c[0][0],r,n),o},OffsetPathModifier.prototype.processShapes=function(e){var t,r,n,o,i,s,a=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,h=this.lineJoin;if(0!==l)for(r=0;r<a;r+=1){if(s=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,n=0;n<o;n+=1)s.addShape(this.processPath(t[n],l,h,c));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var e={w:0,size:0,shapes:[],data:{shapes:[]}},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],n=[65039,8205];function o(e,t){var r=createTag("span");r.setAttribute("aria-hidden",!0),r.style.fontFamily=t;var n=createTag("span");n.innerText="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(n),document.body.appendChild(r);var o=n.offsetWidth;return n.style.fontFamily=function(e){var t,r=e.split(","),n=r.length,o=[];for(t=0;t<n;t+=1)"sans-serif"!==r[t]&&"monospace"!==r[t]&&o.push(r[t]);return o.join(",")}(e)+", "+t,{node:n,w:o,parent:r}}function i(e,t){var r,n=document.body&&t?"svg":"canvas",o=getFontProperties(e);if("svg"===n){var i=createNS("text");i.style.fontSize="100px",i.setAttribute("font-family",e.fFamily),i.setAttribute("font-style",o.style),i.setAttribute("font-weight",o.weight),i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",e.fClass)):i.style.fontFamily=e.fFamily,t.appendChild(i),r=i}else{var s=new OffscreenCanvas(500,500).getContext("2d");s.font=o.style+" "+o.weight+" 100px "+e.fFamily,r=s}return{measureText:function(e){return"svg"===n?(r.textContent=e,r.getComputedTextLength()):r.measureText(e).width}}}var s=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};s.isModifier=function(e,t){var n=e.toString(16)+t.toString(16);return-1!==r.indexOf(n)},s.isZeroWidthJoiner=function(e,t){return t?e===n[0]&&t===n[1]:e===n[1]},s.isCombinedCharacter=function(e){return-1!==t.indexOf(e)};var a={addChars:function(e){if(e){var t;this.chars||(this.chars=[]);var r,n,o=e.length,i=this.chars.length;for(t=0;t<o;t+=1){for(r=0,n=!1;r<i;)this.chars[r].style===e[t].style&&this.chars[r].fFamily===e[t].fFamily&&this.chars[r].ch===e[t].ch&&(n=!0),r+=1;n||(this.chars.push(e[t]),i+=1)}}},addFonts:function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);if(!document.body)return this.isLoaded=!0,e.list.forEach((function(e){e.helper=i(e),e.cache={}})),void(this.fonts=e.list);var r,n=e.list,s=n.length,a=s;for(r=0;r<s;r+=1){var l,c,h=!0;if(n[r].loaded=!1,n[r].monoCase=o(n[r].fFamily,"monospace"),n[r].sansCase=o(n[r].fFamily,"sans-serif"),n[r].fPath){if("p"===n[r].fOrigin||3===n[r].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+n[r].fFamily+'"], style[f-origin="3"][f-family="'+n[r].fFamily+'"]')).length>0&&(h=!1),h){var d=createTag("style");d.setAttribute("f-forigin",n[r].fOrigin),d.setAttribute("f-origin",n[r].origin),d.setAttribute("f-family",n[r].fFamily),d.type="text/css",d.innerText="@font-face {font-family: "+n[r].fFamily+"; font-style: normal; src: url('"+n[r].fPath+"');}",t.appendChild(d)}}else if("g"===n[r].fOrigin||1===n[r].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(n[r].fPath)&&(h=!1);if(h){var u=createTag("link");u.setAttribute("f-forigin",n[r].fOrigin),u.setAttribute("f-origin",n[r].origin),u.type="text/css",u.rel="stylesheet",u.href=n[r].fPath,document.body.appendChild(u)}}else if("t"===n[r].fOrigin||2===n[r].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)n[r].fPath===l[c].src&&(h=!1);if(h){var p=createTag("link");p.setAttribute("f-forigin",n[r].fOrigin),p.setAttribute("f-origin",n[r].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",n[r].fPath),t.appendChild(p)}}}else n[r].loaded=!0,a-=1;n[r].helper=i(n[r],t),n[r].cache={},this.fonts.push(n[r])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,r,n){for(var o=0,i=this.chars.length;o<i;){if(this.chars[o].ch===t&&this.chars[o].style===r&&this.chars[o].fFamily===n)return this.chars[o];o+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,r,n)),e},getFontByName:function(e){for(var t=0,r=this.fonts.length;t<r;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},measureText:function(e,t,r){var n=this.getFontByName(t),o=e.charCodeAt(0);if(!n.cache[o+1]){var i=n.helper;if(" "===e){var s=i.measureText("|"+e+"|"),a=i.measureText("||");n.cache[o+1]=(s-a)/100}else n.cache[o+1]=i.measureText(e)/100}return n.cache[o+1]*r},checkLoadedFonts:function(){var e,t,r,n=this.fonts.length,o=n;for(e=0;e<n;e+=1)this.fonts[e].loaded?o-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,r=this.fonts[e].monoCase.w,t.offsetWidth!==r?(o-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,r=this.fonts[e].sansCase.w,t.offsetWidth!==r&&(o-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==o&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return s.prototype=a,s}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return blendModeEnums[e]||""}),blendModeEnums;function SliderEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function AngleEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function ColorEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function PointEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function LayerIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function MaskIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function CheckboxEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var r,n=e.ef||[];this.effectElements=[];var o,i=n.length;for(r=0;r<i;r+=1)o=new GroupEffect(n[r],t),this.effectElements.push(o)}function GroupEffect(e,t){this.init(e,t)}function BaseElement(){}function FrameElement(){}function FootageElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,r)}function AudioElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,r),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(e,t,r){this.data=e,this.element=t,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,o,i=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var a,l,c,h,d,u,p=this.masksProperties,f=0,m=[],g=createElementID(),v="clipPath",y="clip-path";for(n=0;n<s;n+=1)if(("a"!==p[n].mode&&"n"!==p[n].mode||p[n].inv||100!==p[n].o.k||p[n].o.x)&&(v="mask",y="mask"),"s"!==p[n].mode&&"i"!==p[n].mode||0!==f?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),o=createNS("path"),"n"===p[n].mode)this.viewData[n]={op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),elem:o,lastPath:""},i.appendChild(o);else{var b;if(f+=1,o.setAttribute("fill","s"===p[n].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==p[n].x.k?(v="mask",y="mask",u=PropertyFactory.getProp(this.element,p[n].x,0,null,this.element),b=createElementID(),(h=createNS("filter")).setAttribute("id",b),(d=createNS("feMorphology")).setAttribute("operator","erode"),d.setAttribute("in","SourceGraphic"),d.setAttribute("radius","0"),h.appendChild(d),i.appendChild(h),o.setAttribute("stroke","s"===p[n].mode?"#000000":"#ffffff")):(d=null,u=null),this.storedData[n]={elem:o,x:u,expan:d,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"===p[n].mode){l=m.length;var w=createNS("g");for(a=0;a<l;a+=1)w.appendChild(m[a]);var x=createNS("mask");x.setAttribute("mask-type","alpha"),x.setAttribute("id",g+"_"+f),x.appendChild(o),i.appendChild(x),w.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+f+")"),m.length=0,m.push(w)}else m.push(o);p[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:o,lastPath:"",op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),invRect:c},this.viewData[n].prop.k||this.drawPath(p[n],this.viewData[n].prop.v,this.viewData[n])}for(this.maskElement=createNS(v),s=m.length,n=0;n<s;n+=1)this.maskElement.appendChild(m[n]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(y,"url("+getLocationHref()+"#"+g+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){var r;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var n,o=this.data.ef.length,i=this.data.ef;for(r=0;r<o;r+=1){switch(n=null,i[r].ty){case 0:n=new SliderEffect(i[r],t,this);break;case 1:n=new AngleEffect(i[r],t,this);break;case 2:n=new ColorEffect(i[r],t,this);break;case 3:n=new PointEffect(i[r],t,this);break;case 4:case 7:n=new CheckboxEffect(i[r],t,this);break;case 10:n=new LayerIndexEffect(i[r],t,this);break;case 11:n=new MaskIndexEffect(i[r],t,this);break;case 5:n=new EffectsManager(i[r],t,this);break;default:n=new NoValueEffect(i[r],t,this)}n&&this.effectElements.push(n)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var t=e("layer"),r=e("effects"),n=e("shape"),o=e("text"),i=e("comp");this.layerInterface=t(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var s=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(s),0===this.data.ty||this.data.xt?this.compInterface=i(this):4===this.data.ty?(this.layerInterface.shapeInterface=n(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=o(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,r){this.globalData=t,this.comp=r,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var r,n=this.dynamicProperties.length;for(r=0;r<n;r+=1)(t||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var t=e("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(e){var t,r,n=this.layers.length;for(this.completeLayers=!0,t=n-1;t>=0;t-=1)this.elements[t]||(r=this.layers[t]).ip-r.st<=e-this.layers[t].st&&r.op-r.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:default:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var r,n=e.length,o=this.layers.length;for(t=0;t<n;t+=1)for(r=0;r<o;){if(this.layers[r].id===e[t].id){this.layers[r]=e[t];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,r){for(var n=this.elements,o=this.layers,i=0,s=o.length;i<s;)o[i].ind==t&&(n[i]&&!0!==n[i]?(r.push(n[i]),n[i].setAsParent(),void 0!==o[i].parent?this.buildElementParenting(e,o[i].parent,r):e.setHierarchy(r)):(this.buildItem(i),this.addPendingElement(e))),i+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length;for(t=0;t<r;t+=1)if(e[t].xt){var n=this.createComp(e[t]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.getElementById=function(e){var t,r=this.elements.length;for(t=0;t<r;t+=1)if(this.elements[t].data.ind===e)return this.elements[t];return null},BaseRenderer.prototype.getElementByPath=function(e){var t,r=e.shift();if("number"==typeof r)t=this.elements[r];else{var n,o=this.elements.length;for(n=0;n<o;n+=1)if(this.elements[n].data.nm===r){t=this.elements[n];break}}return 0===e.length?t:t.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,r=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<n;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),r=0;r<n;r+=1)e=this.hierarchy[r].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var r,n=!0,o=this.comp;n;)o.finalTransform?(o.data.hasMask&&t.splice(0,0,o.finalTransform),o=o.comp):n=!1;var i,s=t.length;for(r=0;r<s;r+=1)i=t[r].mat.applyToPointArray(0,0,0),e=[e[0]-i[0],e[1]-i[1],0];return e},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,r=this.element.finalTransform.mat,n=this.masksProperties.length;for(t=0;t<n;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var o=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[t].filterId+")")),o.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,r){var n,o,i=" M"+t.v[0][0]+","+t.v[0][1];for(o=t._length,n=1;n<o;n+=1)i+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[n][0]+","+t.i[n][1]+" "+t.v[n][0]+","+t.v[n][1];if(t.c&&o>1&&(i+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),r.lastPath!==i){var s="";r.elem&&(t.c&&(s=e.inv?this.solidPath+i:i),r.elem.setAttribute("d",s)),r.lastPath=i}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory={createFilter:function(e,t){var r=createNS("filter");return r.setAttribute("id",e),!0!==t&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}},featureSupport=function(){var e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(e.svgLumaHidden=!1),e}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(e){var t,r,n="SourceGraphic",o=e.data.ef?e.data.ef.length:0,i=createElementID(),s=filtersFactory.createFilter(i,!0),a=0;for(this.filters=[],t=0;t<o;t+=1){r=null;var l=e.data.ef[t].ty;registeredEffects[l]&&(r=new(0,registeredEffects[l].effect)(s,e.effectsManager.effectElements[t],e,idPrefix+a,n),n=idPrefix+a,registeredEffects[l].countsAsEffect&&(a+=1)),r&&this.filters.push(r)}a&&(e.globalData.defs.appendChild(s),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+i+")")),this.filters.length&&e.addRenderableComponent(this)}function registerEffect(e,t,r){registeredEffects[e]={effect:t,countsAsEffect:r}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var t=createNS("g");t.setAttribute("id",this.layerId),t.appendChild(this.layerElement),e=t,this.globalData.defs.appendChild(t)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var r=createNS("clipPath"),n=createNS("path");n.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var o=createElementID();if(r.setAttribute("id",o),r.appendChild(n),this.globalData.defs.appendChild(r),this.checkMasks()){var i=createNS("g");i.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),i.appendChild(this.layerElement),this.transformedElement=i,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var t,r,n,o,i=this.layerId+"_"+e;if(1===e||3===e){var s=createNS("mask");s.setAttribute("id",i),s.setAttribute("mask-type",3===e?"luminance":"alpha"),(n=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),s.appendChild(n),this.globalData.defs.appendChild(s),featureSupport.maskType||1!==e||(s.setAttribute("mask-type","luminance"),t=createElementID(),r=filtersFactory.createFilter(t),this.globalData.defs.appendChild(r),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(o=createNS("g")).appendChild(n),s.appendChild(o),o.setAttribute("filter","url("+getLocationHref()+"#"+t+")"))}else if(2===e){var a=createNS("mask");a.setAttribute("id",i),a.setAttribute("mask-type","alpha");var l=createNS("g");a.appendChild(l),t=createElementID(),r=filtersFactory.createFilter(t);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),r.appendChild(c);var h=createNS("feFuncA");h.setAttribute("type","table"),h.setAttribute("tableValues","1.0 0.0"),c.appendChild(h),this.globalData.defs.appendChild(r);var d=createNS("rect");d.setAttribute("width",this.comp.data.w),d.setAttribute("height",this.comp.data.h),d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("fill","#ffffff"),d.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+t+")"),l.appendChild(d),(n=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(n),featureSupport.maskType||(a.setAttribute("mask-type","luminance"),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),o=createNS("g"),l.appendChild(d),o.appendChild(this.layerElement),l.appendChild(o)),this.globalData.defs.appendChild(a)}this.matteMasks[e]=i}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(e){var t,r=this.shapeModifiers.length;for(t=0;t<r;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,r=0,n=t.length;r<n;){if(t[r].elem===e)return t[r].pos;r+=1}return 0},addProcessedElement:function(e,t){for(var r=this.processedElements,n=r.length;n;)if(r[n-=1].elem===e)return void(r[n].pos=t);r.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,r){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=r,this.lvl=t,this._isAnimated=!!r.k;for(var n=0,o=e.length;n<o;){if(e[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(e,t,r,n){var o;this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var i,s=t.length||0;for(o=0;o<s;o+=1)i=PropertyFactory.getProp(e,t[o].v,0,0,this),this.k=i.k||this.k,this.dataProps[o]={n:t[o].n,p:i};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r}function SVGNoStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=r}function GradientProperty(e,t,r){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var n=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,r)}function SVGGradientStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,r){this.transform={mProps:e,op:t,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<r;t+=1)"o"!==this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(e,t){for(var r=0,n=this.o.length/2;r<n;){if(Math.abs(e[4*r]-e[4*t+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,r,n,o=4*this.data.p;for(t=0;t<o;t+=1)r=t%4==0?100:255,n=Math.round(this.prop.v[t]*r),this.c[t]!==n&&(this.c[t]=n,this._cmdf=!e);if(this.o.length)for(o=this.prop.v.length,t=4*this.data.p;t<o;t+=1)r=t%2==0?100:1,n=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==n&&(this.o[t-4*this.data.p]=n,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,r){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,t),this.setGradientOpacity(t,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var r=createElementID(),n=createNS(1===t.t?"linearGradient":"radialGradient");n.setAttribute("id",r),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var o,i,s,a=[];for(s=4*t.g.p,i=0;i<s;i+=4)o=createNS("stop"),n.appendChild(o),a.push(o);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=n,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var r,n,o,i=createNS("mask"),s=createNS("path");i.appendChild(s);var a=createElementID(),l=createElementID();i.setAttribute("id",l);var c=createNS(1===e.t?"linearGradient":"radialGradient");c.setAttribute("id",a),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),o=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var h=this.stops;for(n=4*e.g.p;n<o;n+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(r),h.push(r);s.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+a+")"),"gs"===e.ty&&(s.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),1===e.lj&&s.setAttribute("stroke-miterlimit",e.ml)),this.of=c,this.ms=i,this.ost=h,this.maskId=l,t.msElem=s}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(e,t,r,n){if(0===t)return"";var o,i=e.o,s=e.i,a=e.v,l=" M"+n.applyToPointStringified(a[0][0],a[0][1]);for(o=1;o<t;o+=1)l+=" C"+n.applyToPointStringified(i[o-1][0],i[o-1][1])+" "+n.applyToPointStringified(s[o][0],s[o][1])+" "+n.applyToPointStringified(a[o][0],a[o][1]);return r&&t&&(l+=" C"+n.applyToPointStringified(i[o-1][0],i[o-1][1])+" "+n.applyToPointStringified(s[0][0],s[0][1])+" "+n.applyToPointStringified(a[0][0],a[0][1]),l+="z"),l},SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function r(e,t,r){(r||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(r||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function n(){}function o(r,n,o){var i,s,a,l,c,h,d,u,p,f,m,g=n.styles.length,v=n.lvl;for(h=0;h<g;h+=1){if(l=n.sh._mdf||o,n.styles[h].lvl<v){for(u=t.reset(),f=v-n.styles[h].lvl,m=n.transformers.length-1;!l&&f>0;)l=n.transformers[m].mProps._mdf||l,f-=1,m-=1;if(l)for(f=v-n.styles[h].lvl,m=n.transformers.length-1;f>0;)p=n.transformers[m].mProps.v.props,u.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),f-=1,m-=1}else u=e;if(s=(d=n.sh.paths)._length,l){for(a="",i=0;i<s;i+=1)(c=d.shapes[i])&&c._length&&(a+=buildShapeString(c,c._length,c.c,u));n.caches[h]=a}else a=n.caches[h];n.styles[h].d+=!0===r.hd?"":a,n.styles[h]._mdf=l||n.styles[h]._mdf}}function i(e,t,r){var n=t.style;(t.c._mdf||r)&&n.pElem.setAttribute("fill","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r)&&n.pElem.setAttribute("fill-opacity",t.o.v)}function s(e,t,r){a(e,t,r),l(0,t,r)}function a(e,t,r){var n,o,i,s,a,l=t.gf,c=t.g._hasOpacity,h=t.s.v,d=t.e.v;if(t.o._mdf||r){var u="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(u,t.o.v)}if(t.s._mdf||r){var p=1===e.t?"x1":"cx",f="x1"===p?"y1":"cy";l.setAttribute(p,h[0]),l.setAttribute(f,h[1]),c&&!t.g._collapsable&&(t.of.setAttribute(p,h[0]),t.of.setAttribute(f,h[1]))}if(t.g._cmdf||r){n=t.cst;var m=t.g.c;for(i=n.length,o=0;o<i;o+=1)(s=n[o]).setAttribute("offset",m[4*o]+"%"),s.setAttribute("stop-color","rgb("+m[4*o+1]+","+m[4*o+2]+","+m[4*o+3]+")")}if(c&&(t.g._omdf||r)){var g=t.g.o;for(i=(n=t.g._collapsable?t.cst:t.ost).length,o=0;o<i;o+=1)s=n[o],t.g._collapsable||s.setAttribute("offset",g[2*o]+"%"),s.setAttribute("stop-opacity",g[2*o+1])}if(1===e.t)(t.e._mdf||r)&&(l.setAttribute("x2",d[0]),l.setAttribute("y2",d[1]),c&&!t.g._collapsable&&(t.of.setAttribute("x2",d[0]),t.of.setAttribute("y2",d[1])));else if((t.s._mdf||t.e._mdf||r)&&(a=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)),l.setAttribute("r",a),c&&!t.g._collapsable&&t.of.setAttribute("r",a)),t.e._mdf||t.h._mdf||t.a._mdf||r){a||(a=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)));var v=Math.atan2(d[1]-h[1],d[0]-h[0]),y=t.h.v;y>=1?y=.99:y<=-1&&(y=-.99);var b=a*y,w=Math.cos(v+t.a.v)*b+h[0],x=Math.sin(v+t.a.v)*b+h[1];l.setAttribute("fx",w),l.setAttribute("fy",x),c&&!t.g._collapsable&&(t.of.setAttribute("fx",w),t.of.setAttribute("fy",x))}}function l(e,t,r){var n=t.style,o=t.d;o&&(o._mdf||r)&&o.dashStr&&(n.pElem.setAttribute("stroke-dasharray",o.dashStr),n.pElem.setAttribute("stroke-dashoffset",o.dashoffset[0])),t.c&&(t.c._mdf||r)&&n.pElem.setAttribute("stroke","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r)&&n.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||r)&&(n.pElem.setAttribute("stroke-width",t.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty){case"fl":return i;case"gf":return a;case"gs":return s;case"st":return l;case"sh":case"el":case"rc":case"sr":return o;case"tr":return r;case"no":return n;default:return null}}}}();function SVGShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,r),this.prevViewData=[]}function LetterProps(e,t,r,n,o,i){this.o=e,this.sw=t,this.sc=r,this.fc=n,this.m=o,this.p=i,this._mdf={o:!0,sw:!!t,sc:!!r,fc:!!n,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,r,n,o=this.shapes.length,i=this.stylesList.length,s=[],a=!1;for(r=0;r<i;r+=1){for(n=this.stylesList[r],a=!1,s.length=0,e=0;e<o;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(n)&&(s.push(t),a=t._isAnimated||a);s.length>1&&a&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var r,n=new SVGStyleData(e,t),o=n.pElem;return"st"===e.ty?r=new SVGStrokeStyleData(this,e,n):"fl"===e.ty?r=new SVGFillStyleData(this,e,n):"gf"===e.ty||"gs"===e.ty?(r=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,n),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),o.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))):"no"===e.ty&&(r=new SVGNoStyleData(this,e,n)),"st"!==e.ty&&"gs"!==e.ty||(o.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),o.setAttribute("fill-opacity","0"),1===e.lj&&o.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&o.setAttribute("fill-rule","evenodd"),e.ln&&o.setAttribute("id",e.ln),e.cl&&o.setAttribute("class",e.cl),e.bm&&(o.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(n),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var r=TransformPropertyFactory.getTransformProperty(this,e,this),n=new SVGTransformData(r,r.o,t);return this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createShapeElement=function(e,t,r){var n=4;"rc"===e.ty?n=5:"el"===e.ty?n=6:"sr"===e.ty&&(n=7);var o=new SVGShapeData(t,r,ShapePropertyFactory.getShapeProp(this,e,n,this));return this.shapes.push(o),this.addShapeToModifiers(o),this.addToAnimatedContents(e,o),o},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var r=0,n=this.animatedContents.length;r<n;){if(this.animatedContents[r].element===t)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,r=e.styles,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||r.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,r,n,o,i,s){var a,l,c,h,d,u,p=[].concat(i),f=e.length-1,m=[],g=[];for(a=f;a>=0;a-=1){if((u=this.searchProcessedElement(e[a]))?t[a]=r[u-1]:e[a]._render=s,"fl"===e[a].ty||"st"===e[a].ty||"gf"===e[a].ty||"gs"===e[a].ty||"no"===e[a].ty)u?t[a].style.closed=!1:t[a]=this.createStyleElement(e[a],o),e[a]._render&&t[a].style.pElem.parentNode!==n&&n.appendChild(t[a].style.pElem),m.push(t[a].style);else if("gr"===e[a].ty){if(u)for(c=t[a].it.length,l=0;l<c;l+=1)t[a].prevViewData[l]=t[a].it[l];else t[a]=this.createGroupElement(e[a]);this.searchShapes(e[a].it,t[a].it,t[a].prevViewData,t[a].gr,o+1,p,s),e[a]._render&&t[a].gr.parentNode!==n&&n.appendChild(t[a].gr)}else"tr"===e[a].ty?(u||(t[a]=this.createTransformElement(e[a],n)),h=t[a].transform,p.push(h)):"sh"===e[a].ty||"rc"===e[a].ty||"el"===e[a].ty||"sr"===e[a].ty?(u||(t[a]=this.createShapeElement(e[a],p,o)),this.setElementStyles(t[a])):"tm"===e[a].ty||"rd"===e[a].ty||"ms"===e[a].ty||"pb"===e[a].ty||"zz"===e[a].ty||"op"===e[a].ty?(u?(d=t[a]).closed=!1:((d=ShapeModifiers.getModifier(e[a].ty)).init(this,e[a]),t[a]=d,this.shapeModifiers.push(d)),g.push(d)):"rp"===e[a].ty&&(u?(d=t[a]).closed=!0:(d=ShapeModifiers.getModifier(e[a].ty),t[a]=d,d.init(this,e,a,t),this.shapeModifiers.push(d),s=!1),g.push(d));this.addProcessedElement(e[a],a+1)}for(f=m.length,a=0;a<f;a+=1)m[a].closed=!0;for(f=g.length,a=0;a<f;a+=1)g[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,r=this.animatedContents.length;for(e=0;e<r;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(e,t,r,n,o,i){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,s=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,s=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,s=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,s=!0),this.m!==o&&(this.m=o,this._mdf.m=!0,s=!0),!i.length||this.p[0]===i[0]&&this.p[1]===i[1]&&this.p[4]===i[4]&&this.p[5]===i[5]&&this.p[12]===i[12]&&this.p[13]===i[13]||(this.p=i,this._mdf.p=!0,s=!0),s},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var n;this.lock=!0,this._mdf=!1;var o=this.effectsSequence.length,i=e||this.data.d.k[this.keysIndex].s;for(n=0;n<o;n+=1)i=r!==this.keysIndex?this.effectsSequence[n](i,i.t):this.effectsSequence[n](this.currentData,i.t);t!==i&&this.setCurrentData(i),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,r=0,n=e.length;r<=n-1&&!(r===n-1||e[r+1].t>t);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,r,n=[],o=0,i=e.length,s=!1;o<i;)t=e.charCodeAt(o),FontManager.isCombinedCharacter(t)?n[n.length-1]+=e.charAt(o):t>=55296&&t<=56319?(r=e.charCodeAt(o+1))>=56320&&r<=57343?(s||FontManager.isModifier(t,r)?(n[n.length-1]+=e.substr(o,2),s=!1):n.push(e.substr(o,2)),o+=1):n.push(e.charAt(o)):t>56319?(r=e.charCodeAt(o+1),FontManager.isZeroWidthJoiner(t,r)?(s=!0,n[n.length-1]+=e.substr(o,2),o+=1):n.push(e.charAt(o))):FontManager.isZeroWidthJoiner(t)?(n[n.length-1]+=e.charAt(o),s=!0):n.push(e.charAt(o)),o+=1;return n},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,r,n,o,i,s,a,l=this.elem.globalData.fontManager,c=this.data,h=[],d=0,u=c.m.g,p=0,f=0,m=0,g=[],v=0,y=0,b=l.getFontByName(e.f),w=0,x=getFontProperties(b);e.fWeight=x.weight,e.fStyle=x.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),r=e.finalText.length,e.finalLineHeight=e.lh;var E,S=e.tr/1e3*e.finalSize;if(e.sz)for(var _,C,A=!0,k=e.sz[0],T=e.sz[1];A;){_=0,v=0,r=(C=this.buildFinalText(e.t)).length,S=e.tr/1e3*e.finalSize;var P=-1;for(t=0;t<r;t+=1)E=C[t].charCodeAt(0),n=!1," "===C[t]?P=t:13!==E&&3!==E||(v=0,n=!0,_+=e.finalLineHeight||1.2*e.finalSize),l.chars?(a=l.getCharData(C[t],b.fStyle,b.fFamily),w=n?0:a.w*e.finalSize/100):w=l.measureText(C[t],e.f,e.finalSize),v+w>k&&" "!==C[t]?(-1===P?r+=1:t=P,_+=e.finalLineHeight||1.2*e.finalSize,C.splice(t,P===t?1:0,"\r"),P=-1,v=0):(v+=w,v+=S);_+=b.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&T<_?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=C,r=e.finalText.length,A=!1)}v=-S,w=0;var M,D=0;for(t=0;t<r;t+=1)if(n=!1,13===(E=(M=e.finalText[t]).charCodeAt(0))||3===E?(D=0,g.push(v),y=v>y?v:y,v=-2*S,o="",n=!0,m+=1):o=M,l.chars?(a=l.getCharData(M,b.fStyle,l.getFontByName(e.f).fFamily),w=n?0:a.w*e.finalSize/100):w=l.measureText(o,e.f,e.finalSize)," "===M?D+=w+S:(v+=w+S+D,D=0),h.push({l:w,an:w,add:p,n,anIndexes:[],val:o,line:m,animatorJustifyOffset:0}),2==u){if(p+=w,""===o||" "===o||t===r-1){for(""!==o&&" "!==o||(p-=w);f<=t;)h[f].an=p,h[f].ind=d,h[f].extra=w,f+=1;d+=1,p=0}}else if(3==u){if(p+=w,""===o||t===r-1){for(""===o&&(p-=w);f<=t;)h[f].an=p,h[f].ind=d,h[f].extra=w,f+=1;p=0,d+=1}}else h[d].ind=d,h[d].extra=0,d+=1;if(e.l=h,y=v>y?v:y,g.push(v),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=y,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=g;var O,I,R,N,F=c.a;s=F.length;var B=[];for(i=0;i<s;i+=1){for((O=F[i]).a.sc&&(e.strokeColorAnim=!0),O.a.sw&&(e.strokeWidthAnim=!0),(O.a.fc||O.a.fh||O.a.fs||O.a.fb)&&(e.fillColorAnim=!0),N=0,R=O.s.b,t=0;t<r;t+=1)(I=h[t]).anIndexes[i]=N,(1==R&&""!==I.val||2==R&&""!==I.val&&" "!==I.val||3==R&&(I.n||" "==I.val||t==r-1)||4==R&&(I.n||t==r-1))&&(1===O.s.rn&&B.push(N),N+=1);c.a[i].s.totalChars=N;var L,V=-1;if(1===O.s.rn)for(t=0;t<r;t+=1)V!=(I=h[t]).anIndexes[i]&&(V=I.anIndexes[i],L=B.splice(Math.floor(Math.random()*B.length),1)[0]),I.anIndexes[i]=L}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=b.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var r=this.copyData({},this.data.d.k[t].s);r=this.copyData(r,e),this.data.d.k[t].s=r,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,r=Math.floor;function n(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(e,t.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return n.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var o=0,i=0,s=1,a=1;this.ne.v>0?o=this.ne.v/100:i=-this.ne.v/100,this.xe.v>0?s=1-this.xe.v/100:a=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(o,i,s,a).get,c=0,h=this.finalS,d=this.finalE,u=this.data.sh;if(2===u)c=l(c=d===h?n>=d?1:0:e(0,t(.5/(d-h)+(n-h)/(d-h),1)));else if(3===u)c=l(c=d===h?n>=d?0:1:1-e(0,t(.5/(d-h)+(n-h)/(d-h),1)));else if(4===u)d===h?c=0:(c=e(0,t(.5/(d-h)+(n-h)/(d-h),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===u){if(d===h)c=0;else{var p=d-h,f=-p/2+(n=t(e(0,n+.5-h),d-h)),m=p/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===u?(d===h?c=0:(n=t(e(0,n+.5-h),d-h),c=(1+Math.cos(Math.PI+2*Math.PI*n/(d-h)))/2),c=l(c)):(n>=r(h)&&(c=e(0,t(n-h<0?t(d,1)-(h-n):d-n,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var v=.5-.5*g;c<v?c=0:(c=(c-v)/g)>1&&(c=1)}return c*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/t,n=this.s.v/t+r,o=this.e.v/t+r;if(n>o){var i=n;n=o,o=i}this.finalS=n,this.finalE=o}},extendPrototype([DynamicPropertyContainer],n),{getTextSelectorProp:function(e,t,r){return new n(e,t,r)}}}();function TextAnimatorDataProperty(e,t,r){var n={propType:!1},o=PropertyFactory.getProp,i=t.a;this.a={r:i.r?o(e,i.r,0,degToRads,r):n,rx:i.rx?o(e,i.rx,0,degToRads,r):n,ry:i.ry?o(e,i.ry,0,degToRads,r):n,sk:i.sk?o(e,i.sk,0,degToRads,r):n,sa:i.sa?o(e,i.sa,0,degToRads,r):n,s:i.s?o(e,i.s,1,.01,r):n,a:i.a?o(e,i.a,1,0,r):n,o:i.o?o(e,i.o,0,.01,r):n,p:i.p?o(e,i.p,1,0,r):n,sw:i.sw?o(e,i.sw,0,0,r):n,sc:i.sc?o(e,i.sc,1,0,r):n,fc:i.fc?o(e,i.fc,1,0,r):n,fh:i.fh?o(e,i.fh,0,0,r):n,fs:i.fs?o(e,i.fs,0,.01,r):n,fb:i.fb?o(e,i.fb,0,.01,r):n,t:i.t?o(e,i.t,0,0,r):n},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,r),this.s.t=t.s.t}function TextAnimatorProperty(e,t,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,r=this._textData.a.length,n=PropertyFactory.getProp;for(e=0;e<r;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,n,o,i,s,a,l,c,h,d,u,p,f,m,g,v,y,b,w,x=this._moreOptions.alignment.v,E=this._animatorsData,S=this._textData,_=this.mHelper,C=this._renderType,A=this.renderedLetters.length,k=e.l;if(this._hasMaskedPath){if(w=this._pathData.m,!this._pathData.n||this._pathData._mdf){var T,P=w.v;for(this._pathData.r.v&&(P=P.reverse()),s={tLength:0,segments:[]},i=P._length-1,v=0,o=0;o<i;o+=1)T=bez.buildBezierData(P.v[o],P.v[o+1],[P.o[o][0]-P.v[o][0],P.o[o][1]-P.v[o][1]],[P.i[o+1][0]-P.v[o+1][0],P.i[o+1][1]-P.v[o+1][1]]),s.tLength+=T.segmentLength,s.segments.push(T),v+=T.segmentLength;o=i,w.v.c&&(T=bez.buildBezierData(P.v[o],P.v[0],[P.o[o][0]-P.v[o][0],P.o[o][1]-P.v[o][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),s.tLength+=T.segmentLength,s.segments.push(T),v+=T.segmentLength),this._pathData.pi=s}if(s=this._pathData.pi,a=this._pathData.f.v,u=0,d=1,c=0,h=!0,m=s.segments,a<0&&w.v.c)for(s.tLength<Math.abs(a)&&(a=-Math.abs(a)%s.tLength),d=(f=m[u=m.length-1].points).length-1;a<0;)a+=f[d].partialLength,(d-=1)<0&&(d=(f=m[u-=1].points).length-1);p=(f=m[u].points)[d-1],g=(l=f[d]).partialLength}i=k.length,r=0,n=0;var M,D,O,I,R,N=1.2*e.finalSize*.714,F=!0;O=E.length;var B,L,V,z,H,j,G,U,q,W,$,Z,K=-1,Y=a,X=u,J=d,Q=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var re=0,ne=0,oe=2===e.j?-.5:-1,ie=0,se=!0;for(o=0;o<i;o+=1)if(k[o].n){for(re&&(re+=ne);ie<o;)k[ie].animatorJustifyOffset=re,ie+=1;re=0,se=!0}else{for(D=0;D<O;D+=1)(M=E[D].a).t.propType&&(se&&2===e.j&&(ne+=M.t.v*oe),(R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars)).length?re+=M.t.v*R[0]*oe:re+=M.t.v*R*oe);se=!1}for(re&&(re+=ne);ie<o;)k[ie].animatorJustifyOffset=re,ie+=1}for(o=0;o<i;o+=1){if(_.reset(),z=1,k[o].n)r=0,n+=e.yOffset,n+=F?1:0,a=Y,F=!1,this._hasMaskedPath&&(d=J,p=(f=m[u=X].points)[d-1],g=(l=f[d]).partialLength,c=0),ee="",$="",q="",Z="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==k[o].line){switch(e.j){case 1:a+=v-e.lineWidths[k[o].line];break;case 2:a+=(v-e.lineWidths[k[o].line])/2}Q=k[o].line}K!==k[o].ind&&(k[K]&&(a+=k[K].extra),a+=k[o].an/2,K=k[o].ind),a+=x[0]*k[o].an*.005;var ae=0;for(D=0;D<O;D+=1)(M=E[D].a).p.propType&&((R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars)).length?ae+=M.p.v[0]*R[0]:ae+=M.p.v[0]*R),M.a.propType&&((R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars)).length?ae+=M.a.v[0]*R[0]:ae+=M.a.v[0]*R);for(h=!0,this._pathData.a.v&&(a=.5*k[0].an+(v-this._pathData.f.v-.5*k[0].an-.5*k[k.length-1].an)*K/(i-1),a+=this._pathData.f.v);h;)c+g>=a+ae||!f?(y=(a+ae-c)/l.partialLength,L=p.point[0]+(l.point[0]-p.point[0])*y,V=p.point[1]+(l.point[1]-p.point[1])*y,_.translate(-x[0]*k[o].an*.005,-x[1]*N*.01),h=!1):f&&(c+=l.partialLength,(d+=1)>=f.length&&(d=0,m[u+=1]?f=m[u].points:w.v.c?(d=0,f=m[u=0].points):(c-=l.partialLength,f=null)),f&&(p=l,g=(l=f[d]).partialLength));B=k[o].an/2-k[o].add,_.translate(-B,0,0)}else B=k[o].an/2-k[o].add,_.translate(-B,0,0),_.translate(-x[0]*k[o].an*.005,-x[1]*N*.01,0);for(D=0;D<O;D+=1)(M=E[D].a).t.propType&&(R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars),0===r&&0===e.j||(this._hasMaskedPath?R.length?a+=M.t.v*R[0]:a+=M.t.v*R:R.length?r+=M.t.v*R[0]:r+=M.t.v*R));for(e.strokeWidthAnim&&(j=e.sw||0),e.strokeColorAnim&&(H=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(G=[e.fc[0],e.fc[1],e.fc[2]]),D=0;D<O;D+=1)(M=E[D].a).a.propType&&((R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars)).length?_.translate(-M.a.v[0]*R[0],-M.a.v[1]*R[1],M.a.v[2]*R[2]):_.translate(-M.a.v[0]*R,-M.a.v[1]*R,M.a.v[2]*R));for(D=0;D<O;D+=1)(M=E[D].a).s.propType&&((R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars)).length?_.scale(1+(M.s.v[0]-1)*R[0],1+(M.s.v[1]-1)*R[1],1):_.scale(1+(M.s.v[0]-1)*R,1+(M.s.v[1]-1)*R,1));for(D=0;D<O;D+=1){if(M=E[D].a,R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars),M.sk.propType&&(R.length?_.skewFromAxis(-M.sk.v*R[0],M.sa.v*R[1]):_.skewFromAxis(-M.sk.v*R,M.sa.v*R)),M.r.propType&&(R.length?_.rotateZ(-M.r.v*R[2]):_.rotateZ(-M.r.v*R)),M.ry.propType&&(R.length?_.rotateY(M.ry.v*R[1]):_.rotateY(M.ry.v*R)),M.rx.propType&&(R.length?_.rotateX(M.rx.v*R[0]):_.rotateX(M.rx.v*R)),M.o.propType&&(R.length?z+=(M.o.v*R[0]-z)*R[0]:z+=(M.o.v*R-z)*R),e.strokeWidthAnim&&M.sw.propType&&(R.length?j+=M.sw.v*R[0]:j+=M.sw.v*R),e.strokeColorAnim&&M.sc.propType)for(U=0;U<3;U+=1)R.length?H[U]+=(M.sc.v[U]-H[U])*R[0]:H[U]+=(M.sc.v[U]-H[U])*R;if(e.fillColorAnim&&e.fc){if(M.fc.propType)for(U=0;U<3;U+=1)R.length?G[U]+=(M.fc.v[U]-G[U])*R[0]:G[U]+=(M.fc.v[U]-G[U])*R;M.fh.propType&&(G=R.length?addHueToRGB(G,M.fh.v*R[0]):addHueToRGB(G,M.fh.v*R)),M.fs.propType&&(G=R.length?addSaturationToRGB(G,M.fs.v*R[0]):addSaturationToRGB(G,M.fs.v*R)),M.fb.propType&&(G=R.length?addBrightnessToRGB(G,M.fb.v*R[0]):addBrightnessToRGB(G,M.fb.v*R))}}for(D=0;D<O;D+=1)(M=E[D].a).p.propType&&(R=E[D].s.getMult(k[o].anIndexes[D],S.a[D].s.totalChars),this._hasMaskedPath?R.length?_.translate(0,M.p.v[1]*R[0],-M.p.v[2]*R[1]):_.translate(0,M.p.v[1]*R,-M.p.v[2]*R):R.length?_.translate(M.p.v[0]*R[0],M.p.v[1]*R[1],-M.p.v[2]*R[2]):_.translate(M.p.v[0]*R,M.p.v[1]*R,-M.p.v[2]*R));if(e.strokeWidthAnim&&(q=j<0?0:j),e.strokeColorAnim&&(W="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),e.fillColorAnim&&e.fc&&($="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),this._hasMaskedPath){if(_.translate(0,-e.ls),_.translate(0,x[1]*N*.01+n,0),this._pathData.p.v){b=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var le=180*Math.atan(b)/Math.PI;l.point[0]<p.point[0]&&(le+=180),_.rotate(-le*Math.PI/180)}_.translate(L,V,0),a-=x[0]*k[o].an*.005,k[o+1]&&K!==k[o+1].ind&&(a+=k[o].an/2,a+=.001*e.tr*e.finalSize)}else{switch(_.translate(r,n,0),e.ps&&_.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:_.translate(k[o].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[k[o].line]),0,0);break;case 2:_.translate(k[o].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[k[o].line])/2,0,0)}_.translate(0,-e.ls),_.translate(B,0,0),_.translate(x[0]*k[o].an*.005,x[1]*N*.01,0),r+=k[o].l+.001*e.tr*e.finalSize}"html"===C?ee=_.toCSS():"svg"===C?ee=_.to2dCSS():te=[_.props[0],_.props[1],_.props[2],_.props[3],_.props[4],_.props[5],_.props[6],_.props[7],_.props[8],_.props[9],_.props[10],_.props[11],_.props[12],_.props[13],_.props[14],_.props[15]],Z=z}A<=o?(I=new LetterProps(Z,q,W,$,ee,te),this.renderedLetters.push(I),A+=1,this.lettersChangedFlag=!0):(I=this.renderedLetters[o],this.lettersChangedFlag=I.update(Z,q,W,$,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(e,t,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,r),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){var r,n,o=t.length,i="";for(r=0;r<o;r+=1)"sh"===t[r].ty&&(n=t[r].ks.k,i+=buildShapeString(n,n.i.length,!0,e));return i},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,r,n,o){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r])/2,0,0)}t.translate(n,o,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,r){this.textSpans=[],this.renderType="svg",this.initElement(e,t,r)}function ISolidElement(e,t,r){this.initElement(e,t,r)}function NullElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initFrame(),this.initTransform(e,t,r),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(e,t,r){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(t&&t.title){var n=createNS("title"),o=createElementID();n.setAttribute("id",o),n.textContent=t.title,this.svgElement.appendChild(n),r+=o}if(t&&t.description){var i=createNS("desc"),s=createElementID();i.setAttribute("id",s),i.textContent=t.description,this.svgElement.appendChild(i),r+=" "+s}r&&this.svgElement.setAttribute("aria-labelledby",r);var a=createNS("defs");this.svgElement.appendChild(a);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&!1===t.hideOnTransparent),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var e;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,r=e.length,n=[],o="";t<r;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(n.push(o),o=""):o+=e[t],t+=1;return n.push(o),n},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var r=e.shapes[0];if(r.it){var n=r.it[r.it.length-1];n.s&&(n.s.k[0]=t,n.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){var e,t;this.addDynamicProperty(this);var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var n=this.globalData.fontManager.getFontByName(r.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var o=r.fWeight,i=r.fStyle;this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",o)}this.layerElement.setAttribute("aria-label",r.t);var s,a=r.l||[],l=!!this.globalData.fontManager.chars;t=a.length;var c=this.mHelper,h=this.data.singleShape,d=0,u=0,p=!0,f=.001*r.tr*r.finalSize;if(!h||l||r.sz){var m,g=this.textSpans.length;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!l||!h||0===e){if(s=g>e?this.textSpans[e].span:createNS(l?"g":"text"),g<=e){if(s.setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=s,l){var v=createNS("g");s.appendChild(v),this.textSpans[e].childSpan=v}this.textSpans[e].span=s,this.layerElement.appendChild(s)}s.style.display="inherit"}if(c.reset(),h&&(a[e].n&&(d=-f,u+=r.yOffset,u+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(r,c,a[e].line,d,u),d+=a[e].l||0,d+=f),l){var y;if(1===(m=this.globalData.fontManager.getCharData(r.finalText[e],n.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily)).t)y=new SVGCompElement(m.data,this.globalData,this);else{var b=emptyShapeData;m.data&&m.data.shapes&&(b=this.buildShapeData(m.data,r.finalSize)),y=new SVGShapeElement(b,this.globalData,this)}if(this.textSpans[e].glyph){var w=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(w.layerElement),w.destroy()}this.textSpans[e].glyph=y,y._debug=!0,y.prepareFrame(0),y.renderFrame(),this.textSpans[e].childSpan.appendChild(y.layerElement),1===m.t&&this.textSpans[e].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else h&&s.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),s.textContent=a[e].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}h&&s&&s.setAttribute("d","")}else{var x=this.textContainer,E="start";switch(r.j){case 1:E="end";break;case 2:E="middle";break;default:E="start"}x.setAttribute("text-anchor",E),x.setAttribute("letter-spacing",f);var S=this.buildTextContents(r.finalText);for(t=S.length,u=r.ps?r.ps[1]+r.ascent:0,e=0;e<t;e+=1)(s=this.textSpans[e].span||createNS("tspan")).textContent=S[e],s.setAttribute("x",0),s.setAttribute("y",u),s.style.display="inherit",x.appendChild(s),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=s,u+=r.finalLineHeight;this.layerElement.appendChild(x)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t,r=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<r;e+=1)(t=this.textSpans[e].glyph)&&(t.prepareFrame(this.comp.renderedFrame-this.data.st),t._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var r,n,o,i=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(t=s.length,e=0;e<t;e+=1)s[e].n||(r=i[e],n=this.textSpans[e].span,(o=this.textSpans[e].glyph)&&o.renderFrame(),r._mdf.m&&n.setAttribute("transform",r.m),r._mdf.o&&n.setAttribute("opacity",r.o),r._mdf.sw&&n.setAttribute("stroke-width",r.sw),r._mdf.sc&&n.setAttribute("stroke",r.sc),r._mdf.fc&&n.setAttribute("fill",r.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var r=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",e.w),n.setAttribute("height",e.h),n.setAttribute("x",0),n.setAttribute("y",0);var o=createElementID();r.setAttribute("id",o),r.appendChild(n),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),t.appendChild(r),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var t=0,r=this.layers.length;for(t=0;t<r;t+=1)if(this.layers[t].ind===e)return t;return-1},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){t[e]=!0;var r=this.createItem(this.layers[e]);if(t[e]=r,getExpressionsPlugin()&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,e),this.layers[e].tt){var n="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(-1===n)return;if(this.elements[n]&&!0!==this.elements[n]){var o=t[n].getMatte(this.layers[e].tt);r.setMatte(o)}else this.buildItem(n),this.addPendingElement(r)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,r=this.elements.length;t<r;){if(this.elements[t]===e){var n="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,o=this.elements[n].getMatte(this.layers[t].tt);e.setMatte(o);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<r;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){for(var n,o=0;o<t;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement()&&(n=this.elements[o].getBaseElement()),o+=1;n?this.layerElement.insertBefore(r,n):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var r,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);var r=0;for(r=this._length;r<e;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVContextData.prototype.popTransform=function(){var e,t=this.saved[this.cArrPos],r=this.cTr.props;for(e=0;e<16;e+=1)r[e]=t[e];return t},CVContextData.prototype.popOpacity=function(){var e=this.savedOp[this.cArrPos];return this.cO=e,e},CVContextData.prototype.pop=function(){return this.cArrPos-=1,{transform:this.popTransform(),opacity:this.popOpacity()}},CVContextData.prototype.push=function(){var e,t=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var r=this.saved[this.cArrPos];for(e=0;e<16;e+=1)r[e]=t[e];this.savedOp[this.cArrPos]=this.cO,this.cArrPos+=1},CVContextData.prototype.getTransform=function(){return this.cTr},CVContextData.prototype.getOpacity=function(){return this.cO},CVContextData.prototype.setOpacity=function(e){this.cO=e},ShapeTransformManager.prototype={addTransformSequence:function(e){var t,r=e.length,n="_";for(t=0;t<r;t+=1)n+=e[t].transform.key+"_";var o=this.sequences[n];return o||(o={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=o,this.sequenceList.push(o)),o},processSequence:function(e,t){for(var r,n=0,o=e.transforms.length,i=t;n<o&&!t;){if(e.transforms[n].transform.mProps._mdf){i=!0;break}n+=1}if(i)for(e.finalTransform.reset(),n=o-1;n>=0;n-=1)r=e.transforms[n].transform.mProps.v.props,e.finalTransform.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);e._mdf=i},processSequences:function(e){var t,r=this.sequenceList.length;for(t=0;t<r;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",t=null,r=null,n=null;function o(){var o,i,s;t||(o=createNS("svg"),i=createNS("filter"),s=createNS("feColorMatrix"),i.setAttribute("id",e),s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),i.appendChild(s),o.appendChild(i),o.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(o.style.display="none"),n=o,document.body.appendChild(n),t=createTag("canvas"),(r=t.getContext("2d")).filter="url(#"+e+")",r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1))}return{load:o,get:function(n){return t||o(),t.width=n.width,t.height=n.height,r.filter="url(#"+e+")",t}}};function createCanvas(e,t){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(e,t);var r=createTag("canvas");return r.width=e,r.height=t,r}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas};function CVEffects(){}function CVMaskElement(e,t){var r;this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n=this.masksProperties.length,o=!1;for(r=0;r<n;r+=1)"n"!==this.masksProperties[r].mode&&(o=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=o,o&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,r,n,o=this.element.finalTransform.mat,i=this.element.canvasContext,s=this.masksProperties.length;for(i.beginPath(),e=0;e<s;e+=1)if("n"!==this.masksProperties[e].mode){var a;this.masksProperties[e].inv&&(i.moveTo(0,0),i.lineTo(this.element.globalData.compSize.w,0),i.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),i.lineTo(0,this.element.globalData.compSize.h),i.lineTo(0,0)),n=this.viewData[e].v,t=o.applyToPointArray(n.v[0][0],n.v[0][1],0),i.moveTo(t[0],t[1]);var l=n._length;for(a=1;a<l;a+=1)r=o.applyToTriplePoints(n.o[a-1],n.i[a],n.v[a]),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=o.applyToTriplePoints(n.o[a-1],n.i[0],n.v[0]),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),i.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(e,t,r,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var o,i=4;"rc"===t.ty?i=5:"el"===t.ty?i=6:"sr"===t.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,i,e);var s,a=r.length;for(o=0;o<a;o+=1)r[o].closed||(s={transforms:n.addTransformSequence(r[o].transforms),trNodes:[]},this.styledShapes.push(s),r[o].elements.push(s))}function CVShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,r)}function CVTextElement(e,t,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,r)}function CVImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,r)}function CVSolidElement(e,t,r){this.initElement(e,t,r)}function CanvasRendererBase(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(e,t,r){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(e,t,r){this.initElement(e,t,r)}function HShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,r)}function HCameraElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,e.pe,0,0,this),e.ks.p.s?(this.px=n(this,e.ks.p.x,1,0,this),this.py=n(this,e.ks.p.y,1,0,this),this.pz=n(this,e.ks.p.z,1,0,this)):this.p=n(this,e.ks.p,1,0,this),e.ks.a&&(this.a=n(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var o,i=e.ks.or.k.length;for(o=0;o<i;o+=1)e.ks.or.k[o].to=null,e.ks.or.k[o].ti=null}this.or=n(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,e.ks.rx,0,degToRads,this),this.ry=n(this,e.ks.ry,0,degToRads,this),this.rz=n(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r)}function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(e,t,r){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,t=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(t);var r=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(r),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0].getContext("2d");this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],t=e.getContext("2d");if(this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var r=assetLoader.getLumaCanvas(this.canvasContext.canvas);r.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(r,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||e)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var t=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var r={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},n={};if("fl"===e.ty||"st"===e.ty?(n.c=PropertyFactory.getProp(this,e.c,1,255,this),n.c.k||(r.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(n.s=PropertyFactory.getProp(this,e.s,1,null,this),n.e=PropertyFactory.getProp(this,e.e,1,null,this),n.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,e.g,this)),n.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"===e.ty||"gs"===e.ty){if(r.lc=lineCapEnum[e.lc||2],r.lj=lineJoinEnum[e.lj||2],1==e.lj&&(r.ml=e.ml),n.w=PropertyFactory.getProp(this,e.w,0,null,this),n.w.k||(r.wi=n.w.v),e.d){var o=new DashProperty(this,e.d,"canvas",this);n.d=o,n.d.k||(r.da=n.d.dashArray,r.do=n.d.dashoffset[0])}}else r.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(r),n.style=r,n},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,r,n,o){var i,s,a,l,c,h,d=e.length-1,u=[],p=[],f=[].concat(o);for(i=d;i>=0;i-=1){if((l=this.searchProcessedElement(e[i]))?t[i]=r[l-1]:e[i]._shouldRender=n,"fl"===e[i].ty||"st"===e[i].ty||"gf"===e[i].ty||"gs"===e[i].ty)l?t[i].style.closed=!1:t[i]=this.createStyleElement(e[i],f),u.push(t[i].style);else if("gr"===e[i].ty){if(l)for(a=t[i].it.length,s=0;s<a;s+=1)t[i].prevViewData[s]=t[i].it[s];else t[i]=this.createGroupElement(e[i]);this.searchShapes(e[i].it,t[i].it,t[i].prevViewData,n,f)}else"tr"===e[i].ty?(l||(h=this.createTransformElement(e[i]),t[i]=h),f.push(t[i]),this.addTransformToStyleList(t[i])):"sh"===e[i].ty||"rc"===e[i].ty||"el"===e[i].ty||"sr"===e[i].ty?l||(t[i]=this.createShapeElement(e[i])):"tm"===e[i].ty||"rd"===e[i].ty||"pb"===e[i].ty||"zz"===e[i].ty||"op"===e[i].ty?(l?(c=t[i]).closed=!1:((c=ShapeModifiers.getModifier(e[i].ty)).init(this,e[i]),t[i]=c,this.shapeModifiers.push(c)),p.push(c)):"rp"===e[i].ty&&(l?(c=t[i]).closed=!0:(c=ShapeModifiers.getModifier(e[i].ty),t[i]=c,c.init(this,e,i,t),this.shapeModifiers.push(c),n=!1),p.push(c));this.addProcessedElement(e[i],i+1)}for(this.removeTransformFromStyleList(),this.closeStyles(u),d=p.length,i=0;i<d;i+=1)p[i].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,r,n,o,i,s,a,l,c=this.stylesList.length,h=this.globalData.renderer,d=this.globalData.canvasContext;for(e=0;e<c;e+=1)if(("st"!==(a=(l=this.stylesList[e]).type)&&"gs"!==a||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(h.save(),i=l.elements,"st"===a||"gs"===a?(d.strokeStyle="st"===a?l.co:l.grd,d.lineWidth=l.wi,d.lineCap=l.lc,d.lineJoin=l.lj,d.miterLimit=l.ml||0):d.fillStyle="fl"===a?l.co:l.grd,h.ctxOpacity(l.coOp),"st"!==a&&"gs"!==a&&d.beginPath(),h.ctxTransform(l.preTransforms.finalTransform.props),r=i.length,t=0;t<r;t+=1){for("st"!==a&&"gs"!==a||(d.beginPath(),l.da&&(d.setLineDash(l.da),d.lineDashOffset=l.do)),o=(s=i[t].trNodes).length,n=0;n<o;n+=1)"m"===s[n].t?d.moveTo(s[n].p[0],s[n].p[1]):"c"===s[n].t?d.bezierCurveTo(s[n].pts[0],s[n].pts[1],s[n].pts[2],s[n].pts[3],s[n].pts[4],s[n].pts[5]):d.closePath();"st"!==a&&"gs"!==a||(d.stroke(),l.da&&d.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&d.fill(l.r),h.restore()}},CVShapeElement.prototype.renderShape=function(e,t,r,n){var o,i;for(i=e,o=t.length-1;o>=0;o-=1)"tr"===t[o].ty?(i=r[o].transform,this.renderShapeTransform(e,i)):"sh"===t[o].ty||"el"===t[o].ty||"rc"===t[o].ty||"sr"===t[o].ty?this.renderPath(t[o],r[o]):"fl"===t[o].ty?this.renderFill(t[o],r[o],i):"st"===t[o].ty?this.renderStroke(t[o],r[o],i):"gf"===t[o].ty||"gs"===t[o].ty?this.renderGradientFill(t[o],r[o],i):"gr"===t[o].ty?this.renderShape(i,t[o].it,r[o].it):t[o].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var r,n,o,i=e.trNodes,s=t.paths,a=s._length;i.length=0;var l=e.transforms.finalTransform;for(o=0;o<a;o+=1){var c=s.shapes[o];if(c&&c.v){for(n=c._length,r=1;r<n;r+=1)1===r&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),i.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[r],c.v[r])});1===n&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&n&&(i.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[0],c.v[0])}),i.push({t:"z"}))}}e.trNodes=i}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var r,n=t.styledShapes.length;for(r=0;r<n;r+=1)this.renderStyledShape(t.styledShapes[r],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,r){var n=t.style;(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,r){var n,o=t.style;if(!o.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var i,s=this.globalData.canvasContext,a=t.s.v,l=t.e.v;if(1===e.t)n=s.createLinearGradient(a[0],a[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2)),h=Math.atan2(l[1]-a[1],l[0]-a[0]),d=t.h.v;d>=1?d=.99:d<=-1&&(d=-.99);var u=c*d,p=Math.cos(h+t.a.v)*u+a[0],f=Math.sin(h+t.a.v)*u+a[1];n=s.createRadialGradient(p,f,0,a[0],a[1],c)}var m=e.g.p,g=t.g.c,v=1;for(i=0;i<m;i+=1)t.g._hasOpacity&&t.g._collapsable&&(v=t.g.o[2*i+1]),n.addColorStop(g[4*i]/100,"rgba("+g[4*i+1]+","+g[4*i+2]+","+g[4*i+3]+","+v+")");o.grd=n}o.coOp=t.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(e,t,r){var n=t.style,o=t.d;o&&(o._mdf||this._isFirstFrame)&&(n.da=o.dashArray,n.do=o.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*r.opacity),(t.w._mdf||this._isFirstFrame)&&(n.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var r=!1;e.sc&&(r=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var n,o,i,s,a,l,c,h,d,u,p,f,m=this.globalData.fontManager.getFontByName(e.f),g=e.l,v=this.mHelper;this.stroke=r,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,o=e.finalText.length;var y=this.data.singleShape,b=.001*e.tr*e.finalSize,w=0,x=0,E=!0,S=0;for(n=0;n<o;n+=1){s=(i=this.globalData.fontManager.getCharData(e.finalText[n],m.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&i.data||{},v.reset(),y&&g[n].n&&(w=-b,x+=e.yOffset,x+=E?1:0,E=!1),d=(c=s.shapes?s.shapes[0].it:[]).length,v.scale(e.finalSize/100,e.finalSize/100),y&&this.applyTextPropertiesToMatrix(e,v,g[n].line,w,x),p=createSizedArray(d-1);var _=0;for(h=0;h<d;h+=1)if("sh"===c[h].ty){for(l=c[h].ks.k.i.length,u=c[h].ks.k,f=[],a=1;a<l;a+=1)1===a&&f.push(v.applyToX(u.v[0][0],u.v[0][1],0),v.applyToY(u.v[0][0],u.v[0][1],0)),f.push(v.applyToX(u.o[a-1][0],u.o[a-1][1],0),v.applyToY(u.o[a-1][0],u.o[a-1][1],0),v.applyToX(u.i[a][0],u.i[a][1],0),v.applyToY(u.i[a][0],u.i[a][1],0),v.applyToX(u.v[a][0],u.v[a][1],0),v.applyToY(u.v[a][0],u.v[a][1],0));f.push(v.applyToX(u.o[a-1][0],u.o[a-1][1],0),v.applyToY(u.o[a-1][0],u.o[a-1][1],0),v.applyToX(u.i[0][0],u.i[0][1],0),v.applyToY(u.i[0][0],u.i[0][1],0),v.applyToX(u.v[0][0],u.v[0][1],0),v.applyToY(u.v[0][0],u.v[0][1],0)),p[_]=f,_+=1}y&&(w+=g[n].l,w+=b),this.textSpans[S]?this.textSpans[S].elem=p:this.textSpans[S]={elem:p},S+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,r,n,o,i,s=this.canvasContext;s.font=this.values.fValue,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;t=c.length;var h,d,u=null,p=null,f=null;for(e=0;e<t;e+=1)if(!c[e].n){if((a=l[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(a.p),this.globalData.renderer.ctxOpacity(a.o)),this.fill){for(a&&a.fc?u!==a.fc&&(u=a.fc,s.fillStyle=a.fc):u!==this.values.fill&&(u=this.values.fill,s.fillStyle=this.values.fill),n=(h=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(i=(d=h[r]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),o=2;o<i;o+=6)this.globalData.canvasContext.bezierCurveTo(d[o],d[o+1],d[o+2],d[o+3],d[o+4],d[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(a&&a.sw?f!==a.sw&&(f=a.sw,s.lineWidth=a.sw):f!==this.values.sWidth&&(f=this.values.sWidth,s.lineWidth=this.values.sWidth),a&&a.sc?p!==a.sc&&(p=a.sc,s.strokeStyle=a.sc):p!==this.values.stroke&&(p=this.values.stroke,s.strokeStyle=this.values.stroke),n=(h=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(i=(d=h[r]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),o=2;o<i;o+=6)this.globalData.canvasContext.bezierCurveTo(d[o],d[o+1],d[o+2],d[o+3],d[o+4],d[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}a&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,r,n=e.getContext("2d"),o=this.img.width,i=this.img.height,s=o/i,a=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>a&&"xMidYMid slice"===l||s<a&&"xMidYMid slice"!==l?t=(r=i)*a:r=(t=o)/a,n.drawImage(this.img,(o-t)/2,(i-r)/2,t,r,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){if(1!==e[0]||0!==e[1]||0!==e[4]||1!==e[5]||0!==e[12]||0!==e[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(e);var t=this.contextData.getTransform(),r=t.props;this.transformMat.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]),t.cloneFromProps(this.transformMat.props);var n=t.props;this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])}else this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){var t=this.contextData.getOpacity();if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,void(this.globalData.currentGlobalAlpha=t);t*=e<0?0:e,this.contextData.setOpacity(t),this.globalData.currentGlobalAlpha!==t&&(this.canvasContext.globalAlpha=t,this.globalData.currentGlobalAlpha=t)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(e){this.renderConfig.clearCanvas?(e&&this.canvasContext.save(),this.contextData.push()):this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over");var t=this.contextData.pop(),r=t.transform,n=t.opacity;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),this.globalData.currentGlobalAlpha!==n&&(this.canvasContext.globalAlpha=n,this.globalData.currentGlobalAlpha=n)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var r="0px 0px 0px";t.transformOrigin=r,t.mozTransformOrigin=r,t.webkitTransformOrigin=r,t["-webkit-transform"]=r,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,t){var r,n,o,i;if(this.reset(),e?(r=e,n=t,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=n):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,n=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=n*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var s=this.renderConfig.preserveAspectRatio.split(" "),a=s[1]||"meet",l=s[0]||"xMidYMid",c=l.substr(0,4),h=l.substr(4);o=r/n,(i=this.transformCanvas.w/this.transformCanvas.h)>o&&"meet"===a||i<o&&"slice"===a?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(i<o&&"meet"===a||i>o&&"slice"===a)?(r-this.transformCanvas.w*(n/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(i<o&&"meet"===a||i>o&&"slice"===a)?(r-this.transformCanvas.w*(n/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===h&&(i>o&&"meet"===a||i<o&&"slice"===a)?(n-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(i>o&&"meet"===a||i<o&&"slice"===a)?(n-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){var r;this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var n=this.layers.length;for(this.completeLayers||this.checkLayers(e),r=0;r<n;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(e-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){var r=this.createItem(this.layers[e],this,this.globalData);t[e]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)t=e[r].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var r,n,o,i,s,a=e.sh.v,l=e.transformers,c=a._length;if(!(c<=1)){for(r=0;r<c-1;r+=1)n=this.getTransformedPoint(l,a.v[r]),o=this.getTransformedPoint(l,a.o[r]),i=this.getTransformedPoint(l,a.i[r+1]),s=this.getTransformedPoint(l,a.v[r+1]),this.checkBounds(n,o,i,s,t);a.c&&(n=this.getTransformedPoint(l,a.v[r]),o=this.getTransformedPoint(l,a.o[r]),i=this.getTransformedPoint(l,a.i[0]),s=this.getTransformedPoint(l,a.v[0]),this.checkBounds(n,o,i,s,t))}},HShapeElement.prototype.checkBounds=function(e,t,r,n,o){this.getBoundsOfCurve(e,t,r,n);var i=this.shapeBoundingBox;o.x=bmMin(i.left,o.x),o.xMax=bmMax(i.right,o.xMax),o.y=bmMin(i.top,o.y),o.yMax=bmMax(i.bottom,o.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,r,n){for(var o,i,s,a,l,c,h,d=[[e[0],n[0]],[e[1],n[1]]],u=0;u<2;++u)i=6*e[u]-12*t[u]+6*r[u],o=-3*e[u]+9*t[u]-9*r[u]+3*n[u],s=3*t[u]-3*e[u],i|=0,s|=0,0==(o|=0)&&0===i||(0===o?(a=-s/i)>0&&a<1&&d[u].push(this.calculateF(a,e,t,r,n,u)):(l=i*i-4*s*o)>=0&&((c=(-i+bmSqrt(l))/(2*o))>0&&c<1&&d[u].push(this.calculateF(c,e,t,r,n,u)),(h=(-i-bmSqrt(l))/(2*o))>0&&h<1&&d[u].push(this.calculateF(h,e,t,r,n,u))));this.shapeBoundingBox.left=bmMin.apply(null,d[0]),this.shapeBoundingBox.top=bmMin.apply(null,d[1]),this.shapeBoundingBox.right=bmMax.apply(null,d[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,d[1])},HShapeElement.prototype.calculateF=function(e,t,r,n,o,i){return bmPow(1-e,3)*t[i]+3*bmPow(1-e,2)*e*r[i]+3*(1-e)*bmPow(e,2)*n[i]+bmPow(e,3)*o[i]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)e[r]&&e[r].sh?this.calculateShapeBoundingBox(e[r],t):e[r]&&e[r].it?this.calculateBoundingBox(e[r].it,t):e[r]&&e[r].style&&e[r].w&&this.expandStrokeBoundingBox(e[r].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var r=0;if(e.keyframes){for(var n=0;n<e.keyframes.length;n+=1){var o=e.keyframes[n].s;o>r&&(r=o)}r*=e.mult}else r=e.v*e.mult;t.x-=r,t.xMax+=r,t.y-=r,t.yMax+=r},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var r=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),r=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),r=!0),r||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,o="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=o,n.webkitTransform=o}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,r=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=r,t.color=r,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var n,o,i=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{t.fontFamily=i.fFamily;var s=e.fWeight,a=e.fStyle;t.fontStyle=a,t.fontWeight=s}var l,c,h,d=e.l;o=d.length;var u,p=this.mHelper,f="",m=0;for(n=0;n<o;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?h=(c=this.textSpans[m]).children[0]:((c=createTag("div")).style.lineHeight=0,(h=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],l=this.textPaths[m]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,v=this.globalData.fontManager.getCharData(e.finalText[n],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(g=v?v.data:null,p.reset(),g&&g.shapes&&g.shapes.length&&(u=g.shapes[0].it,p.scale(e.finalSize/100,e.finalSize/100),f=this.createPathShape(p,u),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(h);var y=h.getBBox();h.setAttribute("width",y.width+2),h.setAttribute("height",y.height+2),h.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2));var b=h.style,w="translate("+(y.x-1)+"px,"+(y.y-1)+"px)";b.transform=w,b.webkitTransform=w,d[n].yOffset=y.y-1}else h.setAttribute("width",1),h.setAttribute("height",1);c.appendChild(h)}}else if(l.textContent=d[n].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var x=l.style,E="translate3d(0,"+-e.finalSize/1.2+"px,0)";x.transform=E,x.webkitTransform=E}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,n,o,i,s,a=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(n=c.length,r=0;r<n;r+=1)c[r].n?a+=1:(i=this.textSpans[r],s=this.textPaths[r],o=l[a],a+=1,o._mdf.m&&(this.isMasked?i.setAttribute("transform",o.m):(i.style.webkitTransform=o.m,i.style.transform=o.m)),i.style.opacity=o.o,o.sw&&o._mdf.sw&&s.setAttribute("stroke-width",o.sw),o.sc&&o._mdf.sc&&s.setAttribute("stroke",o.sc),o.fc&&o._mdf.fc&&(s.setAttribute("fill",o.fc),s.style.color=o.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var h=this.innerElem.getBBox();if(this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.svgElement.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.svgElement.setAttribute("height",h.height)),this.currentBBox.w!==h.width+2||this.currentBBox.h!==h.height+2||this.currentBBox.x!==h.x-1||this.currentBBox.y!==h.y-1){this.currentBBox.w=h.width+2,this.currentBBox.h=h.height+2,this.currentBBox.x=h.x-1,this.currentBBox.y=h.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var d="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=d,e.webkitTransform=d}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,r,n,o=this.comp.threeDElements.length;for(e=0;e<o;e+=1)if("3d"===(t=this.comp.threeDElements[e]).type){r=t.perspectiveElem.style,n=t.container.style;var i=this.pe.v+"px",s="0px 0px 0px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=i,r.webkitPerspective=i,n.transformOrigin=s,n.mozTransformOrigin=s,n.webkitTransformOrigin=s,r.transform=a,r.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,r=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)r=this.hierarchy[e].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var n=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var o;o=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var i=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)),s=[o[0]/i,o[1]/i,o[2]/i],a=Math.sqrt(s[2]*s[2]+s[0]*s[0]),l=Math.atan2(s[1],a),c=Math.atan2(s[0],-s[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var h=!this._prevMat.equals(this.mat);if((h||this.pe._mdf)&&this.comp.threeDElements){var d,u,p;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if("3d"===(d=this.comp.threeDElements[e]).type){if(h){var f=this.mat.toCSS();(p=d.container.style).transform=f,p.webkitTransform=f}this.pe._mdf&&((u=d.perspectiveElem.style).perspective=this.pe.v+"px",u.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){var n=this.layers[t];if(n.ddd&&this.supports3d)this.addTo3dContainer(r,t);else if(this.threeDElements)this.addTo3dContainer(r,t);else{for(var o,i,s=0;s<t;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(i=this.elements[s],o=(this.layers[s].ddd?this.getThreeDContainerByPos(s):i.getBaseElement())||o),s+=1;o?n.ddd&&this.supports3d||this.layerElement.insertBefore(r,o):n.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,r=this.threeDElements.length;t<r;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var r,n,o=createTag("div");styleDiv(o);var i=createTag("div");if(styleDiv(i),"3d"===t){(r=o.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var s="50% 50%";r.webkitTransformOrigin=s,r.mozTransformOrigin=s,r.transformOrigin=s;var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(n=i.style).transform=a,n.webkitTransform=a}o.appendChild(i);var l={container:i,perspectiveElem:o,startPos:e,endPos:e,type:t};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var e,t,r=this.layers.length,n="";for(e=0;e<r;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?("3d"!==n&&(n="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):("2d"!==n&&(n="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(r=this.threeDElements.length)-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var r=0,n=this.threeDElements.length;r<n;){if(t<=this.threeDElements[r].endPos){for(var o,i=this.threeDElements[r].startPos;i<t;)this.elements[i]&&this.elements[i].getBaseElement&&(o=this.elements[i].getBaseElement()),i+=1;o?this.threeDElements[r].container.insertBefore(e,o):this.threeDElements[r].container.appendChild(e);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),r=this.animationItem.wrapper,n=t.style;n.width=e.w+"px",n.height=e.h+"px",this.resizerElem=t,styleDiv(t),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),r.appendChild(t),n.overflow="hidden";var o=createNS("svg");o.setAttribute("width","1"),o.setAttribute("height","1"),styleDiv(o),this.resizerElem.appendChild(o);var i=createNS("defs");o.appendChild(i),this.data=e,this.setupGlobalData(e,o),this.globalData.defs=i,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e,t,r,n,o=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,s=o/i;this.globalData.compSize.w/this.globalData.compSize.h>s?(e=o/this.globalData.compSize.w,t=o/this.globalData.compSize.w,r=0,n=(i-this.globalData.compSize.h*(o/this.globalData.compSize.w))/2):(e=i/this.globalData.compSize.h,t=i/this.globalData.compSize.h,r=(o-this.globalData.compSize.w*(i/this.globalData.compSize.h))/2,n=0);var a=this.resizerElem.style;a.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+r+","+n+",0,1)",a.transform=a.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,r=this.globalData.compSize.h,n=this.threeDElements.length;for(e=0;e<n;e+=1){var o=this.threeDElements[e].perspectiveElem.style;o.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(r,2))+"px",o.perspective=o.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,r=e.length,n=createTag("div");for(t=0;t<r;t+=1)if(e[t].xt){var o=this.createComp(e[t],n,this.globalData.comp,null);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var r,n=0;n<t;)this.elements[n]&&this.elements[n].getBaseElement&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(e,r):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(e){function t(t){for(var r=0,n=e.layers.length;r<n;){if(e.layers[r].nm===t||e.layers[r].ind===t)return e.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t},Expressions={initExpressions:function(e){var t=0,r=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0==(t-=1)&&function(){var e,t=r.length;for(e=0;e<t;e+=1)r[e].release();r.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===r.indexOf(e)&&r.push(e)}}},MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var r,n=createSizedArray(t.viewData.length),o=t.viewData.length;for(r=0;r<o;r+=1)n[r]=new e(t.viewData[r],t.masksProperties[r]);return function(e){for(r=0;r<o;){if(t.masksProperties[r].nm===e)return n[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function r(e,t,r){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(n){if(!e.numKeys)return 0;var o;o="s"in t.keyframes[n-1]?t.keyframes[n-1].s:"e"in t.keyframes[n-2]?t.keyframes[n-2].e:t.keyframes[n-2].s;var i="unidimensional"===r?new Number(o):Object.assign({},o);return i.time=t.keyframes[n-1].t/t.elem.comp.globalData.frameRate,i.value="unidimensional"===r?o[0]:o,i},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function n(){return e}return function(o){return o?"unidimensional"===o.propType?function(t){t&&"pv"in t||(t=e);var n=1/t.mult,o=t.pv*n,i=new Number(o);return i.value=o,r(i,t,"unidimensional"),function(){return t.k&&t.getValue(),o=t.v*n,i.value!==o&&((i=new Number(o)).value=o,r(i,t,"unidimensional")),i}}(o):function(e){e&&"pv"in e||(e=t);var n=1/e.mult,o=e.data&&e.data.l||e.pv.length,i=createTypedArray("float32",o),s=createTypedArray("float32",o);return i.value=s,r(i,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<o;t+=1)s[t]=e.v[t]*n,i[t]=s[t];return i}}(o):n}}(),TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var r,n,o,i;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?i=ExpressionPropertyInterface(e.p):(r=ExpressionPropertyInterface(e.px),n=ExpressionPropertyInterface(e.py),e.pz&&(o=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?i():[r(),n(),o?o():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},LayerExpressionInterface=function(){function e(e){var t=new Matrix;return void 0!==e?this._elem.finalTransform.mProp.getValueAtTime(e).clone(t):this._elem.finalTransform.mProp.applyToMatrix(t),t}function t(e,t){var r=this.getMatrix(t);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.applyPoint(r,e)}function r(e,t){var r=this.getMatrix(t);return this.applyPoint(r,e)}function n(e,t){var r=this.getMatrix(t);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.invertPoint(r,e)}function o(e,t){var r=this.getMatrix(t);return this.invertPoint(r,e)}function i(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e)}return e.applyToPointArray(t[0],t[1],t[2]||0)}function s(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e)}return e.inversePoint(t)}function a(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function l(){return[1,1,1,1]}return function(c){var h;function d(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return d.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return h;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return d.effect;case"ADBE Text Properties":return d.textInterface;default:return null}}d.getMatrix=e,d.invertPoint=s,d.applyPoint=i,d.toWorld=r,d.toWorldVec=t,d.fromWorld=o,d.fromWorldVec=n,d.toComp=r,d.fromComp=a,d.sampleImage=l,d.sourceRectAtTime=c.sourceRectAtTime.bind(c),d._elem=c;var u=getDescriptor(h=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(d,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(h,"rotation"),scale:getDescriptor(h,"scale"),position:getDescriptor(h,"position"),opacity:getDescriptor(h,"opacity"),anchorPoint:u,anchor_point:u,transform:{get:function(){return h}},active:{get:function(){return c.isInRange}}}),d.startTime=c.data.st,d.index=c.data.ind,d.source=c.data.refId,d.height=0===c.data.ty?c.data.h:100,d.width=0===c.data.ty?c.data.w:100,d.inPoint=c.data.ip/c.comp.globalData.frameRate,d.outPoint=c.data.op/c.comp.globalData.frameRate,d._name=c.data.nm,d.registerMaskInterface=function(e){d.mask=new MaskManagerInterface(e,c)},d.registerEffectsInterface=function(e){d.effect=e},d}}(),propertyGroupFactory=function(e,t){return function(r){return(r=void 0===r?1:r)<=0?e:t(r-1)}},PropertyInterface=function(e,t){var r={_name:e};return function(e){return(e=void 0===e?1:e)<=0?r:t(e-1)}},EffectsExpressionInterface=function(){function e(r,n,o,i){function s(e){for(var t=r.ef,n=0,o=t.length;n<o;){if(e===t[n].nm||e===t[n].mn||e===t[n].ix)return 5===t[n].ty?c[n]:c[n]();n+=1}throw new Error}var a,l=propertyGroupFactory(s,o),c=[],h=r.ef.length;for(a=0;a<h;a+=1)5===r.ef[a].ty?c.push(e(r.ef[a],n.effectElements[a],n.effectElements[a].propertyGroup,i)):c.push(t(n.effectElements[a],r.ef[a].ty,i,l));return"ADBE Color Control"===r.mn&&Object.defineProperty(s,"color",{get:function(){return c[0]()}}),Object.defineProperties(s,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:l}}),s.enabled=0!==r.en,s.active=s.enabled,s}function t(e,t,r,n){var o=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(PropertyInterface("",n)),function(){return 10===t?r.comp.compInterface(e.p.v):o()}}return{createEffectsInterface:function(t,r){if(t.effectsManager){var n,o=[],i=t.data.ef,s=t.effectsManager.effectElements.length;for(n=0;n<s;n+=1)o.push(e(i[n],t.effectsManager.effectElements[n],r,t));var a=t.data.ef||[],l=function(e){for(n=0,s=a.length;n<s;){if(e===a[n].nm||e===a[n].mn||e===a[n].ix)return o[n];n+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return a.length}}),l}return null}}}(),ShapePathInterface=function(e,t,r){var n=t.sh;function o(e){return"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e?o.path:null}var i=propertyGroupFactory(o,r);return n.setGroupProperty(PropertyInterface("Path",i)),Object.defineProperties(o,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:r}}),o},ShapeExpressionInterface=function(){function e(e,s,u){var p,f=[],m=e?e.length:0;for(p=0;p<m;p+=1)"gr"===e[p].ty?f.push(t(e[p],s[p],u)):"fl"===e[p].ty?f.push(r(e[p],s[p],u)):"st"===e[p].ty?f.push(o(e[p],s[p],u)):"tm"===e[p].ty?f.push(i(e[p],s[p],u)):"tr"===e[p].ty||("el"===e[p].ty?f.push(a(e[p],s[p],u)):"sr"===e[p].ty?f.push(l(e[p],s[p],u)):"sh"===e[p].ty?f.push(ShapePathInterface(e[p],s[p],u)):"rc"===e[p].ty?f.push(c(e[p],s[p],u)):"rd"===e[p].ty?f.push(h(e[p],s[p],u)):"rp"===e[p].ty?f.push(d(e[p],s[p],u)):"gf"===e[p].ty?f.push(n(e[p],s[p],u)):f.push((e[p],s[p],function(){return null})));return f}function t(t,r,n){var o=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return o.content;default:return o.transform}};o.propertyGroup=propertyGroupFactory(o,n);var i=function(t,r,n){var o,i=function(e){for(var t=0,r=o.length;t<r;){if(o[t]._name===e||o[t].mn===e||o[t].propertyIndex===e||o[t].ix===e||o[t].ind===e)return o[t];t+=1}return"number"==typeof e?o[e-1]:null};i.propertyGroup=propertyGroupFactory(i,n),o=e(t.it,r.it,i.propertyGroup),i.numProperties=o.length;var a=s(t.it[t.it.length-1],r.it[r.it.length-1],i.propertyGroup);return i.transform=a,i.propertyIndex=t.cix,i._name=t.nm,i}(t,r,o.propertyGroup),a=s(t.it[t.it.length-1],r.it[r.it.length-1],o.propertyGroup);return o.content=i,o.transform=a,Object.defineProperty(o,"_name",{get:function(){return t.nm}}),o.numProperties=t.np,o.propertyIndex=t.ix,o.nm=t.nm,o.mn=t.mn,o}function r(e,t,r){function n(e){return"Color"===e||"color"===e?n.color:"Opacity"===e||"opacity"===e?n.opacity:null}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),n}function n(e,t,r){function n(e){return"Start Point"===e||"start point"===e?n.startPoint:"End Point"===e||"end point"===e?n.endPoint:"Opacity"===e||"opacity"===e?n.opacity:null}return Object.defineProperties(n,{startPoint:{get:ExpressionPropertyInterface(t.s)},endPoint:{get:ExpressionPropertyInterface(t.e)},opacity:{get:ExpressionPropertyInterface(t.o)},type:{get:function(){return"a"}},_name:{value:e.nm},mn:{value:e.mn}}),t.s.setGroupProperty(PropertyInterface("Start Point",r)),t.e.setGroupProperty(PropertyInterface("End Point",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),n}function o(e,t,r){var n,o=propertyGroupFactory(c,r),i=propertyGroupFactory(l,o);function s(r){Object.defineProperty(l,e.d[r].nm,{get:ExpressionPropertyInterface(t.d.dataProps[r].p)})}var a=e.d?e.d.length:0,l={};for(n=0;n<a;n+=1)s(n),t.d.dataProps[n].p.setGroupProperty(i);function c(e){return"Color"===e||"color"===e?c.color:"Opacity"===e||"opacity"===e?c.opacity:"Stroke Width"===e||"stroke width"===e?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return l}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",o)),t.o.setGroupProperty(PropertyInterface("Opacity",o)),t.w.setGroupProperty(PropertyInterface("Stroke Width",o)),c}function i(e,t,r){function n(t){return t===e.e.ix||"End"===t||"end"===t?n.end:t===e.s.ix?n.start:t===e.o.ix?n.offset:null}var o=propertyGroupFactory(n,r);return n.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",o)),t.e.setGroupProperty(PropertyInterface("End",o)),t.o.setGroupProperty(PropertyInterface("Offset",o)),n.propertyIndex=e.ix,n.propertyGroup=r,Object.defineProperties(n,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),n.mn=e.mn,n}function s(e,t,r){function n(t){return e.a.ix===t||"Anchor Point"===t?n.anchorPoint:e.o.ix===t||"Opacity"===t?n.opacity:e.p.ix===t||"Position"===t?n.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?n.rotation:e.s.ix===t||"Scale"===t?n.scale:e.sk&&e.sk.ix===t||"Skew"===t?n.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?n.skewAxis:null}var o=propertyGroupFactory(n,r);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",o)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",o)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",o)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",o)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",o)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",o)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",o))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",o)),Object.defineProperties(n,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),n.ty="tr",n.mn=e.mn,n.propertyGroup=r,n}function a(e,t,r){function n(t){return e.p.ix===t?n.position:e.s.ix===t?n.size:null}var o=propertyGroupFactory(n,r);n.propertyIndex=e.ix;var i="tm"===t.sh.ty?t.sh.prop:t.sh;return i.s.setGroupProperty(PropertyInterface("Size",o)),i.p.setGroupProperty(PropertyInterface("Position",o)),Object.defineProperties(n,{size:{get:ExpressionPropertyInterface(i.s)},position:{get:ExpressionPropertyInterface(i.p)},_name:{value:e.nm}}),n.mn=e.mn,n}function l(e,t,r){function n(t){return e.p.ix===t?n.position:e.r.ix===t?n.rotation:e.pt.ix===t?n.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?n.outerRadius:e.os.ix===t?n.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?n.innerRoundness:null:n.innerRadius}var o=propertyGroupFactory(n,r),i="tm"===t.sh.ty?t.sh.prop:t.sh;return n.propertyIndex=e.ix,i.or.setGroupProperty(PropertyInterface("Outer Radius",o)),i.os.setGroupProperty(PropertyInterface("Outer Roundness",o)),i.pt.setGroupProperty(PropertyInterface("Points",o)),i.p.setGroupProperty(PropertyInterface("Position",o)),i.r.setGroupProperty(PropertyInterface("Rotation",o)),e.ir&&(i.ir.setGroupProperty(PropertyInterface("Inner Radius",o)),i.is.setGroupProperty(PropertyInterface("Inner Roundness",o))),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(i.p)},rotation:{get:ExpressionPropertyInterface(i.r)},points:{get:ExpressionPropertyInterface(i.pt)},outerRadius:{get:ExpressionPropertyInterface(i.or)},outerRoundness:{get:ExpressionPropertyInterface(i.os)},innerRadius:{get:ExpressionPropertyInterface(i.ir)},innerRoundness:{get:ExpressionPropertyInterface(i.is)},_name:{value:e.nm}}),n.mn=e.mn,n}function c(e,t,r){function n(t){return e.p.ix===t?n.position:e.r.ix===t?n.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?n.size:null}var o=propertyGroupFactory(n,r),i="tm"===t.sh.ty?t.sh.prop:t.sh;return n.propertyIndex=e.ix,i.p.setGroupProperty(PropertyInterface("Position",o)),i.s.setGroupProperty(PropertyInterface("Size",o)),i.r.setGroupProperty(PropertyInterface("Rotation",o)),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(i.p)},roundness:{get:ExpressionPropertyInterface(i.r)},size:{get:ExpressionPropertyInterface(i.s)},_name:{value:e.nm}}),n.mn=e.mn,n}function h(e,t,r){function n(t){return e.r.ix===t||"Round Corners 1"===t?n.radius:null}var o=propertyGroupFactory(n,r),i=t;return n.propertyIndex=e.ix,i.rd.setGroupProperty(PropertyInterface("Radius",o)),Object.defineProperties(n,{radius:{get:ExpressionPropertyInterface(i.rd)},_name:{value:e.nm}}),n.mn=e.mn,n}function d(e,t,r){function n(t){return e.c.ix===t||"Copies"===t?n.copies:e.o.ix===t||"Offset"===t?n.offset:null}var o=propertyGroupFactory(n,r),i=t;return n.propertyIndex=e.ix,i.c.setGroupProperty(PropertyInterface("Copies",o)),i.o.setGroupProperty(PropertyInterface("Offset",o)),Object.defineProperties(n,{copies:{get:ExpressionPropertyInterface(i.c)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:e.nm}}),n.mn=e.mn,n}return function(t,r,n){var o;function i(e){if("number"==typeof e)return 0===(e=void 0===e?1:e)?n:o[e-1];for(var t=0,r=o.length;t<r;){if(o[t]._name===e)return o[t];t+=1}return null}return i.propertyGroup=propertyGroupFactory(i,(function(){return n})),o=e(t,r,i.propertyGroup),i.numProperties=o.length,i._name="Contents",i}}(),TextExpressionInterface=function(e){var t,r;function n(e){return"ADBE Text Document"===e?n.sourceText:null}return Object.defineProperty(n,"sourceText",{get:function(){e.textProperty.getValue();var n=e.textProperty.currentData.t;return n!==t&&(t=e.textProperty.currentData.t,(r=new String(n)).value=n||new String(n),Object.defineProperty(r,"style",{get:function(){return{fillColor:e.textProperty.currentData.fc}}})),r}}),n};function _typeof$2(e){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(e)}var FootageInterface=(dataInterfaceFactory=function(e){function t(e){return"Outline"===e?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(e){var t="",r=e.getFootageData();function n(e){if(r[e])return t=e,"object"===_typeof$2(r=r[e])?n:r;var o=e.indexOf(t);if(-1!==o){var i=parseInt(e.substr(o+t.length),10);return"object"===_typeof$2(r=r[i])?n:r}return""}return function(){return t="",r=e.getFootageData(),n}}(e),t},function(e){function t(e){return"Data"===e?t.dataInterface:null}return t._name="Data",t.dataInterface=dataInterfaceFactory(e),t}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}function _typeof$1(e){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(e)}function seedRandom(e,t){var r,n=this,o=256,i="random",s=t.pow(o,6),a=t.pow(2,52),l=2*a,c=o-1;function h(e){var t,r=e.length,n=this,i=0,s=n.i=n.j=0,a=n.S=[];for(r||(e=[r++]);i<o;)a[i]=i++;for(i=0;i<o;i++)a[i]=a[s=c&s+e[i%r]+(t=a[i])],a[s]=t;n.g=function(e){for(var t,r=0,i=n.i,s=n.j,a=n.S;e--;)t=a[i=c&i+1],r=r*o+a[c&(a[i]=a[s=c&s+t])+(a[s]=t)];return n.i=i,n.j=s,r}}function d(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function u(e,t){var r,n=[],o=_typeof$1(e);if(t&&"object"==o)for(r in e)try{n.push(u(e[r],t-1))}catch(e){}return n.length?n:"string"==o?e:e+"\0"}function p(e,t){for(var r,n=e+"",o=0;o<n.length;)t[c&o]=c&(r^=19*t[c&o])+n.charCodeAt(o++);return f(t)}function f(e){return String.fromCharCode.apply(0,e)}t["seed"+i]=function(c,m,g){var v=[],y=p(u((m=!0===m?{entropy:!0}:m||{}).entropy?[c,f(e)]:null===c?function(){try{r;var t=new Uint8Array(o);return(n.crypto||n.msCrypto).getRandomValues(t),f(t)}catch(t){var i=n.navigator,s=i&&i.plugins;return[+new Date,n,s,n.screen,f(e)]}}():c,3),v),b=new h(v),w=function(){for(var e=b.g(6),t=s,r=0;e<a;)e=(e+r)*o,t*=o,r=b.g(1);for(;e>=l;)e/=2,t/=2,r>>>=1;return(e+r)/t};return w.int32=function(){return 0|b.g(4)},w.quick=function(){return b.g(4)/4294967296},w.double=w,p(f(b.S),e),(m.pass||g||function(e,r,n,o){return o&&(o.S&&d(o,b),e.state=function(){return d(b,{})}),n?(t[i]=e,r):e})(w,y,"global"in m?m.global:this==t,m.state)},p(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||"boolean"===e||"string"===e||t instanceof Number}function $bm_neg(e){var t=_typeof(e);if("number"===t||"boolean"===t||e instanceof Number)return-e;if($bm_isInstanceOfArray(e)){var r,n=e.length,o=[];for(r=0;r<n;r+=1)o[r]=-e[r];return o}return e.propType?e.v:-e}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var r=_typeof(e),n=_typeof(t);if("string"===r||"string"===n)return e+t;if(isNumerable(r,e)&&isNumerable(n,t))return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return(e=e.slice(0))[0]+=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var o=0,i=e.length,s=t.length,a=[];o<i||o<s;)("number"==typeof e[o]||e[o]instanceof Number)&&("number"==typeof t[o]||t[o]instanceof Number)?a[o]=e[o]+t[o]:a[o]=void 0===t[o]?e[o]:e[o]||t[o],o+=1;return a}return 0}var add=sum;function sub(e,t){var r=_typeof(e),n=_typeof(t);if(isNumerable(r,e)&&isNumerable(n,t))return"string"===r&&(e=parseInt(e,10)),"string"===n&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return(e=e.slice(0))[0]-=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var o=0,i=e.length,s=t.length,a=[];o<i||o<s;)("number"==typeof e[o]||e[o]instanceof Number)&&("number"==typeof t[o]||t[o]instanceof Number)?a[o]=e[o]-t[o]:a[o]=void 0===t[o]?e[o]:e[o]||t[o],o+=1;return a}return 0}function mul(e,t){var r,n,o,i=_typeof(e),s=_typeof(t);if(isNumerable(i,e)&&isNumerable(s,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(o=e.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e[n]*t;return r}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(o=t.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e*t[n];return r}return 0}function div(e,t){var r,n,o,i=_typeof(e),s=_typeof(t);if(isNumerable(i,e)&&isNumerable(s,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(o=e.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e[n]/t;return r}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(o=t.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e/t[n];return r}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e,10)),"string"==typeof t&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,r){if(t>r){var n=r;r=t,t=n}return Math.min(Math.max(e,t),r)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);var r;t||(t=helperLengthArray);var n=Math.min(e.length,t.length),o=0;for(r=0;r<n;r+=1)o+=Math.pow(t[r]-e[r],2);return Math.sqrt(o)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,r,n=e[0],o=e[1],i=e[2],s=Math.max(n,o,i),a=Math.min(n,o,i),l=(s+a)/2;if(s===a)t=0,r=0;else{var c=s-a;switch(r=l>.5?c/(2-s-a):c/(s+a),s){case n:t=(o-i)/c+(o<i?6:0);break;case o:t=(i-n)/c+2;break;case i:t=(n-o)/c+4}t/=6}return[t,r,l,e[3]]}function hue2rgb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hslToRgb(e){var t,r,n,o=e[0],i=e[1],s=e[2];if(0===i)t=s,n=s,r=s;else{var a=s<.5?s*(1+i):s+i-s*i,l=2*s-a;t=hue2rgb(l,a,o+1/3),r=hue2rgb(l,a,o),n=hue2rgb(l,a,o-1/3)}return[t,r,n,e[3]]}function linear(e,t,r,n,o){if(void 0!==n&&void 0!==o||(n=t,o=r,t=0,r=1),r<t){var i=r;r=t,t=i}if(e<=t)return n;if(e>=r)return o;var s,a=r===t?0:(e-t)/(r-t);if(!n.length)return n+(o-n)*a;var l=n.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=n[s]+(o[s]-n[s])*a;return c}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var r,n=t.length;e||(e=createTypedArray("float32",n));var o=createTypedArray("float32",n),i=BMMath.random();for(r=0;r<n;r+=1)o[r]=e[r]+i*(t[r]-e[r]);return o}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,r,n){var o,i=e.length,s=shapePool.newElement();s.setPathData(!!n,i);var a,l,c=[0,0];for(o=0;o<i;o+=1)a=t&&t[o]?t[o]:c,l=r&&r[o]?r[o]:c,s.setTripleAt(e[o][0],e[o][1],l[0]+e[o][0],l[1]+e[o][1],a[0]+e[o][0],a[1]+e[o][1],o,!0);return s}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var r,n,o=this.pv.length?this.pv.length:1,i=createTypedArray("float32",o),s=Math.floor(5*time);for(r=0,n=0;r<s;){for(n=0;n<o;n+=1)i[n]+=-t+2*t*BMMath.random();r+=1}var a=5*time,l=a-Math.floor(a),c=createTypedArray("float32",o);if(o>1){for(n=0;n<o;n+=1)c[n]=this.pv[n]+i[n]+(-t+2*t*BMMath.random())*l;return c}return this.pv+i[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],n=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,n,0]}function easeOut(e,t,r,n,o){return applyEase(easeOutBez,e,t,r,n,o)}function easeIn(e,t,r,n,o){return applyEase(easeInBez,e,t,r,n,o)}function ease(e,t,r,n,o){return applyEase(easeInOutBez,e,t,r,n,o)}function applyEase(e,t,r,n,o,i){void 0===o?(o=r,i=n):t=(t-r)/(n-r),t>1?t=1:t<0&&(t=0);var s=e(t);if($bm_isInstanceOfArray(o)){var a,l=o.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=(i[a]-o[a])*s+o[a];return c}return(i-o)*s+o}function nearestKey(e){var t,r,n,o=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,n=data.k[0].t;else{for(t=0;t<o-1;t+=1){if(e===data.k[t].t){r=t+1,n=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(r=t+2,n=data.k[t+1].t):(r=t+1,n=data.k[t].t);break}}-1===r&&(r=t+1,n=data.k[t].t)}else r=0,n=0;var i={};return i.index=r,i.time=n/elem.comp.globalData.frameRate,i}function key(e){var t,r,n;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var o=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(n=o.length,r=0;r<n;r+=1)t[r]=o[r],t.value[r]=o[r];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"==typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function(e,t,r){t.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(e,t,r).bind(r)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),r=this.getValueAtTime(e+-.01),n=0;if(t.length){var o;for(o=0;o<t.length;o+=1)n+=Math.pow(r[o]-t[o],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,r,n=-.001,o=this.getValueAtTime(e),i=this.getValueAtTime(e+n);if(o.length)for(t=createTypedArray("float32",o.length),r=0;r<o.length;r+=1)t[r]=(i[r]-o[r])/n;else t=(i-o)/n;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};function addPropertyDecorator(){function e(e,t,r){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var n,o,i,s,a,l=this.comp.renderedFrame,c=this.keyframes,h=c[c.length-1].t;if(l<=h)return this.pv;if(r?o=h-(n=t?Math.abs(h-this.elem.comp.globalData.frameRate*t):Math.max(0,h-this.elem.data.ip)):((!t||t>c.length-1)&&(t=c.length-1),n=h-(o=c[c.length-1-t].t)),"pingpong"===e){if(Math.floor((l-o)/n)%2!=0)return this.getValueAtTime((n-(l-o)%n+o)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(o/this.comp.globalData.frameRate,0),u=this.getValueAtTime(h/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-o)%n+o)/this.comp.globalData.frameRate,0),f=Math.floor((l-o)/n);if(this.pv.length){for(s=(a=new Array(d.length)).length,i=0;i<s;i+=1)a[i]=(u[i]-d[i])*f+p[i];return a}return(u-d)*f+p}if("continue"===e){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(m.length)).length,i=0;i<s;i+=1)a[i]=m[i]+(m[i]-g[i])*((l-h)/this.comp.globalData.frameRate)/5e-4;return a}return m+(l-h)/.001*(m-g)}}return this.getValueAtTime(((l-o)%n+o)/this.comp.globalData.frameRate,0)}function t(e,t,r){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var n,o,i,s,a,l=this.comp.renderedFrame,c=this.keyframes,h=c[0].t;if(l>=h)return this.pv;if(r?o=h+(n=t?Math.abs(this.elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-h)):((!t||t>c.length-1)&&(t=c.length-1),n=(o=c[t].t)-h),"pingpong"===e){if(Math.floor((h-l)/n)%2==0)return this.getValueAtTime(((h-l)%n+h)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(h/this.comp.globalData.frameRate,0),u=this.getValueAtTime(o/this.comp.globalData.frameRate,0),p=this.getValueAtTime((n-(h-l)%n+h)/this.comp.globalData.frameRate,0),f=Math.floor((h-l)/n)+1;if(this.pv.length){for(s=(a=new Array(d.length)).length,i=0;i<s;i+=1)a[i]=p[i]-(u[i]-d[i])*f;return a}return p-(u-d)*f}if("continue"===e){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(m.length)).length,i=0;i<s;i+=1)a[i]=m[i]+(m[i]-g[i])*(h-l)/.001;return a}return m+(m-g)*(h-l)/.001}}return this.getValueAtTime((n-((h-l)%n+h))/this.comp.globalData.frameRate,0)}function r(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var r,n,o=this.comp.renderedFrame/this.comp.globalData.frameRate,i=o-e,s=t>1?(o+e-i)/(t-1):1,a=0,l=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;a<t;){if(n=this.getValueAtTime(i+a*s),this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]+=n[l];else r+=n;a+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]/=t;else r/=t;return r}function n(e){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var t=this._transformCachingAtTime.v;if(t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var r=this.a.getValueAtTime(e);t.translate(-r[0]*this.a.mult,-r[1]*this.a.mult,r[2]*this.a.mult)}if(this.appliedTransformations<2){var n=this.s.getValueAtTime(e);t.scale(n[0]*this.s.mult,n[1]*this.s.mult,n[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var o=this.sk.getValueAtTime(e),i=this.sa.getValueAtTime(e);t.skewFromAxis(-o*this.sk.mult,i*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var s=this.r.getValueAtTime(e);t.rotate(-s*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var a=this.rz.getValueAtTime(e),l=this.ry.getValueAtTime(e),c=this.rx.getValueAtTime(e),h=this.or.getValueAtTime(e);t.rotateZ(-a*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-h[2]*this.or.mult).rotateY(h[1]*this.or.mult).rotateX(h[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var d=this.px.getValueAtTime(e),u=this.py.getValueAtTime(e);if(this.data.p.z){var p=this.pz.getValueAtTime(e);t.translate(d*this.px.mult,u*this.py.mult,-p*this.pz.mult)}else t.translate(d*this.px.mult,u*this.py.mult,0)}else{var f=this.p.getValueAtTime(e);t.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return t}function o(){return this.v.clone(new Matrix)}var i=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,r){var s=i(e,t,r);return s.dynamicProperties.length?s.getValueAtTime=n.bind(s):s.getValueAtTime=o.bind(s),s.setGroupProperty=expressionHelpers.setGroupProperty,s};var s=PropertyFactory.getProp;PropertyFactory.getProp=function(n,o,i,a,l){var c=s(n,o,i,a,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=e,c.loopIn=t,c.smooth=r,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===o.a?o.k.length:0,c.propertyIndex=o.ix;var h=0;return 0!==i&&(h=createTypedArray("float32",1===o.a?o.k[0].s.length:o.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:h},expressionHelpers.searchExpressions(n,o,c),c.k&&l.addDynamicProperty(c),c};var a=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(e,t){this.k&&this.getValue();var r,n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0));var o=n._length,i=n[e],s=n.v,a=createSizedArray(o);for(r=0;r<o;r+=1)a[r]="i"===e||"o"===e?[i[r][0]-s[r][0],i[r][1]-s[r][1]]:[i[r][0],i[r][1]];return a},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var n,o=this._segmentsLength,i=o.lengths,s=o.totalLength*e,a=0,l=i.length,c=0;a<l;){if(c+i[a].addedLength>s){var h=a,d=r.c&&a===l-1?0:a+1,u=(s-c)/i[a].addedLength;n=bez.getPointInSegment(r.v[h],r.v[d],r.o[h],r.i[d],u,i[a]);break}c+=i[a].addedLength,a+=1}return n||(n=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),n},vectorOnPath:function(e,t,r){1==e?e=this.v.c:0==e&&(e=.999);var n=this.pointOnPath(e,t),o=this.pointOnPath(e+.001,t),i=o[0]-n[0],s=o[1]-n[1],a=Math.sqrt(Math.pow(i,2)+Math.pow(s,2));return 0===a?[0,0]:"tangent"===r?[i/a,s/a]:[-s/a,i/a]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],a),extendPrototype([c],l),l.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var h=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,r,n,o){var i=h(e,t,r,n,o);return i.propertyIndex=t.ix,i.lock=!1,3===r?expressionHelpers.searchExpressions(e,t.pt,i):4===r&&expressionHelpers.searchExpressions(e,t.ks,i),i.k&&e.addDynamicProperty(i),i}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(e,t){var r=this.calculateExpression(t);if(e.t!==r){var n={};return this.copyData(n,e),n.t=r.toString(),n.__complete=!1,n}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(e,t){var r,n,o=createNS("feMerge");for(o.setAttribute("result",e),n=0;n<t.length;n+=1)(r=createNS("feMergeNode")).setAttribute("in",t[n]),o.appendChild(r),o.appendChild(r);return o}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(e,t,r,n,o){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=i,i.setAttribute("result",n+"_tint_1"),e.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",n+"_tint_2"),e.appendChild(i),this.matrixFilter=i;var s=this.createMergeNode(n,[o,n+"_tint_1",n+"_tint_2"]);e.appendChild(s)}function SVGFillFilter(e,t,r,n){this.filterManager=t;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",n),e.appendChild(o),this.matrixFilter=o}function SVGStrokeEffect(e,t,r){this.initialized=!1,this.filterManager=t,this.elem=r,this.paths=[]}function SVGTritoneFilter(e,t,r,n){this.filterManager=t;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(o);var i=createNS("feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",n),this.matrixFilter=i;var s=createNS("feFuncR");s.setAttribute("type","table"),i.appendChild(s),this.feFuncR=s;var a=createNS("feFuncG");a.setAttribute("type","table"),i.appendChild(a),this.feFuncG=a;var l=createNS("feFuncB");l.setAttribute("type","table"),i.appendChild(l),this.feFuncB=l,e.appendChild(i)}function SVGProLevelsFilter(e,t,r,n){this.filterManager=t;var o=this.filterManager.effectElements,i=createNS("feComponentTransfer");(o[10].p.k||0!==o[10].p.v||o[11].p.k||1!==o[11].p.v||o[12].p.k||1!==o[12].p.v||o[13].p.k||0!==o[13].p.v||o[14].p.k||1!==o[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(o[17].p.k||0!==o[17].p.v||o[18].p.k||1!==o[18].p.v||o[19].p.k||1!==o[19].p.v||o[20].p.k||0!==o[20].p.v||o[21].p.k||1!==o[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(o[24].p.k||0!==o[24].p.v||o[25].p.k||1!==o[25].p.v||o[26].p.k||1!==o[26].p.v||o[27].p.k||0!==o[27].p.v||o[28].p.k||1!==o[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(o[31].p.k||0!==o[31].p.v||o[32].p.k||1!==o[32].p.v||o[33].p.k||1!==o[33].p.v||o[34].p.k||0!==o[34].p.v||o[35].p.k||1!==o[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(i)),(o[3].p.k||0!==o[3].p.v||o[4].p.k||1!==o[4].p.v||o[5].p.k||1!==o[5].p.v||o[6].p.k||0!==o[6].p.v||o[7].p.k||1!==o[7].p.v)&&((i=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",n),e.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(e,t,r,n,o){var i=t.container.globalData.renderConfig.filterSize,s=t.data.fs||i;e.setAttribute("x",s.x||i.x),e.setAttribute("y",s.y||i.y),e.setAttribute("width",s.width||i.width),e.setAttribute("height",s.height||i.height),this.filterManager=t;var a=createNS("feGaussianBlur");a.setAttribute("in","SourceAlpha"),a.setAttribute("result",n+"_drop_shadow_1"),a.setAttribute("stdDeviation","0"),this.feGaussianBlur=a,e.appendChild(a);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",n+"_drop_shadow_1"),l.setAttribute("result",n+"_drop_shadow_2"),this.feOffset=l,e.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",n+"_drop_shadow_3"),this.feFlood=c,e.appendChild(c);var h=createNS("feComposite");h.setAttribute("in",n+"_drop_shadow_3"),h.setAttribute("in2",n+"_drop_shadow_2"),h.setAttribute("operator","in"),h.setAttribute("result",n+"_drop_shadow_4"),e.appendChild(h);var d=this.createMergeNode(n,[n+"_drop_shadow_4",o]);e.appendChild(d)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+n+" 0"),this.matrixFilter.setAttribute("values",r[0]-t[0]+" 0 0 0 "+t[0]+" "+(r[1]-t[1])+" 0 0 0 "+t[1]+" "+(r[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var e,t,r,n,o=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,r=0):n=1+(r=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);r<n;r+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:r});if(3===this.filterManager.effectElements[10].p.v){var i=createNS("mask"),s=createElementID();i.setAttribute("id",s),i.setAttribute("mask-type","alpha"),i.appendChild(t),this.elem.globalData.defs.appendChild(i);var a=createNS("g");for(a.setAttribute("mask","url("+getLocationHref()+"#"+s+")");o[0];)a.appendChild(o[0]);this.elem.layerElement.appendChild(a),this.masker=i,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(o=this.elem.layerElement.children||this.elem.layerElement.childNodes;o.length;)this.elem.layerElement.removeChild(o[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){var t;this.initialized||this.initialize();var r,n,o=this.paths.length;for(t=0;t<o;t+=1)if(-1!==this.paths[t].m&&(r=this.elem.maskManager.viewData[this.paths[t].m],n=this.paths[t].p,(e||this.filterManager._mdf||r.prop._mdf)&&n.setAttribute("d",r.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var i;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var s=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),a=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=n.getTotalLength();i="0 0 0 "+l*s+" ";var c,h=l*(a-s),d=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,u=Math.floor(h/d);for(c=0;c<u;c+=1)i+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";i+="0 "+10*l+" 0 0"}else i="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;n.setAttribute("stroke-dasharray",i)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,o=n[0]+" "+r[0]+" "+t[0],i=n[1]+" "+r[1]+" "+t[1],s=n[2]+" "+r[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",o),this.feFuncG.setAttribute("tableValues",i),this.feFuncB.setAttribute("tableValues",s)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var r=createNS(e);return r.setAttribute("type","table"),t.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(e,t,r,n,o){for(var i,s,a=0,l=Math.min(e,t),c=Math.max(e,t),h=Array.call(null,{length:256}),d=0,u=o-n,p=t-e;a<=256;)s=(i=a/256)<=l?p<0?o:n:i>=c?p<0?n:o:n+u*Math.pow((i-e)/p,1/r),h[d]=s,d+=1,a+=256/255;return h.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,r=this.filterManager.effectElements;this.feFuncRComposed&&(e||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(t=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(t=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(t=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(t=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(t=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,o=r*Math.cos(n),i=r*Math.sin(n);this.feOffset.setAttribute("dx",o),this.feOffset.setAttribute("dy",i)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,r){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGGaussianBlurEffect(e,t,r,n){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var o=createNS("feGaussianBlur");o.setAttribute("result",n),e.appendChild(o),this.feGaussianBlur=o}return SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,r=_svgMatteSymbols.length;t<r;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var r=e.layerElement.parentNode;if(r){for(var n,o=r.children,i=0,s=o.length;i<s&&o[i]!==e.layerElement;)i+=1;i<=s-2&&(n=o[i+1]);var a=createNS("use");a.setAttribute("href","#"+t),n?r.insertBefore(a,n):r.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var r=createElementID(),n=createNS("mask");n.setAttribute("id",t.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var o=e.globalData.defs;o.appendChild(n);var i=createNS("symbol");i.setAttribute("id",r),this.replaceInParent(t,r),i.appendChild(t.layerElement),o.appendChild(i);var s=createNS("use");s.setAttribute("href","#"+r),n.appendChild(s),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,r=0,n=t.length;r<n;)t[r]&&t[r].data.ind===e&&this.setElementAsMask(this.elem,t[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=3==r?0:t,o=2==r?0:t;this.feGaussianBlur.setAttribute("stdDeviation",n+" "+o);var i=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",i)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=factory())},9746:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},2306:function(e,t,r){var n,o;n=function(){"use strict";var e=function(){o.log(2,"(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use 'new ScrollMagic.Controller()' to create a new controller instance. Use 'new ScrollMagic.Scene()' to instance a scene.")};e.version="2.0.8","undefined"!=typeof window&&window.addEventListener("mousewheel",void 0);var t="data-scrollmagic-pin-spacer";e.Controller=function(n){var i,s,a="ScrollMagic.Controller",l="REVERSE",c="PAUSED",h=r.defaults,d=this,u=o.extend({},h,n),p=[],f=!1,m=0,g=c,v=!0,y=0,b=!0,w=function(){u.refreshInterval>0&&(s=window.setTimeout(k,u.refreshInterval))},x=function(){return u.vertical?o.get.scrollTop(u.container):o.get.scrollLeft(u.container)},E=function(){return u.vertical?o.get.height(u.container):o.get.width(u.container)},S=this._setScrollPos=function(e){u.vertical?v?window.scrollTo(o.get.scrollLeft(),e):u.container.scrollTop=e:v?window.scrollTo(e,o.get.scrollTop()):u.container.scrollLeft=e},_=function(){if(b&&f){var e=o.type.Array(f)?f:p.slice(0);f=!1;var t=m,r=(m=d.scrollPos())-t;0!==r&&(g=r>0?"FORWARD":l),g===l&&e.reverse(),e.forEach((function(t,r){T(3,"updating Scene "+(r+1)+"/"+e.length+" ("+p.length+" total)"),t.update(!0)})),0===e.length&&u.loglevel>=3&&T(3,"updating 0 Scenes (nothing added to controller)")}},C=function(){i=o.rAF(_)},A=function(e){T(3,"event fired causing an update:",e.type),"resize"==e.type&&(y=E(),g=c),!0!==f&&(f=!0,C())},k=function(){if(!v&&y!=E()){var e;try{e=new Event("resize",{bubbles:!1,cancelable:!1})}catch(t){(e=document.createEvent("Event")).initEvent("resize",!1,!1)}u.container.dispatchEvent(e)}p.forEach((function(e,t){e.refresh()})),w()},T=this._log=function(e,t){u.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+a+") ->"),o.log.apply(window,arguments))};this._options=u;var P=function(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort((function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1})),t};return this.addScene=function(t){if(o.type.Array(t))t.forEach((function(e,t){d.addScene(e)}));else if(t instanceof e.Scene){if(t.controller()!==d)t.addTo(d);else if(p.indexOf(t)<0){for(var r in p.push(t),p=P(p),t.on("shift.controller_sort",(function(){p=P(p)})),u.globalSceneOptions)t[r]&&t[r].call(t,u.globalSceneOptions[r]);T(3,"adding Scene (now "+p.length+" total)")}}else T(1,"ERROR: invalid argument supplied for '.addScene()'");return d},this.removeScene=function(e){if(o.type.Array(e))e.forEach((function(e,t){d.removeScene(e)}));else{var t=p.indexOf(e);t>-1&&(e.off("shift.controller_sort"),p.splice(t,1),T(3,"removing Scene (now "+p.length+" left)"),e.remove())}return d},this.updateScene=function(t,r){return o.type.Array(t)?t.forEach((function(e,t){d.updateScene(e,r)})):r?t.update(!0):!0!==f&&t instanceof e.Scene&&(-1==(f=f||[]).indexOf(t)&&f.push(t),f=P(f),C()),d},this.update=function(e){return A({type:"resize"}),e&&_(),d},this.scrollTo=function(r,n){if(o.type.Number(r))S.call(u.container,r,n);else if(r instanceof e.Scene)r.controller()===d?d.scrollTo(r.scrollOffset(),n):T(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",r);else if(o.type.Function(r))S=r;else{var i=o.get.elements(r)[0];if(i){for(;i.parentNode.hasAttribute(t);)i=i.parentNode;var s=u.vertical?"top":"left",a=o.get.offset(u.container),l=o.get.offset(i);v||(a[s]-=d.scrollPos()),d.scrollTo(l[s]-a[s],n)}else T(2,"scrollTo(): The supplied argument is invalid. Scroll cancelled.",r)}return d},this.scrollPos=function(e){return arguments.length?(o.type.Function(e)?x=e:T(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."),d):x.call(d)},this.info=function(e){var t={size:y,vertical:u.vertical,scrollPos:m,scrollDirection:g,container:u.container,isDocument:v};return arguments.length?void 0!==t[e]?t[e]:void T(1,'ERROR: option "'+e+'" is not available'):t},this.loglevel=function(e){return arguments.length?(u.loglevel!=e&&(u.loglevel=e),d):u.loglevel},this.enabled=function(e){return arguments.length?(b!=e&&(b=!!e,d.updateScene(p,!0)),d):b},this.destroy=function(e){window.clearTimeout(s);for(var t=p.length;t--;)p[t].destroy(e);return u.container.removeEventListener("resize",A),u.container.removeEventListener("scroll",A),o.cAF(i),T(3,"destroyed "+a+" (reset: "+(e?"true":"false")+")"),null},function(){for(var t in u)h.hasOwnProperty(t)||(T(2,'WARNING: Unknown option "'+t+'"'),delete u[t]);if(u.container=o.get.elements(u.container)[0],!u.container)throw T(1,"ERROR creating object "+a+": No valid scroll container supplied"),a+" init failed.";(v=u.container===window||u.container===document.body||!document.body.contains(u.container))&&(u.container=window),y=E(),u.container.addEventListener("resize",A),u.container.addEventListener("scroll",A);var r=parseInt(u.refreshInterval,10);u.refreshInterval=o.type.Number(r)?r:h.refreshInterval,w(),T(3,"added new "+a+" controller (v"+e.version+")")}(),d};var r={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};e.Controller.addOption=function(e,t){r.defaults[e]=t},e.Controller.extend=function(t){var r=this;e.Controller=function(){return r.apply(this,arguments),this.$super=o.extend({},this),t.apply(this,arguments)||this},o.extend(e.Controller,r),e.Controller.prototype=r.prototype,e.Controller.prototype.constructor=e.Controller},e.Scene=function(r){var i,s,a="ScrollMagic.Scene",l="BEFORE",c="DURING",h="AFTER",d=n.defaults,u=this,p=o.extend({},d,r),f=l,m=0,g={start:0,end:0},v=0,y=!0,b={};this.on=function(e,t){return o.type.Function(t)?(e=e.trim().split(" ")).forEach((function(e){var r=e.split("."),n=r[0],o=r[1];"*"!=n&&(b[n]||(b[n]=[]),b[n].push({namespace:o||"",callback:t}))})):w(1,"ERROR when calling '.on()': Supplied callback for '"+e+"' is not a valid function!"),u},this.off=function(e,t){return e?((e=e.trim().split(" ")).forEach((function(e,r){var n=e.split("."),o=n[0],i=n[1]||"";("*"===o?Object.keys(b):[o]).forEach((function(e){for(var r=b[e]||[],n=r.length;n--;){var o=r[n];!o||i!==o.namespace&&"*"!==i||t&&t!=o.callback||r.splice(n,1)}r.length||delete b[e]}))})),u):(w(1,"ERROR: Invalid event name supplied."),u)},this.trigger=function(t,r){if(t){var n=t.trim().split("."),o=n[0],i=n[1],s=b[o];w(3,"event fired:",o,r?"->":"",r||""),s&&s.forEach((function(t,n){i&&i!==t.namespace||t.callback.call(u,new e.Event(o,t.namespace,u,r))}))}else w(1,"ERROR: Invalid event name supplied.");return u},u.on("change.internal",(function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?C():"reverse"===e.what&&u.update())})).on("shift.internal",(function(e){S(),u.update()}));var w=this._log=function(e,t){p.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+a+") ->"),o.log.apply(window,arguments))};this.addTo=function(t){return t instanceof e.Controller?s!=t&&(s&&s.removeScene(u),s=t,T(),_(!0),C(!0),S(),s.info("container").addEventListener("resize",A),t.addScene(u),u.trigger("add",{controller:s}),w(3,"added "+a+" to controller"),u.update()):w(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller"),u},this.enabled=function(e){return arguments.length?(y!=e&&(y=!!e,u.update(!0)),u):y},this.remove=function(){if(s){s.info("container").removeEventListener("resize",A);var e=s;s=void 0,e.removeScene(u),u.trigger("remove"),w(3,"removed "+a+" from controller")}return u},this.destroy=function(e){return u.trigger("destroy",{reset:e}),u.remove(),u.off("*.*"),w(3,"destroyed "+a+" (reset: "+(e?"true":"false")+")"),null},this.update=function(e){if(s)if(e)if(s.enabled()&&y){var t,r=s.info("scrollPos");t=p.duration>0?(r-g.start)/(g.end-g.start):r>=g.start?1:0,u.trigger("update",{startPos:g.start,endPos:g.end,scrollPos:r}),u.progress(t)}else x&&f===c&&D(!0);else s.updateScene(u,!1);return u},this.refresh=function(){return _(),C(),u},this.progress=function(e){if(arguments.length){var t=!1,r=f,n=s?s.info("scrollDirection"):"PAUSED",o=p.reverse||e>=m;if(0===p.duration?(t=m!=e,f=0==(m=e<1&&o?0:1)?l:c):e<0&&f!==l&&o?(m=0,f=l,t=!0):e>=0&&e<1&&o?(m=e,f=c,t=!0):e>=1&&f!==h?(m=1,f=h,t=!0):f!==c||o||D(),t){var i={progress:m,state:f,scrollDirection:n},a=f!=r,d=function(e){u.trigger(e,i)};a&&r!==c&&(d("enter"),d(r===l?"start":"end")),d("progress"),a&&f!==c&&(d(f===l?"start":"end"),d("leave"))}return u}return m};var x,E,S=function(){g={start:v+p.offset},s&&p.triggerElement&&(g.start-=s.info("size")*p.triggerHook),g.end=g.start+p.duration},_=function(e){if(i){var t="duration";P(t,i.call(u))&&!e&&(u.trigger("change",{what:t,newval:p[t]}),u.trigger("shift",{reason:t}))}},C=function(e){var r=0,n=p.triggerElement;if(s&&(n||v>0)){if(n)if(n.parentNode){for(var i=s.info(),a=o.get.offset(i.container),l=i.vertical?"top":"left";n.parentNode.hasAttribute(t);)n=n.parentNode;var c=o.get.offset(n);i.isDocument||(a[l]-=s.scrollPos()),r=c[l]-a[l]}else w(2,"WARNING: triggerElement was removed from DOM and will be reset to",void 0),u.triggerElement(void 0);var h=r!=v;v=r,h&&!e&&u.trigger("shift",{reason:"triggerElementPosition"})}},A=function(e){p.triggerHook>0&&u.trigger("shift",{reason:"containerResize"})},k=o.extend(n.validate,{duration:function(e){if(o.type.String(e)&&e.match(/^(\.|\d)*\d+%$/)){var t=parseFloat(e)/100;e=function(){return s?s.info("size")*t:0}}if(o.type.Function(e)){i=e;try{e=parseFloat(i.call(u))}catch(t){e=-1}}if(e=parseFloat(e),!o.type.Number(e)||e<0)throw i?(i=void 0,['Invalid return value of supplied function for option "duration":',e]):['Invalid value for option "duration":',e];return e}}),T=function(e){(e=arguments.length?[e]:Object.keys(k)).forEach((function(e,t){var r;if(k[e])try{r=k[e](p[e])}catch(t){r=d[e];var n=o.type.String(t)?[t]:t;o.type.Array(n)?(n[0]="ERROR: "+n[0],n.unshift(1),w.apply(this,n)):w(1,"ERROR: Problem executing validation callback for option '"+e+"':",t.message)}finally{p[e]=r}}))},P=function(e,t){var r=!1,n=p[e];return p[e]!=t&&(p[e]=t,T(e),r=n!=p[e]),r},M=function(e){u[e]||(u[e]=function(t){return arguments.length?("duration"===e&&(i=void 0),P(e,t)&&(u.trigger("change",{what:e,newval:p[e]}),n.shifts.indexOf(e)>-1&&u.trigger("shift",{reason:e})),u):p[e]})};this.controller=function(){return s},this.state=function(){return f},this.scrollOffset=function(){return g.start},this.triggerPosition=function(){var e=p.offset;return s&&(p.triggerElement?e+=v:e+=s.info("size")*u.triggerHook()),e},u.on("shift.internal",(function(e){var t="duration"===e.reason;(f===h&&t||f===c&&0===p.duration)&&D(),t&&O()})).on("progress.internal",(function(e){D()})).on("add.internal",(function(e){O()})).on("destroy.internal",(function(e){u.removePin(e.reset)}));var D=function(e){if(x&&s){var t=s.info(),r=E.spacer.firstChild;if(e||f!==c){var n={position:E.inFlow?"relative":"absolute",top:0,left:0},i=o.css(r,"position")!=n.position;E.pushFollowers?p.duration>0&&(f===h&&0===parseFloat(o.css(E.spacer,"padding-top"))||f===l&&0===parseFloat(o.css(E.spacer,"padding-bottom")))&&(i=!0):n[t.vertical?"top":"left"]=p.duration*m,o.css(r,n),i&&O()}else{"fixed"!=o.css(r,"position")&&(o.css(r,{position:"fixed"}),O());var a=o.get.offset(E.spacer,!0),d=p.reverse||0===p.duration?t.scrollPos-g.start:Math.round(m*p.duration*10)/10;a[t.vertical?"top":"left"]+=d,o.css(E.spacer.firstChild,{top:a.top,left:a.left})}}},O=function(){if(x&&s&&E.inFlow){var e=f===c,t=s.info("vertical"),r=E.spacer.firstChild,n=o.isMarginCollapseType(o.css(E.spacer,"display")),i={};E.relSize.width||E.relSize.autoFullWidth?e?o.css(x,{width:o.get.width(E.spacer)}):o.css(x,{width:"100%"}):(i["min-width"]=o.get.width(t?x:r,!0,!0),i.width=e?i["min-width"]:"auto"),E.relSize.height?e?o.css(x,{height:o.get.height(E.spacer)-(E.pushFollowers?p.duration:0)}):o.css(x,{height:"100%"}):(i["min-height"]=o.get.height(t?r:x,!0,!n),i.height=e?i["min-height"]:"auto"),E.pushFollowers&&(i["padding"+(t?"Top":"Left")]=p.duration*m,i["padding"+(t?"Bottom":"Right")]=p.duration*(1-m)),o.css(E.spacer,i)}},I=function(){s&&x&&f===c&&!s.info("isDocument")&&D()},R=function(){s&&x&&f===c&&((E.relSize.width||E.relSize.autoFullWidth)&&o.get.width(window)!=o.get.width(E.spacer.parentNode)||E.relSize.height&&o.get.height(window)!=o.get.height(E.spacer.parentNode))&&O()},N=function(e){s&&x&&f===c&&!s.info("isDocument")&&(e.preventDefault(),s._setScrollPos(s.info("scrollPos")-((e.wheelDelta||e[s.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))};this.setPin=function(e,r){var n=r&&r.hasOwnProperty("pushFollowers");if(r=o.extend({},{pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},r),!(e=o.get.elements(e)[0]))return w(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),u;if("fixed"===o.css(e,"position"))return w(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),u;if(x){if(x===e)return u;u.removePin()}var i=(x=e).parentNode.style.display,s=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];x.parentNode.style.display="none";var a="absolute"!=o.css(x,"position"),l=o.css(x,s.concat(["display"])),c=o.css(x,["width","height"]);x.parentNode.style.display=i,!a&&r.pushFollowers&&(w(2,"WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled."),r.pushFollowers=!1),window.setTimeout((function(){x&&0===p.duration&&n&&r.pushFollowers&&w(2,"WARNING: pushFollowers =",!0,"has no effect, when scene duration is 0.")}),0);var h=x.parentNode.insertBefore(document.createElement("div"),x),d=o.extend(l,{position:a?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(a||o.extend(d,o.css(x,["width","height"])),o.css(h,d),h.setAttribute(t,""),o.addClass(h,r.spacerClass),E={spacer:h,relSize:{width:"%"===c.width.slice(-1),height:"%"===c.height.slice(-1),autoFullWidth:"auto"===c.width&&a&&o.isMarginCollapseType(l.display)},pushFollowers:r.pushFollowers,inFlow:a},!x.___origStyle){x.___origStyle={};var f=x.style;s.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach((function(e){x.___origStyle[e]=f[e]||""}))}return E.relSize.width&&o.css(h,{width:c.width}),E.relSize.height&&o.css(h,{height:c.height}),h.appendChild(x),o.css(x,{position:a?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(E.relSize.width||E.relSize.autoFullWidth)&&o.css(x,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",I),window.addEventListener("resize",I),window.addEventListener("resize",R),x.addEventListener("mousewheel",N),x.addEventListener("DOMMouseScroll",N),w(3,"added pin"),D(),u},this.removePin=function(e){if(x){if(f===c&&D(!0),e||!s){var r=E.spacer.firstChild;if(r.hasAttribute(t)){var n=E.spacer.style,i={};["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach((function(e){i[e]=n[e]||""})),o.css(r,i)}E.spacer.parentNode.insertBefore(r,E.spacer),E.spacer.parentNode.removeChild(E.spacer),x.parentNode.hasAttribute(t)||(o.css(x,x.___origStyle),delete x.___origStyle)}window.removeEventListener("scroll",I),window.removeEventListener("resize",I),window.removeEventListener("resize",R),x.removeEventListener("mousewheel",N),x.removeEventListener("DOMMouseScroll",N),x=void 0,w(3,"removed pin (reset: "+(e?"true":"false")+")")}return u};var F,B=[];return u.on("destroy.internal",(function(e){u.removeClassToggle(e.reset)})),this.setClassToggle=function(e,t){var r=o.get.elements(e);return 0!==r.length&&o.type.String(t)?(B.length>0&&u.removeClassToggle(),F=t,B=r,u.on("enter.internal_class leave.internal_class",(function(e){var t="enter"===e.type?o.addClass:o.removeClass;B.forEach((function(e,r){t(e,F)}))})),u):(w(1,"ERROR calling method 'setClassToggle()': Invalid "+(0===r.length?"element":"classes")+" supplied."),u)},this.removeClassToggle=function(e){return e&&B.forEach((function(e,t){o.removeClass(e,F)})),u.off("start.internal_class end.internal_class"),F=void 0,B=[],u},function(){for(var e in p)d.hasOwnProperty(e)||(w(2,'WARNING: Unknown option "'+e+'"'),delete p[e]);for(var t in d)M(t);T()}(),u};var n={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!o.type.Number(e))throw['Invalid value for option "offset":',e];return e},triggerElement:function(e){if(e=e||void 0){var t=o.get.elements(e)[0];if(!t||!t.parentNode)throw['Element defined in option "triggerElement" was not found:',e];e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(o.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw['Invalid value for option "triggerHook": ',e];e=t[e]}return e},reverse:function(e){return!!e},loglevel:function(e){if(e=parseInt(e),!o.type.Number(e)||e<0||e>3)throw['Invalid value for option "loglevel":',e];return e}},shifts:["duration","offset","triggerHook"]};e.Scene.addOption=function(t,r,o,i){t in n.defaults?e._util.log(1,"[static] ScrollMagic.Scene -> Cannot add Scene option '"+t+"', because it already exists."):(n.defaults[t]=r,n.validate[t]=o,i&&n.shifts.push(t))},e.Scene.extend=function(t){var r=this;e.Scene=function(){return r.apply(this,arguments),this.$super=o.extend({},this),t.apply(this,arguments)||this},o.extend(e.Scene,r),e.Scene.prototype=r.prototype,e.Scene.prototype.constructor=e.Scene},e.Event=function(e,t,r,n){for(var o in n=n||{})this[o]=n[o];return this.type=e,this.target=this.currentTarget=r,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var o=e._util=function(e){var t,r={},n=function(e){return parseFloat(e)||0},o=function(t){return t.currentStyle?t.currentStyle:e.getComputedStyle(t)},i=function(t,r,i,s){if((r=r===document?e:r)===e)s=!1;else if(!f.DomElement(r))return 0;t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();var a=(i?r["offset"+t]||r["outer"+t]:r["client"+t]||r["inner"+t])||0;if(i&&s){var l=o(r);a+="Height"===t?n(l.marginTop)+n(l.marginBottom):n(l.marginLeft)+n(l.marginRight)}return a},s=function(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))};r.extend=function(e){for(e=e||{},t=1;t<arguments.length;t++)if(arguments[t])for(var r in arguments[t])arguments[t].hasOwnProperty(r)&&(e[r]=arguments[t][r]);return e},r.isMarginCollapseType=function(e){return["block","flex","list-item","table","-webkit-box"].indexOf(e)>-1};var a=0,l=["ms","moz","webkit","o"],c=e.requestAnimationFrame,h=e.cancelAnimationFrame;for(t=0;!c&&t<l.length;++t)c=e[l[t]+"RequestAnimationFrame"],h=e[l[t]+"CancelAnimationFrame"]||e[l[t]+"CancelRequestAnimationFrame"];c||(c=function(t){var r=(new Date).getTime(),n=Math.max(0,16-(r-a)),o=e.setTimeout((function(){t(r+n)}),n);return a=r+n,o}),h||(h=function(t){e.clearTimeout(t)}),r.rAF=c.bind(e),r.cAF=h.bind(e);var d=["error","warn","log"],u=e.console||{};for(u.log=u.log||function(){},t=0;t<d.length;t++){var p=d[t];u[p]||(u[p]=u.log)}r.log=function(e){(e>d.length||e<=0)&&(e=d.length);var t=new Date,r=("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+":"+("00"+t.getMilliseconds()).slice(-3),n=d[e-1],o=Array.prototype.splice.call(arguments,1),i=Function.prototype.bind.call(u[n],u);o.unshift(r),i.apply(u,o)};var f=r.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};f.String=function(e){return"string"===f(e)},f.Function=function(e){return"function"===f(e)},f.Array=function(e){return Array.isArray(e)},f.Number=function(e){return!f.Array(e)&&e-parseFloat(e)+1>=0},f.DomElement=function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement||e instanceof SVGElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var m=r.get={};return m.elements=function(t){var r=[];if(f.String(t))try{t=document.querySelectorAll(t)}catch(e){return r}if("nodelist"===f(t)||f.Array(t)||t instanceof NodeList)for(var n=0,o=r.length=t.length;n<o;n++){var i=t[n];r[n]=f.DomElement(i)?i:m.elements(i)}else(f.DomElement(t)||t===document||t===e)&&(r=[t]);return r},m.scrollTop=function(t){return t&&"number"==typeof t.scrollTop?t.scrollTop:e.pageYOffset||0},m.scrollLeft=function(t){return t&&"number"==typeof t.scrollLeft?t.scrollLeft:e.pageXOffset||0},m.width=function(e,t,r){return i("width",e,t,r)},m.height=function(e,t,r){return i("height",e,t,r)},m.offset=function(e,t){var r={top:0,left:0};if(e&&e.getBoundingClientRect){var n=e.getBoundingClientRect();r.top=n.top,r.left=n.left,t||(r.top+=m.scrollTop(),r.left+=m.scrollLeft())}return r},r.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},r.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},r.css=function(e,t){if(f.String(t))return o(e)[s(t)];if(f.Array(t)){var r={},n=o(e);return t.forEach((function(e,t){r[e]=n[s(e)]})),r}for(var i in t){var a=t[i];a==parseFloat(a)&&(a+="px"),e.style[s(i)]=a}},r}(window||{});return e.Scene.prototype.addIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling addIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.removeIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.setTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.removeTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.setVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e.Scene.prototype.removeVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e},void 0===(o=n.call(t,r,t,e))||(e.exports=o)},7635:function(e){"use strict";!function(t){const r=2147483647;function n(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,o=1013904242,i=2773480762,s=1359893119,a=2600822924,l=528734635,c=1541459225;const h=new Uint32Array(64);function d(e){let d=0,u=e.length;for(;u>=64;){let p,f,m,g,v,y=r,b=n,w=o,x=i,E=s,S=a,_=l,C=c;for(f=0;f<16;f++)m=d+4*f,h[f]=(255&e[m])<<24|(255&e[m+1])<<16|(255&e[m+2])<<8|255&e[m+3];for(f=16;f<64;f++)p=h[f-2],g=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,p=h[f-15],v=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,h[f]=(g+h[f-7]|0)+(v+h[f-16]|0)|0;for(f=0;f<64;f++)g=(((E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7))+(E&S^~E&_)|0)+(C+(t[f]+h[f]|0)|0)|0,v=((y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10))+(y&b^y&w^b&w)|0,C=_,_=S,S=E,E=x+g|0,x=w,w=b,b=y,y=g+v|0;r=r+y|0,n=n+b|0,o=o+w|0,i=i+x|0,s=s+E|0,a=a+S|0,l=l+_|0,c=c+C|0,d+=64,u-=64}}d(e);let u,p=e.length%64,f=e.length/536870912|0,m=e.length<<3,g=p<56?56:120,v=e.slice(e.length-p,e.length);for(v.push(128),u=p+1;u<g;u++)v.push(0);return v.push(f>>>24&255),v.push(f>>>16&255),v.push(f>>>8&255),v.push(f>>>0&255),v.push(m>>>24&255),v.push(m>>>16&255),v.push(m>>>8&255),v.push(m>>>0&255),d(v),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function o(e,t,r){e=e.length<=64?e:n(e);const o=64+t.length+4,i=new Array(o),s=new Array(64);let a,l=[];for(a=0;a<64;a++)i[a]=54;for(a=0;a<e.length;a++)i[a]^=e[a];for(a=0;a<t.length;a++)i[64+a]=t[a];for(a=o-4;a<o;a++)i[a]=0;for(a=0;a<64;a++)s[a]=92;for(a=0;a<e.length;a++)s[a]^=e[a];function c(){for(let e=o-1;e>=o-4;e--){if(i[e]++,i[e]<=255)return;i[e]=0}}for(;r>=32;)c(),l=l.concat(n(s.concat(n(i)))),r-=32;return r>0&&(c(),l=l.concat(n(s.concat(n(i))).slice(0,r))),l}function i(e,t,r,n,o){let i;for(c(e,16*(2*r-1),o,0,16),i=0;i<2*r;i++)l(e,16*i,o,16),a(o,n),c(o,0,e,t+16*i,16);for(i=0;i<r;i++)c(e,t+2*i*16,e,16*i,16);for(i=0;i<r;i++)c(e,t+16*(2*i+1),e,16*(i+r),16)}function s(e,t){return e<<t|e>>>32-t}function a(e,t){c(e,0,t,0,16);for(let e=8;e>0;e-=2)t[4]^=s(t[0]+t[12],7),t[8]^=s(t[4]+t[0],9),t[12]^=s(t[8]+t[4],13),t[0]^=s(t[12]+t[8],18),t[9]^=s(t[5]+t[1],7),t[13]^=s(t[9]+t[5],9),t[1]^=s(t[13]+t[9],13),t[5]^=s(t[1]+t[13],18),t[14]^=s(t[10]+t[6],7),t[2]^=s(t[14]+t[10],9),t[6]^=s(t[2]+t[14],13),t[10]^=s(t[6]+t[2],18),t[3]^=s(t[15]+t[11],7),t[7]^=s(t[3]+t[15],9),t[11]^=s(t[7]+t[3],13),t[15]^=s(t[11]+t[7],18),t[1]^=s(t[0]+t[3],7),t[2]^=s(t[1]+t[0],9),t[3]^=s(t[2]+t[1],13),t[0]^=s(t[3]+t[2],18),t[6]^=s(t[5]+t[4],7),t[7]^=s(t[6]+t[5],9),t[4]^=s(t[7]+t[6],13),t[5]^=s(t[4]+t[7],18),t[11]^=s(t[10]+t[9],7),t[8]^=s(t[11]+t[10],9),t[9]^=s(t[8]+t[11],13),t[10]^=s(t[9]+t[8],18),t[12]^=s(t[15]+t[14],7),t[13]^=s(t[12]+t[15],9),t[14]^=s(t[13]+t[12],13),t[15]^=s(t[14]+t[13],18);for(let r=0;r<16;++r)e[r]+=t[r]}function l(e,t,r,n){for(let o=0;o<n;o++)r[o]^=e[t+o]}function c(e,t,r,n,o){for(;o--;)r[n++]=e[t++]}function h(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){const r=e[t];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function d(e,t){if("number"!=typeof e||e%1)throw new Error("invalid "+t);return e}function u(e,t,n,s,a,u,p){if(n=d(n,"N"),s=d(s,"r"),a=d(a,"p"),u=d(u,"dkLen"),0===n||0!=(n&n-1))throw new Error("N must be power of 2");if(n>r/128/s)throw new Error("N too large");if(s>r/128/a)throw new Error("r too large");if(!h(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!h(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let f=o(e,t,128*a*s);const m=new Uint32Array(32*a*s);for(let e=0;e<m.length;e++){const t=4*e;m[e]=(255&f[t+3])<<24|(255&f[t+2])<<16|(255&f[t+1])<<8|(255&f[t+0])<<0}const g=new Uint32Array(64*s),v=new Uint32Array(32*s*n),y=32*s,b=new Uint32Array(16),w=new Uint32Array(16),x=a*n*2;let E,S,_=0,C=null,A=!1,k=0,T=0;const P=p?parseInt(1e3/s):4294967295,M="undefined"!=typeof setImmediate?setImmediate:setTimeout,D=function(){if(A)return p(new Error("cancelled"),_/x);let t;switch(k){case 0:S=32*T*s,c(m,S,g,0,y),k=1,E=0;case 1:t=n-E,t>P&&(t=P);for(let e=0;e<t;e++)c(g,0,v,(E+e)*y,y),i(g,y,s,b,w);if(E+=t,_+=t,p){const e=parseInt(1e3*_/x);if(e!==C){if(A=p(null,_/x),A)break;C=e}}if(E<n)break;E=0,k=2;case 2:t=n-E,t>P&&(t=P);for(let e=0;e<t;e++){const e=g[16*(2*s-1)]&n-1;l(v,e*y,g,y),i(g,y,s,b,w)}if(E+=t,_+=t,p){const e=parseInt(1e3*_/x);if(e!==C){if(A=p(null,_/x),A)break;C=e}}if(E<n)break;if(c(g,0,m,S,y),T++,T<a){k=0;break}f=[];for(let e=0;e<m.length;e++)f.push(m[e]>>0&255),f.push(m[e]>>8&255),f.push(m[e]>>16&255),f.push(m[e]>>24&255);const r=o(e,f,u);return p&&p(null,1,r),r}p&&M(D)};if(!p)for(;;){const e=D();if(null!=e)return e}D()}const p={scrypt:function(e,t,r,n,o,i,s){return new Promise((function(a,l){let c=0;s&&s(0),u(e,t,r,n,o,i,(function(e,t,r){if(e)l(e);else if(r)s&&1!==c&&s(1),a(new Uint8Array(r));else if(s&&t!==c)return c=t,s(t)}))}))},syncScrypt:function(e,t,r,n,o,i){return new Uint8Array(u(e,t,r,n,o,i))}};e.exports=p}()},8785:()=>{tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})},3557:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(r=n=e,(o=String).prototype.isPrototypeOf(r)||(null===(i=n.constructor)||void 0===i?void 0:i.name)===o.name)?"string":t;var r,n,o,i})(t)===e,r=e=>t=>typeof t===e,n=e=>t=>e===t,o=t("string"),i=t("object"),s=t("array"),a=n(null),l=r("boolean"),c=n(void 0),h=e=>!(e=>null==e)(e),d=r("function"),u=r("number"),p=()=>{},f=e=>()=>e,m=e=>e,g=(e,t)=>e===t;function v(e,...t){return(...r)=>{const n=t.concat(r);return e.apply(null,n)}}const y=e=>t=>!e(t),b=e=>e(),w=f(!1),x=f(!0);class E{constructor(e,t){this.tag=e,this.value=t}static some(e){return new E(!0,e)}static none(){return E.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?E.some(e(this.value)):E.none()}bind(e){return this.tag?e(this.value):E.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:E.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return h(e)?E.some(e):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const S=Array.prototype.slice,_=Array.prototype.indexOf,C=Array.prototype.push,A=(e,t)=>{return r=e,n=t,_.call(r,n)>-1;var r,n},k=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(t(e[r],r))return!0;return!1},T=(e,t)=>{const r=[];for(let n=0;n<e;n++)r.push(t(n));return r},P=(e,t)=>{const r=e.length,n=new Array(r);for(let o=0;o<r;o++){const r=e[o];n[o]=t(r,o)}return n},M=(e,t)=>{for(let r=0,n=e.length;r<n;r++)t(e[r],r)},D=(e,t)=>{const r=[],n=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];(t(i,o)?r:n).push(i)}return{pass:r,fail:n}},O=(e,t)=>{const r=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)&&r.push(o)}return r},I=(e,t,r)=>(((e,t)=>{for(let r=e.length-1;r>=0;r--)t(e[r],r)})(e,((e,n)=>{r=t(r,e,n)})),r),R=(e,t,r)=>(M(e,((e,n)=>{r=t(r,e,n)})),r),N=(e,t)=>((e,t,r)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return E.some(o);if(r(o,n))break}return E.none()})(e,t,w),F=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(t(e[r],r))return E.some(r);return E.none()},B=e=>{const t=[];for(let r=0,n=e.length;r<n;++r){if(!s(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e);C.apply(t,e[r])}return t},L=(e,t)=>B(P(e,t)),V=(e,t)=>{for(let r=0,n=e.length;r<n;++r)if(!0!==t(e[r],r))return!1;return!0},z=(e,t)=>{const r={};for(let n=0,o=e.length;n<o;n++){const o=e[n];r[String(o)]=t(o,n)}return r},H=(e,t)=>t>=0&&t<e.length?E.some(e[t]):E.none(),j=e=>H(e,0),G=e=>H(e,e.length-1),U=(e,t)=>{for(let r=0;r<e.length;r++){const n=t(e[r],r);if(n.isSome())return n}return E.none()},q=Object.keys,W=Object.hasOwnProperty,$=(e,t)=>{const r=q(e);for(let n=0,o=r.length;n<o;n++){const o=r[n];t(e[o],o)}},Z=(e,t)=>K(e,((e,r)=>({k:r,v:t(e,r)}))),K=(e,t)=>{const r={};return $(e,((e,n)=>{const o=t(e,n);r[o.k]=o.v})),r},Y=(e,t)=>{const r=[];return $(e,((e,n)=>{r.push(t(e,n))})),r},X=e=>Y(e,m),J=(e,t)=>W.call(e,t),Q="undefined"!=typeof window?window:Function("return this;")(),ee=(e,t)=>((e,t)=>{let r=null!=t?t:Q;for(let t=0;t<e.length&&null!=r;++t)r=r[e[t]];return r})(e.split("."),t),te=Object.getPrototypeOf,re=e=>{const t=ee("ownerDocument.defaultView",e);return i(e)&&((e=>((e,t)=>{const r=((e,t)=>ee(e,t))(e,t);if(null==r)throw new Error(e+" not available on this browser");return r})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(te(e).constructor.name))},ne=e=>e.dom.nodeName.toLowerCase(),oe=e=>e.dom.nodeType,ie=e=>t=>oe(t)===e,se=e=>8===oe(e)||"#comment"===ne(e),ae=e=>le(e)&&re(e.dom),le=ie(1),ce=ie(3),he=ie(9),de=ie(11),ue=e=>t=>le(t)&&ne(t)===e,pe=(e,t,r)=>{if(!(o(r)||l(r)||u(r)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},fe=(e,t,r)=>{pe(e.dom,t,r)},me=(e,t)=>{const r=e.dom;$(t,((e,t)=>{pe(r,t,e)}))},ge=(e,t)=>{const r=e.dom.getAttribute(t);return null===r?void 0:r},ve=(e,t)=>E.from(ge(e,t)),ye=(e,t)=>{e.dom.removeAttribute(t)},be=e=>R(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),we=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},xe={fromHtml:(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return we(r.childNodes[0])},fromTag:(e,t)=>{const r=(t||document).createElement(e);return we(r)},fromText:(e,t)=>{const r=(t||document).createTextNode(e);return we(r)},fromDom:we,fromPoint:(e,t,r)=>E.from(e.dom.elementFromPoint(t,r)).map(we)},Ee=(e,t)=>{const r=e.dom;if(1!==r.nodeType)return!1;{const e=r;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Se=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,_e=(e,t)=>{const r=void 0===t?document:t.dom;return Se(r)?E.none():E.from(r.querySelector(e)).map(xe.fromDom)},Ce=(e,t)=>e.dom===t.dom,Ae=(e,t)=>{const r=e.dom,n=t.dom;return r!==n&&r.contains(n)},ke=Ee,Te=e=>xe.fromDom(e.dom.ownerDocument),Pe=e=>he(e)?e:Te(e),Me=e=>E.from(e.dom.parentNode).map(xe.fromDom),De=e=>E.from(e.dom.parentElement).map(xe.fromDom),Oe=(e,t)=>{const r=d(t)?t:w;let n=e.dom;const o=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,t=xe.fromDom(e);if(o.push(t),!0===r(t))break;n=e}return o},Ie=e=>E.from(e.dom.previousSibling).map(xe.fromDom),Re=e=>E.from(e.dom.nextSibling).map(xe.fromDom),Ne=e=>P(e.dom.childNodes,xe.fromDom),Fe=(e,t)=>{const r=e.dom.childNodes;return E.from(r[t]).map(xe.fromDom)},Be=(e,t)=>{Me(e).each((r=>{r.dom.insertBefore(t.dom,e.dom)}))},Le=(e,t)=>{Re(e).fold((()=>{Me(e).each((e=>{ze(e,t)}))}),(e=>{Be(e,t)}))},Ve=(e,t)=>{const r=(e=>Fe(e,0))(e);r.fold((()=>{ze(e,t)}),(r=>{e.dom.insertBefore(t.dom,r.dom)}))},ze=(e,t)=>{e.dom.appendChild(t.dom)},He=(e,t)=>{Be(e,t),ze(t,e)},je=(e,t)=>{M(t,((r,n)=>{const o=0===n?e:t[n-1];Le(o,r)}))},Ge=(e,t)=>{M(t,(t=>{ze(e,t)}))},Ue=e=>{e.dom.textContent="",M(Ne(e),(e=>{qe(e)}))},qe=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},We=e=>{const t=Ne(e);t.length>0&&je(e,t),qe(e)},$e=(e,t)=>xe.fromDom(e.dom.cloneNode(t)),Ze=e=>$e(e,!1),Ke=e=>$e(e,!0),Ye=(e,t)=>{const r=xe.fromTag(t),n=be(e);return me(r,n),r},Xe=["tfoot","thead","tbody","colgroup"],Je=(e,t,r)=>({element:e,rowspan:t,colspan:r}),Qe=(e,t,r)=>({element:e,cells:t,section:r}),et=(e,t,r)=>({element:e,isNew:t,isLocked:r}),tt=(e,t,r,n)=>({element:e,cells:t,section:r,isNew:n}),rt=d(Element.prototype.attachShadow)&&d(Node.prototype.getRootNode),nt=f(rt),ot=rt?e=>xe.fromDom(e.dom.getRootNode()):Pe,it=e=>xe.fromDom(e.dom.host),st=e=>{const t=ce(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const r=t.ownerDocument;return(e=>{const t=ot(e);return de(r=t)&&h(r.dom.host)?E.some(t):E.none();var r})(xe.fromDom(t)).fold((()=>r.body.contains(t)),(n=st,o=it,e=>n(o(e))));var n,o},at=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return xe.fromDom(t)},lt=(e,t)=>{let r=[];return M(Ne(e),(e=>{t(e)&&(r=r.concat([e])),r=r.concat(lt(e,t))})),r},ct=(e,t,r)=>((e,r,n)=>O(Oe(e,n),(e=>Ee(e,t))))(e,0,r),ht=(e,t)=>((e,r)=>O(Ne(e),(e=>Ee(e,t))))(e),dt=(e,t)=>((e,t)=>{const r=void 0===t?document:t.dom;return Se(r)?[]:P(r.querySelectorAll(e),xe.fromDom)})(t,e);var ut=(e,t,r,n,o)=>e(r,n)?E.some(r):d(o)&&o(r)?E.none():t(r,n,o);const pt=(e,t,r)=>{let n=e.dom;const o=d(r)?r:w;for(;n.parentNode;){n=n.parentNode;const e=xe.fromDom(n);if(t(e))return E.some(e);if(o(e))break}return E.none()},ft=(e,t,r)=>ut(((e,t)=>t(e)),pt,e,t,r),mt=(e,t,r)=>pt(e,(e=>Ee(e,t)),r),gt=(e,t)=>((e,r)=>N(e.dom.childNodes,(e=>{return r=xe.fromDom(e),Ee(r,t);var r})).map(xe.fromDom))(e),vt=(e,t)=>_e(t,e),yt=(e,t,r)=>ut(((e,t)=>Ee(e,t)),mt,e,t,r),bt=(e,t,r=g)=>e.exists((e=>r(e,t))),wt=e=>{const t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t},xt=(e,t)=>e?E.some(t):E.none(),Et=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,St=(e,t,r=0,n)=>{const o=e.indexOf(t,r);return-1!==o&&(!!c(n)||o+t.length<=n)},_t=(e,t)=>Et(e,t,0),Ct=(e,t)=>Et(e,t,e.length-t.length),At=(e=>t=>t.replace(e,""))(/^\s+|\s+$/g),kt=e=>e.length>0,Tt=e=>void 0!==e.style&&d(e.style.getPropertyValue),Pt=(e,t,r)=>{if(!o(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);Tt(e)&&e.style.setProperty(t,r)},Mt=(e,t,r)=>{const n=e.dom;Pt(n,t,r)},Dt=(e,t)=>{const r=e.dom;$(t,((e,t)=>{Pt(r,t,e)}))},Ot=(e,t)=>{const r=e.dom,n=window.getComputedStyle(r).getPropertyValue(t);return""!==n||st(e)?n:It(r,t)},It=(e,t)=>Tt(e)?e.style.getPropertyValue(t):"",Rt=(e,t)=>{const r=e.dom,n=It(r,t);return E.from(n).filter((e=>e.length>0))},Nt=(e,t)=>{((e,t)=>{Tt(e)&&e.style.removeProperty(t)})(e.dom,t),bt(ve(e,"style").map(At),"")&&ye(e,"style")},Ft=(e,t,r=0)=>ve(e,t).map((e=>parseInt(e,10))).getOr(r),Bt=(e,t)=>Ft(e,t,1),Lt=e=>ue("col")(e)?Ft(e,"span",1)>1:Bt(e,"colspan")>1,Vt=e=>Bt(e,"rowspan")>1,zt=(e,t)=>parseInt(Ot(e,t),10),Ht=f(10),jt=f(10),Gt=(e,t)=>Ut(e,t,x),Ut=(e,t,r)=>L(Ne(e),(e=>Ee(e,t)?r(e)?[e]:[]:Ut(e,t,r))),qt=(e,t)=>((e,t,r=w)=>r(t)?E.none():A(e,ne(t))?E.some(t):mt(t,e.join(","),(e=>Ee(e,"table")||r(e))))(["td","th"],e,t),Wt=e=>Gt(e,"th,td"),$t=e=>Ee(e,"colgroup")?ht(e,"col"):L(Yt(e),(e=>ht(e,"col"))),Zt=(e,t)=>yt(e,"table",t),Kt=e=>Gt(e,"tr"),Yt=e=>Zt(e).fold(f([]),(e=>ht(e,"colgroup"))),Xt=(e,t)=>P(e,(e=>{if("colgroup"===ne(e)){const t=P($t(e),(e=>{const t=Ft(e,"span",1);return Je(e,1,t)}));return Qe(e,t,"colgroup")}{const r=P(Wt(e),(e=>{const t=Ft(e,"rowspan",1),r=Ft(e,"colspan",1);return Je(e,t,r)}));return Qe(e,r,t(e))}})),Jt=e=>Me(e).map((e=>{const t=ne(e);return(e=>A(Xe,e))(t)?t:"tbody"})).getOr("tbody"),Qt=e=>{const t=Kt(e),r=[...Yt(e),...t];return Xt(r,Jt)},er=e=>{let t,r=!1;return(...n)=>(r||(r=!0,t=e.apply(null,n)),t)},tr=()=>rr(0,0),rr=(e,t)=>({major:e,minor:t}),nr={nu:rr,detect:(e,t)=>{const r=String(t).toLowerCase();return 0===e.length?tr():((e,t)=>{const r=((e,t)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.test(t))return n}})(e,t);if(!r)return{major:0,minor:0};const n=e=>Number(t.replace(r,"$"+e));return rr(n(1),n(2))})(e,r)},unknown:tr},or=(e,t)=>{const r=String(t).toLowerCase();return N(e,(e=>e.search(r)))},ir=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,sr=e=>t=>St(t,e),ar=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>St(e,"edge/")&&St(e,"chrome")&&St(e,"safari")&&St(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ir],search:e=>St(e,"chrome")&&!St(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>St(e,"msie")||St(e,"trident")},{name:"Opera",versionRegexes:[ir,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:sr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:sr("firefox")},{name:"Safari",versionRegexes:[ir,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(St(e,"safari")||St(e,"mobile/"))&&St(e,"applewebkit")}],lr=[{name:"Windows",search:sr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>St(e,"iphone")||St(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:sr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:sr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:sr("linux"),versionRegexes:[]},{name:"Solaris",search:sr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:sr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:sr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],cr={browsers:f(ar),oses:f(lr)},hr="Edge",dr="Chromium",ur="Opera",pr="Firefox",fr="Safari",mr=e=>{const t=e.current,r=e.version,n=e=>()=>t===e;return{current:t,version:r,isEdge:n(hr),isChromium:n(dr),isIE:n("IE"),isOpera:n(ur),isFirefox:n(pr),isSafari:n(fr)}},gr=()=>mr({current:void 0,version:nr.unknown()}),vr=mr,yr=(f(hr),f(dr),f("IE"),f(ur),f(pr),f(fr),"Windows"),br="Android",wr="Linux",xr="macOS",Er="Solaris",Sr="FreeBSD",_r="ChromeOS",Cr=e=>{const t=e.current,r=e.version,n=e=>()=>t===e;return{current:t,version:r,isWindows:n(yr),isiOS:n("iOS"),isAndroid:n(br),isMacOS:n(xr),isLinux:n(wr),isSolaris:n(Er),isFreeBSD:n(Sr),isChromeOS:n(_r)}},Ar=()=>Cr({current:void 0,version:nr.unknown()}),kr=Cr,Tr=(f(yr),f("iOS"),f(br),f(wr),f(xr),f(Er),f(Sr),f(_r),e=>window.matchMedia(e).matches);let Pr=er((()=>((e,t,r)=>{const n=cr.browsers(),o=cr.oses(),i=t.bind((e=>((e,t)=>U(t.brands,(t=>{const r=t.brand.toLowerCase();return N(e,(e=>{var t;return r===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:nr.nu(parseInt(t.version,10),0)})))})))(n,e))).orThunk((()=>((e,t)=>or(e,t).map((e=>{const r=nr.detect(e.versionRegexes,t);return{current:e.name,version:r}})))(n,e))).fold(gr,vr),s=((e,t)=>or(e,t).map((e=>{const r=nr.detect(e.versionRegexes,t);return{current:e.name,version:r}})))(o,e).fold(Ar,kr),a=((e,t,r,n)=>{const o=e.isiOS()&&!0===/ipad/i.test(r),i=e.isiOS()&&!o,s=e.isiOS()||e.isAndroid(),a=s||n("(pointer:coarse)"),l=o||!i&&s&&n("(min-device-width:768px)"),c=i||s&&!l,h=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r),d=!c&&!l&&!h;return{isiPad:f(o),isiPhone:f(i),isTablet:f(l),isPhone:f(c),isTouch:f(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:f(h),isDesktop:f(d)}})(s,i,e,r);return{browser:i,os:s,deviceType:a}})(navigator.userAgent,E.from(navigator.userAgentData),Tr)));const Mr=()=>Pr(),Dr=(e,t)=>{const r=r=>{const n=t(r);if(n<=0||null===n){const t=Ot(r,e);return parseFloat(t)||0}return n},n=(e,t)=>R(t,((t,r)=>{const n=Ot(e,r),o=void 0===n?0:parseInt(n,10);return isNaN(o)?t:t+o}),0);return{set:(t,r)=>{if(!u(r)&&!r.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+r);const n=t.dom;Tt(n)&&(n.style[e]=r+"px")},get:r,getOuter:r,aggregate:n,max:(e,t,r)=>{const o=n(e,r);return t>o?t-o:0}}},Or=(e,t,r)=>((e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?E.none():E.some(t)})(e).getOr(t))(Ot(e,t),r),Ir=Dr("width",(e=>e.dom.offsetWidth)),Rr=e=>Ir.get(e),Nr=e=>Ir.getOuter(e),Fr=e=>((e,t)=>{const r=e.dom,n=r.getBoundingClientRect().width||r.offsetWidth;return"border-box"===t?n:((e,t,r,n)=>t-Or(e,`padding-${r}`,0)-Or(e,`padding-${n}`,0)-Or(e,`border-${r}-width`,0)-Or(e,`border-${n}-width`,0))(e,n,"left","right")})(e,"content-box"),Br=(e,t,r)=>{const n=e.cells,o=n.slice(0,t),i=n.slice(t),s=o.concat(r).concat(i);return zr(e,s)},Lr=(e,t,r)=>Br(e,t,[r]),Vr=(e,t,r)=>{e.cells[t]=r},zr=(e,t)=>tt(e.element,t,e.section,e.isNew),Hr=(e,t)=>e.cells[t],jr=(e,t)=>Hr(e,t).element,Gr=e=>e.cells.length,Ur=e=>{const t=D(e,(e=>"colgroup"===e.section));return{rows:t.fail,cols:t.pass}},qr=(e,t,r)=>{const n=P(e.cells,r);return tt(t(e.element),n,e.section,!0)},Wr="data-snooker-locked-cols",$r=e=>ve(e,Wr).bind((e=>E.from(e.match(/\d+/g)))).map((e=>z(e,x))),Zr=e=>{const t=R(Ur(e).rows,((e,t)=>(M(t.cells,((t,r)=>{t.isLocked&&(e[r]=!0)})),e)),{}),r=Y(t,((e,t)=>parseInt(t,10)));return((e,t)=>{const r=S.call(e,0);return r.sort(void 0),r})(r)},Kr=(e,t)=>e+","+t,Yr=(e,t)=>{const r=L(e.all,(e=>e.cells));return O(r,t)},Xr=e=>{const t={},r=[],n=j(e).map((e=>e.element)).bind(Zt).bind($r).getOr({});let o=0,i=0,s=0;const{pass:a,fail:l}=D(e,(e=>"colgroup"===e.section));M(l,(e=>{const a=[];M(e.cells,(e=>{let r=0;for(;void 0!==t[Kr(s,r)];)r++;const o=((e,t)=>J(e,t)&&void 0!==e[t]&&null!==e[t])(n,r.toString()),l=((e,t,r,n,o,i)=>({element:e,rowspan:t,colspan:r,row:n,column:o,isLocked:i}))(e.element,e.rowspan,e.colspan,s,r,o);for(let n=0;n<e.colspan;n++)for(let o=0;o<e.rowspan;o++){const e=r+n,a=Kr(s+o,e);t[a]=l,i=Math.max(i,e+1)}a.push(l)})),o++,r.push(Qe(e.element,a,e.section)),s++}));const{columns:c,colgroups:h}=G(a).map((e=>{const t=(e=>{const t={};let r=0;return M(e.cells,(e=>{const n=e.colspan;T(n,(o=>{const i=r+o;t[i]=((e,t,r)=>({element:e,colspan:t,column:r}))(e.element,n,i)})),r+=n})),t})(e),r=((e,t)=>({element:e,columns:t}))(e.element,X(t));return{colgroups:[r],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),d=((e,t)=>({rows:e,columns:t}))(o,i);return{grid:d,access:t,all:r,columns:c,colgroups:h}},Jr=e=>{const t=Qt(e);return Xr(t)},Qr=Xr,en=(e,t,r)=>E.from(e.access[Kr(t,r)]),tn=(e,t,r)=>{const n=Yr(e,(e=>r(t,e.element)));return n.length>0?E.some(n[0]):E.none()},rn=Yr,nn=e=>L(e.all,(e=>e.cells)),on=e=>X(e.columns),sn=e=>q(e.columns).length>0,an=(e,t)=>E.from(e.columns[t]),ln=(e,t=x)=>{const r=e.grid,n=T(r.columns,m),o=T(r.rows,m);return P(n,(r=>cn((()=>L(o,(t=>en(e,t,r).filter((e=>e.column===r)).toArray()))),(e=>1===e.colspan&&t(e.element)),(()=>en(e,0,r)))))},cn=(e,t,r)=>{const n=e();return N(n,t).orThunk((()=>E.from(n[0]).orThunk(r))).map((e=>e.element))},hn=e=>{const t=e.grid,r=T(t.rows,m),n=T(t.columns,m);return P(r,(t=>cn((()=>L(n,(r=>en(e,t,r).filter((e=>e.row===t)).fold(f([]),(e=>[e]))))),(e=>1===e.rowspan),(()=>en(e,t,0)))))},dn=(e,t)=>r=>"rtl"===un(r)?t:e,un=e=>"rtl"===Ot(e,"direction")?"rtl":"ltr",pn=Dr("height",(e=>{const t=e.dom;return st(e)?t.getBoundingClientRect().height:t.offsetHeight})),fn=e=>pn.get(e),mn=e=>pn.getOuter(e),gn=(e,t)=>({left:e,top:t,translate:(r,n)=>gn(e+r,t+n)}),vn=gn,yn=(e,t)=>void 0!==e?e:void 0!==t?t:0,bn=e=>{const t=e.dom.ownerDocument,r=t.body,n=t.defaultView,o=t.documentElement;if(r===e.dom)return vn(r.offsetLeft,r.offsetTop);const i=yn(null==n?void 0:n.pageYOffset,o.scrollTop),s=yn(null==n?void 0:n.pageXOffset,o.scrollLeft),a=yn(o.clientTop,r.clientTop),l=yn(o.clientLeft,r.clientLeft);return wn(e).translate(s-l,i-a)},wn=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?vn(r.offsetLeft,r.offsetTop):st(e)?(e=>{const t=e.getBoundingClientRect();return vn(t.left,t.top)})(t):vn(0,0)},xn=(e,t)=>({row:e,y:t}),En=(e,t)=>({col:e,x:t}),Sn=e=>bn(e).left+Nr(e),_n=e=>bn(e).left,Cn=(e,t)=>En(e,_n(t)),An=(e,t)=>En(e,Sn(t)),kn=e=>bn(e).top,Tn=(e,t)=>xn(e,kn(t)),Pn=(e,t)=>xn(e,kn(t)+mn(t)),Mn=(e,t,r)=>{if(0===r.length)return[];const n=P(r.slice(1),((t,r)=>t.map((t=>e(r,t))))),o=r[r.length-1].map((e=>t(r.length-1,e)));return n.concat([o])},Dn={delta:m,positions:e=>Mn(Tn,Pn,e),edge:kn},On=dn({delta:m,edge:_n,positions:e=>Mn(Cn,An,e)},{delta:e=>-e,edge:Sn,positions:e=>Mn(An,Cn,e)}),In={delta:(e,t)=>On(t).delta(e,t),positions:(e,t)=>On(t).positions(e,t),edge:e=>On(e).edge(e)},Rn={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Nn=(()=>{const e="[0-9]+",t="[eE][+-]?"+e,r=e=>`(?:${e})?`,n=["Infinity",e+"\\."+r(e)+r(t),"\\."+e+r(t),e+r(t)].join("|");return new RegExp(`^([+-]?(?:${n}))(.*)$`)})(),Fn=/(\d+(\.\d+)?)%/,Bn=/(\d+(\.\d+)?)px|em/,Ln=ue("col"),Vn=(e,t,r)=>{const n=De(e).getOrThunk((()=>at(Te(e))));return t(e)/r(n)*100},zn=(e,t)=>{Mt(e,"width",t+"px")},Hn=(e,t)=>{Mt(e,"width",t+"%")},jn=(e,t)=>{Mt(e,"height",t+"px")},Gn=e=>{const t=(e=>{return Or(t=e,"height",t.dom.offsetHeight)+"px";var t})(e);return t?((e,t,r,n)=>{const o=parseFloat(e);return Ct(e,"%")&&"table"!==ne(t)?((e,t,r,n)=>{const o=Zt(e).map((e=>{const n=r(e);return Math.floor(t/100*n)})).getOr(t);return n(e,o),o})(t,o,r,n):o})(t,e,fn,jn):fn(e)},Un=(e,t)=>Rt(e,t).orThunk((()=>ve(e,t).map((e=>e+"px")))),qn=e=>Un(e,"width"),Wn=e=>Vn(e,Rr,Fr),$n=e=>{return Ln(e)?Rr(e):Or(t=e,"width",t.dom.offsetWidth);var t},Zn=e=>((e,t,r)=>r(e)/Bt(e,"rowspan"))(e,0,Gn),Kn=(e,t,r)=>{Mt(e,"width",t+r)},Yn=e=>Vn(e,Rr,Fr)+"%",Xn=f(Fn),Jn=ue("col"),Qn=e=>qn(e).getOrThunk((()=>$n(e)+"px")),eo=e=>{return(t=e,Un(t,"height")).getOrThunk((()=>Zn(e)+"px"));var t},to=(e,t,r,n,o,i)=>e.filter(n).fold((()=>i(((e,t)=>{if(t<0||t>=e.length-1)return E.none();const r=e[t].fold((()=>{const r=(e=>{const t=S.call(e,0);return t.reverse(),t})(e.slice(0,t));return U(r,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>E.some({value:e,delta:0}))),n=e[t+1].fold((()=>{const r=e.slice(t+1);return U(r,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>E.some({value:e,delta:1})));return r.bind((e=>n.map((t=>{const r=t.delta+e.delta;return Math.abs(t.value-e.value)/r}))))})(r,t))),(e=>o(e))),ro=(e,t,r,n)=>{const o=ln(e),i=sn(e)?(e=>P(on(e),(e=>E.from(e.element))))(e):o,s=[E.some(In.edge(t))].concat(P(In.positions(o,t),(e=>e.map((e=>e.x))))),a=y(Lt);return P(i,((e,t)=>to(e,t,s,a,(e=>{if((e=>{const t=Mr().browser,r=t.isChromium()||t.isFirefox();return!Jn(e)||r})(e))return r(e);{const e=null!=(i=o[t])?m(i):E.none();return to(e,t,s,a,(e=>n(E.some(Rr(e)))),n)}var i}),n)))},no=e=>e.map((e=>e+"px")).getOr(""),oo=(e,t,r)=>ro(e,t,$n,(e=>e.getOrThunk(r.minCellWidth))),io=(e,t,r,n,o)=>{const i=hn(e),s=[E.some(r.edge(t))].concat(P(r.positions(i,t),(e=>e.map((e=>e.y)))));return P(i,((e,t)=>to(e,t,s,y(Vt),n,o)))},so=(e,t)=>()=>st(e)?t(e):parseFloat(Rt(e,"width").getOr("0")),ao=e=>{const t=so(e,(e=>parseFloat(Yn(e)))),r=so(e,Rr);return{width:t,pixelWidth:r,getWidths:(t,r)=>((e,t,r)=>ro(e,t,Wn,(e=>e.fold((()=>r.minCellWidth()),(e=>e/r.pixelWidth()*100)))))(t,e,r),getCellDelta:e=>e/r()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>Ht()/r()*100,setElementWidth:Hn,adjustTableWidth:r=>{const n=t();Hn(e,n+r/100*n)},isRelative:!0,label:"percent"}},lo=e=>{const t=so(e,Rr);return{width:t,pixelWidth:t,getWidths:(t,r)=>oo(t,e,r),getCellDelta:m,singleColumnWidth:(e,t)=>[Math.max(Ht(),e+t)-e],minCellWidth:Ht,setElementWidth:zn,adjustTableWidth:r=>{const n=t()+r;zn(e,n)},isRelative:!1,label:"pixel"}},co=e=>qn(e).fold((()=>(e=>{const t=so(e,Rr),r=f(0);return{width:t,pixelWidth:t,getWidths:(t,r)=>oo(t,e,r),getCellDelta:r,singleColumnWidth:f([0]),minCellWidth:r,setElementWidth:p,adjustTableWidth:p,isRelative:!0,label:"none"}})(e)),(t=>((e,t)=>null!==Xn().exec(t)?ao(e):lo(e))(e,t))),ho=lo,uo=ao,po=(e,t,r)=>{const n=e[r].element,o=xe.fromTag("td");ze(o,xe.fromTag("br")),(t?ze:Ve)(n,o)},fo=((e,t)=>{const r=t=>e(t)?E.from(t.dom.nodeValue):E.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return r(t).getOr("")},getOption:r,set:(t,r)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=r}}})(ce),mo=e=>fo.get(e),go=e=>fo.getOption(e),vo=(e,t)=>fo.set(e,t),yo=e=>"img"===ne(e)?1:go(e).fold((()=>Ne(e).length),(e=>e.length)),bo=["img","br"],wo=e=>go(e).filter((e=>0!==e.trim().length||e.indexOf("")>-1)).isSome()||A(bo,ne(e))||(e=>ae(e)&&"false"===ge(e,"contenteditable"))(e),xo=e=>((e,t)=>{const r=e=>{for(let n=0;n<e.childNodes.length;n++){const o=xe.fromDom(e.childNodes[n]);if(t(o))return E.some(o);const i=r(e.childNodes[n]);if(i.isSome())return i}return E.none()};return r(e.dom)})(e,wo),Eo=e=>So(e,wo),So=(e,t)=>{const r=e=>{const n=Ne(e);for(let e=n.length-1;e>=0;e--){const o=n[e];if(t(o))return E.some(o);const i=r(o);if(i.isSome())return i}return E.none()};return r(e)},_o={scope:["row","col"]},Co=e=>()=>{const t=xe.fromTag("td",e.dom);return ze(t,xe.fromTag("br",e.dom)),t},Ao=e=>()=>xe.fromTag("col",e.dom),ko=e=>()=>xe.fromTag("colgroup",e.dom),To=e=>()=>xe.fromTag("tr",e.dom),Po=(e,t,r)=>{const n=((e,t)=>{const r=Ye(e,t),n=Ne(Ke(e));return Ge(r,n),r})(e,t);return $(r,((e,t)=>{null===e?ye(n,t):fe(n,t,e)})),n},Mo=e=>e,Do=(e,t,r)=>{const n=(e,t)=>{((e,t)=>{const r=e.dom,n=t.dom;Tt(r)&&Tt(n)&&(n.style.cssText=r.style.cssText)})(e.element,t),Nt(t,"height"),1!==e.colspan&&Nt(t,"width")};return{col:r=>{const o=xe.fromTag(ne(r.element),t.dom);return n(r,o),e(r.element,o),o},colgroup:ko(t),row:To(t),cell:o=>{const i=xe.fromTag(ne(o.element),t.dom),s=r.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=s.length>0?((e,t,r)=>xo(e).map((n=>{const o=r.join(","),i=ct(n,o,(t=>Ce(t,e)));return I(i,((e,t)=>{const r=Ze(t);return ze(e,r),r}),t)})).getOr(t))(o.element,i,s):i;return ze(a,xe.fromTag("br")),n(o,i),((e,t)=>{$(_o,((r,n)=>ve(e,n).filter((e=>A(r,e))).each((e=>fe(t,n,e)))))})(o.element,i),e(o.element,i),i},replace:Po,colGap:Ao(t),gap:Co(t)}},Oo=e=>({col:Ao(e),colgroup:ko(e),row:To(e),cell:Co(e),replace:Mo,colGap:Ao(e),gap:Co(e)}),Io=e=>yt(e,"[contenteditable]"),Ro=(e,t=!1)=>st(e)?e.dom.isContentEditable:Io(e).fold(f(t),(e=>"true"===No(e))),No=e=>e.dom.contentEditable,Fo=e=>xe.fromDom(e.getBody()),Bo=e=>t=>Ce(t,Fo(e)),Lo=e=>{ye(e,"data-mce-style");const t=e=>ye(e,"data-mce-style");M(Wt(e),t),M($t(e),t),M(Kt(e),t)},Vo=e=>xe.fromDom(e.selection.getStart()),zo=e=>e.getBoundingClientRect().width,Ho=e=>e.getBoundingClientRect().height,jo=e=>ft(e,ue("table")).exists(Ro),Go=(e,t)=>{const r=t.column,n=t.column+t.colspan-1,o=t.row,i=t.row+t.rowspan-1;return r<=e.finishCol&&n>=e.startCol&&o<=e.finishRow&&i>=e.startRow},Uo=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,qo=(e,t,r)=>{const n=tn(e,t,Ce),o=tn(e,r,Ce);return n.bind((e=>o.map((t=>{return r=e,n=t,{startRow:Math.min(r.row,n.row),startCol:Math.min(r.column,n.column),finishRow:Math.max(r.row+r.rowspan-1,n.row+n.rowspan-1),finishCol:Math.max(r.column+r.colspan-1,n.column+n.colspan-1)};var r,n}))))},Wo=(e,t,r)=>qo(e,t,r).map((t=>{const r=rn(e,v(Go,t));return P(r,(e=>e.element))})),$o=(e,t)=>tn(e,t,((e,t)=>Ae(t,e))).map((e=>e.element)),Zo=(e,t,r)=>{const n=Yo(e);return Wo(n,t,r)},Ko=(e,t,r,n,o)=>{const i=Yo(e),s=Ce(e,r)?E.some(t):$o(i,t),a=Ce(e,o)?E.some(n):$o(i,n);return s.bind((e=>a.bind((t=>Wo(i,e,t)))))},Yo=Jr;var Xo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Jo=()=>({up:f({selector:mt,closest:yt,predicate:pt,all:Oe}),down:f({selector:dt,predicate:lt}),styles:f({get:Ot,getRaw:Rt,set:Mt,remove:Nt}),attrs:f({get:ge,set:fe,remove:ye,copyTo:(e,t)=>{const r=be(e);me(t,r)}}),insert:f({before:Be,after:Le,afterAll:je,append:ze,appendAll:Ge,prepend:Ve,wrap:He}),remove:f({unwrap:We,remove:qe}),create:f({nu:xe.fromTag,clone:e=>xe.fromDom(e.dom.cloneNode(!1)),text:xe.fromText}),query:f({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:Ie,nextSibling:Re}),property:f({children:Ne,name:ne,parent:Me,document:e=>Pe(e).dom,isText:ce,isComment:se,isElement:le,isSpecial:e=>{const t=ne(e);return A(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>le(e)?ve(e,"lang"):E.none(),getText:mo,setText:vo,isBoundary:e=>!!le(e)&&("body"===ne(e)||A(Xo,ne(e))),isEmptyTag:e=>!!le(e)&&A(["br","img","hr","input"],ne(e)),isNonEditable:e=>le(e)&&"false"===ge(e,"contenteditable")}),eq:Ce,is:ke});const Qo=(e,t,r,n)=>{const o=t(e,r);return I(n,((r,n)=>{const o=t(e,n);return ei(e,r,o)}),o)},ei=(e,t,r)=>t.bind((t=>r.filter(v(e.eq,t)))),ti=Jo(),ri=(e,t)=>((e,t,r)=>r.length>0?((e,t,r,n)=>n(e,t,r[0],r.slice(1)))(e,t,r,Qo):E.none())(ti,((t,r)=>e(r)),t),ni=e=>mt(e,"table"),oi=(e,t,r)=>{const n=e=>t=>void 0!==r&&r(t)||Ce(t,e);return Ce(e,t)?E.some({boxes:E.some([e]),start:e,finish:t}):ni(e).bind((o=>ni(t).bind((i=>{if(Ce(o,i))return E.some({boxes:Zo(o,e,t),start:e,finish:t});if(Ae(o,i)){const r=ct(t,"td,th",n(o)),s=r.length>0?r[r.length-1]:t;return E.some({boxes:Ko(o,e,o,t,i),start:e,finish:s})}if(Ae(i,o)){const r=ct(e,"td,th",n(i)),s=r.length>0?r[r.length-1]:e;return E.some({boxes:Ko(i,e,o,t,i),start:e,finish:s})}return((e,t,r)=>((e,t,r,n=w)=>{const o=[t].concat(e.up().all(t)),i=[r].concat(e.up().all(r)),s=e=>F(e,n).fold((()=>e),(t=>e.slice(0,t+1))),a=s(o),l=s(i),c=N(a,(t=>k(l,((e,t)=>v(e.eq,t))(e,t))));return{firstpath:a,secondpath:l,shared:c}})(ti,e,t,void 0))(e,t).shared.bind((s=>yt(s,"table",r).bind((r=>{const s=ct(t,"td,th",n(r)),a=s.length>0?s[s.length-1]:t,l=ct(e,"td,th",n(r)),c=l.length>0?l[l.length-1]:e;return E.some({boxes:Ko(r,e,o,t,i),start:c,finish:a})}))))}))))},ii=(e,t)=>{const r=dt(e,t);return r.length>0?E.some(r):E.none()},si=(e,t,r)=>vt(e,t).bind((t=>vt(e,r).bind((e=>ri(ni,[t,e]).map((r=>({first:t,last:e,table:r}))))))),ai=(e,t,r,n,o)=>((e,t)=>N(e,(e=>Ee(e,t))))(e,o).bind((e=>((e,t,r)=>Zt(e).bind((n=>((e,t,r,n)=>tn(e,t,Ce).bind((t=>{const o=r>0?t.row+t.rowspan-1:t.row,i=n>0?t.column+t.colspan-1:t.column;return en(e,o+r,i+n).map((e=>e.element))})))(Yo(n),e,t,r))))(e,t,r).bind((e=>((e,t)=>mt(e,"table").bind((r=>vt(r,t).bind((t=>oi(t,e).bind((e=>e.boxes.map((t=>({boxes:t,start:e.start,finish:e.finish}))))))))))(e,n))))),li=(e,t)=>ii(e,t),ci=(e,t,r)=>si(e,t,r).bind((t=>{const r=t=>Ce(e,t),n="thead,tfoot,tbody,table",o=mt(t.first,n,r),i=mt(t.last,n,r);return o.bind((e=>i.bind((r=>Ce(e,r)?((e,t,r)=>((e,t,r)=>qo(e,t,r).bind((t=>((e,t)=>{let r=!0;const n=v(Uo,t);for(let o=t.startRow;o<=t.finishRow;o++)for(let i=t.startCol;i<=t.finishCol;i++)r=r&&en(e,o,i).exists(n);return r?E.some(t):E.none()})(e,t))))(Yo(e),t,r))(t.table,t.first,t.last):E.none()))))})),hi=m,di=e=>{const t=(e,t)=>ve(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&V(e,(e=>t(e,"rowspan")||t(e,"colspan")))?E.some(e):E.none()},ui=(e,t,r)=>t.length<=1?E.none():ci(e,r.firstSelectedSelector,r.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),pi="data-mce-selected",fi="td["+pi+"],th["+pi+"]",mi="["+pi+"]",gi="data-mce-first-selected",vi="td["+gi+"],th["+gi+"]",yi="data-mce-last-selected",bi=mi,wi={selected:pi,selectedSelector:fi,firstSelected:gi,firstSelectedSelector:vi,lastSelected:yi,lastSelectedSelector:"td["+yi+"],th["+yi+"]"},xi=(e,t,r)=>({element:r,mergable:ui(t,e,wi),unmergable:di(e),selection:hi(e)}),Ei=e=>(t,r)=>{const n=ne(t),o="col"===n||"colgroup"===n?Zt(i=t).bind((e=>li(e,wi.firstSelectedSelector))).fold(f(i),(e=>e[0])):t;var i;return yt(o,e,r)},Si=Ei("th,td,caption"),_i=Ei("th,td"),Ci=e=>{return t=e.model.table.getSelectedCells(),P(t,xe.fromDom);var t},Ai=(e,t)=>{e.on("BeforeGetContent",(t=>{const r=r=>{t.preventDefault(),(e=>Zt(e[0]).map((e=>{const t=((e,t)=>{const r=e=>Ee(e.element,t),n=Ke(e),o=Qt(n),i=co(e),s=Qr(o),a=((e,t)=>{const r=e.grid.columns;let n=e.grid.rows,o=r,i=0,s=0;const a=[],l=[];return $(e.access,(e=>{if(a.push(e),t(e)){l.push(e);const t=e.row,r=t+e.rowspan-1,a=e.column,c=a+e.colspan-1;t<n?n=t:r>i&&(i=r),a<o?o=a:c>s&&(s=c)}})),((e,t,r,n,o,i)=>({minRow:e,minCol:t,maxRow:r,maxCol:n,allCells:o,selectedCells:i}))(n,o,i,s,a,l)})(s,r),l="th:not("+t+"),td:not("+t+")",c=Ut(n,"th,td",(e=>Ee(e,l)));M(c,qe),((e,t,r,n)=>{const o=O(e,(e=>"colgroup"!==e.section)),i=t.grid.columns,s=t.grid.rows;for(let e=0;e<s;e++){let s=!1;for(let a=0;a<i;a++)e<r.minRow||e>r.maxRow||a<r.minCol||a>r.maxCol||(en(t,e,a).filter(n).isNone()?po(o,s,e):s=!0)}})(o,s,a,r);const h=((e,t,r,n)=>{if(0===n.minCol&&t.grid.columns===n.maxCol+1)return 0;const o=oo(t,e,r),i=R(o,((e,t)=>e+t),0),s=R(o.slice(n.minCol,n.maxCol+1),((e,t)=>e+t),0),a=s/i*r.pixelWidth()-r.pixelWidth();return r.getCellDelta(a)})(e,Jr(e),i,a);return((e,t,r,n)=>{$(r.columns,(e=>{(e.column<t.minCol||e.column>t.maxCol)&&qe(e.element)}));const o=O(Gt(e,"tr"),(e=>0===e.dom.childElementCount));M(o,qe),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||M(Gt(e,"th,td"),(e=>{ye(e,"rowspan"),ye(e,"colspan")})),ye(e,Wr),ye(e,"data-snooker-col-series"),co(e).adjustTableWidth(n)})(n,a,s,h),n})(e,bi);return Lo(t),[t]})))(r).each((r=>{t.content="text"===t.format?(e=>P(e,(e=>e.dom.innerText)).join(""))(r):((e,t)=>P(t,(t=>e.selection.serializer.serialize(t.dom,{}))).join(""))(e,r)}))};if(!0===t.selection){const t=(e=>O(Ci(e),(e=>Ee(e,wi.selectedSelector))))(e);t.length>=1&&r(t)}})),e.on("BeforeSetContent",(r=>{if(!0===r.selection&&!0===r.paste){const n=Ci(e);j(n).each((n=>{Zt(n).each((o=>{const i=O(((e,t)=>{const r=document.createElement("div");return r.innerHTML=e,Ne(xe.fromDom(r))})(r.content),(e=>"meta"!==ne(e))),s=ue("table");if(1===i.length&&s(i[0])){r.preventDefault();const s=xe.fromDom(e.getDoc()),a=Oo(s),l=((e,t,r)=>({element:e,clipboard:t,generators:r}))(n,i[0],a);t.pasteCells(o,l).each((()=>{e.focus()}))}}))}))}}))},ki=(e,t)=>({element:e,offset:t}),Ti=(e,t,r)=>e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?r(t).bind((t=>Ti(e,t,r).orThunk((()=>E.some(t))))):E.none(),Pi=(e,t)=>e.property().isText(t)?e.property().getText(t).length:e.property().children(t).length,Mi=(e,t)=>{const r=Ti(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(r))return ki(r,Pi(e,r));const n=e.property().children(r);return n.length>0?Mi(e,n[n.length-1]):ki(r,Pi(e,r))},Di=Mi,Oi=Jo(),Ii=(e,t)=>{if(!Lt(e)){const r=(e=>qn(e).bind((e=>{return t=e,r=["fixed","relative","empty"],E.from(Nn.exec(t)).bind((e=>{const t=Number(e[1]),n=e[2];return((e,t)=>k(t,(t=>k(Rn[t],(t=>e===t)))))(n,r)?E.some({value:t,unit:n}):E.none()}));var t,r})))(e);r.each((r=>{const n=r.value/2;Kn(e,n,r.unit),Kn(t,n,r.unit)}))}},Ri=e=>P(e,f(0)),Ni=(e,t,r,n,o)=>o(e.slice(0,t)).concat(n).concat(o(e.slice(r))),Fi=e=>(t,r,n,o)=>{if(e(n)){const e=Math.max(o,t[r]-Math.abs(n)),i=Math.abs(e-t[r]);return n>=0?i:-i}return n},Bi=Fi((e=>e<0)),Li=Fi(x),Vi=()=>{const e=(e,t,r,n)=>{const o=(100+r)/100,i=Math.max(n,(e[t]+r)/o);return P(e,((e,r)=>(r===t?i:e/o)-e))},t=(t,r,n,o,i,s)=>s?e(t,r,o,i):((e,t,r,n,o)=>{const i=Bi(e,t,n,o);return Ni(e,t,r+1,[i,0],Ri)})(t,r,n,o,i);return{resizeTable:(e,t)=>e(t),clampTableDelta:Bi,calcLeftEdgeDeltas:t,calcMiddleDeltas:(e,r,n,o,i,s,a)=>t(e,n,o,i,s,a),calcRightEdgeDeltas:(t,r,n,o,i,s)=>{if(s)return e(t,n,o,i);{const e=Bi(t,n,o,i);return Ri(t.slice(0,n)).concat([e])}},calcRedestributedWidths:(e,t,r,n)=>{if(n){const n=(t+r)/t,o=P(e,(e=>e/n));return{delta:100*n-100,newSizes:o}}return{delta:r,newSizes:e}}}},zi=()=>{const e=(e,t,r,n,o)=>{const i=Li(e,n>=0?r:t,n,o);return Ni(e,t,r+1,[i,-i],Ri)};return{resizeTable:(e,t,r)=>{r&&e(t)},clampTableDelta:(e,t,r,n,o)=>{if(o){if(r>=0)return r;{const t=R(e,((e,t)=>e+t-n),0);return Math.max(-t,r)}}return Bi(e,t,r,n)},calcLeftEdgeDeltas:e,calcMiddleDeltas:(t,r,n,o,i,s)=>e(t,n,o,i,s),calcRightEdgeDeltas:(e,t,r,n,o,i)=>{if(i)return Ri(e);{const t=n/e.length;return P(e,f(t))}},calcRedestributedWidths:(e,t,r,n)=>({delta:0,newSizes:e})}},Hi=e=>Jr(e).grid,ji=ue("th"),Gi=e=>V(e,(e=>ji(e.element))),Ui=(e,t)=>e&&t?"sectionCells":e?"section":"cells",qi=e=>{const t="thead"===e.section,r=bt(Wi(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||r?{type:"header",subType:Ui(t,r)}:{type:"body"}},Wi=e=>{const t=O(e,(e=>ji(e.element)));return 0===t.length?E.some("td"):t.length===e.length?E.some("th"):E.none()},$i=(e,t,r)=>et(r(e.element,t),!0,e.isLocked),Zi=(e,t)=>e.section!==t?tt(e.element,e.cells,t,e.isNew):e,Ki=()=>({transformRow:Zi,transformCell:(e,t,r)=>{const n=r(e.element,t),o="td"!==ne(n)?((e,t)=>{const r=Ye(e,"td");Le(e,r);const n=Ne(e);return Ge(r,n),qe(e),r})(n):n;return et(o,e.isNew,e.isLocked)}}),Yi=()=>({transformRow:Zi,transformCell:$i}),Xi=()=>({transformRow:(e,t)=>Zi(e,"thead"===t?"tbody":t),transformCell:$i}),Ji=Ki,Qi=Yi,es=Xi,ts=()=>({transformRow:m,transformCell:$i}),rs=(e,t,r,n)=>{r===n?ye(e,t):fe(e,t,r)},ns=(e,t,r)=>{G(ht(e,t)).fold((()=>Ve(e,r)),(e=>Le(e,r)))},os=(e,t)=>{const r=[],n=[],o=e=>P(e,(e=>{e.isNew&&r.push(e.element);const t=e.element;return Ue(t),M(e.cells,(e=>{e.isNew&&n.push(e.element),rs(e.element,"colspan",e.colspan,1),rs(e.element,"rowspan",e.rowspan,1),ze(t,e.element)})),t})),i=e=>L(e,(e=>P(e.cells,(e=>(rs(e.element,"span",e.colspan,1),e.element))))),s=(t,r)=>{const n=((e,t)=>{const r=gt(e,t).getOrThunk((()=>{const r=xe.fromTag(t,Te(e).dom);return"thead"===t?ns(e,"caption,colgroup",r):"colgroup"===t?ns(e,"caption",r):ze(e,r),r}));return Ue(r),r})(e,r),s=("colgroup"===r?i:o)(t);Ge(n,s)},a=(t,r)=>{t.length>0?s(t,r):(t=>{gt(e,t).each(qe)})(r)},l=[],c=[],h=[],d=[];return M(t,(e=>{switch(e.section){case"thead":l.push(e);break;case"tbody":c.push(e);break;case"tfoot":h.push(e);break;case"colgroup":d.push(e)}})),a(d,"colgroup"),a(l,"thead"),a(c,"tbody"),a(h,"tfoot"),{newRows:r,newCells:n}},is=(e,t)=>{if(0===e.length)return 0;const r=e[0];return F(e,(e=>!t(r.element,e.element))).getOr(e.length)},ss=(e,t)=>{const r=P(e,(e=>P(e.cells,w)));return P(e,((n,o)=>{const i=L(n.cells,((n,i)=>{if(!1===r[o][i]){const h=((e,t,r,n)=>{const o=((e,t)=>e[t])(e,t),i="colgroup"===o.section,s=is(o.cells.slice(r),n),a=i?1:is(((e,t)=>P(e,(e=>Hr(e,t))))(e.slice(t),r),n);return{colspan:s,rowspan:a}})(e,o,i,t);return((e,t,n,o)=>{for(let i=e;i<e+n;i++)for(let e=t;e<t+o;e++)r[i][e]=!0})(o,i,h.rowspan,h.colspan),[(s=n.element,a=h.rowspan,l=h.colspan,c=n.isNew,{element:s,rowspan:a,colspan:l,isNew:c})]}return[];var s,a,l,c}));return((e,t,r,n)=>({element:e,cells:t,section:r,isNew:n}))(n.element,i,n.section,n.isNew)}))},as=(e,t,r)=>{const n=[];M(e.colgroups,(o=>{const i=[];for(let n=0;n<e.grid.columns;n++){const o=an(e,n).map((e=>et(e.element,r,!1))).getOrThunk((()=>et(t.colGap(),!0,!1)));i.push(o)}n.push(tt(o.element,i,"colgroup",r))}));for(let o=0;o<e.grid.rows;o++){const i=[];for(let n=0;n<e.grid.columns;n++){const s=en(e,o,n).map((e=>et(e.element,r,e.isLocked))).getOrThunk((()=>et(t.gap(),!0,!1)));i.push(s)}const s=e.all[o],a=tt(s.element,i,s.section,r);n.push(a)}return n},ls=e=>ss(e,Ce),cs=(e,t)=>U(e.all,(e=>N(e.cells,(e=>Ce(t,e.element))))),hs=(e,t,r)=>{const n=P(t.selection,(t=>qt(t).bind((t=>cs(e,t))).filter(r))),o=wt(n);return xt(o.length>0,o)},ds=(e,t,r,n,o)=>(i,s,a,l)=>{const c=Jr(i),h=E.from(null==l?void 0:l.section).getOrThunk(ts);return t(c,s).map((t=>{const r=((e,t)=>as(e,t,!1))(c,a),n=e(r,t,Ce,o(a),h),i=Zr(n.grid);return{info:t,grid:ls(n.grid),cursor:n.cursor,lockedColumns:i}})).bind((e=>{const t=os(i,e.grid),o=E.from(null==l?void 0:l.sizing).getOrThunk((()=>co(i))),s=E.from(null==l?void 0:l.resize).getOrThunk(zi);return r(i,e.grid,e.info,{sizing:o,resize:s,section:h}),n(i),ye(i,Wr),e.lockedColumns.length>0&&fe(i,Wr,e.lockedColumns.join(",")),E.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))},us=(e,t)=>hs(e,t,x).map((e=>({cells:e,generators:t.generators,clipboard:t.clipboard}))),ps=(e,t)=>hs(e,t,x),fs=(e,t)=>hs(e,t,(e=>!e.isLocked)),ms=(e,t)=>V(t,(t=>((e,t)=>cs(e,t).exists((e=>!e.isLocked)))(e,t))),gs=(e,t,r,n)=>{const o=Ur(e).rows;let i=!0;for(let e=0;e<o.length;e++)for(let s=0;s<Gr(o[0]);s++){const a=o[e],l=Hr(a,s),c=r(l.element,t);c&&!i?Vr(a,s,et(n(),!0,l.isLocked)):c&&(i=!1)}return e},vs=e=>{const t=t=>t(e),r=f(e),n=()=>o,o={tag:!0,inner:e,fold:(t,r)=>r(e),isValue:x,isError:w,map:t=>bs.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:r,or:n,getOrThunk:r,orThunk:n,getOrDie:r,each:t=>{t(e)},toOptional:()=>E.some(e)};return o},ys=e=>{const t=()=>r,r={tag:!1,inner:e,fold:(t,r)=>t(e),isValue:w,isError:x,map:t,mapError:t=>bs.error(t(e)),bind:t,exists:w,forall:x,getOr:m,or:m,getOrThunk:b,orThunk:b,getOrDie:(n=String(e),()=>{throw new Error(n)}),each:p,toOptional:E.none};var n;return r},bs={value:vs,error:ys,fromOption:(e,t)=>e.fold((()=>ys(t)),vs)},ws=(e,t)=>({rowDelta:0,colDelta:Gr(e[0])-Gr(t[0])}),xs=(e,t)=>({rowDelta:e.length-t.length,colDelta:0}),Es=(e,t,r,n)=>{const o="colgroup"===t.section?r.col:r.cell;return T(e,(e=>et(o(),!0,n(e))))},Ss=(e,t,r,n)=>{const o=e[e.length-1];return e.concat(T(t,(()=>{const e="colgroup"===o.section?r.colgroup:r.row,t=qr(o,e,m),i=Es(t.cells.length,t,r,(e=>J(n,e.toString())));return zr(t,i)})))},_s=(e,t,r,n)=>P(e,(e=>{const o=Es(t,e,r,w);return Br(e,n,o)})),Cs=(e,t,r)=>{const n=t.colDelta<0?_s:m,o=t.rowDelta<0?Ss:m,i=Zr(e),s=Gr(e[0]),a=k(i,(e=>e===s-1)),l=n(e,Math.abs(t.colDelta),r,a?s-1:s),c=Zr(l);return o(l,Math.abs(t.rowDelta),r,z(c,x))},As=(e,t,r,n)=>{const o=v(n,Hr(e[t],r).element),i=e[t];return e.length>1&&Gr(i)>1&&(r>0&&o(jr(i,r-1))||r<i.cells.length-1&&o(jr(i,r+1))||t>0&&o(jr(e[t-1],r))||t<e.length-1&&o(jr(e[t+1],r)))},ks=(e,t,r)=>O(r,(r=>r>=e.column&&r<=Gr(t[0])+e.column)),Ts=(e,t,r,n,o)=>{((e,t,r,n)=>{t>0&&t<e[0].cells.length&&M(e,(e=>{const o=e.cells[t-1];let i=0;const s=n();for(;e.cells.length>t+i&&r(o.element,e.cells[t+i].element);)Vr(e,t+i,et(s,!0,e.cells[t+i].isLocked)),i++}))})(t,e,o,n.cell);const i=xs(r,t),s=Cs(r,i,n),a=xs(t,s),l=Cs(t,a,n);return P(l,((t,r)=>Br(t,e,s[r].cells)))},Ps=(e,t,r,n,o)=>{((e,t,r,n)=>{const o=Ur(e).rows;if(t>0&&t<o.length){const e=((e,t)=>R(e,((e,r)=>k(e,(e=>t(e.element,r.element)))?e:e.concat([r])),[]))(o[t-1].cells,r);M(e,(e=>{let i=E.none();for(let s=t;s<o.length;s++)for(let t=0;t<Gr(o[0]);t++){const a=o[s],l=Hr(a,t);r(l.element,e.element)&&(i.isNone()&&(i=E.some(n())),i.each((e=>{Vr(a,t,et(e,!0,l.isLocked))})))}}))}})(t,e,o,n.cell);const i=Zr(t),s=ws(t,r),a={...s,colDelta:s.colDelta-i.length},l=Cs(t,a,n),{cols:c,rows:h}=Ur(l),d=Zr(l),u=ws(r,t),p={...u,colDelta:u.colDelta+d.length},f=(g=n,v=d,P(r,(e=>R(v,((t,r)=>{const n=Es(1,e,g,x)[0];return Lr(t,r,n)}),e)))),m=Cs(f,p,n);var g,v;return[...c,...h.slice(0,e),...m,...h.slice(e,h.length)]},Ms=(e,t,r,n,o)=>{const{rows:i,cols:s}=Ur(e),a=i.slice(0,t),l=i.slice(t);return[...s,...a,((e,t,r,n)=>qr(e,(e=>n(e,r)),t))(i[r],((e,r)=>t>0&&t<i.length&&n(jr(i[t-1],r),jr(i[t],r))?Hr(i[t],r):et(o(e.element,n),!0,e.isLocked)),n,o),...l]},Ds=(e,t,r,n,o)=>P(e,(e=>{const i=t>0&&t<Gr(e)&&n(jr(e,t-1),jr(e,t)),s=((e,t,r,n,o,i,s)=>{if("colgroup"!==r&&n)return Hr(e,t);{const t=Hr(e,o);return et(s(t.element,i),!0,!1)}})(e,t,e.section,i,r,n,o);return Lr(e,t,s)})),Os=(e,t,r,n)=>((e,t,r,n)=>void 0!==jr(e[t],r)&&t>0&&n(jr(e[t-1],r),jr(e[t],r)))(e,t,r,n)||((e,t,r)=>t>0&&r(jr(e,t-1),jr(e,t)))(e[t],r,n),Is=(e,t,r,n)=>{const o=e=>(e=>"row"===e?Vt(t):Lt(t))(e)?`${e}group`:e;return e?ji(t)?o(r):null:n&&ji(t)?o("row"===r?"col":"row"):null},Rs=(e,t,r)=>et(r(e.element,t),!0,e.isLocked),Ns=(e,t,r,n,o,i,s)=>P(e,((e,a)=>((e,l)=>{const c=e.cells,h=P(c,((e,l)=>{if((e=>k(t,(t=>r(e.element,t.element))))(e)){const t=s(e,a,l)?o(e,r,n):e;return i(t,a,l).each((e=>{var r,n;r=t.element,n={scope:E.from(e)},$(n,((e,t)=>{e.fold((()=>{ye(r,t)}),(e=>{pe(r.dom,t,e)}))}))})),t}return e}));return tt(e.element,h,e.section,e.isNew)})(e))),Fs=(e,t,r)=>L(e,((n,o)=>Os(e,o,t,r)?[]:[Hr(n,t)])),Bs=(e,t,r,n,o)=>{const i=Ur(e).rows,s=L(t,(e=>Fs(i,e,n))),a=P(i,(e=>Gi(e.cells))),l=((e,t)=>V(t,m)&&Gi(e)?x:(e,r,n)=>!("th"===ne(e.element)&&t[r]))(s,a),c=((e,t)=>(r,n)=>E.some(Is(e,r.element,"row",t[n])))(r,a);return Ns(e,s,n,o,Rs,c,l)},Ls=(e,t,r,n)=>{const o=Ur(e).rows,i=P(t,(e=>Hr(o[e.row],e.column)));return Ns(e,i,r,n,Rs,E.none,x)},Vs=e=>{if(!s(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],r={};return M(e,((n,o)=>{const i=q(n);if(1!==i.length)throw new Error("one and only one name per case");const a=i[0],l=n[a];if(void 0!==r[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!s(l))throw new Error("case arguments must be an array");t.push(a),r[a]=(...r)=>{const n=r.length;if(n!==l.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+l.length+" ("+l+"), got "+n);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,r)},match:e=>{const n=q(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!V(t,(e=>A(n,e))))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,r)},log:e=>{console.log(e,{constructors:t,constructor:a,params:r})}}}})),r},zs={...Vs([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Hs=(e,t,r)=>{let n=0;for(let o=e;o<t;o++)n+=void 0!==r[o]?r[o]:0;return n},js=(e,t)=>{const r=nn(e);return P(r,(e=>{const r=Hs(e.row,e.row+e.rowspan,t);return{element:e.element,height:r,rowspan:e.rowspan}}))},Gs=(e,t,r)=>{const n=((e,t)=>sn(e)?((e,t)=>{const r=on(e);return P(r,((e,r)=>({element:e.element,width:t[r],colspan:e.colspan})))})(e,t):((e,t)=>{const r=nn(e);return P(r,(e=>{const r=Hs(e.column,e.column+e.colspan,t);return{element:e.element,width:r,colspan:e.colspan}}))})(e,t))(e,t);M(n,(e=>{r.setElementWidth(e.element,e.width)}))},Us=(e,t,r,n,o)=>{const i=Jr(e),s=o.getCellDelta(t),a=o.getWidths(i,o),l=r===i.grid.columns-1,c=n.clampTableDelta(a,r,s,o.minCellWidth(),l),h=((e,t,r,n,o)=>{const i=e.slice(0),s=((e,t)=>0===e.length?zs.none():1===e.length?zs.only(0):0===t?zs.left(0,1):t===e.length-1?zs.right(t-1,t):t>0&&t<e.length-1?zs.middle(t-1,t,t+1):zs.none())(e,t),a=f(P(i,f(0)));return s.fold(a,(e=>n.singleColumnWidth(i[e],r)),((e,t)=>o.calcLeftEdgeDeltas(i,e,t,r,n.minCellWidth(),n.isRelative)),((e,t,s)=>o.calcMiddleDeltas(i,e,t,s,r,n.minCellWidth(),n.isRelative)),((e,t)=>o.calcRightEdgeDeltas(i,e,t,r,n.minCellWidth(),n.isRelative)))})(a,r,c,o,n),d=P(h,((e,t)=>e+a[t]));Gs(i,d,o),n.resizeTable(o.adjustTableWidth,c,l)},qs=e=>R(e,((e,t)=>k(e,(e=>e.column===t.column))?e:e.concat([t])),[]).sort(((e,t)=>e.column-t.column)),Ws=ue("col"),$s=ue("colgroup"),Zs=e=>"tr"===ne(e)||$s(e),Ks=e=>({element:e,colspan:Ft(e,"colspan",1),rowspan:Ft(e,"rowspan",1)}),Ys=e=>ve(e,"scope").map((e=>e.substr(0,3))),Xs=(e,t=Ks)=>{const r=r=>{if(Zs(r))return $s((o={element:r}).element)?e.colgroup(o):e.row(o);{const o=r,i=(t=>Ws(t.element)?e.col(t):e.cell(t))(t(o));return n=E.some({item:o,replacement:i}),i}var o};let n=E.none();return{getOrInit:(e,t)=>n.fold((()=>r(e)),(n=>t(e,n.item)?n.replacement:r(e)))}},Js=e=>t=>{const r=[],n=n=>{const o="td"===e?{scope:null}:{},i=t.replace(n,e,o);return r.push({item:n,sub:i}),i};return{replaceOrInit:(e,t)=>{if(Zs(e)||Ws(e))return e;{const o=e;return((e,t)=>N(r,(r=>t(r.item,e))))(o,t).fold((()=>n(o)),(r=>t(e,r.item)?r.sub:n(o)))}}}},Qs=e=>({unmerge:t=>{const r=Ys(t);return r.each((e=>fe(t,"scope",e))),()=>{const n=e.cell({element:t,colspan:1,rowspan:1});return Nt(n,"width"),Nt(t,"width"),r.each((e=>fe(n,"scope",e))),n}},merge:e=>(Nt(e[0],"width"),(()=>{const t=wt(P(e,Ys));if(0===t.length)return E.none();{const e=t[0],r=["row","col"];return k(t,(t=>t!==e&&A(r,t)))?E.none():E.from(e)}})().fold((()=>ye(e[0],"scope")),(t=>fe(e[0],"scope",t+"group"))),f(e[0]))}),ea=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ta=Jo(),ra=e=>((e,t)=>{const r=e.property().name(t);return A(ea,r)})(ta,e),na=e=>((e,t)=>{const r=e.property().name(t);return A(["ol","ul"],r)})(ta,e),oa=e=>{const t=ue("br"),r=e=>Eo(e).bind((r=>{const n=Re(r).map((e=>!!ra(e)||!!((e,t)=>A(["br","img","hr","input"],e.property().name(t)))(ta,e)&&"img"!==ne(e))).getOr(!1);return Me(r).map((o=>{return!0===n||("li"===ne(i=o)||pt(i,na).isSome())||t(r)||ra(o)&&!Ce(e,o)?[]:[xe.fromTag("br")];var i}))})).getOr([]),n=(()=>{const n=L(e,(e=>{const n=Ne(e);return(e=>V(e,(e=>t(e)||ce(e)&&0===mo(e).trim().length)))(n)?[]:n.concat(r(e))}));return 0===n.length?[xe.fromTag("br")]:n})();Ue(e[0]),Ge(e[0],n)},ia=e=>Ro(e,!0),sa=e=>{0===Wt(e).length&&qe(e)},aa=(e,t)=>({grid:e,cursor:t}),la=(e,t,r)=>{const n=((e,t,r)=>{var n,o;const i=Ur(e).rows;return E.from(null===(o=null===(n=i[t])||void 0===n?void 0:n.cells[r])||void 0===o?void 0:o.element).filter(ia).orThunk((()=>(e=>U(e,(e=>U(e.cells,(e=>{const t=e.element;return xt(ia(t),t)})))))(i)))})(e,t,r);return aa(e,n)},ca=e=>R(e,((e,t)=>k(e,(e=>e.row===t.row))?e:e.concat([t])),[]).sort(((e,t)=>e.row-t.row)),ha=(e,t)=>(r,n,o,i,s)=>{const a=ca(n),l=P(a,(e=>e.row)),c=((e,t,r,n,o,i,s)=>{const{cols:a,rows:l}=Ur(e),c=l[t[0]],h=L(t,(e=>((e,t,r)=>{const n=e[t];return L(n.cells,((n,o)=>Os(e,t,o,r)?[]:[n]))})(l,e,o))),d=P(c.cells,((e,t)=>Gi(Fs(l,t,o)))),u=[...l];M(t,(e=>{u[e]=s.transformRow(l[e],r)}));const p=[...a,...u],f=((e,t)=>V(t,m)&&Gi(e.cells)?x:(e,r,n)=>!("th"===ne(e.element)&&t[n]))(c,d),g=((e,t)=>(r,n,o)=>E.some(Is(e,r.element,"col",t[o])))(n,d);return Ns(p,h,o,i,s.transformCell,g,f)})(r,l,e,t,o,i.replaceOrInit,s);return la(c,n[0].row,n[0].column)},da=ha("thead",!0),ua=ha("tbody",!1),pa=ha("tfoot",!1),fa=(e,t,r)=>{const n=((e,t)=>Xt(e,(()=>t)))(e,r.section),o=Qr(n);return as(o,t,!0)},ma=(e,t,r,n)=>((e,t,r,n)=>{const o=Qr(t),i=n.getWidths(o,n);Gs(o,i,n)})(0,t,0,n.sizing),ga=(e,t,r,n)=>((e,t,r,n,o)=>{const i=Qr(t),s=n.getWidths(i,n),a=n.pixelWidth(),{newSizes:l,delta:c}=o.calcRedestributedWidths(s,a,r.pixelDelta,n.isRelative);Gs(i,l,n),n.adjustTableWidth(c)})(0,t,r,n.sizing,n.resize),va=(e,t)=>k(t,(e=>0===e.column&&e.isLocked)),ya=(e,t)=>k(t,(t=>t.column+t.colspan>=e.grid.columns&&t.isLocked)),ba=(e,t)=>{const r=ln(e),n=qs(t);return R(n,((e,t)=>e+r[t.column].map(Nr).getOr(0)),0)},wa=e=>(t,r)=>ps(t,r).filter((r=>!(e?va:ya)(t,r))).map((e=>({details:e,pixelDelta:ba(t,e)}))),xa=e=>(t,r)=>us(t,r).filter((r=>!(e?va:ya)(t,r.cells))),Ea=Js("th"),Sa=Js("td"),_a=ds(((e,t,r,n)=>{const o=t[0].row,i=ca(t),s=I(i,((e,t)=>({grid:Ms(e.grid,o,t.row+e.delta,r,n.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return la(s,o,t[0].column)}),ps,p,p,Xs),Ca=ds(((e,t,r,n)=>{const o=ca(t),i=o[o.length-1],s=i.row+i.rowspan,a=I(o,((e,t)=>Ms(e,s,t.row,r,n.getOrInit)),e);return la(a,s,t[0].column)}),ps,p,p,Xs),Aa=ds(((e,t,r,n)=>{const o=t.details,i=qs(o),s=i[0].column,a=I(i,((e,t)=>({grid:Ds(e.grid,s,t.column+e.delta,r,n.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return la(a,o[0].row,s)}),wa(!0),ga,p,Xs),ka=ds(((e,t,r,n)=>{const o=t.details,i=o[o.length-1],s=i.column+i.colspan,a=qs(o),l=I(a,((e,t)=>Ds(e,s,t.column,r,n.getOrInit)),e);return la(l,o[0].row,s)}),wa(!1),ga,p,Xs),Ta=ds(((e,t,r,n)=>{const o=qs(t.details),i=((e,t)=>L(e,(e=>{const r=e.cells,n=I(t,((e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e),r);return n.length>0?[tt(e.element,n,e.section,e.isNew)]:[]})))(e,P(o,(e=>e.column))),s=i.length>0?i[0].cells.length-1:0;return la(i,o[0].row,Math.min(o[0].column,s))}),((e,t)=>fs(e,t).map((t=>({details:t,pixelDelta:-ba(e,t)})))),ga,sa,Xs),Pa=ds(((e,t,r,n)=>{const o=ca(t),i=((e,t,r)=>{const{rows:n,cols:o}=Ur(e);return[...o,...n.slice(0,t),...n.slice(r+1)]})(e,o[0].row,o[o.length-1].row),s=i.length>0?i.length-1:0;return la(i,Math.min(t[0].row,s),t[0].column)}),ps,p,sa,Xs),Ma=ds(((e,t,r,n)=>{const o=qs(t),i=P(o,(e=>e.column)),s=Bs(e,i,!0,r,n.replaceOrInit);return la(s,t[0].row,t[0].column)}),fs,p,p,Ea),Da=ds(((e,t,r,n)=>{const o=qs(t),i=P(o,(e=>e.column)),s=Bs(e,i,!1,r,n.replaceOrInit);return la(s,t[0].row,t[0].column)}),fs,p,p,Sa),Oa=ds(da,fs,p,p,Ea),Ia=ds(ua,fs,p,p,Sa),Ra=ds(pa,fs,p,p,Sa),Na=ds(((e,t,r,n)=>{const o=Ls(e,t,r,n.replaceOrInit);return la(o,t[0].row,t[0].column)}),fs,p,p,Ea),Fa=ds(((e,t,r,n)=>{const o=Ls(e,t,r,n.replaceOrInit);return la(o,t[0].row,t[0].column)}),fs,p,p,Sa),Ba=ds(((e,t,r,n)=>{const o=t.cells;oa(o);const i=((e,t,r,n)=>{const o=Ur(e).rows;if(0===o.length)return e;for(let e=t.startRow;e<=t.finishRow;e++)for(let r=t.startCol;r<=t.finishCol;r++){const t=o[e],i=Hr(t,r).isLocked;Vr(t,r,et(n(),!1,i))}return e})(e,t.bounds,0,n.merge(o));return aa(i,E.from(o[0]))}),((e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>ms(e,t.cells)))),ma,p,Qs),La=ds(((e,t,r,n)=>{const o=I(t,((e,t)=>gs(e,t,r,n.unmerge(t))),e);return aa(o,E.from(t[0]))}),((e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>ms(e,t)))),ma,p,Qs),Va=ds(((e,t,r,n)=>{const o=((e,t)=>{const r=Jr(e);return as(r,t,!0)})(t.clipboard,t.generators);var i,s;return((e,t,r,n,o)=>{const i=Zr(t),s=((e,t,r)=>{const n=Gr(t[0]),o=Ur(t).cols.length+e.row,i=T(n-e.column,(t=>t+e.column));return{row:o,column:N(i,(e=>V(r,(t=>t!==e)))).getOr(n-1)}})(e,t,i),a=Ur(r).rows,l=ks(s,a,i),c=((e,t,r)=>{if(e.row>=t.length||e.column>Gr(t[0]))return bs.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);const n=t.slice(e.row),o=n[0].cells.slice(e.column),i=Gr(r[0]),s=r.length;return bs.value({rowDelta:n.length-s,colDelta:o.length-i})})(s,t,a);return c.map((e=>{const r={...e,colDelta:e.colDelta-l.length},i=Cs(t,r,n),c=Zr(i),h=ks(s,a,c);return((e,t,r,n,o,i)=>{const s=e.row,a=e.column,l=s+r.length,c=a+Gr(r[0])+i.length,h=z(i,x);for(let e=s;e<l;e++){let i=0;for(let l=a;l<c;l++){if(h[l]){i++;continue}As(t,e,l,o)&&gs(t,jr(t[e],l),o,n.cell);const c=l-a-i,d=Hr(r[e-s],c),u=d.element,p=n.replace(u);Vr(t[e],l,et(p,!0,d.isLocked))}}return t})(s,i,a,n,o,h)}))})((i=t.row,s=t.column,{row:i,column:s}),e,o,t.generators,r).fold((()=>aa(e,E.some(t.element))),(e=>la(e,t.row,t.column)))}),((e,t)=>qt(t.element).bind((r=>cs(e,r).map((e=>({...e,generators:t.generators,clipboard:t.clipboard})))))),ma,p,Xs),za=ds(((e,t,r,n)=>{const o=Ur(e).rows,i=t.cells[0].column,s=o[t.cells[0].row],a=fa(t.clipboard,t.generators,s),l=Ts(i,e,a,t.generators,r);return la(l,t.cells[0].row,t.cells[0].column)}),xa(!0),p,p,Xs),Ha=ds(((e,t,r,n)=>{const o=Ur(e).rows,i=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,s=o[t.cells[0].row],a=fa(t.clipboard,t.generators,s),l=Ts(i,e,a,t.generators,r);return la(l,t.cells[0].row,t.cells[0].column)}),xa(!1),p,p,Xs),ja=ds(((e,t,r,n)=>{const o=Ur(e).rows,i=t.cells[0].row,s=o[i],a=fa(t.clipboard,t.generators,s),l=Ps(i,e,a,t.generators,r);return la(l,t.cells[0].row,t.cells[0].column)}),us,p,p,Xs),Ga=ds(((e,t,r,n)=>{const o=Ur(e).rows,i=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,s=o[t.cells[0].row],a=fa(t.clipboard,t.generators,s),l=Ps(i,e,a,t.generators,r);return la(l,t.cells[0].row,t.cells[0].column)}),us,p,p,Xs),Ua=(e,t)=>{const r=Jr(e);return ps(r,t).bind((e=>{const t=e[e.length-1],n=e[0].column,o=t.column+t.colspan,i=B(P(r.all,(e=>O(e.cells,(e=>e.column>=n&&e.column<o)))));return Wi(i)})).getOr("")},qa=(e,t)=>{const r=Jr(e);return ps(r,t).bind(Wi).getOr("")},Wa=(e,t)=>{const r=Jr(e);return ps(r,t).bind((e=>{const t=e[e.length-1],n=e[0].row,o=t.row+t.rowspan;return(e=>{const t=P(e,(e=>qi(e).type)),r=A(t,"header"),n=A(t,"footer");if(r||n){const e=A(t,"body");return!r||e||n?r||e||!n?E.none():E.some("footer"):E.some("header")}return E.some("body")})(r.all.slice(n,o))})).getOr("")},$a=(e,t)=>e.dispatch("NewRow",{node:t}),Za=(e,t)=>e.dispatch("NewCell",{node:t}),Ka=(e,t,r)=>{e.dispatch("TableModified",{...r,table:t})},Ya={structure:!1,style:!0},Xa={structure:!0,style:!1},Ja={structure:!0,style:!0},Qa=e=>t=>t.options.get(e),el="100%",tl=e=>{var t;const r=e.dom,n=null!==(t=r.getParent(e.selection.getStart(),r.isBlock))&&void 0!==t?t:e.getBody();return Fr(xe.fromDom(n))+"px"},rl=e=>E.from(e.options.get("table_clone_elements")),nl=Qa("table_header_type"),ol=Qa("table_column_resizing"),il=e=>"preservetable"===ol(e),sl=e=>"resizetable"===ol(e),al=Qa("table_sizing_mode"),ll=e=>"relative"===al(e),cl=e=>"fixed"===al(e),hl=e=>"responsive"===al(e),dl=Qa("table_resize_bars"),ul=Qa("table_style_by_css"),pl=e=>{const t=e.options,r=t.get("table_default_attributes");return t.isSet("table_default_attributes")?r:((e,t)=>hl(e)||ul(e)?t:cl(e)?{...t,width:tl(e)}:{...t,width:el})(e,r)},fl=Qa("table_use_colgroups"),ml=(e,t)=>ll(e)?uo(t):cl(e)?ho(t):co(t),gl=(e,t,r)=>{const n=e=>"table"===ne(Fo(e)),o=rl(e),i=sl(e)?p:Ii,s=t=>{switch(nl(e)){case"section":return Ji();case"sectionCells":return Qi();case"cells":return es();default:return((e,t)=>{var r;switch((r=Jr(e),U(r.all,(e=>{const t=qi(e);return"header"===t.type?E.from(t.subType):E.none()}))).getOr(t)){case"section":return Ki();case"sectionCells":return Yi();case"cells":return Xi()}})(t,"section")}},a=(n,i,a,l)=>(c,h,d=!1)=>{Lo(c);const u=xe.fromDom(e.getDoc()),p=Do(a,u,o),f={sizing:ml(e,c),resize:sl(e)?Vi():zi(),section:s(c)};return i(c)?n(c,h,p,f).bind((n=>{t.refresh(c.dom),M(n.newRows,(t=>{$a(e,t.dom)})),M(n.newCells,(t=>{Za(e,t.dom)}));const o=((t,n)=>n.cursor.fold((()=>{const n=Wt(t);return j(n).filter(st).map((n=>{r.clearSelectedCells(t.dom);const o=e.dom.createRng();return o.selectNode(n.dom),e.selection.setRng(o),fe(n,"data-mce-selected","1"),o}))}),(n=>{const o=Di(Oi,n),i=e.dom.createRng();return i.setStart(o.element.dom,o.offset),i.setEnd(o.element.dom,o.offset),e.selection.setRng(i),r.clearSelectedCells(t.dom),E.some(i)})))(c,n);return st(c)&&(Lo(c),d||Ka(e,c.dom,l)),o.map((e=>({rng:e,effect:l})))})):E.none()},l=a(Pa,(t=>!n(e)||Hi(t).rows>1),p,Xa),c=a(Ta,(t=>!n(e)||Hi(t).columns>1),p,Xa);return{deleteRow:l,deleteColumn:c,insertRowsBefore:a(_a,x,p,Xa),insertRowsAfter:a(Ca,x,p,Xa),insertColumnsBefore:a(Aa,x,i,Xa),insertColumnsAfter:a(ka,x,i,Xa),mergeCells:a(Ba,x,p,Xa),unmergeCells:a(La,x,p,Xa),pasteColsBefore:a(za,x,p,Xa),pasteColsAfter:a(Ha,x,p,Xa),pasteRowsBefore:a(ja,x,p,Xa),pasteRowsAfter:a(Ga,x,p,Xa),pasteCells:a(Va,x,p,Ja),makeCellsHeader:a(Na,x,p,Xa),unmakeCellsHeader:a(Fa,x,p,Xa),makeColumnsHeader:a(Ma,x,p,Xa),unmakeColumnsHeader:a(Da,x,p,Xa),makeRowsHeader:a(Oa,x,p,Xa),makeRowsBody:a(Ia,x,p,Xa),makeRowsFooter:a(Ra,x,p,Xa),getTableRowType:Wa,getTableCellType:qa,getTableColType:Ua}},vl=(e,t,r)=>{const n=Ft(e,t,1);1===r||n<=1?ye(e,t):fe(e,t,Math.min(r,n))},yl=(e,t)=>r=>{const n=r.column+r.colspan-1,o=r.column;return n>=e&&o<t},bl=Vs([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),wl=(e,t,r)=>{const n=r.substring(0,r.length-e.length),o=parseFloat(n);return n===o.toString()?t(o):bl.invalid(r)},xl={...bl,from:e=>Ct(e,"%")?wl("%",bl.percent,e):Ct(e,"px")?wl("px",bl.pixels,e):bl.invalid(e)},El=(e,t,r)=>{const n=xl.from(r),o=V(e,(e=>"0px"===e))?((e,t)=>{const r=e.fold((()=>f("")),(e=>f(e/t+"px")),(()=>f(100/t+"%")));return T(t,r)})(n,e.length):((e,t,r)=>e.fold((()=>t),(e=>((e,t,r)=>{const n=r/t;return P(e,(e=>xl.from(e).fold((()=>e),(e=>e*n+"px"),(e=>e/100*r+"px"))))})(t,r,e)),(e=>((e,t)=>P(e,(e=>xl.from(e).fold((()=>e),(e=>e/t*100+"%"),(e=>e+"%")))))(t,r))))(n,e,t);return Cl(o)},Sl=(e,t)=>0===e.length?t:I(e,((e,t)=>xl.from(t).fold(f(0),m,m)+e),0),_l=(e,t)=>xl.from(e).fold(f(e),(e=>e+t+"px"),(e=>e+t+"%")),Cl=e=>{if(0===e.length)return e;const t=I(e,((e,t)=>{const r=xl.from(t).fold((()=>({value:t,remainder:0})),(e=>((e,t)=>{const r=Math.floor(e);return{value:r+"px",remainder:e-r}})(e)),(e=>({value:e+"%",remainder:0})));return{output:[r.value].concat(e.output),remainder:e.remainder+r.remainder}}),{output:[],remainder:0}),r=t.output;return r.slice(0,r.length-1).concat([_l(r[r.length-1],Math.round(t.remainder))])},Al=xl.from,kl=e=>Al(e).fold(f("px"),f("px"),f("%")),Tl=(e,t,r)=>{const n=Jr(e),o=n.all,i=nn(n),s=on(n);t.each((t=>{const r=kl(t),o=Rr(e),a=((e,t)=>ro(e,t,Qn,no))(n,e),l=El(a,o,t);sn(n)?((e,t,r)=>{M(t,((t,n)=>{const o=Sl([e[n]],Ht());Mt(t.element,"width",o+r)}))})(l,s,r):((e,t,r)=>{M(t,(t=>{const n=e.slice(t.column,t.colspan+t.column),o=Sl(n,Ht());Mt(t.element,"width",o+r)}))})(l,i,r),Mt(e,"width",t)})),r.each((t=>{const r=kl(t),s=fn(e),a=((e,t,r)=>io(e,t,r,eo,no))(n,e,Dn);((e,t,r,n)=>{M(r,(t=>{const r=e.slice(t.row,t.rowspan+t.row),o=Sl(r,jt());Mt(t.element,"height",o+n)})),M(t,((t,r)=>{Mt(t.element,"height",e[r])}))})(El(a,s,t),o,i,r),Mt(e,"height",t)}))},Pl=e=>qn(e).exists((e=>Fn.test(e))),Ml=e=>qn(e).exists((e=>Bn.test(e))),Dl=e=>qn(e).isNone(),Ol=e=>{ye(e,"width")},Il=e=>{const t=Yn(e);Tl(e,E.some(t),E.none()),Ol(e)},Rl=e=>{const t=(e=>Rr(e)+"px")(e);Tl(e,E.some(t),E.none()),Ol(e)},Nl=e=>{Nt(e,"width");const t=$t(e),r=t.length>0?t:Wt(e);M(r,(e=>{Nt(e,"width"),Ol(e)})),Ol(e)},Fl={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Bl=(e,t,r,n)=>T(e,(e=>((e,t,r,n)=>{const o=xe.fromTag("tr");for(let i=0;i<e;i++){const e=xe.fromTag(n<t||i<r?"th":"td");i<r&&fe(e,"scope","row"),n<t&&fe(e,"scope","col"),ze(e,xe.fromTag("br")),ze(o,e)}return o})(t,r,n,e))),Ll=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},Vl=(e,t,r,n,i)=>{const s=(e=>{const t=e.options,r=t.get("table_default_styles");return t.isSet("table_default_styles")?r:((e,t)=>hl(e)||!ul(e)?t:cl(e)?{...t,width:tl(e)}:{...t,width:el})(e,r)})(e),a={styles:s,attributes:pl(e),colGroups:fl(e)};return e.undoManager.ignore((()=>{const o=((e,t,r,n,o,i=Fl)=>{const s=xe.fromTag("table"),a="cells"!==o;Dt(s,i.styles),me(s,i.attributes),i.colGroups&&ze(s,(e=>{const t=xe.fromTag("colgroup");return T(e,(()=>ze(t,xe.fromTag("col")))),t})(t));const l=Math.min(e,r);if(a&&r>0){const e=xe.fromTag("thead");ze(s,e);const i=Bl(r,t,"sectionCells"===o?l:0,n);Ge(e,i)}const c=xe.fromTag("tbody");ze(s,c);const h=Bl(a?e-l:e,t,a?0:r,n);return Ge(c,h),s})(r,t,i,n,nl(e),a);fe(o,"data-mce-id","__mce");const s=(e=>{const t=xe.fromTag("div"),r=xe.fromDom(e.dom.cloneNode(!0));return ze(t,r),(e=>e.dom.innerHTML)(t)})(o);e.insertContent(s),e.addVisual()})),vt(Fo(e),'table[data-mce-id="__mce"]').map((t=>(cl(e)?Rl(t):hl(e)?Nl(t):(ll(e)||(e=>o(e)&&-1!==e.indexOf("%"))(s.width))&&Il(t),Lo(t),ye(t,"data-mce-id"),((e,t)=>{M(dt(t,"tr"),(t=>{$a(e,t.dom),M(dt(t,"th,td"),(t=>{Za(e,t.dom)}))}))})(e,t),((e,t)=>{vt(t,"td,th").each(v(Ll,e))})(e,t),t.dom))).getOrNull()};var zl=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Hl="x-tinymce/dom-table-",jl=Hl+"rows",Gl=Hl+"columns",Ul=e=>{const t=zl.FakeClipboardItem(e);zl.write([t])},ql=e=>{var t;const r=null!==(t=zl.read())&&void 0!==t?t:[];return U(r,(t=>E.from(t.getType(e))))},Wl=e=>{ql(e).isSome()&&zl.clear()},$l=e=>{e.fold(Kl,(e=>Ul({[jl]:e})))},Zl=()=>ql(jl),Kl=()=>Wl(jl),Yl=e=>{e.fold(Jl,(e=>Ul({[Gl]:e})))},Xl=()=>ql(Gl),Jl=()=>Wl(Gl),Ql=e=>Si(Vo(e),Bo(e)).filter(jo),ec=(e,t)=>{const r=Bo(e),n=e=>Zt(e,r),s=t=>(e=>_i(Vo(e),Bo(e)).filter(jo))(e).bind((e=>n(e).map((r=>t(r,e))))),a=t=>{e.focus()},l=(t,r=!1)=>s(((n,o)=>{const i=xi(Ci(e),n,o);t(n,i,r).each(a)})),c=()=>s(((t,r)=>((e,t,r)=>{const n=Jr(e);return ps(n,t).bind((e=>{const t=as(n,r,!1),o=Ur(t).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),i=L(o,(e=>{const t=O(e.cells,(e=>!e.isLocked));return t.length>0?[{...e,cells:t}]:[]})),s=ls(i);return xt(s.length>0,s)})).map((e=>P(e,(e=>{const t=Ze(e.element);return M(e.cells,(e=>{const r=Ke(e.element);rs(r,"colspan",e.colspan,1),rs(r,"rowspan",e.rowspan,1),ze(t,r)})),t}))))})(t,xi(Ci(e),t,r),Do(p,xe.fromDom(e.getDoc()),E.none())))),h=()=>s(((t,r)=>((e,t)=>{const r=Jr(e);return fs(r,t).map((e=>{const t=e[e.length-1],n=e[0].column,o=t.column+t.colspan,i=((e,t,r)=>{if(sn(e)){const n=O(on(e),yl(t,r)),o=P(n,(e=>{const n=Ke(e.element);return vl(n,"span",r-t),n})),i=xe.fromTag("colgroup");return Ge(i,o),[i]}return[]})(r,n,o),s=((e,t,r)=>P(e.all,(e=>{const n=O(e.cells,yl(t,r)),o=P(n,(e=>{const n=Ke(e.element);return vl(n,"colspan",r-t),n})),i=xe.fromTag("tr");return Ge(i,o),i})))(r,n,o);return[...i,...s]}))})(t,xi(Ci(e),t,r)))),d=(t,r)=>r().each((r=>{const n=P(r,(e=>Ke(e)));s(((r,o)=>{const i=Oo(xe.fromDom(e.getDoc())),s=((e,t,r,n)=>({selection:hi(e),clipboard:r,generators:n}))(Ci(e),0,n,i);t(r,s).each(a)}))})),f=e=>(t,r)=>((e,t)=>J(e,t)?E.from(e[t]):E.none())(r,"type").each((t=>{l(e(t),r.no_events)}));$({mceTableSplitCells:()=>l(t.unmergeCells),mceTableMergeCells:()=>l(t.mergeCells),mceTableInsertRowBefore:()=>l(t.insertRowsBefore),mceTableInsertRowAfter:()=>l(t.insertRowsAfter),mceTableInsertColBefore:()=>l(t.insertColumnsBefore),mceTableInsertColAfter:()=>l(t.insertColumnsAfter),mceTableDeleteCol:()=>l(t.deleteColumn),mceTableDeleteRow:()=>l(t.deleteRow),mceTableCutCol:()=>h().each((e=>{Yl(e),l(t.deleteColumn)})),mceTableCutRow:()=>c().each((e=>{$l(e),l(t.deleteRow)})),mceTableCopyCol:()=>h().each((e=>Yl(e))),mceTableCopyRow:()=>c().each((e=>$l(e))),mceTablePasteColBefore:()=>d(t.pasteColsBefore,Xl),mceTablePasteColAfter:()=>d(t.pasteColsAfter,Xl),mceTablePasteRowBefore:()=>d(t.pasteRowsBefore,Zl),mceTablePasteRowAfter:()=>d(t.pasteRowsAfter,Zl),mceTableDelete:()=>Ql(e).each((t=>{Zt(t,r).filter(y(r)).each((t=>{const r=xe.fromText("");if(Le(t,r),qe(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{const t=e.dom.createRng();t.setStart(r.dom,0),t.setEnd(r.dom,0),e.selection.setRng(t),e.nodeChanged()}}))})),mceTableCellToggleClass:(t,r)=>{s((t=>{const n=Ci(e),o=V(n,(t=>e.formatter.match("tablecellclass",{value:r},t.dom))),i=o?e.formatter.remove:e.formatter.apply;M(n,(e=>i("tablecellclass",{value:r},e.dom))),Ka(e,t.dom,Ya)}))},mceTableToggleClass:(t,r)=>{s((t=>{e.formatter.toggle("tableclass",{value:r},t.dom),Ka(e,t.dom,Ya)}))},mceTableToggleCaption:()=>{Ql(e).each((t=>{Zt(t,r).each((r=>{gt(r,"caption").fold((()=>{const t=xe.fromTag("caption");ze(t,xe.fromText("Caption")),((e,t,r)=>{Fe(e,0).fold((()=>{ze(e,t)}),(e=>{Be(e,t)}))})(r,t),e.selection.setCursorLocation(t.dom,0)}),(n=>{ue("caption")(t)&&_e("td",r).each((t=>e.selection.setCursorLocation(t.dom,0))),qe(n)})),Ka(e,r.dom,Xa)}))}))},mceTableSizingMode:(t,n)=>(t=>Ql(e).each((n=>{hl(e)||cl(e)||ll(e)||Zt(n,r).each((r=>{"relative"!==t||Pl(r)?"fixed"!==t||Ml(r)?"responsive"!==t||Dl(r)||Nl(r):Rl(r):Il(r),Lo(r),Ka(e,r.dom,Xa)}))})))(n),mceTableCellType:f((e=>"th"===e?t.makeCellsHeader:t.unmakeCellsHeader)),mceTableColType:f((e=>"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader)),mceTableRowType:f((e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},((t,r)=>e.addCommand(r,t))),e.addCommand("mceInsertTable",((t,r)=>{((e,t,r,n={})=>{const o=e=>u(e)&&e>0;if(o(t)&&o(r)){const o=n.headerRows||0,i=n.headerColumns||0;return Vl(e,r,t,i,o)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(e,r.rows,r.columns,r.options)})),e.addCommand("mceTableApplyCellStyle",((t,r)=>{const s=e=>"tablecell"+e.toLowerCase().replace("-","");if(!i(r))return;const a=O(Ci(e),jo);if(0===a.length)return;const l=((e,t)=>{const r={};return((e,t,r,n)=>{$(e,((e,o)=>{(t(e,o)?r:n)(e,o)}))})(e,t,(e=>(t,r)=>{e[r]=t})(r),p),r})(r,((t,r)=>e.formatter.has(s(r))&&o(t)));(e=>{for(const t in e)if(W.call(e,t))return!1;return!0})(l)||($(l,((t,r)=>{const n=s(r);M(a,(r=>{""===t?e.formatter.remove(n,{value:null},r.dom,!0):e.formatter.apply(n,{value:t},r.dom)}))})),n(a[0]).each((t=>Ka(e,t.dom,Ya))))}))},tc=Vs([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),rc={before:tc.before,on:tc.on,after:tc.after,cata:(e,t,r,n)=>e.fold(t,r,n),getStart:e=>e.fold(m,m,m)},nc=(e,t)=>({selection:e,kill:t}),oc=(e,t)=>{const r=e.document.createRange();return r.selectNode(t.dom),r},ic=(e,t)=>{const r=e.document.createRange();return sc(r,t),r},sc=(e,t)=>e.selectNodeContents(t.dom),ac=(e,t,r)=>{const n=e.document.createRange();var o;return o=n,t.fold((e=>{o.setStartBefore(e.dom)}),((e,t)=>{o.setStart(e.dom,t)}),(e=>{o.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,r)=>{e.setEnd(t.dom,r)}),(t=>{e.setEndAfter(t.dom)}))})(n,r),n},lc=(e,t,r,n,o)=>{const i=e.document.createRange();return i.setStart(t.dom,r),i.setEnd(n.dom,o),i},cc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),hc=Vs([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),dc=(e,t,r)=>t(xe.fromDom(r.startContainer),r.startOffset,xe.fromDom(r.endContainer),r.endOffset),uc=(e,t)=>{const r=((e,t)=>t.match({domRange:e=>({ltr:f(e),rtl:E.none}),relative:(t,r)=>({ltr:er((()=>ac(e,t,r))),rtl:er((()=>E.some(ac(e,r,t))))}),exact:(t,r,n,o)=>({ltr:er((()=>lc(e,t,r,n,o))),rtl:er((()=>E.some(lc(e,n,o,t,r))))})}))(e,t);return((e,t)=>{const r=t.ltr();return r.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>hc.rtl(xe.fromDom(e.endContainer),e.endOffset,xe.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>dc(0,hc.ltr,r))):dc(0,hc.ltr,r)})(0,r)},pc=(e,t)=>uc(e,t).match({ltr:(t,r,n,o)=>{const i=e.document.createRange();return i.setStart(t.dom,r),i.setEnd(n.dom,o),i},rtl:(t,r,n,o)=>{const i=e.document.createRange();return i.setStart(n.dom,o),i.setEnd(t.dom,r),i}});hc.ltr,hc.rtl;const fc=(e,t,r,n)=>({start:e,soffset:t,finish:r,foffset:n}),mc=(e,t,r,n)=>({start:rc.on(e,t),finish:rc.on(r,n)}),gc=(e,t)=>{const r=pc(e,t);return fc(xe.fromDom(r.startContainer),r.startOffset,xe.fromDom(r.endContainer),r.endOffset)},vc=mc,yc=(e,t,r,n,o)=>Ce(r,n)?E.none():oi(r,n,t).bind((t=>{const n=t.boxes.getOr([]);return n.length>1?(o(e,n,t.start,t.finish),E.some(nc(E.some(vc(r,0,r,yo(r))),!0))):E.none()})),bc=(e,t)=>({item:e,mode:t}),wc=(e,t,r,n=xc)=>e.property().parent(t).map((e=>bc(e,n))),xc=(e,t,r,n=Ec)=>r.sibling(e,t).map((e=>bc(e,n))),Ec=(e,t,r,n=Ec)=>{const o=e.property().children(t);return r.first(o).map((e=>bc(e,n)))},Sc=[{current:wc,next:xc,fallback:E.none()},{current:xc,next:Ec,fallback:E.some(wc)},{current:Ec,next:Ec,fallback:E.some(xc)}],_c=(e,t,r,n,o=Sc)=>N(o,(e=>e.current===r)).bind((r=>r.current(e,t,n,r.next).orThunk((()=>r.fallback.bind((r=>_c(e,t,r,n))))))),Cc=(e,t,r,n,o,i)=>_c(e,t,n,o).bind((t=>i(t.item)?E.none():r(t.item)?E.some(t.item):Cc(e,t.item,r,t.mode,o,i))),Ac=e=>t=>0===e.property().children(t).length,kc=(e,t,r,n)=>Cc(e,t,r,xc,{sibling:(e,t)=>e.query().prevSibling(t),first:e=>e.length>0?E.some(e[e.length-1]):E.none()},n),Tc=(e,t,r,n)=>Cc(e,t,r,xc,{sibling:(e,t)=>e.query().nextSibling(t),first:e=>e.length>0?E.some(e[0]):E.none()},n),Pc=Jo(),Mc=(e,t)=>((e,t,r)=>kc(e,t,Ac(e),r))(Pc,e,t),Dc=(e,t)=>((e,t,r)=>Tc(e,t,Ac(e),r))(Pc,e,t),Oc=Vs([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Ic=e=>yt(e,"tr"),Rc={...Oc,verify:(e,t,r,n,o,i,s)=>yt(n,"td,th",s).bind((r=>yt(t,"td,th",s).map((t=>Ce(r,t)?Ce(n,r)&&yo(r)===o?i(t):Oc.none("in same cell"):ri(Ic,[r,t]).fold((()=>((e,t,r)=>{const n=e.getRect(t),o=e.getRect(r);return o.right>n.left&&o.left<n.right})(e,t,r)?Oc.success():i(t)),(e=>i(t))))))).getOr(Oc.none("default")),cata:(e,t,r,n,o)=>e.fold(t,r,n,o)},Nc=ue("br"),Fc=(e,t,r)=>t(e,r).bind((e=>ce(e)&&0===mo(e).trim().length?Fc(e,t,r):E.some(e))),Bc=(e,t,r,n)=>((e,t)=>Fe(e,t).filter(Nc).orThunk((()=>Fe(e,t-1).filter(Nc))))(t,r).bind((t=>n.traverse(t).fold((()=>Fc(t,n.gather,e).map(n.relative)),(e=>(e=>Me(e).bind((t=>{const r=Ne(t);return((e,t)=>F(e,v(Ce,t)))(r,e).map((n=>((e,t,r,n)=>({parent:e,children:t,element:r,index:n}))(t,r,e,n)))})))(e).map((e=>rc.on(e.parent,e.index))))))),Lc=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),Vc=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),zc=(e,t,r)=>({left:e.left+t,top:e.top+r,right:e.right+t,bottom:e.bottom+r}),Hc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),jc=(e,t)=>E.some(e.getRect(t)),Gc=(e,t,r)=>le(t)?jc(e,t).map(Hc):ce(t)?((e,t,r)=>r>=0&&r<yo(t)?e.getRangedRect(t,r,t,r+1):r>0?e.getRangedRect(t,r-1,t,r):E.none())(e,t,r).map(Hc):E.none(),Uc=(e,t)=>le(t)?jc(e,t).map(Hc):ce(t)?e.getRangedRect(t,0,t,yo(t)).map(Hc):E.none(),qc=Vs([{none:[]},{retry:["caret"]}]),Wc=(e,t,r)=>ft(t,ra).fold(w,(t=>Uc(e,t).exists((e=>((e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right)(r,e))))),$c={point:e=>e.bottom,adjuster:(e,t,r,n,o)=>{const i=Lc(o,5);return Math.abs(r.bottom-n.bottom)<1||r.top>o.bottom?qc.retry(i):r.top===o.bottom?qc.retry(Lc(o,1)):Wc(e,t,o)?qc.retry(zc(i,5,0)):qc.none()},move:Lc,gather:Dc},Zc=(e,t,r,n,o)=>0===o?E.some(n):((e,t,r)=>e.elementFromPoint(t,r).filter((e=>"table"===ne(e))).isSome())(e,n.left,t.point(n))?((e,t,r,n,o)=>Zc(e,t,r,t.move(n,5),o))(e,t,r,n,o-1):e.situsFromPoint(n.left,t.point(n)).bind((i=>i.start.fold(E.none,(i=>Uc(e,i).bind((s=>t.adjuster(e,i,s,r,n).fold(E.none,(n=>Zc(e,t,r,n,o-1))))).orThunk((()=>E.some(n)))),E.none))),Kc=(e,t,r)=>{const n=e.move(r,5),o=Zc(t,e,r,n,100).getOr(n);return((e,t,r)=>e.point(t)>r.getInnerHeight()?E.some(e.point(t)-r.getInnerHeight()):e.point(t)<0?E.some(-e.point(t)):E.none())(e,o,t).fold((()=>t.situsFromPoint(o.left,e.point(o))),(r=>(t.scrollBy(0,r),t.situsFromPoint(o.left,e.point(o)-r))))},Yc={tryUp:v(Kc,{point:e=>e.top,adjuster:(e,t,r,n,o)=>{const i=Vc(o,5);return Math.abs(r.top-n.top)<1||r.bottom<o.top?qc.retry(i):r.bottom===o.top?qc.retry(Vc(o,1)):Wc(e,t,o)?qc.retry(zc(i,5,0)):qc.none()},move:Vc,gather:Mc}),tryDown:v(Kc,$c),getJumpSize:f(5)},Xc=(e,t,r)=>e.getSelection().bind((n=>((e,t,r,n)=>{const o=Nc(t)?((e,t,r)=>r.traverse(t).orThunk((()=>Fc(t,r.gather,e))).map(r.relative))(e,t,n):Bc(e,t,r,n);return o.map((e=>({start:e,finish:e})))})(t,n.finish,n.foffset,r).fold((()=>E.some(ki(n.finish,n.foffset))),(o=>{const i=e.fromSitus(o);return s=Rc.verify(e,n.finish,n.foffset,i.finish,i.foffset,r.failure,t),Rc.cata(s,(e=>E.none()),(()=>E.none()),(e=>E.some(ki(e,0))),(e=>E.some(ki(e,yo(e)))));var s})))),Jc=(e,t,r,n,o,i)=>0===i?E.none():th(e,t,r,n,o).bind((s=>{const a=e.fromSitus(s),l=Rc.verify(e,r,n,a.finish,a.foffset,o.failure,t);return Rc.cata(l,(()=>E.none()),(()=>E.some(s)),(s=>Ce(r,s)&&0===n?Qc(e,r,n,Vc,o):Jc(e,t,s,0,o,i-1)),(s=>Ce(r,s)&&n===yo(s)?Qc(e,r,n,Lc,o):Jc(e,t,s,yo(s),o,i-1)))})),Qc=(e,t,r,n,o)=>Gc(e,t,r).bind((t=>eh(e,o,n(t,Yc.getJumpSize())))),eh=(e,t,r)=>{const n=Mr().browser;return n.isChromium()||n.isSafari()||n.isFirefox()?t.retry(e,r):E.none()},th=(e,t,r,n,o)=>Gc(e,r,n).bind((t=>eh(e,o,t))),rh=(e,t,r,n,o)=>yt(n,"td,th",t).bind((n=>yt(n,"table",t).bind((i=>((e,t)=>pt(e,(e=>Me(e).exists((e=>Ce(e,t)))),void 0).isSome())(o,i)?((e,t,r)=>Xc(e,t,r).bind((n=>Jc(e,t,n.element,n.offset,r,20).map(e.fromSitus))))(e,t,r).bind((e=>yt(e.finish,"td,th",t).map((t=>({start:n,finish:t,range:e}))))):E.none())))),nh=(e,t,r,n,o,i)=>i(n,t).orThunk((()=>rh(e,t,r,n,o).map((e=>{const t=e.range;return nc(E.some(vc(t.start,t.soffset,t.finish,t.foffset)),!0)})))),oh=(e,t)=>yt(e,"tr",t).bind((e=>yt(e,"table",t).bind((r=>{const n=dt(r,"tr");return Ce(e,n[0])?((e,t,r)=>kc(Pc,e,(e=>Eo(e).isSome()),r))(r,0,t).map((e=>{const t=yo(e);return nc(E.some(vc(e,t,e,t)),!0)})):E.none()})))),ih=(e,t)=>yt(e,"tr",t).bind((e=>yt(e,"table",t).bind((r=>{const n=dt(r,"tr");return Ce(e,n[n.length-1])?((e,t,r)=>Tc(Pc,e,(e=>xo(e).isSome()),r))(r,0,t).map((e=>nc(E.some(vc(e,0,e,0)),!0))):E.none()})))),sh=(e,t,r,n,o,i,s)=>rh(e,r,n,o,i).bind((e=>yc(t,r,e.start,e.finish,s))),ah=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},lh=()=>{const e=(e=>{const t=ah(E.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(E.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(E.some(e))}}})(p);return{...e,on:t=>e.get().each(t)}},ch=(e,t)=>yt(e,"td,th",t),hh=e=>De(e).exists(Ro),dh={traverse:Re,gather:Dc,relative:rc.before,retry:Yc.tryDown,failure:Rc.failedDown},uh={traverse:Ie,gather:Mc,relative:rc.before,retry:Yc.tryUp,failure:Rc.failedUp},ph=e=>t=>t===e,fh=ph(38),mh=ph(40),gh=e=>e>=37&&e<=40,vh={isBackward:ph(37),isForward:ph(39)},yh={isBackward:ph(39),isForward:ph(37)},bh=Vs([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),wh={domRange:bh.domRange,relative:bh.relative,exact:bh.exact,exactFromRange:e=>bh.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>xe.fromDom(e.startContainer),relative:(e,t)=>rc.getStart(e),exact:(e,t,r,n)=>e}))(e);return xe.fromDom(Pe(t).dom.defaultView)},range:fc},xh=document.caretPositionFromPoint?(e,t,r)=>{var n,o;return E.from(null===(o=(n=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(n,t,r)).bind((t=>{if(null===t.offsetNode)return E.none();const r=e.dom.createRange();return r.setStart(t.offsetNode,t.offset),r.collapse(),E.some(r)}))}:document.caretRangeFromPoint?(e,t,r)=>{var n,o;return E.from(null===(o=(n=e.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(n,t,r))}:E.none,Eh=(e,t)=>{const r=ne(e);return"input"===r?rc.after(e):A(["br","img"],r)?0===t?rc.before(e):rc.after(e):rc.on(e,t)},Sh=e=>E.from(e.getSelection()),_h=(e,t)=>{Sh(e).each((e=>{e.removeAllRanges(),e.addRange(t)}))},Ch=(e,t,r,n,o)=>{const i=lc(e,t,r,n,o);_h(e,i)},Ah=(e,t)=>uc(e,t).match({ltr:(t,r,n,o)=>{Ch(e,t,r,n,o)},rtl:(t,r,n,o)=>{Sh(e).each((i=>{if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom,r,n.dom,o);else if(i.extend)try{((e,t,r,n,o,i)=>{t.collapse(r.dom,n),t.extend(o.dom,i)})(0,i,t,r,n,o)}catch(i){Ch(e,n,o,t,r)}else Ch(e,n,o,t,r)}))}}),kh=(e,t,r,n,o)=>{const i=((e,t,r,n)=>{const o=Eh(e,t),i=Eh(r,n);return wh.relative(o,i)})(t,r,n,o);Ah(e,i)},Th=(e,t,r)=>{const n=((e,t)=>{const r=e.fold(rc.before,Eh,rc.after),n=t.fold(rc.before,Eh,rc.after);return wh.relative(r,n)})(t,r);Ah(e,n)},Ph=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),r=e.getRangeAt(e.rangeCount-1);return E.some(fc(xe.fromDom(t.startContainer),t.startOffset,xe.fromDom(r.endContainer),r.endOffset))}return E.none()},Mh=e=>{if(null===e.anchorNode||null===e.focusNode)return Ph(e);{const t=xe.fromDom(e.anchorNode),r=xe.fromDom(e.focusNode);return((e,t,r,n)=>{const o=((e,t,r,n)=>{const o=Te(e).dom.createRange();return o.setStart(e.dom,t),o.setEnd(r.dom,n),o})(e,t,r,n),i=Ce(e,r)&&t===n;return o.collapsed&&!i})(t,e.anchorOffset,r,e.focusOffset)?E.some(fc(t,e.anchorOffset,r,e.focusOffset)):Ph(e)}},Dh=(e,t,r=!0)=>{const n=(r?ic:oc)(e,t);_h(e,n)},Oh=e=>(e=>Sh(e).filter((e=>e.rangeCount>0)).bind(Mh))(e).map((e=>wh.exact(e.start,e.soffset,e.finish,e.foffset))),Ih=e=>({elementFromPoint:(t,r)=>xe.fromPoint(xe.fromDom(e.document),t,r),getRect:e=>e.dom.getBoundingClientRect(),getRangedRect:(t,r,n,o)=>{const i=wh.exact(t,r,n,o);return((e,t)=>(e=>{const t=e.getClientRects(),r=t.length>0?t[0]:e.getBoundingClientRect();return r.width>0||r.height>0?E.some(r).map(cc):E.none()})(pc(e,t)))(e,i)},getSelection:()=>Oh(e).map((t=>gc(e,t))),fromSitus:t=>{const r=wh.relative(t.start,t.finish);return gc(e,r)},situsFromPoint:(t,r)=>((e,t,r)=>((e,t,r)=>{const n=xe.fromDom(e.document);return xh(n,t,r).map((e=>fc(xe.fromDom(e.startContainer),e.startOffset,xe.fromDom(e.endContainer),e.endOffset)))})(e,t,r))(e,t,r).map((e=>mc(e.start,e.soffset,e.finish,e.foffset))),clearSelection:()=>{(e=>{Sh(e).each((e=>e.removeAllRanges()))})(e)},collapseSelection:(t=!1)=>{Oh(e).each((r=>r.fold((e=>e.collapse(t)),((r,n)=>{const o=t?r:n;Th(e,o,o)}),((r,n,o,i)=>{const s=t?r:o,a=t?n:i;kh(e,s,a,s,a)}))))},setSelection:t=>{kh(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:(t,r)=>{Th(e,t,r)},selectNode:t=>{Dh(e,t,!1)},selectContents:t=>{Dh(e,t)},getInnerHeight:()=>e.innerHeight,getScrollY:()=>(e=>{const t=void 0!==e?e.dom:document,r=t.body.scrollLeft||t.documentElement.scrollLeft,n=t.body.scrollTop||t.documentElement.scrollTop;return vn(r,n)})(xe.fromDom(e.document)).top,scrollBy:(t,r)=>{((e,t,r)=>{const n=(void 0!==r?r.dom:document).defaultView;n&&n.scrollBy(e,t)})(t,r,xe.fromDom(e.document))}}),Rh=(e,t)=>({rows:e,cols:t}),Nh=e=>ft(e,ae).exists(Ro),Fh=(e,t)=>Nh(e)||Nh(t),Bh=e=>void 0!==e.dom.classList,Lh=(e,t)=>((e,t,r)=>{const n=((e,t)=>{const r=ge(e,t);return void 0===r||""===r?[]:r.split(" ")})(e,t).concat([r]);return fe(e,t,n.join(" ")),!0})(e,"class",t),Vh=(e,t)=>{Bh(e)?e.dom.classList.add(t):Lh(e,t)},zh=(e,t)=>Bh(e)&&e.dom.classList.contains(t),Hh=()=>({tag:"none"}),jh=e=>({tag:"multiple",elements:e}),Gh=e=>({tag:"single",element:e}),Uh=e=>{const t=xe.fromDom((e=>{if(nt()&&h(e.target)){const t=xe.fromDom(e.target);if(le(t)&&h(t.dom.shadowRoot)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return j(t)}}return E.from(e.target)})(e).getOr(e.target)),r=()=>e.stopPropagation(),n=()=>e.preventDefault(),o=(i=n,s=r,(...e)=>i(s.apply(null,e)));var i,s;return((e,t,r,n,o,i,s)=>({target:e,x:t,y:r,stop:n,prevent:o,kill:i,raw:s}))(t,e.clientX,e.clientY,r,n,o,e)},qh=(e,t,r,n)=>{e.dom.removeEventListener(t,r,n)},Wh=x,$h=(e,t,r)=>((e,t,r,n)=>((e,t,r,n,o)=>{const i=((e,t)=>r=>{e(r)&&t(Uh(r))})(r,n);return e.dom.addEventListener(t,i,o),{unbind:v(qh,e,t,i,o)}})(e,t,r,n,!1))(e,t,Wh,r),Zh=Uh,Kh=e=>!zh(xe.fromDom(e.target),"ephox-snooker-resizer-bar"),Yh=(e,t)=>{const r=(o=wi.selectedSelector,{get:()=>li(xe.fromDom(e.getBody()),o).fold((()=>_i(Vo(e),Bo(e)).fold(Hh,Gh)),jh)}),n=((e,t,r)=>{const n=t=>{ye(t,e.selected),ye(t,e.firstSelected),ye(t,e.lastSelected)},o=t=>{fe(t,e.selected,"1")},i=e=>{s(e),r()},s=t=>{const r=dt(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`);M(r,n)};return{clearBeforeUpdate:s,clear:i,selectRange:(r,n,s,a)=>{i(r),M(n,o),fe(s,e.firstSelected,"1"),fe(a,e.lastSelected,"1"),t(n,s,a)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}})(wi,((t,r,n)=>{Zt(r).each((o=>{const i=rl(e),s=Do(p,xe.fromDom(e.getDoc()),i),a=((e,t,r)=>{const n=Jr(e);return ps(n,t).map((e=>{const t=as(n,r,!1),{rows:o}=Ur(t),i=((e,t)=>{const r=e.slice(0,t[t.length-1].row+1),n=ls(r);return L(n,(e=>{const r=e.cells.slice(0,t[t.length-1].column+1);return P(r,(e=>e.element))}))})(o,e),s=((e,t)=>{const r=e.slice(t[0].row+t[0].rowspan-1,e.length),n=ls(r);return L(n,(e=>{const r=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return P(r,(e=>e.element))}))})(o,e);return{upOrLeftCells:i,downOrRightCells:s}}))})(o,{selection:Ci(e)},s);((e,t,r,n,o)=>{e.dispatch("TableSelectionChange",{cells:t,start:r,finish:n,otherCells:o})})(e,t,r,n,a)}))}),(()=>(e=>{e.dispatch("TableSelectionClear")})(e)));var o;return e.on("init",(r=>{const o=e.getWin(),i=Fo(e),s=Bo(e),a=((e,t,r,n)=>{const o=((e,t,r,n)=>{const o=lh(),i=o.clear,s=i=>{o.on((o=>{n.clearBeforeUpdate(t),ch(i.target,r).each((s=>{oi(o,s,r).each((r=>{const o=r.boxes.getOr([]);if(1===o.length){const r=o[0],s="false"===No(r),a=bt(Io(i.target),r,Ce);s&&a&&(n.selectRange(t,o,r,r),e.selectContents(r))}else o.length>1&&(n.selectRange(t,o,r.start,r.finish),e.selectContents(s))}))}))}))};return{clearstate:i,mousedown:e=>{n.clear(t),ch(e.target,r).filter(hh).each(o.set)},mouseover:e=>{s(e)},mouseup:e=>{s(e),i()}}})(Ih(e),t,r,n);return{clearstate:o.clearstate,mousedown:o.mousedown,mouseover:o.mouseover,mouseup:o.mouseup}})(o,i,s,n),l=((e,t,r,n)=>{const o=Ih(e),i=()=>(n.clear(t),E.none());return{keydown:(e,s,a,l,c,h)=>{const d=e.raw,u=d.which,p=!0===d.shiftKey,f=ii(t,n.selectedSelector).fold((()=>(gh(u)&&!p&&n.clearBeforeUpdate(t),gh(u)&&p&&!Fh(s,l)?E.none:mh(u)&&p?v(sh,o,t,r,dh,l,s,n.selectRange):fh(u)&&p?v(sh,o,t,r,uh,l,s,n.selectRange):mh(u)?v(nh,o,r,dh,l,s,ih):fh(u)?v(nh,o,r,uh,l,s,oh):E.none)),(e=>{const r=r=>()=>{const i=U(r,(r=>((e,t,r,n,o)=>ai(n,e,t,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>(o.clearBeforeUpdate(r),o.selectRange(r,e.boxes,e.start,e.finish),e.boxes))))(r.rows,r.cols,t,e,n)));return i.fold((()=>si(t,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>{const r=mh(u)||h.isForward(u)?rc.after:rc.before;return o.setRelativeSelection(rc.on(e.first,0),r(e.table)),n.clear(t),nc(E.none(),!0)}))),(e=>E.some(nc(E.none(),!0))))};return gh(u)&&p&&!Fh(s,l)?E.none:mh(u)&&p?r([Rh(1,0)]):fh(u)&&p?r([Rh(-1,0)]):h.isBackward(u)&&p?r([Rh(0,-1),Rh(-1,0)]):h.isForward(u)&&p?r([Rh(0,1),Rh(1,0)]):gh(u)&&!p?i:E.none}));return f()},keyup:(e,o,i,s,a)=>ii(t,n.selectedSelector).fold((()=>{const l=e.raw,c=l.which;return!0===l.shiftKey&&gh(c)&&Fh(o,s)?((e,t,r,n,o,i,s)=>Ce(r,o)&&n===i?E.none():yt(r,"td,th",t).bind((r=>yt(o,"td,th",t).bind((n=>yc(e,t,r,n,s))))))(t,r,o,i,s,a,n.selectRange):E.none()}),E.none)}})(o,i,s,n),c=((e,t,r,n)=>{const o=Ih(e);return(e,i)=>{n.clearBeforeUpdate(t),oi(e,i,r).each((e=>{const r=e.boxes.getOr([]);n.selectRange(t,r,e.start,e.finish),o.selectContents(i),o.collapseSelection()}))}})(o,i,s,n);e.on("TableSelectorChange",(e=>c(e.start,e.finish)));const h=(t,r)=>{(e=>!0===e.raw.shiftKey)(t)&&(r.kill&&t.kill(),r.selection.each((t=>{const r=wh.relative(t.start,t.finish),n=pc(o,r);e.selection.setRng(n)})))},d=e=>0===e.button,u=(()=>{const e=ah(xe.fromDom(i)),t=ah(0);return{touchEnd:r=>{const n=xe.fromDom(r.target);if(ue("td")(n)||ue("th")(n)){const o=e.get(),i=t.get();Ce(o,n)&&r.timeStamp-i<300&&(r.preventDefault(),c(n,n))}e.set(n),t.set(r.timeStamp)}}})();e.on("dragstart",(e=>{a.clearstate()})),e.on("mousedown",(e=>{d(e)&&Kh(e)&&a.mousedown(Zh(e))})),e.on("mouseover",(e=>{var t;void 0!==(t=e).buttons&&0==(1&t.buttons)||!Kh(e)||a.mouseover(Zh(e))})),e.on("mouseup",(e=>{d(e)&&Kh(e)&&a.mouseup(Zh(e))})),e.on("touchend",u.touchEnd),e.on("keyup",(t=>{const r=Zh(t);if(r.raw.shiftKey&&gh(r.raw.which)){const t=e.selection.getRng(),n=xe.fromDom(t.startContainer),o=xe.fromDom(t.endContainer);l.keyup(r,n,t.startOffset,o,t.endOffset).each((e=>{h(r,e)}))}})),e.on("keydown",(r=>{const n=Zh(r);t.hide();const o=e.selection.getRng(),i=xe.fromDom(o.startContainer),s=xe.fromDom(o.endContainer),a=dn(vh,yh)(xe.fromDom(e.selection.getStart()));l.keydown(n,i,o.startOffset,s,o.endOffset,a).each((e=>{h(n,e)})),t.show()})),e.on("NodeChange",(()=>{const t=e.selection,r=xe.fromDom(t.getStart()),o=xe.fromDom(t.getEnd());ri(Zt,[r,o]).fold((()=>n.clear(i)),p)}))})),e.on("PreInit",(()=>{e.serializer.addTempAttr(wi.firstSelected),e.serializer.addTempAttr(wi.lastSelected)})),{getSelectedCells:()=>((e,t,r,n)=>{switch(e.tag){case"none":return t();case"single":return(e=>[e.dom])(e.element);case"multiple":return(e=>P(e,(e=>e.dom)))(e.elements)}})(r.get(),f([])),clearSelectedCells:e=>n.clear(xe.fromDom(e))}},Xh=e=>{let t=[];return{bind:e=>{if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},unbind:e=>{t=O(t,(t=>t!==e))},trigger:(...r)=>{const n={};M(e,((e,t)=>{n[e]=r[t]})),M(t,(e=>{e(n)}))}}},Jh=e=>({registry:Z(e,(e=>({bind:e.bind,unbind:e.unbind}))),trigger:Z(e,(e=>e.trigger))}),Qh=e=>e.slice(0).sort(),ed=(e,t)=>{const r=O(t,(t=>!A(e,t)));r.length>0&&(e=>{throw new Error("Unsupported keys for object: "+Qh(e).join(", "))})(r)},td=e=>((e,t)=>((e,t,r)=>{if(0===t.length)throw new Error("You must specify at least one required field.");return((e,t)=>{if(!s(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");M(t,(t=>{if(!o(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))})("required",t),(e=>{const t=Qh(e);N(t,((e,r)=>r<t.length-1&&e===t[r+1])).each((e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))})(t),n=>{const o=q(n);V(t,(e=>A(o,e)))||((e,t)=>{throw new Error("All required keys ("+Qh(e).join(", ")+") were not specified. Specified keys were: "+Qh(t).join(", ")+".")})(t,o),e(t,o);const i=O(t,(e=>!r.validate(n[e],e)));return i.length>0&&((e,t)=>{throw new Error("All values need to be of type: "+t+". Keys ("+Qh(e).join(", ")+") were not.")})(i,r.label),n}})(e,t,{validate:d,label:"function"}))(ed,e),rd=td(["compare","extract","mutate","sink"]),nd=td(["element","start","stop","destroy"]),od=td(["forceDrop","drop","move","delayDrop"]),id=()=>{const e=(()=>{const e=Jh({move:Xh(["info"])});return{onEvent:p,reset:p,events:e.registry}})(),t=(()=>{let e=E.none();const t=Jh({move:Xh(["info"])});return{onEvent:(r,n)=>{n.extract(r).each((r=>{const o=((t,r)=>{const n=e.map((e=>t.compare(e,r)));return e=E.some(r),n})(n,r);o.each((e=>{t.trigger.move(e)}))}))},reset:()=>{e=E.none()},events:t.registry}})();let r=e;return{on:()=>{r.reset(),r=t},off:()=>{r.reset(),r=e},isOn:()=>r===t,onEvent:(e,t)=>{r.onEvent(e,t)},events:t.events}},sd=e=>{const t=e.replace(/\./g,"-");return{resolve:e=>t+"-"+e}},ad=sd("ephox-dragster").resolve;var ld=rd({compare:(e,t)=>vn(t.left-e.left,t.top-e.top),extract:e=>E.some(vn(e.x,e.y)),sink:(e,t)=>{const r=(e=>{const t={layerClass:ad("blocker"),...e},r=xe.fromTag("div");return fe(r,"role","presentation"),Dt(r,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Vh(r,ad("blocker")),Vh(r,t.layerClass),{element:f(r),destroy:()=>{qe(r)}}})(t),n=$h(r.element(),"mousedown",e.forceDrop),o=$h(r.element(),"mouseup",e.drop),i=$h(r.element(),"mousemove",e.move),s=$h(r.element(),"mouseout",e.delayDrop);return nd({element:r.element,start:e=>{ze(e,r.element())},stop:()=>{qe(r.element())},destroy:()=>{r.destroy(),o.unbind(),i.unbind(),s.unbind(),n.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});const cd=sd("ephox-snooker").resolve,hd=cd("resizer-bar"),dd=cd("resizer-rows"),ud=cd("resizer-cols"),pd=e=>{const t=dt(e.parent(),"."+hd);M(t,qe)},fd=(e,t,r)=>{const n=e.origin();M(t,(t=>{t.each((t=>{const o=r(n,t);Vh(o,hd),ze(e.parent(),o)}))}))},md=(e,t,r,n,o)=>{const i=bn(r),s=t.isResizable,a=n.length>0?Dn.positions(n,r):[],l=a.length>0?((e,t)=>L(e.all,((e,r)=>t(e.element)?[r]:[])))(e,s):[];((e,t,r,n)=>{fd(e,t,((e,t)=>{const o=((e,t,r,n,o)=>{const i=xe.fromTag("div");return Dt(i,{position:"absolute",left:t+"px",top:r-3.5+"px",height:"7px",width:n+"px"}),me(i,{"data-row":e,role:"presentation"}),i})(t.row,r.left-e.left,t.y-e.top,n);return Vh(o,dd),o}))})(t,O(a,((e,t)=>k(l,(e=>t===e)))),i,Nr(r));const c=o.length>0?In.positions(o,r):[],h=c.length>0?((e,t)=>{const r=[];return T(e.grid.columns,(n=>{an(e,n).map((e=>e.element)).forall(t)&&r.push(n)})),O(r,(r=>{const n=rn(e,(e=>e.column===r));return V(n,(e=>t(e.element)))}))})(e,s):[];((e,t,r,n)=>{fd(e,t,((e,t)=>{const o=((e,t,r,n,o)=>{const i=xe.fromTag("div");return Dt(i,{position:"absolute",left:t-3.5+"px",top:r+"px",height:o+"px",width:"7px"}),me(i,{"data-column":e,role:"presentation"}),i})(t.col,t.x-e.left,r.top-e.top,0,n);return Vh(o,ud),o}))})(t,O(c,((e,t)=>k(h,(e=>t===e)))),i,mn(r))},gd=(e,t)=>{if(pd(e),e.isResizable(t)){const r=Jr(t),n=hn(r),o=ln(r);md(r,e,t,n,o)}},vd=(e,t)=>{const r=dt(e.parent(),"."+hd);M(r,t)},yd=e=>{vd(e,(e=>{Mt(e,"display","none")}))},bd=e=>{vd(e,(e=>{Mt(e,"display","block")}))},wd=cd("resizer-bar-dragging"),xd=e=>{const t=(()=>{const e=Jh({drag:Xh(["xDelta","yDelta","target"])});let t=E.none();const r=(()=>{const e=Jh({drag:Xh(["xDelta","yDelta"])});return{mutate:(t,r)=>{e.trigger.drag(t,r)},events:e.registry}})();return r.events.drag.bind((r=>{t.each((t=>{e.trigger.drag(r.xDelta,r.yDelta,t)}))})),{assign:e=>{t=E.some(e)},get:()=>t,mutate:r.mutate,events:e.registry}})(),r=((e,t={})=>{var r;return((e,t,r)=>{let n=!1;const o=Jh({start:Xh([]),stop:Xh([])}),i=id(),s=()=>{h.stop(),i.isOn()&&(i.off(),o.trigger.stop())},l=((e,t)=>{let r=null;const n=()=>{a(r)||(clearTimeout(r),r=null)};return{cancel:n,throttle:(...t)=>{n(),r=setTimeout((()=>{r=null,e.apply(null,t)}),200)}}})(s);i.events.move.bind((r=>{t.mutate(e,r.info)}));const c=e=>(...t)=>{n&&e.apply(null,t)},h=t.sink(od({forceDrop:s,drop:c(s),move:c((e=>{l.cancel(),i.onEvent(e,t)})),delayDrop:c(l.throttle)}),r);return{element:h.element,go:e=>{h.start(e),i.on(),o.trigger.start()},on:()=>{n=!0},off:()=>{n=!1},isActive:()=>n,destroy:()=>{h.destroy()},events:o.registry}})(e,null!==(r=t.mode)&&void 0!==r?r:ld,t)})(t,{});let n=E.none();const o=(e,t)=>E.from(ge(e,t));t.events.drag.bind((e=>{o(e.target,"data-row").each((t=>{const r=zt(e.target,"top");Mt(e.target,"top",r+e.yDelta+"px")})),o(e.target,"data-column").each((t=>{const r=zt(e.target,"left");Mt(e.target,"left",r+e.xDelta+"px")}))}));const i=(e,t)=>zt(e,t)-Ft(e,"data-initial-"+t,0);r.events.stop.bind((()=>{t.get().each((t=>{n.each((r=>{o(t,"data-row").each((e=>{const n=i(t,"top");ye(t,"data-initial-top"),d.trigger.adjustHeight(r,n,parseInt(e,10))})),o(t,"data-column").each((e=>{const n=i(t,"left");ye(t,"data-initial-left"),d.trigger.adjustWidth(r,n,parseInt(e,10))})),gd(e,r)}))}))}));const s=(n,o)=>{d.trigger.startAdjust(),t.assign(n),fe(n,"data-initial-"+o,zt(n,o)),Vh(n,wd),Mt(n,"opacity","0.2"),r.go(e.parent())},l=$h(e.parent(),"mousedown",(e=>{var t;t=e.target,zh(t,dd)&&s(e.target,"top"),(e=>zh(e,ud))(e.target)&&s(e.target,"left")})),c=t=>Ce(t,e.view()),h=$h(e.view(),"mouseover",(t=>{var o;(o=t.target,yt(o,"table",c).filter(Ro)).fold((()=>{st(t.target)&&pd(e)}),(t=>{r.isActive()&&(n=E.some(t),gd(e,t))}))})),d=Jh({adjustHeight:Xh(["table","delta","row"]),adjustWidth:Xh(["table","delta","column"]),startAdjust:Xh([])});return{destroy:()=>{l.unbind(),h.unbind(),r.destroy(),pd(e)},refresh:t=>{gd(e,t)},on:r.on,off:r.off,hideBars:v(yd,e),showBars:v(bd,e),events:d.registry}},Ed=(e,t,r)=>{const n=Dn,o=In,i=xd(e),s=Jh({beforeResize:Xh(["table","type"]),afterResize:Xh(["table","type"]),startDrag:Xh([])});return i.events.adjustHeight.bind((e=>{const t=e.table;s.trigger.beforeResize(t,"row");((e,t,r,n)=>{const o=Jr(e),i=((e,t,r)=>io(e,t,r,Zn,(e=>e.getOrThunk(jt))))(o,e,n),s=P(i,((e,n)=>r===n?Math.max(t+e,jt()):e)),a=js(o,s),l=((e,t)=>P(e.all,((e,r)=>({element:e.element,height:t[r]}))))(o,s);M(l,(e=>{jn(e.element,e.height)})),M(a,(e=>{jn(e.element,e.height)}));const c=I(s,((e,t)=>e+t),0);jn(e,c)})(t,n.delta(e.delta,t),e.row,n),s.trigger.afterResize(t,"row")})),i.events.startAdjust.bind((e=>{s.trigger.startDrag()})),i.events.adjustWidth.bind((e=>{const n=e.table;s.trigger.beforeResize(n,"col");const i=o.delta(e.delta,n),a=r(n);Us(n,i,e.column,t,a),s.trigger.afterResize(n,"col")})),{on:i.on,off:i.off,refreshBars:i.refresh,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:s.registry}},Sd=e=>h(e)&&"TABLE"===e.nodeName,_d="bar-",Cd=e=>"false"!==ge(e,"data-mce-resize"),Ad=e=>{const t=lh(),r=lh(),n=lh();let o,i;const s=t=>ml(e,t),a=()=>il(e)?zi():Vi();return e.on("init",(()=>{const o=((e,t)=>e.inline?((e,t,r)=>({parent:f(t),view:f(e),origin:f(vn(0,0)),isResizable:r}))(xe.fromDom(e.getBody()),(()=>{const e=xe.fromTag("div");return Dt(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ze(at(xe.fromDom(document)),e),e})(),t):((e,t)=>{const r=he(e)?(e=>xe.fromDom(Pe(e).dom.documentElement))(e):e;return{parent:f(r),view:f(e),origin:f(vn(0,0)),isResizable:t}})(xe.fromDom(e.getDoc()),t))(e,Cd);if(n.set(o),(e=>{const t=e.options.get("object_resizing");return A(t.split(","),"table")})(e)&&dl(e)){const n=a(),i=Ed(o,n,s);i.on(),i.events.startDrag.bind((r=>{t.set(e.selection.getRng())})),i.events.beforeResize.bind((t=>{const r=t.table.dom;((e,t,r,n,o)=>{e.dispatch("ObjectResizeStart",{target:t,width:r,height:n,origin:o})})(e,r,zo(r),Ho(r),_d+t.type)})),i.events.afterResize.bind((r=>{const n=r.table,o=n.dom;Lo(n),t.on((t=>{e.selection.setRng(t),e.focus()})),((e,t,r,n,o)=>{e.dispatch("ObjectResized",{target:t,width:r,height:n,origin:o})})(e,o,zo(o),Ho(o),_d+r.type),e.undoManager.add()})),r.set(i)}})),e.on("ObjectResizeStart",(t=>{const r=t.target;if(Sd(r)){const n=xe.fromDom(r);M(e.dom.select(".mce-clonedresizable"),(t=>{e.dom.addClass(t,"mce-"+ol(e)+"-columns")})),!Ml(n)&&cl(e)?Rl(n):!Pl(n)&&ll(e)&&Il(n),Dl(n)&&_t(t.origin,_d)&&Il(n),o=t.width,i=hl(e)?"":((e,t)=>{const r=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return E.from(r).filter(kt)})(e,r).getOr("")}})),e.on("ObjectResized",(t=>{const r=t.target;if(Sd(r)){const n=xe.fromDom(r),l=t.origin;_t(l,"corner-")&&((t,r,n)=>{const l=Ct(r,"e");if(""===i&&Il(t),n!==o&&""!==i){Mt(t,"width",i);const r=a(),c=s(t),h=il(e)||l?(e=>Hi(e).columns)(t)-1:0;Us(t,n-o,h,r,c)}else if((e=>/^(\d+(\.\d+)?)%$/.test(e))(i)){const e=parseFloat(i.replace("%",""));Mt(t,"width",n*e/o+"%")}(e=>/^(\d+(\.\d+)?)px$/.test(e))(i)&&(e=>{const t=Jr(e);sn(t)||M(Wt(e),(e=>{const t=Ot(e,"width");Mt(e,"width",t),ye(e,"width")}))})(t)})(n,l,t.width),Lo(n),Ka(e,n.dom,Ya)}})),e.on("SwitchMode",(()=>{r.on((t=>{e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),e.on("dragstart dragend",(e=>{r.on((t=>{"dragstart"===e.type?(t.hideBars(),t.off()):(t.on(),t.showBars())}))})),e.on("remove",(()=>{r.on((e=>{e.destroy()})),n.on((t=>{((e,t)=>{e.inline&&qe(t.parent())})(e,t)}))})),{refresh:e=>{r.on((t=>t.refreshBars(xe.fromDom(e))))},hide:()=>{r.on((e=>e.hideBars()))},show:()=>{r.on((e=>e.showBars()))}}},kd=e=>{(e=>{const t=e.options.register;t("table_clone_elements",{processor:"string[]"}),t("table_use_colgroups",{processor:"boolean",default:!0}),t("table_header_type",{processor:e=>{const t=A(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),t("table_sizing_mode",{processor:"string",default:"auto"}),t("table_default_attributes",{processor:"object",default:{border:"1"}}),t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),t("table_column_resizing",{processor:e=>{const t=A(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),t("table_resize_bars",{processor:"boolean",default:!0}),t("table_style_by_css",{processor:"boolean",default:!0})})(e);const t=Ad(e),r=Yh(e,t),n=gl(e,t,r);return ec(e,n),((e,t)=>{const r=Bo(e),n=t=>_i(Vo(e)).bind((n=>Zt(n,r).map((r=>{const o=xi(Ci(e),r,n);return t(r,o)})))).getOr("");$({mceTableRowType:()=>n(t.getTableRowType),mceTableCellType:()=>n(t.getTableCellType),mceTableColType:()=>n(t.getTableColType)},((t,r)=>e.addQueryValueHandler(r,t)))})(e,n),Ai(e,n),{getSelectedCells:r.getSelectedCells,clearSelectedCells:r.clearSelectedCells}};e.add("dom",(e=>({table:kd(e)})))}()},1768:()=>{!function(){"use strict";const e=Object.getPrototypeOf,t=(e,t,r)=>{var n;return!!r(e,t.prototype)||(null===(n=e.constructor)||void 0===n?void 0:n.name)===t.name},r=e=>r=>(e=>{const r=typeof e;return null===e?"null":"object"===r&&Array.isArray(e)?"array":"object"===r&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":r})(r)===e,n=e=>t=>typeof t===e,o=e=>t=>e===t,i=r("string"),s=r("object"),a=r=>((r,n)=>s(r)&&t(r,n,((t,r)=>e(t)===r)))(r,Object),l=r("array"),c=o(null),h=n("boolean"),d=o(void 0),u=e=>null==e,p=e=>!u(e),f=n("function"),m=n("number"),g=(e,t)=>{if(l(e)){for(let r=0,n=e.length;r<n;++r)if(!t(e[r]))return!1;return!0}return!1},v=()=>{},y=e=>()=>e(),b=(e,t)=>(...r)=>e(t.apply(null,r)),w=e=>()=>e,x=e=>e,E=(e,t)=>e===t;function S(e,...t){return(...r)=>{const n=t.concat(r);return e.apply(null,n)}}const _=e=>t=>!e(t),C=e=>()=>{throw new Error(e)},A=e=>e(),k=w(!1),T=w(!0);class P{constructor(e,t){this.tag=e,this.value=t}static some(e){return new P(!0,e)}static none(){return P.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?P.some(e(this.value)):P.none()}bind(e){return this.tag?e(this.value):P.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:P.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return p(e)?P.some(e):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}P.singletonNone=new P(!1);const M=Array.prototype.slice,D=Array.prototype.indexOf,O=Array.prototype.push,I=(e,t)=>D.call(e,t),R=(e,t)=>{const r=I(e,t);return-1===r?P.none():P.some(r)},N=(e,t)=>I(e,t)>-1,F=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(t(e[r],r))return!0;return!1},B=(e,t)=>{const r=[];for(let n=0;n<e;n++)r.push(t(n));return r},L=(e,t)=>{const r=[];for(let n=0;n<e.length;n+=t){const o=M.call(e,n,n+t);r.push(o)}return r},V=(e,t)=>{const r=e.length,n=new Array(r);for(let o=0;o<r;o++){const r=e[o];n[o]=t(r,o)}return n},z=(e,t)=>{for(let r=0,n=e.length;r<n;r++)t(e[r],r)},H=(e,t)=>{const r=[],n=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];(t(i,o)?r:n).push(i)}return{pass:r,fail:n}},j=(e,t)=>{const r=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)&&r.push(o)}return r},G=(e,t,r)=>(((e,t)=>{for(let r=e.length-1;r>=0;r--)t(e[r],r)})(e,((e,n)=>{r=t(r,e,n)})),r),U=(e,t,r)=>(z(e,((e,n)=>{r=t(r,e,n)})),r),q=(e,t)=>((e,t,r)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return P.some(o);if(r(o,n))break}return P.none()})(e,t,k),W=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(t(e[r],r))return P.some(r);return P.none()},$=e=>{const t=[];for(let r=0,n=e.length;r<n;++r){if(!l(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e);O.apply(t,e[r])}return t},Z=(e,t)=>$(V(e,t)),K=(e,t)=>{for(let r=0,n=e.length;r<n;++r)if(!0!==t(e[r],r))return!1;return!0},Y=e=>{const t=M.call(e,0);return t.reverse(),t},X=(e,t)=>j(e,(e=>!N(t,e))),J=(e,t)=>{const r={};for(let n=0,o=e.length;n<o;n++){const o=e[n];r[String(o)]=t(o,n)}return r},Q=e=>[e],ee=(e,t)=>{const r=M.call(e,0);return r.sort(t),r},te=(e,t)=>t>=0&&t<e.length?P.some(e[t]):P.none(),re=e=>te(e,0),ne=e=>te(e,e.length-1),oe=f(Array.from)?Array.from:e=>M.call(e),ie=(e,t)=>{for(let r=0;r<e.length;r++){const n=t(e[r],r);if(n.isSome())return n}return P.none()},se=Object.keys,ae=Object.hasOwnProperty,le=(e,t)=>{const r=se(e);for(let n=0,o=r.length;n<o;n++){const o=r[n];t(e[o],o)}},ce=(e,t)=>he(e,((e,r)=>({k:r,v:t(e,r)}))),he=(e,t)=>{const r={};return le(e,((e,n)=>{const o=t(e,n);r[o.k]=o.v})),r},de=e=>(t,r)=>{e[r]=t},ue=(e,t,r,n)=>{le(e,((e,o)=>{(t(e,o)?r:n)(e,o)}))},pe=(e,t)=>{const r={};return ue(e,t,de(r),v),r},fe=(e,t)=>{const r=[];return le(e,((e,n)=>{r.push(t(e,n))})),r},me=(e,t)=>{const r=se(e);for(let n=0,o=r.length;n<o;n++){const o=r[n],i=e[o];if(t(i,o,e))return P.some(i)}return P.none()},ge=e=>fe(e,x),ve=(e,t)=>ye(e,t)?P.from(e[t]):P.none(),ye=(e,t)=>ae.call(e,t),be=(e,t)=>ye(e,t)&&void 0!==e[t]&&null!==e[t],we=(e,t,r=E)=>e.exists((e=>r(e,t))),xe=e=>{const t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t},Ee=(e,t,r)=>e.isSome()&&t.isSome()?P.some(r(e.getOrDie(),t.getOrDie())):P.none(),Se=(e,t)=>null!=e?P.some(t(e)):P.none(),_e=(e,t)=>e?P.some(t):P.none(),Ce=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,Ae=(e,t)=>Te(e,t)?((e,t)=>e.substring(t))(e,t.length):e,ke=(e,t,r=0,n)=>{const o=e.indexOf(t,r);return-1!==o&&(!!d(n)||o+t.length<=n)},Te=(e,t)=>Ce(e,t,0),Pe=(e,t)=>Ce(e,t,e.length-t.length),Me=(Tr=/^\s+|\s+$/g,e=>e.replace(Tr,"")),De=e=>e.length>0,Oe=e=>void 0!==e.style&&f(e.style.getPropertyValue),Ie=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Re=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Ie(r.childNodes[0])},Ne=(e,t)=>{const r=(t||document).createElement(e);return Ie(r)},Fe=(e,t)=>{const r=(t||document).createTextNode(e);return Ie(r)},Be=Ie,Le="undefined"!=typeof window?window:Function("return this;")(),Ve=(e,t)=>((e,t)=>{let r=null!=t?t:Le;for(let t=0;t<e.length&&null!=r;++t)r=r[e[t]];return r})(e.split("."),t),ze=Object.getPrototypeOf,He=e=>{const t=Ve("ownerDocument.defaultView",e);return s(e)&&((e=>((e,t)=>{const r=((e,t)=>Ve(e,t))(e,t);if(null==r)throw new Error(e+" not available on this browser");return r})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ze(e).constructor.name))},je=e=>e.dom.nodeName.toLowerCase(),Ge=e=>t=>(e=>e.dom.nodeType)(t)===e,Ue=e=>qe(e)&&He(e.dom),qe=Ge(1),We=Ge(3),$e=Ge(9),Ze=Ge(11),Ke=e=>t=>qe(t)&&je(t)===e,Ye=(e,t)=>{const r=e.dom;if(1!==r.nodeType)return!1;{const e=r;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Xe=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Je=(e,t)=>e.dom===t.dom,Qe=(e,t)=>{const r=e.dom,n=t.dom;return r!==n&&r.contains(n)},et=e=>Be(e.dom.ownerDocument),tt=e=>$e(e)?e:et(e),rt=e=>Be(tt(e).dom.documentElement),nt=e=>Be(tt(e).dom.defaultView),ot=e=>P.from(e.dom.parentNode).map(Be),it=e=>P.from(e.dom.parentElement).map(Be),st=e=>P.from(e.dom.offsetParent).map(Be),at=e=>V(e.dom.childNodes,Be),lt=(e,t)=>{const r=e.dom.childNodes;return P.from(r[t]).map(Be)},ct=e=>lt(e,0),ht=(e,t)=>({element:e,offset:t}),dt=(e,t)=>{const r=at(e);return r.length>0&&t<r.length?ht(r[t],0):ht(e,t)},ut=e=>Ze(e)&&p(e.dom.host),pt=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode),ft=w(pt),mt=pt?e=>Be(e.dom.getRootNode()):tt,gt=e=>ut(e)?e:Be(tt(e).dom.body),vt=e=>{const t=mt(e);return ut(t)?P.some(t):P.none()},yt=e=>Be(e.dom.host),bt=e=>{const t=We(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const r=t.ownerDocument;return vt(Be(t)).fold((()=>r.body.contains(t)),(n=bt,o=yt,e=>n(o(e))));var n,o},wt=()=>xt(Be(document)),xt=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return Be(t)},Et=(e,t,r)=>{if(!(i(r)||h(r)||m(r)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},St=(e,t,r)=>{Et(e.dom,t,r)},_t=(e,t)=>{const r=e.dom;le(t,((e,t)=>{Et(r,t,e)}))},Ct=(e,t)=>{const r=e.dom.getAttribute(t);return null===r?void 0:r},At=(e,t)=>P.from(Ct(e,t)),kt=(e,t)=>{const r=e.dom;return!(!r||!r.hasAttribute)&&r.hasAttribute(t)},Tt=(e,t)=>{e.dom.removeAttribute(t)},Pt=(e,t,r)=>{if(!i(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);Oe(e)&&e.style.setProperty(t,r)},Mt=(e,t)=>{Oe(e)&&e.style.removeProperty(t)},Dt=(e,t,r)=>{const n=e.dom;Pt(n,t,r)},Ot=(e,t)=>{const r=e.dom;le(t,((e,t)=>{Pt(r,t,e)}))},It=(e,t)=>{const r=e.dom;le(t,((e,t)=>{e.fold((()=>{Mt(r,t)}),(e=>{Pt(r,t,e)}))}))},Rt=(e,t)=>{const r=e.dom,n=window.getComputedStyle(r).getPropertyValue(t);return""!==n||bt(e)?n:Nt(r,t)},Nt=(e,t)=>Oe(e)?e.style.getPropertyValue(t):"",Ft=(e,t)=>{const r=e.dom,n=Nt(r,t);return P.from(n).filter((e=>e.length>0))},Bt=e=>{const t={},r=e.dom;if(Oe(r))for(let e=0;e<r.style.length;e++){const n=r.style.item(e);t[n]=r.style[n]}return t},Lt=(e,t,r)=>{const n=Ne(e);return Dt(n,t,r),Ft(n,t).isSome()},Vt=(e,t)=>{const r=e.dom;Mt(r,t),we(At(e,"style").map(Me),"")&&Tt(e,"style")},zt=e=>e.dom.offsetWidth,Ht=(e,t)=>{const r=r=>{const n=t(r);if(n<=0||null===n){const t=Rt(r,e);return parseFloat(t)||0}return n},n=(e,t)=>U(t,((t,r)=>{const n=Rt(e,r),o=void 0===n?0:parseInt(n,10);return isNaN(o)?t:t+o}),0);return{set:(t,r)=>{if(!m(r)&&!r.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+r);const n=t.dom;Oe(n)&&(n.style[e]=r+"px")},get:r,getOuter:r,aggregate:n,max:(e,t,r)=>{const o=n(e,r);return t>o?t-o:0}}},jt=Ht("height",(e=>{const t=e.dom;return bt(e)?t.getBoundingClientRect().height:t.offsetHeight})),Gt=e=>jt.get(e),Ut=e=>jt.getOuter(e),qt=(e,t)=>({left:e,top:t,translate:(r,n)=>qt(e+r,t+n)}),Wt=qt,$t=(e,t)=>void 0!==e?e:void 0!==t?t:0,Zt=e=>{const t=e.dom.ownerDocument,r=t.body,n=t.defaultView,o=t.documentElement;if(r===e.dom)return Wt(r.offsetLeft,r.offsetTop);const i=$t(null==n?void 0:n.pageYOffset,o.scrollTop),s=$t(null==n?void 0:n.pageXOffset,o.scrollLeft),a=$t(o.clientTop,r.clientTop),l=$t(o.clientLeft,r.clientLeft);return Kt(e).translate(s-l,i-a)},Kt=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?Wt(r.offsetLeft,r.offsetTop):bt(e)?(e=>{const t=e.getBoundingClientRect();return Wt(t.left,t.top)})(t):Wt(0,0)},Yt=Ht("width",(e=>e.dom.offsetWidth)),Xt=e=>Yt.get(e),Jt=e=>Yt.getOuter(e),Qt=e=>{let t,r=!1;return(...n)=>(r||(r=!0,t=e.apply(null,n)),t)},er=()=>tr(0,0),tr=(e,t)=>({major:e,minor:t}),rr={nu:tr,detect:(e,t)=>{const r=String(t).toLowerCase();return 0===e.length?er():((e,t)=>{const r=((e,t)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.test(t))return n}})(e,t);if(!r)return{major:0,minor:0};const n=e=>Number(t.replace(r,"$"+e));return tr(n(1),n(2))})(e,r)},unknown:er},nr=(e,t)=>{const r=String(t).toLowerCase();return q(e,(e=>e.search(r)))},or=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ir=e=>t=>ke(t,e),sr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>ke(e,"edge/")&&ke(e,"chrome")&&ke(e,"safari")&&ke(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,or],search:e=>ke(e,"chrome")&&!ke(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>ke(e,"msie")||ke(e,"trident")},{name:"Opera",versionRegexes:[or,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ir("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ir("firefox")},{name:"Safari",versionRegexes:[or,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(ke(e,"safari")||ke(e,"mobile/"))&&ke(e,"applewebkit")}],ar=[{name:"Windows",search:ir("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>ke(e,"iphone")||ke(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ir("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ir("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ir("linux"),versionRegexes:[]},{name:"Solaris",search:ir("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ir("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ir("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],lr={browsers:w(sr),oses:w(ar)},cr="Edge",hr="Chromium",dr="Opera",ur="Firefox",pr="Safari",fr=e=>{const t=e.current,r=e.version,n=e=>()=>t===e;return{current:t,version:r,isEdge:n(cr),isChromium:n(hr),isIE:n("IE"),isOpera:n(dr),isFirefox:n(ur),isSafari:n(pr)}},mr=()=>fr({current:void 0,version:rr.unknown()}),gr=fr,vr=(w(cr),w(hr),w("IE"),w(dr),w(ur),w(pr),"Windows"),yr="Android",br="Linux",wr="macOS",xr="Solaris",Er="FreeBSD",Sr="ChromeOS",_r=e=>{const t=e.current,r=e.version,n=e=>()=>t===e;return{current:t,version:r,isWindows:n(vr),isiOS:n("iOS"),isAndroid:n(yr),isMacOS:n(wr),isLinux:n(br),isSolaris:n(xr),isFreeBSD:n(Er),isChromeOS:n(Sr)}},Cr=()=>_r({current:void 0,version:rr.unknown()}),Ar=_r,kr=(w(vr),w("iOS"),w(yr),w(br),w(wr),w(xr),w(Er),w(Sr),e=>window.matchMedia(e).matches);var Tr;let Pr=Qt((()=>((e,t,r)=>{const n=lr.browsers(),o=lr.oses(),i=t.bind((e=>((e,t)=>ie(t.brands,(t=>{const r=t.brand.toLowerCase();return q(e,(e=>{var t;return r===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:rr.nu(parseInt(t.version,10),0)})))})))(n,e))).orThunk((()=>((e,t)=>nr(e,t).map((e=>{const r=rr.detect(e.versionRegexes,t);return{current:e.name,version:r}})))(n,e))).fold(mr,gr),s=((e,t)=>nr(e,t).map((e=>{const r=rr.detect(e.versionRegexes,t);return{current:e.name,version:r}})))(o,e).fold(Cr,Ar),a=((e,t,r,n)=>{const o=e.isiOS()&&!0===/ipad/i.test(r),i=e.isiOS()&&!o,s=e.isiOS()||e.isAndroid(),a=s||n("(pointer:coarse)"),l=o||!i&&s&&n("(min-device-width:768px)"),c=i||s&&!l,h=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r),d=!c&&!l&&!h;return{isiPad:w(o),isiPhone:w(i),isTablet:w(l),isPhone:w(c),isTouch:w(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:w(h),isDesktop:w(d)}})(s,i,e,r);return{browser:i,os:s,deviceType:a}})(navigator.userAgent,P.from(navigator.userAgentData),kr)));const Mr=()=>Pr(),Dr=e=>{const t=Be((e=>{if(ft()&&p(e.target)){const t=Be(e.target);if(qe(t)&&(e=>p(e.dom.shadowRoot))(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return re(t)}}return P.from(e.target)})(e).getOr(e.target)),r=()=>e.stopPropagation(),n=()=>e.preventDefault(),o=b(n,r);return((e,t,r,n,o,i,s)=>({target:e,x:t,y:r,stop:n,prevent:o,kill:i,raw:s}))(t,e.clientX,e.clientY,r,n,o,e)},Or=(e,t,r,n,o)=>{const i=((e,t)=>r=>{e(r)&&t(Dr(r))})(r,n);return e.dom.addEventListener(t,i,o),{unbind:S(Ir,e,t,i,o)}},Ir=(e,t,r,n)=>{e.dom.removeEventListener(t,r,n)},Rr=(e,t)=>{ot(e).each((r=>{r.dom.insertBefore(t.dom,e.dom)}))},Nr=(e,t)=>{const r=(e=>P.from(e.dom.nextSibling).map(Be))(e);r.fold((()=>{ot(e).each((e=>{Br(e,t)}))}),(e=>{Rr(e,t)}))},Fr=(e,t)=>{ct(e).fold((()=>{Br(e,t)}),(r=>{e.dom.insertBefore(t.dom,r.dom)}))},Br=(e,t)=>{e.dom.appendChild(t.dom)},Lr=(e,t)=>{z(t,(t=>{Br(e,t)}))},Vr=e=>{e.dom.textContent="",z(at(e),(e=>{zr(e)}))},zr=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Hr=e=>{const t=void 0!==e?e.dom:document,r=t.body.scrollLeft||t.documentElement.scrollLeft,n=t.body.scrollTop||t.documentElement.scrollTop;return Wt(r,n)},jr=(e,t,r)=>{const n=(void 0!==r?r.dom:document).defaultView;n&&n.scrollTo(e,t)},Gr=(e,t,r,n)=>({x:e,y:t,width:r,height:n,right:e+r,bottom:t+n}),Ur=e=>{const t=void 0===e?window:e,r=t.document,n=Hr(Be(r));return(e=>{const t=void 0===e?window:e;return Mr().browser.isFirefox()?P.none():P.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,r=e.clientWidth,o=e.clientHeight;return Gr(n.left,n.top,r,o)}),(e=>Gr(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)))},qr=()=>Be(document),Wr=(e,t)=>e.view(t).fold(w([]),(t=>{const r=e.owner(t),n=Wr(e,r);return[t].concat(n)}));var $r=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?P.none():P.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Be)},owner:e=>et(e)});const Zr=e=>{const t=qr(),r=Hr(t),n=((e,t)=>{const r=t.owner(e),n=Wr(t,r);return P.some(n)})(e,$r);return n.fold(S(Zt,e),(t=>{const n=Kt(e),o=G(t,((e,t)=>{const r=Kt(t);return{left:e.left+r.left,top:e.top+r.top}}),{left:0,top:0});return Wt(o.left+n.left+r.left,o.top+n.top+r.top)}))},Kr=(e,t,r,n)=>({x:e,y:t,width:r,height:n,right:e+r,bottom:t+n}),Yr=e=>{const t=Zt(e),r=Jt(e),n=Ut(e);return Kr(t.left,t.top,r,n)},Xr=e=>{const t=Zr(e),r=Jt(e),n=Ut(e);return Kr(t.left,t.top,r,n)},Jr=(e,t)=>{const r=Math.max(e.x,t.x),n=Math.max(e.y,t.y),o=Math.min(e.right,t.right),i=Math.min(e.bottom,t.bottom);return Kr(r,n,o-r,i-n)},Qr=()=>Ur(window);var en=tinymce.util.Tools.resolve("tinymce.ThemeManager");const tn=e=>{const t=t=>t(e),r=w(e),n=()=>o,o={tag:!0,inner:e,fold:(t,r)=>r(e),isValue:T,isError:k,map:t=>nn.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:r,or:n,getOrThunk:r,orThunk:n,getOrDie:r,each:t=>{t(e)},toOptional:()=>P.some(e)};return o},rn=e=>{const t=()=>r,r={tag:!1,inner:e,fold:(t,r)=>t(e),isValue:k,isError:T,map:t,mapError:t=>nn.error(t(e)),bind:t,exists:k,forall:T,getOr:x,or:x,getOrThunk:A,orThunk:A,getOrDie:C(String(e)),each:v,toOptional:P.none};return r},nn={value:tn,error:rn,fromOption:(e,t)=>e.fold((()=>rn(t)),tn)};var on;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(on||(on={}));const sn=(e,t,r)=>e.stype===on.Error?t(e.serror):r(e.svalue),an=e=>({stype:on.Value,svalue:e}),ln=e=>({stype:on.Error,serror:e}),cn=an,hn=ln,dn=sn,un=(e,t,r,n)=>({tag:"field",key:e,newKey:t,presence:r,prop:n}),pn=(e,t,r)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return r(e.newKey,e.instantiator)}},fn=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const r={};for(let n=0;n<t.length;n++){const o=t[n];for(const t in o)ye(o,t)&&(r[t]=e(r[t],o[t]))}return r},mn=fn(((e,t)=>a(e)&&a(t)?mn(e,t):t)),gn=fn(((e,t)=>t)),vn=e=>({tag:"defaultedThunk",process:e}),yn=e=>vn(w(e)),bn=e=>({tag:"mergeWithThunk",process:e}),wn=e=>{const t=(e=>{const t=[],r=[];return z(e,(e=>{sn(e,(e=>r.push(e)),(e=>t.push(e)))})),{values:t,errors:r}})(e);return t.errors.length>0?(r=t.errors,b(hn,$)(r)):cn(t.values);var r},xn=e=>s(e)&&se(e).length>100?" removed due to size":JSON.stringify(e,null,2),En=(e,t)=>hn([{path:e,getErrorInfo:t}]),Sn=e=>({extract:(t,r)=>((e,t)=>e.stype===on.Error?t(e.serror):e)(e(r),(e=>((e,t)=>En(e,w(t)))(t,e))),toString:w("val")}),_n=Sn(cn),Cn=(e,t,r,n)=>n(ve(e,t).getOrThunk((()=>r(e)))),An=(e,t,r,n,o)=>{const i=e=>o.extract(t.concat([n]),e),s=e=>e.fold((()=>cn(P.none())),(e=>((e,t)=>e.stype===on.Value?{stype:on.Value,svalue:t(e.svalue)}:e)(o.extract(t.concat([n]),e),P.some)));switch(e.tag){case"required":return((e,t,r,n)=>ve(t,r).fold((()=>((e,t,r)=>En(e,(()=>'Could not find valid *required* value for "'+t+'" in '+xn(r))))(e,r,t)),n))(t,r,n,i);case"defaultedThunk":return Cn(r,n,e.process,i);case"option":return((e,t,r)=>r(ve(e,t)))(r,n,s);case"defaultedOptionThunk":return((e,t,r,n)=>n(ve(e,t).map((t=>!0===t?r(e):t))))(r,n,e.process,s);case"mergeWithThunk":return Cn(r,n,w({}),(t=>{const n=mn(e.process(r),t);return i(n)}))}},kn=e=>({extract:(t,r)=>e().extract(t,r),toString:()=>e().toString()}),Tn=e=>se(pe(e,p)),Pn=e=>{const t=Mn(e),r=G(e,((e,t)=>pn(t,(t=>mn(e,{[t]:!0})),w(e))),{});return{extract:(e,n)=>{const o=h(n)?[]:Tn(n),i=j(o,(e=>!be(r,e)));return 0===i.length?t.extract(e,n):((e,t)=>En(e,(()=>"There are unsupported fields: ["+t.join(", ")+"] specified")))(e,i)},toString:t.toString}},Mn=e=>({extract:(t,r)=>((e,t,r)=>{const n={},o=[];for(const i of r)pn(i,((r,i,s,a)=>{const l=An(s,e,t,r,a);dn(l,(e=>{o.push(...e)}),(e=>{n[i]=e}))}),((e,r)=>{n[e]=r(t)}));return o.length>0?hn(o):cn(n)})(t,r,e),toString:()=>{const t=V(e,(e=>pn(e,((e,t,r,n)=>e+" -> "+n.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),Dn=e=>({extract:(t,r)=>{const n=V(r,((r,n)=>e.extract(t.concat(["["+n+"]"]),r)));return wn(n)},toString:()=>"array("+e.toString()+")"}),On=(e,t)=>{const r=void 0!==t?t:x;return{extract:(t,n)=>{const o=[];for(const i of e){const e=i.extract(t,n);if(e.stype===on.Value)return{stype:on.Value,svalue:r(e.svalue)};o.push(e)}return wn(o)},toString:()=>"oneOf("+V(e,(e=>e.toString())).join(", ")+")"}},In=(e,t)=>({extract:(r,n)=>{const o=se(n),i=((t,r)=>Dn(Sn(e)).extract(t,r))(r,o);return((e,t)=>e.stype===on.Value?t(e.svalue):e)(i,(e=>{const o=V(e,(e=>un(e,e,{tag:"required",process:{}},t)));return Mn(o).extract(r,n)}))},toString:()=>"setOf("+t.toString()+")"}),Rn=b(Dn,Mn),Nn=w(_n),Fn=(e,t)=>Sn((r=>{const n=typeof r;return e(r)?cn(r):hn(`Expected type: ${t} but got: ${n}`)})),Bn=Fn(m,"number"),Ln=Fn(i,"string"),Vn=Fn(h,"boolean"),zn=Fn(f,"function"),Hn=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((t=>Hn(e[t])));default:return!1}},jn=Sn((e=>Hn(e)?cn(e):hn("Expected value to be acceptable for sending via postMessage"))),Gn=(e,t)=>({extract:(r,n)=>ve(n,e).fold((()=>((e,t)=>En(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(r,e)),(e=>((e,t,r,n)=>ve(r,n).fold((()=>((e,t,r)=>En(e,(()=>'The chosen schema: "'+r+'" did not exist in branches: '+xn(t))))(e,r,n)),(r=>r.extract(e.concat(["branch: "+n]),t))))(r,n,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+se(t)}),Un=e=>Sn((t=>e(t).fold(hn,cn))),qn=(e,t)=>In((t=>e(t).fold(ln,an)),t),Wn=(e,t,r)=>{return n=((e,t,r)=>((e,t)=>e.stype===on.Error?{stype:on.Error,serror:t(e.serror)}:e)(t.extract([e],r),(e=>({input:r,errors:e}))))(e,t,r),sn(n,nn.error,nn.value);var n},$n=e=>e.fold((e=>{throw new Error(Kn(e))}),x),Zn=(e,t,r)=>$n(Wn(e,t,r)),Kn=e=>"Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:w("... (only showing first ten failures)")}]):e;return V(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})(e.errors).join("\n")+"\n\nInput object: "+xn(e.input),Yn=(e,t)=>Gn(e,ce(t,Mn)),Xn=(e,t)=>((e,t)=>{const r=Qt(t);return{extract:(e,t)=>r().extract(e,t),toString:()=>r().toString()}})(0,t),Jn=un,Qn=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),eo=e=>Un((t=>N(e,t)?nn.value(t):nn.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`))),to=e=>Jn(e,e,{tag:"required",process:{}},Nn()),ro=(e,t)=>Jn(e,e,{tag:"required",process:{}},t),no=e=>ro(e,Bn),oo=e=>ro(e,Ln),io=(e,t)=>Jn(e,e,{tag:"required",process:{}},eo(t)),so=e=>ro(e,zn),ao=(e,t)=>Jn(e,e,{tag:"required",process:{}},Mn(t)),lo=(e,t)=>Jn(e,e,{tag:"required",process:{}},Rn(t)),co=(e,t)=>Jn(e,e,{tag:"required",process:{}},Dn(t)),ho=e=>Jn(e,e,{tag:"option",process:{}},Nn()),uo=(e,t)=>Jn(e,e,{tag:"option",process:{}},t),po=e=>uo(e,Bn),fo=e=>uo(e,Ln),mo=(e,t)=>uo(e,eo(t)),go=e=>uo(e,zn),vo=(e,t)=>uo(e,Dn(t)),yo=(e,t)=>uo(e,Mn(t)),bo=(e,t)=>Jn(e,e,yn(t),Nn()),wo=(e,t,r)=>Jn(e,e,yn(t),r),xo=(e,t)=>wo(e,t,Bn),Eo=(e,t)=>wo(e,t,Ln),So=(e,t,r)=>wo(e,t,eo(r)),_o=(e,t)=>wo(e,t,Vn),Co=(e,t)=>wo(e,t,zn),Ao=(e,t,r)=>wo(e,t,Dn(r)),ko=(e,t,r)=>wo(e,t,Mn(r)),To=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Po=e=>{if(!l(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],r={};return z(e,((n,o)=>{const i=se(n);if(1!==i.length)throw new Error("one and only one name per case");const s=i[0],a=n[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!l(a))throw new Error("case arguments must be an array");t.push(s),r[s]=(...r)=>{const n=r.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+n);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,r)},match:e=>{const n=se(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!K(t,(e=>N(n,e))))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,r)},log:e=>{console.log(e,{constructors:t,constructor:s,params:r})}}}})),r};Po([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Mo=(e,t)=>((e,t)=>({[e]:t}))(e,t),Do=e=>(e=>{const t={};return z(e,(e=>{t[e.key]=e.value})),t})(e),Oo=e=>f(e)?e:k,Io=(e,t,r)=>{let n=e.dom;const o=Oo(r);for(;n.parentNode;){n=n.parentNode;const e=Be(n),r=t(e);if(r.isSome())return r;if(o(e))break}return P.none()},Ro=(e,t,r)=>{const n=t(e),o=Oo(r);return n.orThunk((()=>o(e)?P.none():Io(e,t,o)))},No=(e,t)=>Je(e.element,t.event.target),Fo={can:T,abort:k,run:v},Bo=e=>{if(!be(e,"can")&&!be(e,"abort")&&!be(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...Fo,...e}},Lo=w,Vo=Lo("touchstart"),zo=Lo("touchmove"),Ho=Lo("touchend"),jo=Lo("touchcancel"),Go=Lo("mousedown"),Uo=Lo("mousemove"),qo=Lo("mouseout"),Wo=Lo("mouseup"),$o=Lo("mouseover"),Zo=Lo("focusin"),Ko=Lo("focusout"),Yo=Lo("keydown"),Xo=Lo("keyup"),Jo=Lo("input"),Qo=Lo("change"),ei=Lo("click"),ti=Lo("transitioncancel"),ri=Lo("transitionend"),ni=Lo("transitionstart"),oi=Lo("selectstart"),ii=e=>w("alloy."+e),si={tap:ii("tap")},ai=ii("focus"),li=ii("blur.post"),ci=ii("paste.post"),hi=ii("receive"),di=ii("execute"),ui=ii("focus.item"),pi=si.tap,fi=ii("longpress"),mi=ii("sandbox.close"),gi=ii("typeahead.cancel"),vi=ii("system.init"),yi=ii("system.touchmove"),bi=ii("system.touchend"),wi=ii("system.scroll"),xi=ii("system.resize"),Ei=ii("system.attached"),Si=ii("system.detached"),_i=ii("system.dismissRequested"),Ci=ii("system.repositionRequested"),Ai=ii("focusmanager.shifted"),ki=ii("slotcontainer.visibility"),Ti=ii("system.external.element.scroll"),Pi=ii("change.tab"),Mi=ii("dismiss.tab"),Di=ii("highlight"),Oi=ii("dehighlight"),Ii=(e,t)=>{Bi(e,e.element,t,{})},Ri=(e,t,r)=>{Bi(e,e.element,t,r)},Ni=e=>{Ii(e,di())},Fi=(e,t,r)=>{Bi(e,t,r,{})},Bi=(e,t,r,n)=>{const o={target:t,...n};e.getSystem().triggerEvent(r,t,o)},Li=(e,t,r,n)=>{e.getSystem().triggerEvent(r,t,n.event)},Vi=e=>Do(e),zi=(e,t)=>({key:e,value:Bo({abort:t})}),Hi=e=>({key:e,value:Bo({run:(e,t)=>{t.event.prevent()}})}),ji=(e,t)=>({key:e,value:Bo({run:t})}),Gi=(e,t,r)=>({key:e,value:Bo({run:(e,n)=>{t.apply(void 0,[e,n].concat(r))}})}),Ui=e=>t=>({key:e,value:Bo({run:(e,r)=>{No(e,r)&&t(e,r)}})}),qi=(e,t,r)=>((e,t)=>ji(e,((r,n)=>{r.getSystem().getByUid(t).each((t=>{Li(t,t.element,e,n)}))})))(e,t.partUids[r]),Wi=(e,t)=>ji(e,((e,r)=>{const n=r.event,o=e.getSystem().getByDom(n.target).getOrThunk((()=>Ro(n.target,(t=>e.getSystem().getByDom(t).toOptional()),k).getOr(e)));t(e,o,r)})),$i=e=>ji(e,((e,t)=>{t.cut()})),Zi=e=>ji(e,((e,t)=>{t.stop()})),Ki=(e,t)=>Ui(e)(t),Yi=Ui(Ei()),Xi=Ui(Si()),Ji=Ui(vi()),Qi=(is=di(),e=>ji(is,e)),es=e=>e.dom.innerHTML,ts=(e,t)=>{const r=et(e).dom,n=Be(r.createDocumentFragment()),o=((e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,at(Be(r))})(t,r);Lr(n,o),Vr(e),Br(e,n)},rs=e=>ut(e)?"#shadow-root":(e=>{const t=Ne("div"),r=Be(e.dom.cloneNode(!0));return Br(t,r),es(t)})((e=>((e,t)=>Be(e.dom.cloneNode(!1)))(e))(e)),ns=e=>rs(e),os=Vi([((e,t)=>({key:e,value:Bo({can:(e,t)=>{const r=t.event,n=r.originator,o=r.target;return!((e,t,r)=>Je(t,e.element)&&!Je(t,r))(e,n,o)||(console.warn(ai()+" did not get interpreted by the desired target. \nOriginator: "+ns(n)+"\nTarget: "+ns(o)+"\nCheck the "+ai()+" event handlers"),!1)}})}))(ai())]);var is,ss=Object.freeze({__proto__:null,events:os});let as=0;const ls=e=>{const t=(new Date).getTime(),r=Math.floor(1e9*Math.random());return as++,e+"_"+r+as+String(t)},cs=w("alloy-id-"),hs=w("data-alloy-id"),ds=cs(),us=hs(),ps=(e,t)=>{Object.defineProperty(e.dom,us,{value:t,writable:!0})},fs=e=>{const t=qe(e)?e.dom[us]:null;return P.from(t)},ms=e=>ls(e),gs=x,vs=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+ns(e().element)+" is not in context.":""),r=e=>()=>{throw new Error(t(e))},n=e=>()=>{console.warn(t(e))};return{debugInfo:w("fake"),triggerEvent:n("triggerEvent"),triggerFocus:n("triggerFocus"),triggerEscape:n("triggerEscape"),broadcast:n("broadcast"),broadcastOn:n("broadcastOn"),broadcastEvent:n("broadcastEvent"),build:r("build"),buildOrPatch:r("buildOrPatch"),addToWorld:r("addToWorld"),removeFromWorld:r("removeFromWorld"),addToGui:r("addToGui"),removeFromGui:r("removeFromGui"),getByUid:r("getByUid"),getByDom:r("getByDom"),isConnected:k}},ys=vs(),bs=e=>V(e,(e=>Pe(e,"/*")?e.substring(0,e.length-"/*".length):e)),ws=(e,t)=>{const r=e.toString(),n=r.indexOf(")")+1,o=r.indexOf("("),i=r.substring(o+1,n-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:bs(i)}),e},xs=ls("alloy-premade"),Es=e=>(Object.defineProperty(e.element.dom,xs,{value:e.uid,writable:!0}),Mo(xs,e)),Ss=e=>ve(e,xs),_s=e=>((e,t)=>{const r=t.toString(),n=r.indexOf(")")+1,o=r.indexOf("("),i=r.substring(o+1,n-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:bs(i.slice(1))}),e})(((t,...r)=>e(t.getApis(),t,...r)),e),Cs={init:()=>As({readState:w("No State required")})},As=e=>e,ks=(e,t)=>{const r={};return le(e,((e,n)=>{le(e,((e,o)=>{const i=ve(r,o).getOr([]);r[o]=i.concat([t(n,e)])}))})),r},Ts=e=>({classes:d(e.classes)?[]:e.classes,attributes:d(e.attributes)?{}:e.attributes,styles:d(e.styles)?{}:e.styles}),Ps=e=>e.cHandler,Ms=(e,t)=>({name:e,handler:t}),Ds=(e,t)=>{const r={};return z(e,(e=>{r[e.name()]=e.handlers(t)})),r},Os=(e,t,r)=>{const n=t[r];return n?((e,t,r,n)=>{try{const o=ee(r,((r,o)=>{const i=r[t],s=o[t],a=n.indexOf(i),l=n.indexOf(s);if(-1===a)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(n,null,2));if(-1===l)throw new Error("The ordering for "+e+" does not have an entry for "+s+".\nOrder specified: "+JSON.stringify(n,null,2));return a<l?-1:l<a?1:0}));return nn.value(o)}catch(e){return nn.error([e])}})("Event: "+r,"name",e,n).map((e=>(e=>{const t=((e,t)=>(...t)=>U(e,((e,r)=>e&&(e=>e.can)(r).apply(void 0,t)),!0))(e),r=((e,t)=>(...t)=>U(e,((e,r)=>e||(e=>e.abort)(r).apply(void 0,t)),!1))(e);return{can:t,abort:r,run:(...t)=>{z(e,(e=>{e.run.apply(void 0,t)}))}}})(V(e,(e=>e.handler))))):((e,t)=>nn.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(V(t,(e=>e.name)),null,2)]))(r,e)},Is=(e,t)=>((e,t)=>{const r=(e=>{const t=[],r=[];return z(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{r.push(e)}))})),{errors:t,values:r}})(e);return r.errors.length>0?(n=r.errors,nn.error($(n))):((e,t)=>0===e.length?nn.value(t):nn.value(mn(t,gn.apply(void 0,e))))(r.values,t);var n})(fe(e,((e,r)=>(1===e.length?nn.value(e[0].handler):Os(e,t,r)).map((n=>{const o=(e=>{const t=(e=>f(e)?{can:T,abort:k,run:e}:e)(e);return(e,r,...n)=>{const o=[e,r].concat(n);t.abort.apply(void 0,o)?r.stop():t.can.apply(void 0,o)&&t.run.apply(void 0,o)}})(n),i=e.length>1?j(t[r],(t=>F(e,(e=>e.name===t)))).join(" > "):e[0].name;return Mo(r,((e,t)=>({handler:e,purpose:t}))(o,i))})))),{}),Rs="alloy.base.behaviour",Ns=Mn([Jn("dom","dom",{tag:"required",process:{}},Mn([to("tag"),bo("styles",{}),bo("classes",[]),bo("attributes",{}),ho("value"),ho("innerHtml")])),to("components"),to("uid"),bo("events",{}),bo("apis",{}),Jn("eventOrder","eventOrder",(aa={[di()]:["disabling",Rs,"toggling","typeaheadevents"],[ai()]:[Rs,"focusing","keying"],[vi()]:[Rs,"disabling","toggling","representing"],[Jo()]:[Rs,"representing","streaming","invalidating"],[Si()]:[Rs,"representing","item-events","tooltipping"],[Go()]:["focusing",Rs,"item-type-events"],[Vo()]:["focusing",Rs,"item-type-events"],[$o()]:["item-type-events","tooltipping"],[hi()]:["receiving","reflecting","tooltipping"]},bn(w(aa))),Nn()),ho("domModification")]),Fs=e=>e.events,Bs=(e,t)=>{const r=Ct(e,t);return void 0===r||""===r?[]:r.split(" ")},Ls=e=>void 0!==e.dom.classList,Vs=e=>Bs(e,"class"),zs=(e,t)=>{Ls(e)?e.dom.classList.add(t):((e,t)=>{((e,t,r)=>{const n=Bs(e,t).concat([r]);St(e,t,n.join(" "))})(e,"class",t)})(e,t)},Hs=(e,t)=>{Ls(e)?e.dom.classList.remove(t):((e,t)=>{((e,t,r)=>{const n=j(Bs(e,t),(e=>e!==r));n.length>0?St(e,t,n.join(" ")):Tt(e,t)})(e,"class",t)})(e,t),(e=>{0===(Ls(e)?e.dom.classList:Vs(e)).length&&Tt(e,"class")})(e)},js=(e,t)=>Ls(e)&&e.dom.classList.contains(t),Gs=(e,t)=>{z(t,(t=>{zs(e,t)}))},Us=(e,t)=>{z(t,(t=>{Hs(e,t)}))},qs=(e,t)=>K(t,(t=>js(e,t))),Ws=e=>e.dom.value,$s=(e,t)=>{if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},Zs=(e,t,r)=>{r.fold((()=>Br(e,t)),(e=>{Je(e,t)||(Rr(e,t),zr(e))}))},Ks=(e,t,r)=>{const n=V(t,r),o=at(e);return z(o.slice(n.length),zr),n},Ys=(e,t,r,n)=>{const o=lt(e,t),i=n(r,o),s=((e,t,r)=>lt(e,t).map((e=>{if(r.exists((t=>!Je(t,e)))){const t=r.map(je).getOr("span"),n=Ne(t);return Rr(e,n),n}return e})))(e,t,o);return Zs(e,i.element,s),i},Xs=(e,t)=>{const r=se(e),n=se(t),o=X(n,r),i=((e,r)=>{const n={},o={};return ue(e,((e,r)=>!ye(t,r)||e!==t[r]),de(n),de(o)),{t:n,f:o}})(e).t;return{toRemove:o,toSet:i}},Js=(e,t)=>{const{class:r,style:n,...o}=(e=>U(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))(t),{toSet:i,toRemove:s}=Xs(e.attributes,o),a=Bt(t),{toSet:l,toRemove:c}=Xs(e.styles,a),h=(e=>Ls(e)?(e=>{const t=e.dom.classList,r=new Array(t.length);for(let e=0;e<t.length;e++){const n=t.item(e);null!==n&&(r[e]=n)}return r})(e):Vs(e))(t),d=X(h,e.classes),u=X(e.classes,h);return z(s,(e=>Tt(t,e))),_t(t,i),Gs(t,u),Us(t,d),z(c,(e=>Vt(t,e))),Ot(t,l),e.innerHtml.fold((()=>{const r=e.domChildren;((e,t)=>{Ks(e,t,((t,r)=>{const n=lt(e,r);return Zs(e,t,n),t}))})(t,r)}),(e=>{ts(t,e)})),(()=>{const r=t,n=e.value.getOrUndefined();n!==Ws(r)&&$s(r,null!=n?n:"")})(),t},Qs=e=>{const t=(e=>{const t=ve(e,"behaviours").getOr({});return Z(se(t),(e=>{const r=t[e];return p(r)?[r.me]:[]}))})(e);return((e,t)=>((e,t)=>{const r=V(t,(e=>yo(e.name(),[to("config"),bo("state",Cs)]))),n=Wn("component.behaviours",Mn(r),e.behaviours).fold((t=>{throw new Error(Kn(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),x);return{list:t,data:ce(n,(e=>{const t=e.map((e=>({config:e.config,state:e.state.init(e.config)})));return w(t)}))}})(e,t))(e,t)},ea=(e,t)=>{const r=()=>u,n=To(ys),o=$n((e=>Wn("custom.definition",Ns,e))(e)),i=Qs(e),s=(e=>e.list)(i),a=(e=>e.data)(i),l=((e,t,r)=>{const n={...(o=e).dom,uid:o.uid,domChildren:V(o.components,(e=>e.element))};var o;const i=(e=>e.domModification.fold((()=>Ts({})),Ts))(e),s={"alloy.base.modification":i},a=t.length>0?((e,t,r,n)=>{const o={...t};z(r,(t=>{o[t.name()]=t.exhibit(e,n)}));const i=ks(o,((e,t)=>({name:e,modification:t}))),s=e=>G(e,((e,t)=>({...t.modification,...e})),{}),a=G(i.classes,((e,t)=>t.modification.concat(e)),[]),l=s(i.attributes),c=s(i.styles);return Ts({classes:a,attributes:l,styles:c})})(r,s,t,n):i;return l=n,c=a,{...l,attributes:{...l.attributes,...c.attributes},styles:{...l.styles,...c.styles},classes:l.classes.concat(c.classes)};var l,c})(o,s,a),c=((e,t)=>{const r=t.filter((t=>je(t)===e.tag&&!(e=>e.innerHtml.isSome()&&e.domChildren.length>0)(e)&&!(e=>ye(e.dom,xs))(t))).bind((t=>((e,t)=>{try{const r=Js(e,t);return P.some(r)}catch(e){return P.none()}})(e,t))).getOrThunk((()=>(e=>{const t=Ne(e.tag);_t(t,e.attributes),Gs(t,e.classes),Ot(t,e.styles),e.innerHtml.each((e=>ts(t,e)));const r=e.domChildren;return Lr(t,r),e.value.each((e=>{$s(t,e)})),t})(e)));return ps(r,e.uid),r})(l,t),h=((e,t,r)=>{const n={"alloy.base.behaviour":Fs(e)};return((e,t,r,n)=>{const o=((e,t,r)=>{const n={...r,...Ds(t,e)};return ks(n,Ms)})(e,r,n);return Is(o,t)})(r,e.eventOrder,t,n).getOrDie()})(o,s,a),d=To(o.components),u={uid:e.uid,getSystem:n.get,config:t=>{const r=a;return(f(r[t.name()])?r[t.name()]:()=>{throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:e=>f(a[e.name()]),spec:e,readState:e=>a[e]().map((e=>e.state.readState())).getOr("not enabled"),getApis:()=>o.apis,connect:e=>{n.set(e)},disconnect:()=>{n.set(vs(r))},element:c,syncComponents:()=>{const e=at(c),t=Z(e,(e=>n.get().getByDom(e).fold((()=>[]),Q)));d.set(t)},components:d.get,events:h};return u},ta=e=>{const t=Fe(e);return ra({element:t})},ra=e=>{const t=Zn("external.component",Pn([to("element"),ho("uid")]),e),r=To(vs()),n=t.uid.getOrThunk((()=>ms("external")));ps(t.element,n);const o={uid:n,getSystem:r.get,config:P.none,hasConfigured:k,connect:e=>{r.set(e)},disconnect:()=>{r.set(vs((()=>o)))},getApis:()=>({}),element:t.element,spec:e,readState:w("No state"),syncComponents:v,components:w([]),events:{}};return Es(o)},na=ms,oa=(e,t)=>Ss(e).getOrThunk((()=>((e,t)=>{const{events:r,...n}=gs(e),o=((e,t)=>{const r=ve(e,"components").getOr([]);return t.fold((()=>V(r,ia)),(e=>V(r,((t,r)=>oa(t,lt(e,r))))))})(n,t),i={...n,events:{...ss,...r},components:o};return nn.value(ea(i,t))})((e=>ye(e,"uid"))(e)?e:{uid:na(""),...e},t).getOrDie())),ia=e=>oa(e,P.none()),sa=Es;var aa,la=(e,t,r,n,o)=>e(r,n)?P.some(r):f(o)&&o(r)?P.none():t(r,n,o);const ca=(e,t,r)=>{let n=e.dom;const o=f(r)?r:k;for(;n.parentNode;){n=n.parentNode;const e=Be(n);if(t(e))return P.some(e);if(o(e))break}return P.none()},ha=(e,t,r)=>la(((e,t)=>t(e)),ca,e,t,r),da=(e,t,r)=>ha(e,t,r).isSome(),ua=(e,t,r)=>ca(e,(e=>Ye(e,t)),r),pa=(e,t)=>((e,r)=>q(e.dom.childNodes,(e=>{return r=Be(e),Ye(r,t);var r})).map(Be))(e),fa=(e,t)=>((e,t)=>{const r=void 0===t?document:t.dom;return Xe(r)?P.none():P.from(r.querySelector(e)).map(Be)})(t,e),ma=(e,t,r)=>la(((e,t)=>Ye(e,t)),ua,e,t,r),ga="aria-controls",va=()=>{const e=ls(ga);return{id:e,link:t=>{St(t,ga,e)},unlink:e=>{Tt(e,ga)}}},ya=(e,t)=>da(t,(t=>Je(t,e.element)),k)||((e,t)=>(e=>ha(e,(e=>{if(!qe(e))return!1;const t=Ct(e,"id");return void 0!==t&&t.indexOf(ga)>-1})).bind((e=>{const t=Ct(e,"id"),r=mt(e);return fa(r,`[${ga}="${t}"]`)})))(t).exists((t=>ya(e,t))))(e,t);var ba;!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(ba||(ba={}));const wa=To({}),xa=["alloy/data/Fields","alloy/debugging/Debugging"],Ea=(e,t,r)=>((e,t,r)=>{switch(ve(wa.get(),e).orThunk((()=>{const t=se(wa.get());return ie(t,(t=>e.indexOf(t)>-1?P.some(wa.get()[t]):P.none()))})).getOr(ba.NORMAL)){case ba.NORMAL:return r(Sa());case ba.LOGGING:{const n=((e,t)=>{const r=[],n=(new Date).getTime();return{logEventCut:(e,t,n)=>{r.push({outcome:"cut",target:t,purpose:n})},logEventStopped:(e,t,n)=>{r.push({outcome:"stopped",target:t,purpose:n})},logNoParent:(e,t,n)=>{r.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:(e,t)=>{r.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,n)=>{r.push({outcome:"response",purpose:n,target:t})},write:()=>{const o=(new Date).getTime();N(["mousemove","mouseover","mouseout",vi()],e)||console.log(e,{event:e,time:o-n,target:t.dom,sequence:V(r,(e=>N(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+ns(e.target)+")":e.outcome))})}}})(e,t),o=r(n);return n.write(),o}case ba.STOP:return!0}})(e,t,r),Sa=w({logEventCut:v,logEventStopped:v,logNoParent:v,logEventNoHandlers:v,logEventResponse:v,write:v}),_a=w([to("menu"),to("selectedMenu")]),Ca=w([to("item"),to("selectedItem")]);w(Mn(Ca().concat(_a())));const Aa=w(Mn(Ca())),ka=ao("initSize",[to("numColumns"),to("numRows")]),Ta=()=>ao("markers",[to("backgroundMenu")].concat(_a()).concat(Ca())),Pa=e=>ao("markers",V(e,to)),Ma=(e,t,r)=>((()=>{const e=new Error;if(void 0!==e.stack){const t=e.stack.split("\n");q(t,(e=>e.indexOf("alloy")>0&&!F(xa,(t=>e.indexOf(t)>-1)))).getOr("unknown")}})(),Jn(t,t,r,Un((e=>nn.value(((...t)=>e.apply(void 0,t))))))),Da=e=>Ma(0,e,yn(v)),Oa=e=>Ma(0,e,yn(P.none)),Ia=e=>Ma(0,e,{tag:"required",process:{}}),Ra=e=>Ma(0,e,{tag:"required",process:{}}),Na=(e,t)=>Qn(e,w(t)),Fa=e=>Qn(e,x),Ba=w(ka),La=(e,t,r,n,o,i,s,a=!1)=>({x:e,y:t,bubble:r,direction:n,placement:o,restriction:i,label:`${s}-${o}`,alwaysFit:a}),Va=Po([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),za=Va.southeast,Ha=Va.southwest,ja=Va.northeast,Ga=Va.northwest,Ua=Va.south,qa=Va.north,Wa=Va.east,$a=Va.west,Za=(e,t,r,n)=>{const o=e+t;return o>n?r:o<r?n:o},Ka=(e,t,r)=>Math.min(Math.max(e,t),r),Ya=(e,t)=>J(["left","right","top","bottom"],(r=>ve(t,r).map((t=>((e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}})(e,t))))),Xa="layout",Ja=e=>e.x,Qa=(e,t)=>e.x+e.width/2-t.width/2,el=(e,t)=>e.x+e.width-t.width,tl=(e,t)=>e.y-t.height,rl=e=>e.y+e.height,nl=(e,t)=>e.y+e.height/2-t.height/2,ol=(e,t,r)=>La(Ja(e),rl(e),r.southeast(),za(),"southeast",Ya(e,{left:1,top:3}),Xa),il=(e,t,r)=>La(el(e,t),rl(e),r.southwest(),Ha(),"southwest",Ya(e,{right:0,top:3}),Xa),sl=(e,t,r)=>La(Ja(e),tl(e,t),r.northeast(),ja(),"northeast",Ya(e,{left:1,bottom:2}),Xa),al=(e,t,r)=>La(el(e,t),tl(e,t),r.northwest(),Ga(),"northwest",Ya(e,{right:0,bottom:2}),Xa),ll=(e,t,r)=>La(Qa(e,t),tl(e,t),r.north(),qa(),"north",Ya(e,{bottom:2}),Xa),cl=(e,t,r)=>La(Qa(e,t),rl(e),r.south(),Ua(),"south",Ya(e,{top:3}),Xa),hl=(e,t,r)=>La((e=>e.x+e.width)(e),nl(e,t),r.east(),Wa(),"east",Ya(e,{left:0}),Xa),dl=(e,t,r)=>La(((e,t)=>e.x-t.width)(e,t),nl(e,t),r.west(),$a(),"west",Ya(e,{right:1}),Xa),ul=()=>[ol,il,sl,al,cl,ll,hl,dl],pl=()=>[il,ol,al,sl,cl,ll,hl,dl],fl=()=>[sl,al,ol,il,ll,cl],ml=()=>[al,sl,il,ol,ll,cl],gl=()=>[ol,il,sl,al,cl,ll],vl=()=>[il,ol,al,sl,cl,ll];var yl=Object.freeze({__proto__:null,events:e=>Vi([ji(hi(),((t,r)=>{const n=e.channels,o=se(n),i=r,s=((e,t)=>t.universal?e:j(e,(e=>N(t.channels,e))))(o,i);z(s,(e=>{const r=n[e],o=r.schema,s=Zn("channel["+e+"] data\nReceiver: "+ns(t.element),o,i.data);r.onReceive(t,s)}))}))])}),bl=[ro("channels",qn(nn.value,Pn([Ia("onReceive"),bo("schema",Nn())])))];const wl=(e,t,r)=>Ji(((n,o)=>{r(n,e,t)})),xl=e=>({key:e,value:void 0}),El=(e,t,r,n,o,i,s)=>{const a=e=>be(e,r)?e[r]():P.none(),l=ce(o,((e,t)=>((e,t,r)=>((e,t,r)=>{const n=r.toString(),o=n.indexOf(")")+1,i=n.indexOf("("),s=n.substring(i+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:bs(s.slice(0,1).concat(s.slice(3)))}),e})(((n,...o)=>{const i=[n].concat(o);return n.config({name:w(e)}).fold((()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+r)}),(e=>{const r=Array.prototype.slice.call(i,1);return t.apply(void 0,[n,e.config,e.state].concat(r))}))}),r,t))(r,e,t))),c={...ce(i,((e,t)=>ws(e,t))),...l,revoke:S(xl,r),config:t=>{const n=Zn(r+"-config",e,t);return{key:r,value:{config:n,me:c,configAsRaw:Qt((()=>Zn(r+"-config",e,t))),initialConfig:t,state:s}}},schema:w(t),exhibit:(e,t)=>Ee(a(e),ve(n,"exhibit"),((e,r)=>r(t,e.config,e.state))).getOrThunk((()=>Ts({}))),name:w(r),handlers:e=>a(e).map((e=>ve(n,"events").getOr((()=>({})))(e.config,e.state))).getOr({})};return c},Sl=e=>Do(e),_l=Pn([to("fields"),to("name"),bo("active",{}),bo("apis",{}),bo("state",Cs),bo("extra",{})]),Cl=e=>{const t=Zn("Creating behaviour: "+e.name,_l,e);return((e,t,r,n,o,i)=>{const s=Pn(e),a=yo(t,[("config",l=e,uo("config",Pn(l)))]);var l;return El(s,a,t,r,n,o,i)})(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Al=Pn([to("branchKey"),to("branches"),to("name"),bo("active",{}),bo("apis",{}),bo("state",Cs),bo("extra",{})]),kl=e=>{const t=Zn("Creating behaviour: "+e.name,Al,e);return((e,t,r,n,o,i)=>{const s=e,a=yo(t,[uo("config",e)]);return El(s,a,t,r,n,o,i)})(Yn(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Tl=w(void 0),Pl=Cl({fields:bl,name:"receiving",active:yl});var Ml=Object.freeze({__proto__:null,exhibit:(e,t)=>Ts({classes:[],styles:t.useFixed()?{}:{position:"relative"}})});const Dl=e=>e.dom.focus(),Ol=e=>e.dom.blur(),Il=e=>{const t=mt(e).dom;return e.dom===t.activeElement},Rl=(e=qr())=>P.from(e.dom.activeElement).map(Be),Nl=e=>Rl(mt(e)).filter((t=>e.dom.contains(t.dom))),Fl=(e,t)=>{const r=mt(t),n=Rl(r).bind((e=>{const r=t=>Je(e,t);return r(t)?P.some(t):((e,t)=>{const r=e=>{for(let n=0;n<e.childNodes.length;n++){const o=Be(e.childNodes[n]);if(t(o))return P.some(o);const i=r(e.childNodes[n]);if(i.isSome())return i}return P.none()};return r(e.dom)})(t,r)})),o=e(t);return n.each((e=>{Rl(r).filter((t=>Je(t,e))).fold((()=>{Dl(e)}),v)})),o},Bl=(e,t,r,n,o)=>{const i=e=>e+"px";return{position:e,left:t.map(i),top:r.map(i),right:n.map(i),bottom:o.map(i)}},Ll=(e,t)=>{It(e,(e=>({...e,position:P.some(e.position)}))(t))},Vl=Po([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),zl=(e,t,r,n,o,i)=>{const s=t.rect,a=s.x-r,l=s.y-n,c=o-(a+s.width),h=i-(l+s.height),d=P.some(a),u=P.some(l),p=P.some(c),f=P.some(h),m=P.none();return t.direction.fold((()=>Bl(e,d,u,m,m)),(()=>Bl(e,m,u,p,m)),(()=>Bl(e,d,m,m,f)),(()=>Bl(e,m,m,p,f)),(()=>Bl(e,d,u,m,m)),(()=>Bl(e,d,m,m,f)),(()=>Bl(e,d,u,m,m)),(()=>Bl(e,m,u,p,m)))},Hl=(e,t)=>e.fold((()=>{const e=t.rect;return Bl("absolute",P.some(e.x),P.some(e.y),P.none(),P.none())}),((e,r,n,o)=>zl("absolute",t,e,r,n,o)),((e,r,n,o)=>zl("fixed",t,e,r,n,o))),jl=(e,t)=>{const r=S(Zr,t),n=e.fold(r,r,(()=>{const e=Hr();return Zr(t).translate(-e.left,-e.top)})),o=Jt(t),i=Ut(t);return Kr(n.left,n.top,o,i)},Gl=(e,t)=>t.fold((()=>e.fold(Qr,Qr,Kr)),(t=>e.fold(w(t),w(t),(()=>{const r=Ul(e,t.x,t.y);return Kr(r.left,r.top,t.width,t.height)})))),Ul=(e,t,r)=>{const n=Wt(t,r);return e.fold(w(n),w(n),(()=>{const e=Hr();return n.translate(-e.left,-e.top)}))};Vl.none;const ql=Vl.relative,Wl=Vl.fixed,$l="data-alloy-placement",Zl=e=>At(e,$l),Kl=Po([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Yl=(e,t,r,n)=>{const o=e.bubble,i=o.offset,s=((e,t,r)=>{const n=(n,o)=>t[n].map((t=>{const i="top"===n||"bottom"===n,s=i?r.top:r.left,a=("left"===n||"top"===n?Math.max:Math.min)(t,o)+s;return i?Ka(a,e.y,e.bottom):Ka(a,e.x,e.right)})).getOr(o),o=n("left",e.x),i=n("top",e.y),s=n("right",e.right),a=n("bottom",e.bottom);return Kr(o,i,s-o,a-i)})(n,e.restriction,i),a=e.x+i.left,l=e.y+i.top,c=Kr(a,l,t,r),{originInBounds:h,sizeInBounds:d,visibleW:u,visibleH:p}=((e,t)=>{const{x:r,y:n,right:o,bottom:i}=t,{x:s,y:a,right:l,bottom:c,width:h,height:d}=e;return{originInBounds:s>=r&&s<=o&&a>=n&&a<=i,sizeInBounds:l<=o&&l>=r&&c<=i&&c>=n,visibleW:Math.min(h,s>=r?o-s:l-r),visibleH:Math.min(d,a>=n?i-a:c-n)}})(c,s),f=h&&d,m=f?c:((e,t)=>{const{x:r,y:n,right:o,bottom:i}=t,{x:s,y:a,width:l,height:c}=e,h=Math.max(r,o-l),d=Math.max(n,i-c),u=Ka(s,r,h),p=Ka(a,n,d),f=Math.min(u+l,o)-u,m=Math.min(p+c,i)-p;return Kr(u,p,f,m)})(c,s),g=m.width>0&&m.height>0,{maxWidth:v,maxHeight:y}=((e,t,r)=>{const n=w(t.bottom-r.y),o=w(r.bottom-t.y),i=((e,t,r,n)=>e.fold(t,t,n,n,t,n,r,r))(e,o,o,n),s=w(t.right-r.x),a=w(r.right-t.x),l=((e,t,r,n)=>e.fold(t,n,t,n,r,r,t,n))(e,a,a,s);return{maxWidth:l,maxHeight:i}})(e.direction,m,n),b={rect:m,maxHeight:y,maxWidth:v,direction:e.direction,placement:e.placement,classes:{on:o.classesOn,off:o.classesOff},layout:e.label,testY:l};return f||e.alwaysFit?Kl.fit(b):Kl.nofit(b,u,p,g)},Xl=e=>{const t=To(P.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(P.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(P.some(e))}}},Jl=()=>Xl((e=>e.unbind())),Ql=()=>{const e=Xl(v);return{...e,on:t=>e.get().each(t)}},ec=T,tc=(e,t,r)=>((e,t,r,n)=>Or(e,t,r,n,!1))(e,t,ec,r),rc=(e,t,r)=>((e,t,r,n)=>Or(e,t,r,n,!0))(e,t,ec,r),nc=Dr,oc=["top","bottom","right","left"],ic="data-alloy-transition-timer",sc=(e,t,r,n,o,s)=>{const a=((e,t,r)=>r.exists((r=>{const n=e.mode;return"all"===n||r[n]!==t[n]})))(n,o,s);if(a||((e,t)=>qs(e,t.classes))(e,n)){Dt(e,"position",r.position);const s=jl(t,e),l=Hl(t,{...o,rect:s}),c=J(oc,(e=>l[e]));((e,t)=>{const r=e=>parseFloat(e).toFixed(3);return me(t,((t,n)=>!((e,t,r=E)=>Ee(e,t,r).getOr(e.isNone()&&t.isNone()))(e[n].map(r),t.map(r)))).isSome()})(r,c)&&(It(e,c),a&&((e,t)=>{Gs(e,t.classes),At(e,ic).each((t=>{clearTimeout(parseInt(t,10)),Tt(e,ic)})),((e,t)=>{const r=Jl(),n=Jl();let o;const s=t=>{var r;const n=null!==(r=t.raw.pseudoElement)&&void 0!==r?r:"";return Je(t.target,e)&&!De(n)&&N(oc,t.raw.propertyName)},a=i=>{if(u(i)||s(i)){r.clear(),n.clear();const s=null==i?void 0:i.raw.type;(u(s)||s===ri())&&(clearTimeout(o),Tt(e,ic),Us(e,t.classes))}},l=tc(e,ni(),(t=>{s(t)&&(l.unbind(),r.set(tc(e,ri(),a)),n.set(tc(e,ti(),a)))})),c=(e=>{const t=t=>{const r=Rt(e,t).split(/\s*,\s*/);return j(r,De)},r=e=>{if(i(e)&&/^[\d.]+/.test(e)){const t=parseFloat(e);return Pe(e,"ms")?t:1e3*t}return 0},n=t("transition-delay"),o=t("transition-duration");return U(o,((e,t,o)=>{const i=r(n[o])+r(t);return Math.max(e,i)}),0)})(e);requestAnimationFrame((()=>{o=setTimeout(a,c+17),St(e,ic,o)}))})(e,t)})(e,n),zt(e))}else Us(e,n.classes)},ac=(e,t)=>{((e,t)=>{const r=jt.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Dt(e,"max-height",r+"px")})(e,Math.floor(t))},lc=w(((e,t)=>{ac(e,t),Ot(e,{"overflow-x":"hidden","overflow-y":"auto"})})),cc=w(((e,t)=>{ac(e,t)})),hc=(e,t,r)=>void 0===e[t]?r:e[t],dc=(e,t,r,n)=>{const o=((e,t,r,n)=>{Vt(t,"max-height"),Vt(t,"max-width");const o={width:Jt(i=t),height:Ut(i)};var i;return((e,t,r,n,o,i)=>{const s=n.width,a=n.height,l=(t,l,c,h,d)=>{const u=t(r,n,o,e,i),p=Yl(u,s,a,i);return p.fold(w(p),((e,t,r,n)=>(d===n?r>h||t>c:!d&&n)?p:Kl.nofit(l,c,h,d)))};return U(t,((e,t)=>{const r=S(l,t);return e.fold(w(e),r)}),Kl.nofit({rect:r,maxHeight:n.height,maxWidth:n.width,direction:za(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:r.y},-1,-1,!1)).fold(x,x)})(t,n.preference,e,o,r,n.bounds)})(e,t,r,n);return((e,t,r)=>{const n=Hl(r.origin,t);r.transition.each((o=>{sc(e,r.origin,n,o,t,r.lastPlacement)})),Ll(e,n)})(t,o,n),((e,t)=>{((e,t)=>{St(e,$l,t)})(e,t.placement)})(t,o),((e,t)=>{const r=t.classes;Us(e,r.off),Gs(e,r.on)})(t,o),((e,t,r)=>{(0,r.maxHeightFunction)(e,t.maxHeight)})(t,o,n),((e,t,r)=>{(0,r.maxWidthFunction)(e,t.maxWidth)})(t,o,n),{layout:o.layout,placement:o.placement}},uc=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],pc=(e,t,r,n=1)=>{const o=e*n,i=t*n,s=e=>ve(r,e).getOr([]),a=(e,t,r)=>{const n=X(uc,r);return{offset:Wt(e,t),classesOn:Z(r,s),classesOff:Z(n,s)}};return{southeast:()=>a(-e,t,["top","alignLeft"]),southwest:()=>a(e,t,["top","alignRight"]),south:()=>a(-e/2,t,["top","alignCentre"]),northeast:()=>a(-e,-t,["bottom","alignLeft"]),northwest:()=>a(e,-t,["bottom","alignRight"]),north:()=>a(-e/2,-t,["bottom","alignCentre"]),east:()=>a(e,-t/2,["valignCentre","left"]),west:()=>a(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>a(o,i,["top","alignLeft","inset"]),insetNorthwest:()=>a(-o,i,["top","alignRight","inset"]),insetNorth:()=>a(-o/2,i,["top","alignCentre","inset"]),insetSoutheast:()=>a(o,-i,["bottom","alignLeft","inset"]),insetSouthwest:()=>a(-o,-i,["bottom","alignRight","inset"]),insetSouth:()=>a(-o/2,-i,["bottom","alignCentre","inset"]),insetEast:()=>a(-o,-i/2,["valignCentre","right","inset"]),insetWest:()=>a(o,-i/2,["valignCentre","left","inset"])}},fc=()=>pc(0,0,{}),mc=x,gc=(e,t)=>r=>"rtl"===vc(r)?t:e,vc=e=>"rtl"===Rt(e,"direction")?"rtl":"ltr";var yc;!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(yc||(yc={}));const bc="data-alloy-vertical-dir",wc=e=>da(e,(e=>qe(e)&&Ct(e,"data-alloy-vertical-dir")===yc.BottomToTop)),xc=()=>yo("layouts",[to("onLtr"),to("onRtl"),ho("onBottomLtr"),ho("onBottomRtl")]),Ec=(e,t,r,n,o,i,s)=>{const a=s.map(wc).getOr(!1),l=t.layouts.map((t=>t.onLtr(e))),c=t.layouts.map((t=>t.onRtl(e))),h=a?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(l).getOr(o):l.getOr(r),d=a?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(c).getOr(i):c.getOr(n);return gc(h,d)(e)};var Sc=[to("hotspot"),ho("bubble"),bo("overrides",{}),xc(),Na("placement",((e,t,r)=>{const n=t.hotspot,o=jl(r,n.element),i=Ec(e.element,t,gl(),vl(),fl(),ml(),P.some(t.hotspot.element));return P.some(mc({anchorBox:o,bubble:t.bubble.getOr(fc()),overrides:t.overrides,layouts:i}))}))],_c=[to("x"),to("y"),bo("height",0),bo("width",0),bo("bubble",fc()),bo("overrides",{}),xc(),Na("placement",((e,t,r)=>{const n=Ul(r,t.x,t.y),o=Kr(n.left,n.top,t.width,t.height),i=Ec(e.element,t,ul(),pl(),ul(),pl(),P.none());return P.some(mc({anchorBox:o,bubble:t.bubble,overrides:t.overrides,layouts:i}))}))];const Cc=Po([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Ac=e=>e.fold(x,((e,t,r)=>e.translate(-t,-r))),kc=e=>e.fold(x,x),Tc=e=>U(e,((e,t)=>e.translate(t.left,t.top)),Wt(0,0)),Pc=e=>{const t=V(e,kc);return Tc(t)},Mc=Cc.screen,Dc=Cc.absolute,Oc=(e,t,r)=>{const n=et(e.element),o=Hr(n),i=((e,t,r)=>{const n=nt(r.root).dom;return P.from(n.frameElement).map(Be).filter((t=>{const r=et(t),n=et(e.element);return Je(r,n)})).map(Zt)})(e,0,r).getOr(o);return Dc(i,o.left,o.top)},Ic=(e,t,r,n)=>{const o=Mc(Wt(e,t));return P.some(((e,t,r)=>({point:e,width:t,height:r}))(o,r,n))},Rc=(e,t,r,n,o)=>e.map((e=>{const i=[t,e.point],s=(a=()=>Pc(i),l=()=>Pc(i),c=()=>(e=>{const t=V(e,Ac);return Tc(t)})(i),n.fold(a,l,c));var a,l,c;const h=(f=s.left,m=s.top,g=e.width,v=e.height,{x:f,y:m,width:g,height:v}),d=r.showAbove?fl():gl(),u=r.showAbove?ml():vl(),p=Ec(o,r,d,u,d,u,P.none());var f,m,g,v;return mc({anchorBox:h,bubble:r.bubble.getOr(fc()),overrides:r.overrides,layouts:p})}));var Nc=[to("node"),to("root"),ho("bubble"),xc(),bo("overrides",{}),bo("showAbove",!1),Na("placement",((e,t,r)=>{const n=Oc(e,0,t);return t.node.filter(bt).bind((o=>{const i=o.dom.getBoundingClientRect(),s=Ic(i.left,i.top,i.width,i.height),a=t.node.getOr(e.element);return Rc(s,n,t,r,a)}))}))];const Fc=(e,t,r,n)=>({start:e,soffset:t,finish:r,foffset:n}),Bc=Po([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Lc=(Bc.before,Bc.on,Bc.after,e=>e.fold(x,x,x)),Vc=Po([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),zc={domRange:Vc.domRange,relative:Vc.relative,exact:Vc.exact,exactFromRange:e=>Vc.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>Be(e.startContainer),relative:(e,t)=>Lc(e),exact:(e,t,r,n)=>e}))(e);return nt(t)},range:Fc},Hc=(e,t,r)=>{const n=e.document.createRange();var o;return o=n,t.fold((e=>{o.setStartBefore(e.dom)}),((e,t)=>{o.setStart(e.dom,t)}),(e=>{o.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,r)=>{e.setEnd(t.dom,r)}),(t=>{e.setEndAfter(t.dom)}))})(n,r),n},jc=(e,t,r,n,o)=>{const i=e.document.createRange();return i.setStart(t.dom,r),i.setEnd(n.dom,o),i},Gc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Uc=Po([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),qc=(e,t,r)=>t(Be(r.startContainer),r.startOffset,Be(r.endContainer),r.endOffset),Wc=(e,t)=>((e,t)=>{const r=((e,t)=>t.match({domRange:e=>({ltr:w(e),rtl:P.none}),relative:(t,r)=>({ltr:Qt((()=>Hc(e,t,r))),rtl:Qt((()=>P.some(Hc(e,r,t))))}),exact:(t,r,n,o)=>({ltr:Qt((()=>jc(e,t,r,n,o))),rtl:Qt((()=>P.some(jc(e,n,o,t,r))))})}))(e,t);return((e,t)=>{const r=t.ltr();return r.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>Uc.rtl(Be(e.endContainer),e.endOffset,Be(e.startContainer),e.startOffset))).getOrThunk((()=>qc(0,Uc.ltr,r))):qc(0,Uc.ltr,r)})(0,r)})(e,t).match({ltr:(t,r,n,o)=>{const i=e.document.createRange();return i.setStart(t.dom,r),i.setEnd(n.dom,o),i},rtl:(t,r,n,o)=>{const i=e.document.createRange();return i.setStart(n.dom,o),i.setEnd(t.dom,r),i}});Uc.ltr,Uc.rtl;const $c=(e,t)=>((e,t)=>{const r=void 0===t?document:t.dom;return Xe(r)?[]:V(r.querySelectorAll(e),Be)})(t,e),Zc=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),r=e.getRangeAt(e.rangeCount-1);return P.some(Fc(Be(t.startContainer),t.startOffset,Be(r.endContainer),r.endOffset))}return P.none()},Kc=e=>{if(null===e.anchorNode||null===e.focusNode)return Zc(e);{const t=Be(e.anchorNode),r=Be(e.focusNode);return((e,t,r,n)=>{const o=((e,t,r,n)=>{const o=et(e).dom.createRange();return o.setStart(e.dom,t),o.setEnd(r.dom,n),o})(e,t,r,n),i=Je(e,r)&&t===n;return o.collapsed&&!i})(t,e.anchorOffset,r,e.focusOffset)?P.some(Fc(t,e.anchorOffset,r,e.focusOffset)):Zc(e)}},Yc=(e,t)=>(e=>{const t=e.getClientRects(),r=t.length>0?t[0]:e.getBoundingClientRect();return r.width>0||r.height>0?P.some(r).map(Gc):P.none()})(Wc(e,t)),Xc=((e,t)=>{const r=t=>e(t)?P.from(t.dom.nodeValue):P.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return r(t).getOr("")},getOption:r,set:(t,r)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=r}}})(We),Jc=(e,t)=>({element:e,offset:t}),Qc=(e,t)=>We(e)?Jc(e,t):((e,t)=>{const r=at(e);if(0===r.length)return Jc(e,t);if(t<r.length)return Jc(r[t],0);{const e=r[r.length-1],t=We(e)?(e=>Xc.get(e))(e).length:at(e).length;return Jc(e,t)}})(e,t),eh=(e,t)=>t.getSelection.getOrThunk((()=>()=>(e=>(e=>P.from(e.getSelection()))(e).filter((e=>e.rangeCount>0)).bind(Kc))(e)))().map((e=>{const t=Qc(e.start,e.soffset),r=Qc(e.finish,e.foffset);return zc.range(t.element,t.offset,r.element,r.offset)}));var th=[ho("getSelection"),to("root"),ho("bubble"),xc(),bo("overrides",{}),bo("showAbove",!1),Na("placement",((e,t,r)=>{const n=nt(t.root).dom,o=Oc(e,0,t),i=eh(n,t).bind((e=>{const t=((e,t)=>(e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?P.some(t).map(Gc):P.none()})(Wc(e,t)))(n,zc.exactFromRange(e)).orThunk((()=>{const t=Fe("\ufeff");Rr(e.start,t);const r=Yc(n,zc.exact(t,0,t,1));return zr(t),r}));return t.bind((e=>Ic(e.left,e.top,e.width,e.height)))})),s=eh(n,t).bind((e=>qe(e.start)?P.some(e.start):it(e.start))).getOr(e.element);return Rc(i,o,t,r,s)}))];const rh="link-layout",nh=e=>e.x+e.width,oh=(e,t)=>e.x-t.width,ih=(e,t)=>e.y-t.height+e.height,sh=e=>e.y,ah=(e,t,r)=>La(nh(e),sh(e),r.southeast(),za(),"southeast",Ya(e,{left:0,top:2}),rh),lh=(e,t,r)=>La(oh(e,t),sh(e),r.southwest(),Ha(),"southwest",Ya(e,{right:1,top:2}),rh),ch=(e,t,r)=>La(nh(e),ih(e,t),r.northeast(),ja(),"northeast",Ya(e,{left:0,bottom:3}),rh),hh=(e,t,r)=>La(oh(e,t),ih(e,t),r.northwest(),Ga(),"northwest",Ya(e,{right:1,bottom:3}),rh),dh=()=>[ah,lh,ch,hh],uh=()=>[lh,ah,hh,ch];var ph=[to("item"),xc(),bo("overrides",{}),Na("placement",((e,t,r)=>{const n=jl(r,t.item.element),o=Ec(e.element,t,dh(),uh(),dh(),uh(),P.none());return P.some(mc({anchorBox:n,bubble:fc(),overrides:t.overrides,layouts:o}))}))],fh=Yn("type",{selection:th,node:Nc,hotspot:Sc,submenu:ph,makeshift:_c});const mh=[co("classes",Ln),So("mode","all",["all","layout","placement"])],gh=[bo("useFixed",k),ho("getBounds")],vh=[ro("anchor",fh),yo("transition",mh)],yh=(e,t,r,n,o,i)=>{const s=Zn("placement.info",Mn(vh),o),a=s.anchor,l=n.element,c=r.get(n.uid);Fl((()=>{Dt(l,"position","fixed");const o=Ft(l,"visibility");Dt(l,"visibility","hidden");const h=t.useFixed()?(()=>{const e=document.documentElement;return Wl(0,0,e.clientWidth,e.clientHeight)})():(e=>{const t=Zt(e.element),r=e.element.dom.getBoundingClientRect();return ql(t.left,t.top,r.width,r.height)})(e);a.placement(e,a,h).each((e=>{const o=i.orThunk((()=>t.getBounds.map(A))),a=((e,t,r,n,o,i)=>((e,t,r,n,o,i,s,a)=>{const l=hc(s,"maxHeightFunction",lc()),c=hc(s,"maxWidthFunction",v),h=e.anchorBox,d=e.origin,u={bounds:Gl(d,i),origin:d,preference:n,maxHeightFunction:l,maxWidthFunction:c,lastPlacement:o,transition:a};return dc(h,t,r,u)})(((e,t)=>((e,t)=>({anchorBox:e,origin:t}))(e,t))(t.anchorBox,e),n.element,t.bubble,t.layouts,o,r,t.overrides,i))(h,e,o,n,c,s.transition);r.set(n.uid,a)})),o.fold((()=>{Vt(l,"visibility")}),(e=>{Dt(l,"visibility",e)})),Ft(l,"left").isNone()&&Ft(l,"top").isNone()&&Ft(l,"right").isNone()&&Ft(l,"bottom").isNone()&&we(Ft(l,"position"),"fixed")&&Vt(l,"position")}),l)};var bh=Object.freeze({__proto__:null,position:(e,t,r,n,o)=>{const i=P.none();yh(e,t,r,n,o,i)},positionWithinBounds:yh,getMode:(e,t,r)=>t.useFixed()?"fixed":"absolute",reset:(e,t,r,n)=>{const o=n.element;z(["position","left","right","top","bottom"],(e=>Vt(o,e))),(e=>{Tt(e,$l)})(o),r.clear(n.uid)}});const wh=Cl({fields:gh,name:"positioning",active:Ml,apis:bh,state:Object.freeze({__proto__:null,init:()=>{let e={};return As({readState:()=>e,clear:t=>{p(t)?delete e[t]:e={}},set:(t,r)=>{e[t]=r},get:t=>ve(e,t)})}})}),xh=e=>e.getSystem().isConnected(),Eh=e=>{Ii(e,Si());const t=e.components();z(t,Eh)},Sh=e=>{const t=e.components();z(t,Sh),Ii(e,Ei())},_h=(e,t)=>{e.getSystem().addToWorld(t),bt(e.element)&&Sh(t)},Ch=e=>{Eh(e),e.getSystem().removeFromWorld(e)},Ah=(e,t)=>{Br(e.element,t.element)},kh=(e,t)=>{Th(e,t,Br)},Th=(e,t,r)=>{e.getSystem().addToWorld(t),r(e.element,t.element),bt(e.element)&&Sh(t),e.syncComponents()},Ph=e=>{Eh(e),zr(e.element),e.getSystem().removeFromWorld(e)},Mh=e=>{const t=ot(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));Ph(e),t.each((e=>{e.syncComponents()}))},Dh=e=>{const t=e.components();z(t,Ph),Vr(e.element),e.syncComponents()},Oh=(e,t)=>{Rh(e,t,Br)},Ih=(e,t)=>{Rh(e,t,Nr)},Rh=(e,t,r)=>{r(e,t.element);const n=at(t.element);z(n,(e=>{t.getByDom(e).each(Sh)}))},Nh=e=>{const t=at(e.element);z(t,(t=>{e.getByDom(t).each(Eh)})),zr(e.element)},Fh=(e,t,r,n)=>{r.get().each((t=>{Dh(e)}));const o=t.getAttachPoint(e);kh(o,e);const i=e.getSystem().build(n);return kh(e,i),r.set(i),i},Bh=(e,t,r,n)=>{const o=Fh(e,t,r,n);return t.onOpen(e,o),o},Lh=(e,t,r)=>{r.get().each((n=>{Dh(e),Mh(e),t.onClose(e,n),r.clear()}))},Vh=(e,t,r)=>r.isOpen(),zh=(e,t,r)=>{const n=t.getAttachPoint(e);Dt(e.element,"position",wh.getMode(n)),((e,t,r,n)=>{Ft(e.element,t).fold((()=>{Tt(e.element,r)}),(t=>{St(e.element,r,t)})),Dt(e.element,t,"hidden")})(e,"visibility",t.cloakVisibilityAttr)},Hh=(e,t,r)=>{(e=>F(["top","left","right","bottom"],(t=>Ft(e,t).isSome())))(e.element)||Vt(e.element,"position"),((e,t,r)=>{At(e.element,r).fold((()=>Vt(e.element,t)),(r=>Dt(e.element,t,r)))})(e,"visibility",t.cloakVisibilityAttr)};var jh=Object.freeze({__proto__:null,cloak:zh,decloak:Hh,open:Bh,openWhileCloaked:(e,t,r,n,o)=>{zh(e,t),Bh(e,t,r,n),o(),Hh(e,t)},close:Lh,isOpen:Vh,isPartOf:(e,t,r,n)=>Vh(0,0,r)&&r.get().exists((r=>t.isPartOf(e,r,n))),getState:(e,t,r)=>r.get(),setContent:(e,t,r,n)=>r.get().map((()=>Fh(e,t,r,n)))}),Gh=Object.freeze({__proto__:null,events:(e,t)=>Vi([ji(mi(),((r,n)=>{Lh(r,e,t)}))])}),Uh=[Da("onOpen"),Da("onClose"),to("isPartOf"),to("getAttachPoint"),bo("cloakVisibilityAttr","data-precloak-visibility")],qh=Object.freeze({__proto__:null,init:()=>{const e=Ql(),t=w("not-implemented");return As({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const Wh=Cl({fields:Uh,name:"sandboxing",active:Gh,apis:jh,state:qh}),$h=w("dismiss.popups"),Zh=w("reposition.popups"),Kh=w("mouse.released"),Yh=Pn([bo("isExtraPart",k),yo("fireEventInstead",[bo("event",_i())])]),Xh=e=>{const t=Zn("Dismissal",Yh,e);return{[$h()]:{schema:Pn([to("target")]),onReceive:(e,r)=>{Wh.isOpen(e)&&(Wh.isPartOf(e,r.target)||t.isExtraPart(e,r.target)||t.fireEventInstead.fold((()=>Wh.close(e)),(t=>Ii(e,t.event))))}}}},Jh=Pn([yo("fireEventInstead",[bo("event",Ci())]),so("doReposition")]),Qh=e=>{const t=Zn("Reposition",Jh,e);return{[Zh()]:{onReceive:e=>{Wh.isOpen(e)&&t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>Ii(e,t.event)))}}}},ed=(e,t,r)=>{t.store.manager.onLoad(e,t,r)},td=(e,t,r)=>{t.store.manager.onUnload(e,t,r)};var rd=Object.freeze({__proto__:null,onLoad:ed,onUnload:td,setValue:(e,t,r,n)=>{t.store.manager.setValue(e,t,r,n)},getValue:(e,t,r)=>t.store.manager.getValue(e,t,r),getState:(e,t,r)=>r}),nd=Object.freeze({__proto__:null,events:(e,t)=>{const r=e.resetOnDom?[Yi(((r,n)=>{ed(r,e,t)})),Xi(((r,n)=>{td(r,e,t)}))]:[wl(e,t,ed)];return Vi(r)}});const od=()=>{const e=To(null);return As({set:e.set,get:e.get,isNotSet:()=>null===e.get(),clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},id=()=>{const e=To({}),t=To({});return As({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()}),lookup:r=>ve(e.get(),r).orThunk((()=>ve(t.get(),r))),update:r=>{const n=e.get(),o=t.get(),i={},s={};z(r,(e=>{i[e.value]=e,ve(e,"meta").each((t=>{ve(t,"text").each((t=>{s[t]=e}))}))})),e.set({...n,...i}),t.set({...o,...s})},clear:()=>{e.set({}),t.set({})}})};var sd=Object.freeze({__proto__:null,memory:od,dataset:id,manual:()=>As({readState:v}),init:e=>e.store.manager.state(e)});const ad=(e,t,r,n)=>{const o=t.store;r.update([n]),o.setValue(e,n),t.onSetValue(e,n)};var ld=[ho("initialValue"),to("getFallbackEntry"),to("getDataKey"),to("setValue"),Na("manager",{setValue:ad,getValue:(e,t,r)=>{const n=t.store,o=n.getDataKey(e);return r.lookup(o).getOrThunk((()=>n.getFallbackEntry(o)))},onLoad:(e,t,r)=>{t.store.initialValue.each((n=>{ad(e,t,r,n)}))},onUnload:(e,t,r)=>{r.clear()},state:id})],cd=[to("getValue"),bo("setValue",v),ho("initialValue"),Na("manager",{setValue:(e,t,r,n)=>{t.store.setValue(e,n),t.onSetValue(e,n)},getValue:(e,t,r)=>t.store.getValue(e),onLoad:(e,t,r)=>{t.store.initialValue.each((r=>{t.store.setValue(e,r)}))},onUnload:v,state:Cs.init})],hd=[ho("initialValue"),Na("manager",{setValue:(e,t,r,n)=>{r.set(n),t.onSetValue(e,n)},getValue:(e,t,r)=>r.get(),onLoad:(e,t,r)=>{t.store.initialValue.each((e=>{r.isNotSet()&&r.set(e)}))},onUnload:(e,t,r)=>{r.clear()},state:od})],dd=[wo("store",{mode:"memory"},Yn("mode",{memory:hd,manual:cd,dataset:ld})),Da("onSetValue"),bo("resetOnDom",!1)];const ud=Cl({fields:dd,name:"representing",active:nd,apis:rd,extra:{setValueFrom:(e,t)=>{const r=ud.getValue(t);ud.setValue(e,r)}},state:sd}),pd=(e,t)=>ko(e,{},V(t,(t=>{return r=t.name(),n="Cannot configure "+t.name()+" for "+e,Jn(r,r,{tag:"option",process:{}},Sn((e=>hn("The field: "+r+" is forbidden. "+n))));var r,n})).concat([Qn("dump",x)])),fd=e=>e.dump,md=(e,t)=>({...Sl(t),...e.dump}),gd=pd,vd=md,yd="placeholder",bd=Po([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),wd=e=>ye(e,"uiType"),xd=(e,t,r,n)=>((e,t,r,n)=>wd(r)&&r.uiType===yd?((e,t,r,n)=>e.exists((e=>e!==r.owner))?bd.single(!0,w(r)):ve(n,r.name).fold((()=>{throw new Error("Unknown placeholder component: "+r.name+"\nKnown: ["+se(n)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(r,null,2))}),(e=>e.replace())))(e,0,r,n):bd.single(!1,w(r)))(e,0,r,n).fold(((o,i)=>{const s=wd(r)?i(t,r.config,r.validated):i(t),a=ve(s,"components").getOr([]),l=Z(a,(r=>xd(e,t,r,n)));return[{...s,components:l}]}),((e,n)=>{if(wd(r)){const e=n(t,r.config,r.validated);return r.validated.preprocess.getOr(x)(e)}return n(t)})),Ed=bd.single,Sd=bd.multiple,_d=w(yd),Cd=Po([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Ad=bo("factory",{sketch:x}),kd=bo("schema",[]),Td=to("name"),Pd=Jn("pname","pname",vn((e=>"<alloy."+ls(e.name)+">")),Nn()),Md=Qn("schema",(()=>[ho("preprocess")])),Dd=bo("defaults",w({})),Od=bo("overrides",w({})),Id=Mn([Ad,kd,Td,Pd,Dd,Od]),Rd=Mn([Ad,kd,Td,Dd,Od]),Nd=Mn([Ad,kd,Td,Pd,Dd,Od]),Fd=Mn([Ad,Md,Td,to("unit"),Pd,Dd,Od]),Bd=e=>e.fold(P.some,P.none,P.some,P.some),Ld=e=>{const t=e=>e.name;return e.fold(t,t,t,t)},Vd=(e,t)=>r=>{const n=Zn("Converting part type",t,r);return e(n)},zd=Vd(Cd.required,Id),Hd=Vd(Cd.external,Rd),jd=Vd(Cd.optional,Nd),Gd=Vd(Cd.group,Fd),Ud=w("entirety");var qd=Object.freeze({__proto__:null,required:zd,external:Hd,optional:jd,group:Gd,asNamedPart:Bd,name:Ld,asCommon:e=>e.fold(x,x,x,x),original:Ud});const Wd=(e,t,r,n)=>mn(t.defaults(e,r,n),r,{uid:e.partUids[t.name]},t.overrides(e,r,n)),$d=(e,t)=>{const r={};return z(t,(t=>{Bd(t).each((t=>{const n=Zd(e,t.pname);r[t.name]=r=>{const o=Zn("Part: "+t.name+" in "+e,Mn(t.schema),r);return{...n,config:r,validated:o}}}))})),r},Zd=(e,t)=>({uiType:_d(),owner:e,name:t}),Kd=(e,t,r)=>({uiType:_d(),owner:e,name:t,config:r,validated:{}}),Yd=e=>Z(e,(e=>e.fold(P.none,P.some,P.none,P.none).map((e=>ao(e.name,e.schema.concat([Fa(Ud())])))).toArray())),Xd=e=>V(e,Ld),Jd=(e,t,r)=>((e,t,r)=>{const n={},o={};return z(r,(e=>{e.fold((e=>{n[e.pname]=Ed(!0,((t,r,n)=>e.factory.sketch(Wd(t,e,r,n))))}),(e=>{const r=t.parts[e.name];o[e.name]=w(e.factory.sketch(Wd(t,e,r[Ud()]),r))}),(e=>{n[e.pname]=Ed(!1,((t,r,n)=>e.factory.sketch(Wd(t,e,r,n))))}),(e=>{n[e.pname]=Sd(!0,((t,r,n)=>{const o=t[e.name];return V(o,(r=>e.factory.sketch(mn(e.defaults(t,r,n),r,e.overrides(t,r)))))}))}))})),{internals:w(n),externals:w(o)}})(0,t,r),Qd=(e,t,r)=>((e,t,r,n)=>{const o=ce(n,((e,t)=>((e,t)=>{let r=!1;return{name:w(e),required:()=>t.fold(((e,t)=>e),((e,t)=>e)),used:()=>r,replace:()=>{if(r)throw new Error("Trying to use the same placeholder more than once: "+e);return r=!0,t}}})(t,e))),i=((e,t,r,n)=>Z(r,(r=>xd(e,t,r,n))))(e,t,r,o);return le(o,(r=>{if(!1===r.used()&&r.required())throw new Error("Placeholder: "+r.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),i})(P.some(e),t,t.components,r),eu=(e,t,r)=>{const n=t.partUids[r];return e.getSystem().getByUid(n).toOptional()},tu=(e,t,r)=>eu(e,t,r).getOrDie("Could not find part: "+r),ru=(e,t,r)=>{const n={},o=t.partUids,i=e.getSystem();return z(r,(e=>{n[e]=w(i.getByUid(o[e]))})),n},nu=(e,t)=>{const r=e.getSystem();return ce(t.partUids,((e,t)=>w(r.getByUid(e))))},ou=e=>se(e.partUids),iu=(e,t,r)=>{const n={},o=t.partUids,i=e.getSystem();return z(r,(e=>{n[e]=w(i.getByUid(o[e]).getOrDie())})),n},su=(e,t)=>{const r=Xd(t);return Do(V(r,(t=>({key:t,value:e+"-"+t}))))},au=e=>Jn("partUids","partUids",bn((t=>su(t.uid,e))),Nn());var lu=Object.freeze({__proto__:null,generate:$d,generateOne:Kd,schemas:Yd,names:Xd,substitutes:Jd,components:Qd,defaultUids:su,defaultUidsSchema:au,getAllParts:nu,getAllPartNames:ou,getPart:eu,getPartOrDie:tu,getParts:ru,getPartsOrDie:iu});const cu=(e,t,r,n,o)=>{const i=((e,t)=>(e.length>0?[ao("parts",e)]:[]).concat([to("uid"),bo("dom",{}),bo("components",[]),Fa("originalSpec"),bo("debug.sketcher",{})]).concat(t))(n,o);return Zn(e+" [SpecSchema]",Pn(i.concat(t)),r)},hu=(e,t,r,n,o)=>{const i=du(o),s=Yd(r),a=au(r),l=cu(e,t,i,s,[a]),c=Jd(0,l,r);return n(l,Qd(e,l,c.internals()),i,c.externals())},du=e=>(e=>ye(e,"uid"))(e)?e:{...e,uid:ms("uid")},uu=Pn([to("name"),to("factory"),to("configFields"),bo("apis",{}),bo("extraApis",{})]),pu=Pn([to("name"),to("factory"),to("configFields"),to("partFields"),bo("apis",{}),bo("extraApis",{})]),fu=e=>{const t=Zn("Sketcher for "+e.name,uu,e),r=ce(t.apis,_s),n=ce(t.extraApis,((e,t)=>ws(e,t)));return{name:t.name,configFields:t.configFields,sketch:e=>((e,t,r,n)=>{const o=du(n);return r(cu(e,t,o,[],[]),o)})(t.name,t.configFields,t.factory,e),...r,...n}},mu=e=>{const t=Zn("Sketcher for "+e.name,pu,e),r=$d(t.name,t.partFields),n=ce(t.apis,_s),o=ce(t.extraApis,((e,t)=>ws(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:e=>hu(t.name,t.configFields,t.partFields,t.factory,e),parts:r,...n,...o}},gu=e=>Ke("input")(e)&&"radio"!==Ct(e,"type")||Ke("textarea")(e);var vu=Object.freeze({__proto__:null,getCurrent:(e,t,r)=>t.find(e)});const yu=[to("find")],bu=Cl({fields:yu,name:"composing",apis:vu}),wu=["input","button","textarea","select"],xu=(e,t,r)=>{(t.disabled()?ku:Tu)(e,t)},Eu=(e,t)=>!0===t.useNative&&N(wu,je(e.element)),Su=e=>{St(e.element,"disabled","disabled")},_u=e=>{Tt(e.element,"disabled")},Cu=e=>{St(e.element,"aria-disabled","true")},Au=e=>{St(e.element,"aria-disabled","false")},ku=(e,t,r)=>{t.disableClass.each((t=>{zs(e.element,t)})),(Eu(e,t)?Su:Cu)(e),t.onDisabled(e)},Tu=(e,t,r)=>{t.disableClass.each((t=>{Hs(e.element,t)})),(Eu(e,t)?_u:Au)(e),t.onEnabled(e)},Pu=(e,t)=>Eu(e,t)?(e=>kt(e.element,"disabled"))(e):(e=>"true"===Ct(e.element,"aria-disabled"))(e);var Mu=Object.freeze({__proto__:null,enable:Tu,disable:ku,isDisabled:Pu,onLoad:xu,set:(e,t,r,n)=>{(n?ku:Tu)(e,t)}}),Du=Object.freeze({__proto__:null,exhibit:(e,t)=>Ts({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>Vi([zi(di(),((t,r)=>Pu(t,e))),wl(e,t,xu)])}),Ou=[Co("disabled",k),bo("useNative",!0),ho("disableClass"),Da("onDisabled"),Da("onEnabled")];const Iu=Cl({fields:Ou,name:"disabling",active:Du,apis:Mu}),Ru=(e,t,r,n)=>{const o=$c(e.element,"."+t.highlightClass);z(o,(r=>{F(n,(e=>Je(e.element,r)))||(Hs(r,t.highlightClass),e.getSystem().getByDom(r).each((r=>{t.onDehighlight(e,r),Ii(r,Oi())})))}))},Nu=(e,t,r,n)=>{Ru(e,t,0,[n]),Fu(e,t,r,n)||(zs(n.element,t.highlightClass),t.onHighlight(e,n),Ii(n,Di()))},Fu=(e,t,r,n)=>js(n.element,t.highlightClass),Bu=(e,t,r)=>fa(e.element,"."+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional())),Lu=(e,t,r)=>{const n=$c(e.element,"."+t.itemClass);return(n.length>0?P.some(n[n.length-1]):P.none()).bind((t=>e.getSystem().getByDom(t).toOptional()))},Vu=(e,t,r,n)=>{const o=$c(e.element,"."+t.itemClass);return W(o,(e=>js(e,t.highlightClass))).bind((t=>{const r=Za(t,n,0,o.length-1);return e.getSystem().getByDom(o[r]).toOptional()}))},zu=(e,t,r)=>{const n=$c(e.element,"."+t.itemClass);return xe(V(n,(t=>e.getSystem().getByDom(t).toOptional())))};var Hu=Object.freeze({__proto__:null,dehighlightAll:(e,t,r)=>Ru(e,t,0,[]),dehighlight:(e,t,r,n)=>{Fu(e,t,r,n)&&(Hs(n.element,t.highlightClass),t.onDehighlight(e,n),Ii(n,Oi()))},highlight:Nu,highlightFirst:(e,t,r)=>{Bu(e,t).each((n=>{Nu(e,t,r,n)}))},highlightLast:(e,t,r)=>{Lu(e,t).each((n=>{Nu(e,t,r,n)}))},highlightAt:(e,t,r,n)=>{((e,t,r,n)=>{const o=$c(e.element,"."+t.itemClass);return P.from(o[n]).fold((()=>nn.error(new Error("No element found with index "+n))),e.getSystem().getByDom)})(e,t,0,n).fold((e=>{throw e}),(n=>{Nu(e,t,r,n)}))},highlightBy:(e,t,r,n)=>{const o=zu(e,t);q(o,n).each((n=>{Nu(e,t,r,n)}))},isHighlighted:Fu,getHighlighted:(e,t,r)=>fa(e.element,"."+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional())),getFirst:Bu,getLast:Lu,getPrevious:(e,t,r)=>Vu(e,t,0,-1),getNext:(e,t,r)=>Vu(e,t,0,1),getCandidates:zu}),ju=[to("highlightClass"),to("itemClass"),Da("onHighlight"),Da("onDehighlight")];const Gu=Cl({fields:ju,name:"highlighting",apis:Hu}),Uu=[8],qu=[9],Wu=[13],$u=[27],Zu=[32],Ku=[37],Yu=[38],Xu=[39],Ju=[40],Qu=(e,t,r)=>{const n=Y(e.slice(0,t)),o=Y(e.slice(t+1));return q(n.concat(o),r)},ep=(e,t,r)=>{const n=Y(e.slice(0,t));return q(n,r)},tp=(e,t,r)=>{const n=e.slice(0,t),o=e.slice(t+1);return q(o.concat(n),r)},rp=(e,t,r)=>{const n=e.slice(t+1);return q(n,r)},np=e=>t=>{const r=t.raw;return N(e,r.which)},op=e=>t=>K(e,(e=>e(t))),ip=e=>!0===e.raw.shiftKey,sp=e=>!0===e.raw.ctrlKey,ap=_(ip),lp=(e,t)=>({matches:e,classification:t}),cp=(e,t,r)=>{t.exists((e=>r.exists((t=>Je(t,e)))))||Ri(e,Ai(),{prevFocus:t,newFocus:r})},hp=()=>{const e=e=>Nl(e.element);return{get:e,set:(t,r)=>{const n=e(t);t.getSystem().triggerFocus(r,t.element);const o=e(t);cp(t,n,o)}}},dp=()=>{const e=e=>Gu.getHighlighted(e).map((e=>e.element));return{get:e,set:(t,r)=>{const n=e(t);t.getSystem().getByDom(r).fold(v,(e=>{Gu.highlight(t,e)}));const o=e(t);cp(t,n,o)}}};var up;!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(up||(up={}));const pp=(e,t,r,n,o)=>{const i=(e,t,r,n,o)=>{return(i=r(e,t,n,o),s=t.event,q(i,(e=>e.matches(s))).map((e=>e.classification))).bind((r=>r(e,t,n,o)));var i,s},s={schema:()=>e.concat([bo("focusManager",hp()),wo("focusInside","onFocus",Un((e=>N(["onFocus","onEnterOrSpace","onApi"],e)?nn.value(e):nn.error("Invalid value for focusInside")))),Na("handler",s),Na("state",t),Na("sendFocusIn",o)]),processKey:i,toEvents:(e,t)=>{const s=e.focusInside!==up.OnFocusMode?P.none():o(e).map((r=>ji(ai(),((n,o)=>{r(n,e,t),o.stop()})))),a=[ji(Yo(),((n,s)=>{i(n,s,r,e,t).fold((()=>{((r,n)=>{const i=np(Zu.concat(Wu))(n.event);e.focusInside===up.OnEnterOrSpaceMode&&i&&No(r,n)&&o(e).each((o=>{o(r,e,t),n.stop()}))})(n,s)}),(e=>{s.stop()}))})),ji(Xo(),((r,o)=>{i(r,o,n,e,t).each((e=>{o.stop()}))}))];return Vi(s.toArray().concat(a))}};return s},fp=e=>{const t=[ho("onEscape"),ho("onEnter"),bo("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),bo("firstTabstop",0),bo("useTabstopAt",T),ho("visibilitySelector")].concat([e]),r=(e,t)=>{const r=e.visibilitySelector.bind((e=>ma(t,e))).getOr(t);return Gt(r)>0},n=(e,t,n)=>{((e,t)=>{const n=$c(e.element,t.selector),o=j(n,(e=>r(t,e)));return P.from(o[t.firstTabstop])})(e,t).each((r=>{t.focusManager.set(e,r)}))},o=(e,t,n,o)=>{const i=$c(e.element,n.selector);return((e,t)=>t.focusManager.get(e).bind((e=>ma(e,t.selector))))(e,n).bind((t=>W(i,S(Je,t)).bind((t=>((e,t,n,o,i)=>i(t,n,(e=>((e,t)=>r(e,t)&&e.useTabstopAt(t))(o,e))).fold((()=>o.cyclic?P.some(!0):P.none()),(t=>(o.focusManager.set(e,t),P.some(!0)))))(e,i,t,n,o)))))},i=w([lp(op([ip,np(qu)]),((e,t,r)=>{const n=r.cyclic?Qu:ep;return o(e,0,r,n)})),lp(np(qu),((e,t,r)=>{const n=r.cyclic?tp:rp;return o(e,0,r,n)})),lp(op([ap,np(Wu)]),((e,t,r)=>r.onEnter.bind((r=>r(e,t)))))]),s=w([lp(np($u),((e,t,r)=>r.onEscape.bind((r=>r(e,t)))))]);return pp(t,Cs.init,i,s,(()=>P.some(n)))};var mp=fp(Qn("cyclic",k)),gp=fp(Qn("cyclic",T));const vp=(e,t,r)=>gu(r)&&np(Zu)(t.event)?P.none():((e,t,r)=>(Fi(e,r,di()),P.some(!0)))(e,0,r),yp=(e,t)=>P.some(!0),bp=[bo("execute",vp),bo("useSpace",!1),bo("useEnter",!0),bo("useControlEnter",!1),bo("useDown",!1)],wp=(e,t,r)=>r.execute(e,t,e.element);var xp=pp(bp,Cs.init,((e,t,r,n)=>{const o=r.useSpace&&!gu(e.element)?Zu:[],i=r.useEnter?Wu:[],s=r.useDown?Ju:[],a=o.concat(i).concat(s);return[lp(np(a),wp)].concat(r.useControlEnter?[lp(op([sp,np(Wu)]),wp)]:[])}),((e,t,r,n)=>r.useSpace&&!gu(e.element)?[lp(np(Zu),yp)]:[]),(()=>P.none()));const Ep=()=>{const e=Ql();return As({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:"?",numColumns:"?"}),setGridSize:(t,r)=>{e.set({numRows:t,numColumns:r})},getNumRows:()=>e.get().map((e=>e.numRows)),getNumColumns:()=>e.get().map((e=>e.numColumns))})};var Sp=Object.freeze({__proto__:null,flatgrid:Ep,init:e=>e.state(e)});const _p=e=>(t,r,n,o)=>{const i=e(t.element);return Tp(i,t,r,n,o)},Cp=(e,t)=>{const r=gc(e,t);return _p(r)},Ap=(e,t)=>{const r=gc(t,e);return _p(r)},kp=e=>(t,r,n,o)=>Tp(e,t,r,n,o),Tp=(e,t,r,n,o)=>n.focusManager.get(t).bind((r=>e(t.element,r,n,o))).map((e=>(n.focusManager.set(t,e),!0))),Pp=kp,Mp=kp,Dp=kp,Op=e=>!(e=>e.offsetWidth<=0&&e.offsetHeight<=0)(e.dom),Ip=(e,t,r)=>{const n=$c(e,r);return((e,r)=>W(e,(e=>Je(e,t))).map((t=>({index:t,candidates:e}))))(j(n,Op))},Rp=(e,t)=>W(e,(e=>Je(t,e))),Np=(e,t,r,n)=>n(Math.floor(t/r),t%r).bind((t=>{const n=t.row*r+t.column;return n>=0&&n<e.length?P.some(e[n]):P.none()})),Fp=(e,t,r,n,o)=>Np(e,t,n,((t,i)=>{const s=t===r-1?e.length-t*n:n,a=Za(i,o,0,s-1);return P.some({row:t,column:a})})),Bp=(e,t,r,n,o)=>Np(e,t,n,((t,i)=>{const s=Za(t,o,0,r-1),a=s===r-1?e.length-s*n:n,l=Ka(i,0,a-1);return P.some({row:s,column:l})})),Lp=[to("selector"),bo("execute",vp),Oa("onEscape"),bo("captureTab",!1),Ba()],Vp=(e,t,r)=>{fa(e.element,t.selector).each((r=>{t.focusManager.set(e,r)}))},zp=e=>(t,r,n,o)=>Ip(t,r,n.selector).bind((t=>e(t.candidates,t.index,o.getNumRows().getOr(n.initSize.numRows),o.getNumColumns().getOr(n.initSize.numColumns)))),Hp=(e,t,r)=>r.captureTab?P.some(!0):P.none(),jp=zp(((e,t,r,n)=>Fp(e,t,r,n,-1))),Gp=zp(((e,t,r,n)=>Fp(e,t,r,n,1))),Up=zp(((e,t,r,n)=>Bp(e,t,r,n,-1))),qp=zp(((e,t,r,n)=>Bp(e,t,r,n,1))),Wp=w([lp(np(Ku),Cp(jp,Gp)),lp(np(Xu),Ap(jp,Gp)),lp(np(Yu),Pp(Up)),lp(np(Ju),Mp(qp)),lp(op([ip,np(qu)]),Hp),lp(op([ap,np(qu)]),Hp),lp(np(Zu.concat(Wu)),((e,t,r,n)=>((e,t)=>t.focusManager.get(e).bind((e=>ma(e,t.selector))))(e,r).bind((n=>r.execute(e,t,n)))))]),$p=w([lp(np($u),((e,t,r)=>r.onEscape(e,t))),lp(np(Zu),yp)]);var Zp=pp(Lp,Ep,Wp,$p,(()=>P.some(Vp)));const Kp=(e,t,r,n,o)=>{const i=(e,t,r)=>o(e,t,n,0,r.length-1,r[t],(t=>{return n=r[t],"button"===je(n)&&"disabled"===Ct(n,"disabled")?i(e,t,r):P.from(r[t]);var n}));return Ip(e,r,t).bind((e=>{const t=e.index,r=e.candidates;return i(t,t,r)}))},Yp=(e,t,r,n)=>Kp(e,t,r,n,((e,t,r,n,o,i,s)=>{const a=Ka(t+r,n,o);return a===e?P.from(i):s(a)})),Xp=(e,t,r,n)=>Kp(e,t,r,n,((e,t,r,n,o,i,s)=>{const a=Za(t,r,n,o);return a===e?P.none():s(a)})),Jp=[to("selector"),bo("getInitial",P.none),bo("execute",vp),Oa("onEscape"),bo("executeOnMove",!1),bo("allowVertical",!0),bo("allowHorizontal",!0),bo("cycles",!0)],Qp=(e,t,r)=>((e,t)=>t.focusManager.get(e).bind((e=>ma(e,t.selector))))(e,r).bind((n=>r.execute(e,t,n))),ef=(e,t,r)=>{t.getInitial(e).orThunk((()=>fa(e.element,t.selector))).each((r=>{t.focusManager.set(e,r)}))},tf=(e,t,r)=>(r.cycles?Xp:Yp)(e,r.selector,t,-1),rf=(e,t,r)=>(r.cycles?Xp:Yp)(e,r.selector,t,1),nf=e=>(t,r,n,o)=>e(t,r,n,o).bind((()=>n.executeOnMove?Qp(t,r,n):P.some(!0))),of=w([lp(np(Zu),yp),lp(np($u),((e,t,r)=>r.onEscape(e,t)))]);var sf=pp(Jp,Cs.init,((e,t,r,n)=>{const o=[...r.allowHorizontal?Ku:[]].concat(r.allowVertical?Yu:[]),i=[...r.allowHorizontal?Xu:[]].concat(r.allowVertical?Ju:[]);return[lp(np(o),nf(Cp(tf,rf))),lp(np(i),nf(Ap(tf,rf))),lp(np(Wu),Qp),lp(np(Zu),Qp)]}),of,(()=>P.some(ef)));const af=(e,t,r)=>P.from(e[t]).bind((e=>P.from(e[r]).map((e=>({rowIndex:t,columnIndex:r,cell:e}))))),lf=(e,t,r,n)=>{const o=e[t].length,i=Za(r,n,0,o-1);return af(e,t,i)},cf=(e,t,r,n)=>{const o=Za(r,n,0,e.length-1),i=e[o].length,s=Ka(t,0,i-1);return af(e,o,s)},hf=(e,t,r,n)=>{const o=e[t].length,i=Ka(r+n,0,o-1);return af(e,t,i)},df=(e,t,r,n)=>{const o=Ka(r+n,0,e.length-1),i=e[o].length,s=Ka(t,0,i-1);return af(e,o,s)},uf=[ao("selectors",[to("row"),to("cell")]),bo("cycles",!0),bo("previousSelector",P.none),bo("execute",vp)],pf=(e,t,r)=>{t.previousSelector(e).orThunk((()=>{const r=t.selectors;return fa(e.element,r.cell)})).each((r=>{t.focusManager.set(e,r)}))},ff=(e,t)=>(r,n,o)=>{const i=o.cycles?e:t;return ma(n,o.selectors.row).bind((e=>{const t=$c(e,o.selectors.cell);return Rp(t,n).bind((t=>{const n=$c(r,o.selectors.row);return Rp(n,e).bind((e=>{const r=((e,t)=>V(e,(e=>$c(e,t.selectors.cell))))(n,o);return i(r,e,t).map((e=>e.cell))}))}))}))},mf=ff(((e,t,r)=>lf(e,t,r,-1)),((e,t,r)=>hf(e,t,r,-1))),gf=ff(((e,t,r)=>lf(e,t,r,1)),((e,t,r)=>hf(e,t,r,1))),vf=ff(((e,t,r)=>cf(e,r,t,-1)),((e,t,r)=>df(e,r,t,-1))),yf=ff(((e,t,r)=>cf(e,r,t,1)),((e,t,r)=>df(e,r,t,1))),bf=w([lp(np(Ku),Cp(mf,gf)),lp(np(Xu),Ap(mf,gf)),lp(np(Yu),Pp(vf)),lp(np(Ju),Mp(yf)),lp(np(Zu.concat(Wu)),((e,t,r)=>Nl(e.element).bind((n=>r.execute(e,t,n)))))]),wf=w([lp(np(Zu),yp)]);var xf=pp(uf,Cs.init,bf,wf,(()=>P.some(pf)));const Ef=[to("selector"),bo("execute",vp),bo("moveOnTab",!1)],Sf=(e,t,r)=>r.focusManager.get(e).bind((n=>r.execute(e,t,n))),_f=(e,t,r)=>{fa(e.element,t.selector).each((r=>{t.focusManager.set(e,r)}))},Cf=(e,t,r)=>Xp(e,r.selector,t,-1),Af=(e,t,r)=>Xp(e,r.selector,t,1),kf=w([lp(np(Yu),Dp(Cf)),lp(np(Ju),Dp(Af)),lp(op([ip,np(qu)]),((e,t,r,n)=>r.moveOnTab?Dp(Cf)(e,t,r,n):P.none())),lp(op([ap,np(qu)]),((e,t,r,n)=>r.moveOnTab?Dp(Af)(e,t,r,n):P.none())),lp(np(Wu),Sf),lp(np(Zu),Sf)]),Tf=w([lp(np(Zu),yp)]);var Pf=pp(Ef,Cs.init,kf,Tf,(()=>P.some(_f)));const Mf=[Oa("onSpace"),Oa("onEnter"),Oa("onShiftEnter"),Oa("onLeft"),Oa("onRight"),Oa("onTab"),Oa("onShiftTab"),Oa("onUp"),Oa("onDown"),Oa("onEscape"),bo("stopSpaceKeyup",!1),ho("focusIn")];var Df=pp(Mf,Cs.init,((e,t,r)=>[lp(np(Zu),r.onSpace),lp(op([ap,np(Wu)]),r.onEnter),lp(op([ip,np(Wu)]),r.onShiftEnter),lp(op([ip,np(qu)]),r.onShiftTab),lp(op([ap,np(qu)]),r.onTab),lp(np(Yu),r.onUp),lp(np(Ju),r.onDown),lp(np(Ku),r.onLeft),lp(np(Xu),r.onRight),lp(np(Zu),r.onSpace)]),((e,t,r)=>[...r.stopSpaceKeyup?[lp(np(Zu),yp)]:[],lp(np($u),r.onEscape)]),(e=>e.focusIn));const Of=mp.schema(),If=gp.schema(),Rf=sf.schema(),Nf=Zp.schema(),Ff=xf.schema(),Bf=xp.schema(),Lf=Pf.schema(),Vf=Df.schema(),zf=kl({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Of,cyclic:If,flow:Rf,flatgrid:Nf,matrix:Ff,execution:Bf,menu:Lf,special:Vf}),name:"keying",active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,r)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(n=>{n(e,t,r)}))},setGridSize:(e,t,r,n,o)=>{(e=>be(e,"setGridSize"))(r)?r.setGridSize(n,o):console.error("Layout does not support setGridSize")}},state:Sp}),Hf=(e,t)=>{Fl((()=>{((e,t,r)=>{const n=e.components();(e=>{z(e.components(),(e=>zr(e.element))),Vr(e.element),e.syncComponents()})(e);const o=r(t),i=X(n,o);z(i,(t=>{Eh(t),e.getSystem().removeFromWorld(t)})),z(o,(t=>{xh(t)?Ah(e,t):(e.getSystem().addToWorld(t),Ah(e,t),bt(e.element)&&Sh(t))})),e.syncComponents()})(e,t,(()=>V(t,e.getSystem().build)))}),e.element)},jf=(e,t)=>{Fl((()=>{((r,n,o)=>{const i=r.components(),s=Z(n,(e=>Ss(e).toArray()));z(i,(e=>{N(s,e)||Ch(e)}));const a=((e,t,r)=>Ks(e,t,((t,n)=>Ys(e,n,t,r))))(e.element,t,e.getSystem().buildOrPatch),l=X(i,a);z(l,(e=>{xh(e)&&Ch(e)})),z(a,(e=>{xh(e)||_h(r,e)})),r.syncComponents()})(e,t)}),e.element)},Gf=(e,t,r,n)=>{Ch(t);const o=Ys(e.element,r,n,e.getSystem().buildOrPatch);_h(e,o),e.syncComponents()},Uf=(e,t,r)=>{const n=e.getSystem().build(r);Th(e,n,t)},qf=(e,t,r,n)=>{Mh(t),Uf(e,((e,t)=>((e,t,r)=>{lt(e,r).fold((()=>{Br(e,t)}),(e=>{Rr(e,t)}))})(e,t,r)),n)},Wf=(e,t)=>e.components(),$f=(e,t,r,n,o)=>{const i=Wf(e);return P.from(i[n]).map((r=>(o.fold((()=>Mh(r)),(o=>{(t.reuseDom?Gf:qf)(e,r,n,o)})),r)))};var Zf=Object.freeze({__proto__:null,append:(e,t,r,n)=>{Uf(e,Br,n)},prepend:(e,t,r,n)=>{Uf(e,Fr,n)},remove:(e,t,r,n)=>{const o=Wf(e),i=q(o,(e=>Je(n.element,e.element)));i.each(Mh)},replaceAt:$f,replaceBy:(e,t,r,n,o)=>{const i=Wf(e);return W(i,n).bind((r=>$f(e,t,0,r,o)))},set:(e,t,r,n)=>(t.reuseDom?jf:Hf)(e,n),contents:Wf});const Kf=Cl({fields:[_o("reuseDom",!0)],name:"replacing",apis:Zf}),Yf=(e,t)=>{const r=((e,t)=>{const r=Vi(t);return Cl({fields:[to("enabled")],name:e,active:{events:w(r)}})})(e,t);return{key:e,value:{config:{},me:r,configAsRaw:w({}),initialConfig:{},state:Cs}}},Xf=(e,t)=>{t.ignore||(Dl(e.element),t.onFocus(e))};var Jf=Object.freeze({__proto__:null,focus:Xf,blur:(e,t)=>{t.ignore||Ol(e.element)},isFocused:e=>Il(e.element)}),Qf=Object.freeze({__proto__:null,exhibit:(e,t)=>{const r=t.ignore?{}:{attributes:{tabindex:"-1"}};return Ts(r)},events:e=>Vi([ji(ai(),((t,r)=>{Xf(t,e),r.stop()}))].concat(e.stopMousedown?[ji(Go(),((e,t)=>{t.event.prevent()}))]:[]))}),em=[Da("onFocus"),bo("stopMousedown",!1),bo("ignore",!1)];const tm=Cl({fields:em,name:"focusing",active:Qf,apis:Jf}),rm=(e,t,r,n)=>{const o=r.get();r.set(n),((e,t,r)=>{t.toggleClass.each((t=>{r.get()?zs(e.element,t):Hs(e.element,t)}))})(e,t,r),((e,t,r)=>{const n=t.aria;n.update(e,n,r.get())})(e,t,r),o!==n&&t.onToggled(e,n)},nm=(e,t,r)=>{rm(e,t,r,!r.get())},om=(e,t,r)=>{rm(e,t,r,t.selected)};var im=Object.freeze({__proto__:null,onLoad:om,toggle:nm,isOn:(e,t,r)=>r.get(),on:(e,t,r)=>{rm(e,t,r,!0)},off:(e,t,r)=>{rm(e,t,r,!1)},set:rm}),sm=Object.freeze({__proto__:null,exhibit:()=>Ts({}),events:(e,t)=>{const r=(n=e,o=t,i=nm,Qi((e=>{i(e,n,o)})));var n,o,i;const s=wl(e,t,om);return Vi($([e.toggleOnExecute?[r]:[],[s]]))}});const am=(e,t,r)=>{St(e.element,"aria-expanded",r)};var lm=[bo("selected",!1),ho("toggleClass"),bo("toggleOnExecute",!0),Da("onToggled"),wo("aria",{mode:"none"},Yn("mode",{pressed:[bo("syncWithExpanded",!1),Na("update",((e,t,r)=>{St(e.element,"aria-pressed",r),t.syncWithExpanded&&am(e,0,r)}))],checked:[Na("update",((e,t,r)=>{St(e.element,"aria-checked",r)}))],expanded:[Na("update",am)],selected:[Na("update",((e,t,r)=>{St(e.element,"aria-selected",r)}))],none:[Na("update",v)]}))];const cm=Cl({fields:lm,name:"toggling",active:sm,apis:im,state:(!1,{init:()=>{const e=To(false);return{get:()=>e.get(),set:t=>e.set(t),clear:()=>e.set(false),readState:()=>e.get()}}})});const hm=()=>{const e=(e,t)=>{t.stop(),Ni(e)};return[ji(ei(),e),ji(pi(),e),$i(Vo()),$i(Go())]},dm=e=>Vi($([e.map((e=>Qi(((t,r)=>{e(t),r.stop()})))).toArray(),hm()])),um="alloy.item-hover",pm="alloy.item-focus",fm="alloy.item-toggled",mm=e=>{(Nl(e.element).isNone()||tm.isFocused(e))&&(tm.isFocused(e)||tm.focus(e),Ri(e,um,{item:e}))},gm=e=>{Ri(e,pm,{item:e})},vm=w(um),ym=w(pm),bm=w(fm),wm=e=>e.toggling.map((e=>e.exclusive?"menuitemradio":"menuitemcheckbox")).getOr("menuitem"),xm=[to("data"),to("components"),to("dom"),bo("hasSubmenu",!1),ho("toggling"),gd("itemBehaviours",[cm,tm,zf,ud]),bo("ignoreFocus",!1),bo("domModification",{}),Na("builder",(e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:wm(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:vd(e.itemBehaviours,[e.toggling.fold(cm.revoke,(e=>cm.config((e=>({aria:{mode:"checked"},...pe(e,((e,t)=>"exclusive"!==t)),onToggled:(t,r)=>{f(e.onToggled)&&e.onToggled(t,r),((e,t)=>{Ri(e,fm,{item:e,state:t})})(t,r)}}))(e)))),tm.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{gm(e)}}),zf.config({mode:"execution"}),ud.config({store:{mode:"memory",initialValue:e.data}}),Yf("item-type-events",[...hm(),ji($o(),mm),ji(ui(),tm.focus)])]),components:e.components,eventOrder:e.eventOrder}))),bo("eventOrder",{})],Em=[to("dom"),to("components"),Na("builder",(e=>({dom:e.dom,components:e.components,events:Vi([Zi(ui())])})))],Sm=w("item-widget"),_m=w([zd({name:"widget",overrides:e=>({behaviours:Sl([ud.config({store:{mode:"manual",getValue:t=>e.data,setValue:v}})])})})]),Cm=[to("uid"),to("data"),to("components"),to("dom"),bo("autofocus",!1),bo("ignoreFocus",!1),gd("widgetBehaviours",[ud,tm,zf]),bo("domModification",{}),au(_m()),Na("builder",(e=>{const t=Jd(Sm(),e,_m()),r=Qd(Sm(),e,t.internals()),n=t=>eu(t,e,"widget").map((e=>(zf.focusIn(e),e))),o=(t,r)=>gu(r.event.target)?P.none():e.autofocus?(r.setSource(t.element),P.none()):P.none();return{dom:e.dom,components:r,domModification:e.domModification,events:Vi([Qi(((e,t)=>{n(e).each((e=>{t.stop()}))})),ji($o(),mm),ji(ui(),((t,r)=>{e.autofocus?n(t):tm.focus(t)}))]),behaviours:vd(e.widgetBehaviours,[ud.config({store:{mode:"memory",initialValue:e.data}}),tm.config({ignore:e.ignoreFocus,onFocus:e=>{gm(e)}}),zf.config({mode:"special",focusIn:e.autofocus?e=>{n(e)}:Tl(),onLeft:o,onRight:o,onEscape:(t,r)=>tm.isFocused(t)||e.autofocus?e.autofocus?(r.setSource(t.element),P.none()):P.none():(tm.focus(t),P.some(!0))})])}}))],Am=Yn("type",{widget:Cm,item:xm,separator:Em}),km=w([Gd({factory:{sketch:e=>{const t=Zn("menu.spec item",Am,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>ye(t,"uid")?t:{...t,uid:ms("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),Tm=w([to("value"),to("items"),to("dom"),to("components"),bo("eventOrder",{}),pd("menuBehaviours",[Gu,ud,bu,zf]),wo("movement",{mode:"menu",moveOnTab:!0},Yn("mode",{grid:[Ba(),Na("config",((e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager})))],matrix:[Na("config",((e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager}))),to("rowSelector"),bo("previousSelector",P.none)],menu:[bo("moveOnTab",!0),Na("config",((e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager})))]})),ro("markers",Aa()),bo("fakeFocus",!1),bo("focusManager",hp()),Da("onHighlight"),Da("onDehighlight")]),Pm=w("alloy.menu-focus"),Mm=mu({name:"Menu",configFields:Tm(),partFields:km(),factory:(e,t,r,n)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:md(e.menuBehaviours,[Gu.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),ud.config({store:{mode:"memory",initialValue:e.value}}),bu.config({find:P.some}),zf.config(e.movement.config(e,e.movement))]),events:Vi([ji(ym(),((e,t)=>{const r=t.event;e.getSystem().getByDom(r.target).each((r=>{Gu.highlight(e,r),t.stop(),Ri(e,Pm(),{menu:e,item:r})}))})),ji(vm(),((e,t)=>{const r=t.event.item;Gu.highlight(e,r)})),ji(bm(),((e,t)=>{const{item:r,state:n}=t.event;n&&"menuitemradio"===Ct(r.element,"role")&&((e,t)=>{const r=$c(e.element,'[role="menuitemradio"][aria-checked="true"]');z(r,(r=>{Je(r,t.element)||e.getSystem().getByDom(r).each((e=>{cm.off(e)}))}))})(e,r)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}})}),Dm=(e,t,r,n)=>ve(r,n).bind((n=>ve(e,n).bind((n=>{const o=Dm(e,t,r,n);return P.some([n].concat(o))})))).getOr([]),Om=e=>"prepared"===e.type?P.some(e.menu):P.none(),Im=()=>{const e=To({}),t=To({}),r=To({}),n=Ql(),o=To({}),i=e=>s(e).bind(Om),s=e=>ve(t.get(),e),a=t=>ve(e.get(),t);return{setMenuBuilt:(e,r)=>{t.set({...t.get(),[e]:{type:"prepared",menu:r}})},setContents:(i,s,a,l)=>{n.set(i),e.set(a),t.set(s),o.set(l);const c=((e,t)=>{const r={};le(e,((e,t)=>{z(e,(e=>{r[e]=t}))}));const n=t,o=he(t,((e,t)=>({k:e,v:t}))),i=ce(o,((e,t)=>[t].concat(Dm(r,n,o,t))));return ce(r,(e=>ve(i,e).getOr([e])))})(l,a);r.set(c)},expand:t=>ve(e.get(),t).map((e=>{const n=ve(r.get(),t).getOr([]);return[e].concat(n)})),refresh:e=>ve(r.get(),e),collapse:e=>ve(r.get(),e).bind((e=>e.length>1?P.some(e.slice(1)):P.none())),lookupMenu:s,lookupItem:a,otherMenus:e=>{const t=o.get();return X(se(t),e)},getPrimary:()=>n.get().bind(i),getMenus:()=>t.get(),clear:()=>{e.set({}),t.set({}),r.set({}),n.clear()},isClear:()=>n.get().isNone(),getTriggeringPath:(t,o)=>{const s=j(a(t).toArray(),(e=>i(e).isSome()));return ve(r.get(),t).bind((t=>{const r=Y(s.concat(t));return(e=>{const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(!n.isSome())return P.none();t.push(n.getOrDie())}return P.some(t)})(Z(r,((t,s)=>((t,r,n)=>i(t).bind((o=>(t=>me(e.get(),((e,r)=>e===t)))(t).bind((e=>r(e).map((e=>({triggeredMenu:o,triggeringItem:e,triggeringPath:n}))))))))(t,o,r.slice(0,s+1)).fold((()=>we(n.get(),t)?[]:[P.none()]),(e=>[P.some(e)])))))}))}}},Rm=Om,Nm=ls("tiered-menu-item-highlight"),Fm=ls("tiered-menu-item-dehighlight");var Bm;!function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"}(Bm||(Bm={}));const Lm=w("collapse-item"),Vm=fu({name:"TieredMenu",configFields:[Ra("onExecute"),Ra("onEscape"),Ia("onOpenMenu"),Ia("onOpenSubmenu"),Da("onRepositionMenu"),Da("onCollapseMenu"),bo("highlightOnOpen",Bm.HighlightMenuAndItem),ao("data",[to("primary"),to("menus"),to("expansions")]),bo("fakeFocus",!1),Da("onHighlightItem"),Da("onDehighlightItem"),Da("onHover"),Ta(),to("dom"),bo("navigateOnHover",!0),bo("stayInDom",!1),pd("tmenuBehaviours",[zf,Gu,bu,Kf]),bo("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:(e,t)=>{const r=Ql(),n=Im(),o=e=>ud.getValue(e).value,i=t=>ce(e.data.menus,((e,t)=>Z(e.items,(e=>"separator"===e.type?[]:[e.data.value])))),s=Gu.highlight,a=(t,r)=>{s(t,r),Gu.getHighlighted(r).orThunk((()=>Gu.getFirst(r))).each((n=>{e.fakeFocus?Gu.highlight(r,n):Fi(t,n.element,ui())}))},l=(e,t)=>xe(V(t,(t=>e.lookupMenu(t).bind((e=>"prepared"===e.type?P.some(e.menu):P.none()))))),c=(t,r,n)=>{const o=l(r,r.otherMenus(n));z(o,(r=>{Us(r.element,[e.markers.backgroundMenu]),e.stayInDom||Kf.remove(t,r)}))},h=(t,n)=>{const i=(t=>r.get().getOrThunk((()=>{const n={},i=$c(t.element,`.${e.markers.item}`),s=j(i,(e=>"true"===Ct(e,"aria-haspopup")));return z(s,(e=>{t.getSystem().getByDom(e).each((e=>{const t=o(e);n[t]=e}))})),r.set(n),n})))(t);le(i,((e,t)=>{const r=N(n,t);St(e.element,"aria-expanded",r)}))},d=(t,r,n)=>P.from(n[0]).bind((o=>r.lookupMenu(o).bind((o=>{if("notbuilt"===o.type)return P.none();{const i=o.menu,s=l(r,n.slice(1));return z(s,(t=>{zs(t.element,e.markers.backgroundMenu)})),bt(i.element)||Kf.append(t,sa(i)),Us(i.element,[e.markers.backgroundMenu]),a(t,i),c(t,r,n),P.some(i)}}))));let u;!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(u||(u={}));const p=(t,r,i=u.HighlightSubmenu)=>{if(r.hasConfigured(Iu)&&Iu.isDisabled(r))return P.some(r);{const s=o(r);return n.expand(s).bind((o=>(h(t,o),P.from(o[0]).bind((s=>n.lookupMenu(s).bind((a=>{const l=((e,t,r)=>{if("notbuilt"===r.type){const o=e.getSystem().build(r.nbMenu());return n.setMenuBuilt(t,o),o}return r.menu})(t,s,a);return bt(l.element)||Kf.append(t,sa(l)),e.onOpenSubmenu(t,r,l,Y(o)),i===u.HighlightSubmenu?(Gu.highlightFirst(l),d(t,n,o)):(Gu.dehighlightAll(l),P.some(r))})))))))}},f=(t,r)=>{const i=o(r);return n.collapse(i).bind((o=>(h(t,o),d(t,n,o).map((n=>(e.onCollapseMenu(t,r,n),n))))))},m=t=>(r,n)=>ma(n.getSource(),`.${e.markers.item}`).bind((e=>r.getSystem().getByDom(e).toOptional().bind((e=>t(r,e).map(T))))),g=Vi([ji(Pm(),((e,t)=>{const r=t.event.item;n.lookupItem(o(r)).each((()=>{const r=t.event.menu;Gu.highlight(e,r);const i=o(t.event.item);n.refresh(i).each((t=>c(e,n,t)))}))})),Qi(((t,r)=>{const n=r.event.target;t.getSystem().getByDom(n).each((r=>{0===o(r).indexOf("collapse-item")&&f(t,r),p(t,r,u.HighlightSubmenu).fold((()=>{e.onExecute(t,r)}),v)}))})),Yi(((t,r)=>{(t=>{const r=((t,r,n)=>ce(n,((n,o)=>{const i=()=>Mm.sketch({...n,value:o,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{Ri(e,Nm,{menuComp:e,itemComp:t})},onDehighlight:(e,t)=>{Ri(e,Fm,{menuComp:e,itemComp:t})},focusManager:e.fakeFocus?dp():hp()});return o===r?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}})))(t,e.data.primary,e.data.menus),o=i();return n.setContents(e.data.primary,r,e.data.expansions,o),n.getPrimary()})(t).each((r=>{Kf.append(t,sa(r)),e.onOpenMenu(t,r),e.highlightOnOpen===Bm.HighlightMenuAndItem?a(t,r):e.highlightOnOpen===Bm.HighlightJustMenu&&s(t,r)}))})),ji(Nm,((t,r)=>{e.onHighlightItem(t,r.event.menuComp,r.event.itemComp)})),ji(Fm,((t,r)=>{e.onDehighlightItem(t,r.event.menuComp,r.event.itemComp)})),...e.navigateOnHover?[ji(vm(),((t,r)=>{const i=r.event.item;((e,t)=>{const r=o(t);n.refresh(r).bind((t=>(h(e,t),d(e,n,t))))})(t,i),p(t,i,u.HighlightParent),e.onHover(t,i)}))]:[]]),y=e=>Gu.getHighlighted(e).bind(Gu.getHighlighted),b={collapseMenu:e=>{y(e).each((t=>{f(e,t)}))},highlightPrimary:e=>{n.getPrimary().each((t=>{a(e,t)}))},repositionMenus:t=>{const r=n.getPrimary().bind((e=>y(t).bind((e=>{const t=o(e),r=ge(n.getMenus()),i=xe(V(r,Rm));return n.getTriggeringPath(t,(e=>((e,t,r)=>ie(t,(e=>{if(!e.getSystem().isConnected())return P.none();const t=Gu.getCandidates(e);return q(t,(e=>o(e)===r))})))(0,i,e)))})).map((t=>({primary:e,triggeringPath:t})))));r.fold((()=>{(e=>P.from(e.components()[0]).filter((e=>"menu"===Ct(e.element,"role"))))(t).each((r=>{e.onRepositionMenu(t,r,[])}))}),(({primary:r,triggeringPath:n})=>{e.onRepositionMenu(t,r,n)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:md(e.tmenuBehaviours,[zf.config({mode:"special",onRight:m(((e,t)=>gu(t.element)?P.none():p(e,t,u.HighlightSubmenu))),onLeft:m(((e,t)=>gu(t.element)?P.none():f(e,t))),onEscape:m(((t,r)=>f(t,r).orThunk((()=>e.onEscape(t,r).map((()=>t)))))),focusIn:(e,t)=>{n.getPrimary().each((t=>{Fi(e,t.element,ui())}))}}),Gu.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),bu.config({find:e=>Gu.getHighlighted(e)}),Kf.config({})]),eventOrder:e.eventOrder,apis:b,events:g}},extraApis:{tieredData:(e,t,r)=>({primary:e,menus:t,expansions:r}),singleData:(e,t)=>({primary:e,menus:Mo(e,t),expansions:{}}),collapseItem:e=>({value:ls(Lm()),meta:{text:e}})}}),zm=fu({name:"InlineView",configFields:[to("lazySink"),Da("onShow"),Da("onHide"),go("onEscape"),pd("inlineBehaviours",[Wh,ud,Pl]),yo("fireDismissalEventInstead",[bo("event",_i())]),yo("fireRepositionEventInstead",[bo("event",Ci())]),bo("getRelated",P.none),bo("isExtraPart",k),bo("eventOrder",P.none)],factory:(e,t)=>{const r=(t,r,n,o)=>{const i=e.lazySink(t).getOrDie();Wh.openWhileCloaked(t,r,(()=>wh.positionWithinBounds(i,t,n,o()))),ud.setValue(t,P.some({mode:"position",config:n,getBounds:o}))},n=(t,r,n,o)=>{const i=((e,t,r,n,o)=>{const i=()=>e.lazySink(t),s="horizontal"===n.type?{layouts:{onLtr:()=>gl(),onRtl:()=>vl()}}:{},a=e=>(e=>2===e.length)(e)?s:{};return Vm.sketch({dom:{tag:"div"},data:n.data,markers:n.menu.markers,highlightOnOpen:n.menu.highlightOnOpen,fakeFocus:n.menu.fakeFocus,onEscape:()=>(Wh.close(t),e.onEscape.map((e=>e(t))),P.some(!0)),onExecute:()=>P.some(!0),onOpenMenu:(e,t)=>{wh.positionWithinBounds(i().getOrDie(),t,r,o())},onOpenSubmenu:(e,t,r,n)=>{const o=i().getOrDie();wh.position(o,r,{anchor:{type:"submenu",item:t,...a(n)}})},onRepositionMenu:(e,t,n)=>{const s=i().getOrDie();wh.positionWithinBounds(s,t,r,o()),z(n,(e=>{const t=a(e.triggeringPath);wh.position(s,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})}))}})})(e,t,r,n,o);Wh.open(t,i),ud.setValue(t,P.some({mode:"menu",menu:i}))},o=t=>{Wh.isOpen(t)&&ud.getValue(t).each((r=>{switch(r.mode){case"menu":Wh.getState(t).each(Vm.repositionMenus);break;case"position":const n=e.lazySink(t).getOrDie();wh.positionWithinBounds(n,t,r.config,r.getBounds())}}))},i={setContent:(e,t)=>{Wh.setContent(e,t)},showAt:(e,t,n)=>{const o=P.none;r(e,t,n,o)},showWithinBounds:r,showMenuAt:(e,t,r)=>{n(e,t,r,P.none)},showMenuWithinBounds:n,hide:e=>{Wh.isOpen(e)&&(ud.setValue(e,P.none()),Wh.close(e))},getContent:e=>Wh.getState(e),reposition:o,isOpen:Wh.isOpen};return{uid:e.uid,dom:e.dom,behaviours:md(e.inlineBehaviours,[Wh.config({isPartOf:(t,r,n)=>ya(r,n)||((t,r)=>e.getRelated(t).exists((e=>ya(e,r))))(t,n),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),ud.config({store:{mode:"memory",initialValue:P.none()}}),Pl.config({channels:{...Xh({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Qh({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:o})}})]),eventOrder:e.eventOrder,apis:i}},apis:{showAt:(e,t,r,n)=>{e.showAt(t,r,n)},showWithinBounds:(e,t,r,n,o)=>{e.showWithinBounds(t,r,n,o)},showMenuAt:(e,t,r,n)=>{e.showMenuAt(t,r,n)},showMenuWithinBounds:(e,t,r,n,o)=>{e.showMenuWithinBounds(t,r,n,o)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,r)=>{e.setContent(t,r)},reposition:(e,t)=>{e.reposition(t)}}});var Hm=tinymce.util.Tools.resolve("tinymce.util.Delay");const jm=fu({name:"Button",factory:e=>{const t=dm(e.action),r=e.dom.tag,n=t=>ve(e.dom,"attributes").bind((e=>ve(e,t)));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:vd(e.buttonBehaviours,[tm.config({}),zf.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:"button"===r?{type:n("type").getOr("button"),...n("role").map((e=>({role:e}))).getOr({})}:{role:e.role.getOr(n("role").getOr("button"))}},eventOrder:e.eventOrder}},configFields:[bo("uid",void 0),to("dom"),bo("components",[]),gd("buttonBehaviours",[tm,zf]),ho("action"),ho("role"),bo("eventOrder",{})]}),Gm=e=>{const t=(e=>void 0!==e.uid)(e)&&be(e,"uid")?e.uid:ms("memento");return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}};var Um=tinymce.util.Tools.resolve("tinymce.util.I18n");const qm={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Wm="temporary-placeholder",$m=e=>()=>ve(e,Wm).getOr("!not found!"),Zm=(e,t)=>{const r=e.toLowerCase();if(Um.isRtl()){const e=((e,t)=>Pe(e,t)?e:((e,t)=>e+t)(e,t))(r,"-rtl");return ye(t,e)?e:r}return r},Km=(e,t)=>ve(t,Zm(e,t)),Ym=(e,t)=>{const r=t();return Km(e,r).getOrThunk($m(r))},Xm=()=>Yf("add-focusable",[Yi((e=>{pa(e.element,"svg").each((e=>St(e,"focusable","false")))}))]),Jm=(e,t,r,n)=>{var o,i;const s=(e=>!!Um.isRtl()&&ye(qm,e))(t)?["tox-icon--flip"]:[],a=ve(r,Zm(t,r)).or(n).getOrThunk($m(r));return{dom:{tag:e.tag,attributes:null!==(o=e.attributes)&&void 0!==o?o:{},classes:e.classes.concat(s),innerHtml:a},behaviours:Sl([...null!==(i=e.behaviours)&&void 0!==i?i:[],Xm()])}},Qm=(e,t,r,n=P.none())=>Jm(t,e,r(),n),eg={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},tg=fu({name:"Notification",factory:e=>{const t=Gm({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Sl([Kf.config({})])}),r=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}}),n=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}}),o=Gm({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[r(0)]},n(0)],behaviours:Sl([Kf.config({})])}),i={updateProgress:(e,t)=>{e.getSystem().isConnected()&&o.getOpt(e).each((e=>{Kf.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[r(t)]},n(t)])}))},updateText:(e,r)=>{if(e.getSystem().isConnected()){const n=t.get(e);Kf.set(n,[ta(r)])}}},s=$([e.icon.toArray(),e.level.toArray(),e.level.bind((e=>P.from(eg[e]))).toArray()]),a=Gm(jm.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Qm("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:t=>{e.onAction(t)}})),l=((e,t,r)=>{const n=r(),o=q(e,(e=>ye(n,Zm(e,n))));return Jm({tag:"div",classes:["tox-notification__icon"]},o.getOr(Wm),n,P.none())})(s,0,e.iconProvider),c=[l,{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Sl([Kf.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((e=>["tox-notification","tox-notification--in",`tox-notification--${e}`])).getOr(["tox-notification","tox-notification--in"])},behaviours:Sl([tm.config({}),Yf("notification-events",[ji(Zo(),(e=>{a.getOpt(e).each(tm.focus)}))])]),components:c.concat(e.progress?[o.asSpec()]:[]).concat(e.closeButton?[a.asSpec()]:[]),apis:i}},configFields:[ho("level"),to("progress"),ho("icon"),to("onAction"),to("text"),to("iconProvider"),to("translationProvider"),_o("closeButton",!0)],apis:{updateProgress:(e,t,r)=>{e.updateProgress(t,r)},updateText:(e,t,r)=>{e.updateText(t,r)}}});var rg,ng,og=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ig=tinymce.util.Tools.resolve("tinymce.EditorManager"),sg=tinymce.util.Tools.resolve("tinymce.Env");!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(rg||(rg={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(ng||(ng={}));const ag=e=>t=>t.options.get(e),lg=e=>t=>P.from(e(t)),cg=e=>{const t=sg.deviceType.isPhone(),r=sg.deviceType.isTablet()||t,n=e.options.register,o=e=>i(e)||!1===e,s=e=>i(e)||m(e);n("skin",{processor:e=>i(e)||!1===e,default:"oxide"}),n("skin_url",{processor:"string"}),n("height",{processor:s,default:Math.max(e.getElement().offsetHeight,400)}),n("width",{processor:s,default:og.DOM.getStyle(e.getElement(),"width")}),n("min_height",{processor:"number",default:100}),n("min_width",{processor:"number"}),n("max_height",{processor:"number"}),n("max_width",{processor:"number"}),n("style_formats",{processor:"object[]"}),n("style_formats_merge",{processor:"boolean",default:!1}),n("style_formats_autohide",{processor:"boolean",default:!1}),n("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),n("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),n("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),n("font_size_input_default_unit",{processor:"string",default:"pt"}),n("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),n("content_langs",{processor:"object[]"}),n("removed_menuitems",{processor:"string",default:""}),n("menubar",{processor:e=>i(e)||h(e),default:!t}),n("menu",{processor:"object",default:{}}),n("toolbar",{processor:e=>h(e)||i(e)||l(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),B(9,(e=>{n("toolbar"+(e+1),{processor:"string"})})),n("toolbar_mode",{processor:"string",default:r?"scrolling":"floating"}),n("toolbar_groups",{processor:"object",default:{}}),n("toolbar_location",{processor:"string",default:ng.auto}),n("toolbar_persist",{processor:"boolean",default:!1}),n("toolbar_sticky",{processor:"boolean",default:e.inline}),n("toolbar_sticky_offset",{processor:"number",default:0}),n("fixed_toolbar_container",{processor:"string",default:""}),n("fixed_toolbar_container_target",{processor:"object"}),n("ui_mode",{processor:"string",default:"combined"}),n("file_picker_callback",{processor:"function"}),n("file_picker_validator_handler",{processor:"function"}),n("file_picker_types",{processor:"string"}),n("typeahead_urls",{processor:"boolean",default:!0}),n("anchor_top",{processor:o,default:"#top"}),n("anchor_bottom",{processor:o,default:"#bottom"}),n("draggable_modal",{processor:"boolean",default:!1}),n("statusbar",{processor:"boolean",default:!0}),n("elementpath",{processor:"boolean",default:!0}),n("branding",{processor:"boolean",default:!0}),n("promotion",{processor:"boolean",default:!0}),n("resize",{processor:e=>"both"===e||h(e),default:!sg.deviceType.isTouch()}),n("sidebar_show",{processor:"string"})},hg=ag("readonly"),dg=ag("height"),ug=ag("width"),pg=lg(ag("min_width")),fg=lg(ag("min_height")),mg=lg(ag("max_width")),gg=lg(ag("max_height")),vg=lg(ag("style_formats")),yg=ag("style_formats_merge"),bg=ag("style_formats_autohide"),wg=ag("content_langs"),xg=ag("removed_menuitems"),Eg=ag("toolbar_mode"),Sg=ag("toolbar_groups"),_g=ag("toolbar_location"),Cg=ag("fixed_toolbar_container"),Ag=ag("fixed_toolbar_container_target"),kg=ag("toolbar_persist"),Tg=ag("toolbar_sticky_offset"),Pg=ag("menubar"),Mg=ag("toolbar"),Dg=ag("file_picker_callback"),Og=ag("file_picker_validator_handler"),Ig=ag("font_size_input_default_unit"),Rg=ag("file_picker_types"),Ng=ag("typeahead_urls"),Fg=ag("anchor_top"),Bg=ag("anchor_bottom"),Lg=ag("draggable_modal"),Vg=ag("statusbar"),zg=ag("elementpath"),Hg=ag("branding"),jg=ag("resize"),Gg=ag("paste_as_text"),Ug=ag("sidebar_show"),qg=ag("promotion"),Wg=e=>!1===e.options.get("skin"),$g=e=>!1!==e.options.get("menubar"),Zg=e=>{const t=e.options.get("skin_url");if(Wg(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{const t=e.options.get("skin");return ig.baseURL+"/skins/ui/"+t}},Kg=e=>e.options.get("line_height_formats").split(" "),Yg=e=>{const t=Mg(e),r=i(t),n=l(t)&&t.length>0;return!Jg(e)&&(n||r||!0===t)},Xg=e=>{const t=B(9,(t=>e.options.get("toolbar"+(t+1)))),r=j(t,i);return _e(r.length>0,r)},Jg=e=>Xg(e).fold((()=>{const t=Mg(e);return g(t,i)&&t.length>0}),T),Qg=e=>_g(e)===ng.bottom,ev=e=>{var t;if(!e.inline)return P.none();const r=null!==(t=Cg(e))&&void 0!==t?t:"";if(r.length>0)return fa(wt(),r);const n=Ag(e);return p(n)?P.some(Be(n)):P.none()},tv=e=>e.inline&&ev(e).isSome(),rv=e=>ev(e).getOrThunk((()=>gt(mt(Be(e.getElement()))))),nv=e=>e.inline&&!$g(e)&&!Yg(e)&&!Jg(e),ov=e=>(e.options.get("toolbar_sticky")||e.inline)&&!tv(e)&&!nv(e),iv=e=>!tv(e)&&"split"===e.options.get("ui_mode"),sv=e=>{const t=e.options.get("menu");return ce(t,(e=>({...e,items:e.items})))};var av=Object.freeze({__proto__:null,get ToolbarMode(){return rg},get ToolbarLocation(){return ng},register:cg,getSkinUrl:Zg,isReadOnly:hg,isSkinDisabled:Wg,getHeightOption:dg,getWidthOption:ug,getMinWidthOption:pg,getMinHeightOption:fg,getMaxWidthOption:mg,getMaxHeightOption:gg,getUserStyleFormats:vg,shouldMergeStyleFormats:yg,shouldAutoHideStyleFormats:bg,getLineHeightFormats:Kg,getContentLanguages:wg,getRemovedMenuItems:xg,isMenubarEnabled:$g,isMultipleToolbars:Jg,isToolbarEnabled:Yg,isToolbarPersist:kg,getMultipleToolbarsOption:Xg,getUiContainer:rv,useFixedContainer:tv,isSplitUiMode:iv,getToolbarMode:Eg,isDraggableModal:Lg,isDistractionFree:nv,isStickyToolbar:ov,getStickyToolbarOffset:Tg,getToolbarLocation:_g,isToolbarLocationBottom:Qg,getToolbarGroups:Sg,getMenus:sv,getMenubar:Pg,getToolbar:Mg,getFilePickerCallback:Dg,getFilePickerTypes:Rg,useTypeaheadUrls:Ng,getAnchorTop:Fg,getAnchorBottom:Bg,getFilePickerValidatorHandler:Og,getFontSizeInputDefaultUnit:Ig,useStatusBar:Vg,useElementPath:zg,promotionEnabled:qg,useBranding:Hg,getResize:jg,getPasteAsText:Gg,getSidebarShow:Ug});const lv="[data-mce-autocompleter]",cv=e=>ma(e,lv);var hv;!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(hv||(hv={}));var dv=hv;const uv="tox-menu-nav__js",pv="tox-collection__item",fv="tox-swatch",mv={normal:uv,color:fv},gv="tox-collection__item--enabled",vv="tox-collection__item-icon",yv="tox-collection__item-label",bv="tox-collection__item-caret",wv="tox-collection__item--active",xv="tox-collection__item-container",Ev="tox-collection__item-container--row",Sv=e=>ve(mv,e).getOr(uv),_v=e=>"color"===e?"tox-swatches":"tox-menu",Cv=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:_v(e),tieredMenu:"tox-tiered-menu"}),Av=e=>{const t=Cv(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Sv(e)}},kv=(e,t,r)=>{const n=Cv(r);return{tag:"div",classes:$([[n.menu,`tox-menu-${t}-column`],e?[n.hasIcons]:[]])}},Tv=[Mm.parts.items({})],Pv=(e,t,r)=>{const n=Cv(r);return{dom:{tag:"div",classes:$([[n.tieredMenu]])},markers:Av(r)}},Mv=w([ho("data"),bo("inputAttributes",{}),bo("inputStyles",{}),bo("tag","input"),bo("inputClasses",[]),Da("onSetValue"),bo("styles",{}),bo("eventOrder",{}),pd("inputBehaviours",[ud,tm]),bo("selectOnFocus",!0)]),Dv=e=>Sl([tm.config({onFocus:e.selectOnFocus?e=>{const t=e.element,r=Ws(t);t.dom.setSelectionRange(0,r.length)}:v})]),Ov=e=>({...Dv(e),...md(e.inputBehaviours,[ud.config({store:{mode:"manual",...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:e=>Ws(e.element),setValue:(e,t)=>{Ws(e.element)!==t&&$s(e.element,t)}},onSetValue:e.onSetValue})])}),Iv=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),Rv=fu({name:"Input",configFields:Mv(),factory:(e,t)=>({uid:e.uid,dom:Iv(e),components:[],behaviours:Ov(e),eventOrder:e.eventOrder})}),Nv=ls("refetch-trigger-event"),Fv=ls("redirect-menu-item-interaction"),Bv="tox-menu__searcher",Lv=e=>fa(e.element,`.${Bv}`).bind((t=>e.getSystem().getByDom(t).toOptional())),Vv=Lv,zv=e=>({fetchPattern:ud.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),Hv=e=>{const t=(e,t)=>(t.cut(),P.none()),r=(e,t)=>{const r={interactionEvent:t.event,eventType:t.event.raw.type};return Ri(e,Fv,r),P.some(!0)},n="searcher-events";return{dom:{tag:"div",classes:[pv]},components:[Rv.sketch({inputClasses:[Bv,"tox-textfield"],inputAttributes:{...e.placeholder.map((t=>({placeholder:e.i18n(t)}))).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Sl([Yf(n,[ji(Jo(),(e=>{Ii(e,Nv)})),ji(Yo(),((e,t)=>{"Escape"===t.event.raw.key&&t.stop()}))]),zf.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:r,onEscape:r,onUp:r,onDown:r})]),eventOrder:{keydown:[n,zf.name()]}})]}},jv="tox-collection--results__js",Gv=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...null!==(t=e.dom.attributes)&&void 0!==t?t:{},id:ls("aria-item-search-result-id"),"aria-selected":"false"}}}:e},Uv=(e,t)=>r=>{const n=L(r,t);return V(n,(t=>({dom:e,components:t})))},qv=(e,t)=>{const r=[];let n=[];return z(e,((e,o)=>{t(e,o)?(n.length>0&&r.push(n),n=[],(ye(e.dom,"innerHtml")||e.components&&e.components.length>0)&&n.push(e)):n.push(e)})),n.length>0&&r.push(n),V(r,(e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e})))},Wv=(e,t,r)=>Mm.parts.items({preprocess:n=>{const o=V(n,r);return"auto"!==e&&e>1?Uv({tag:"div",classes:["tox-collection__group"]},e)(o):qv(o,((e,r)=>"separator"===t[r].type))}}),$v=(e,t,r=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Wv(e,t,x)]}),Zv=e=>F(e,(e=>"icon"in e&&void 0!==e.icon)),Kv=e=>(console.error(Kn(e)),console.log(e),P.none()),Yv=(e,t,r,n,o)=>{const i=(s=r,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Mm.parts.items({preprocess:e=>qv(e,((e,t)=>"separator"===s[t].type))})]});var s;return{value:e,dom:i.dom,components:i.components,items:r}},Xv=(e,t,r,n,o)=>{if("color"===o.menuType){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Mm.parts.items({preprocess:"auto"!==e?Uv({tag:"div",classes:["tox-swatches__row"]},e):x})]}]}))(n);return{value:e,dom:t.dom,components:t.components,items:r}}if("normal"===o.menuType&&"auto"===n){const t=$v(n,r);return{value:e,dom:t.dom,components:t.components,items:r}}if("normal"===o.menuType||"searchable"===o.menuType){const t="searchable"!==o.menuType?$v(n,r):"search-with-field"===o.searchMode.searchMode?((e,t,r)=>{const n=ls("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Hv({i18n:Um.translate,placeholder:r.placeholder}),{dom:{tag:"div",classes:[...1===e?["tox-collection--list"]:["tox-collection--grid"],jv],attributes:{id:n}},components:[Wv(e,t,Gv)]}]}})(n,r,o.searchMode):((e,t,r=!0)=>{const n=ls("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",jv].concat(1===e?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:n}},components:[Wv(e,t,Gv)]}})(n,r);return{value:e,dom:t.dom,components:t.components,items:r}}if("listpreview"===o.menuType&&"auto"!==n){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Mm.parts.items({preprocess:Uv({tag:"div",classes:["tox-collection__group"]},e)})]}))(n);return{value:e,dom:t.dom,components:t.components,items:r}}return{value:e,dom:kv(t,n,o.menuType),components:Tv,items:r}},Jv=oo("type"),Qv=oo("name"),ey=oo("label"),ty=oo("text"),ry=oo("title"),ny=oo("icon"),oy=oo("value"),iy=so("fetch"),sy=so("getSubmenuItems"),ay=so("onAction"),ly=so("onItemAction"),cy=Co("onSetup",(()=>v)),hy=fo("name"),dy=fo("text"),uy=fo("icon"),py=fo("tooltip"),fy=fo("label"),my=fo("shortcut"),gy=go("select"),vy=_o("active",!1),yy=_o("borderless",!1),by=_o("enabled",!0),wy=_o("primary",!1),xy=e=>bo("columns",e),Ey=bo("meta",{}),Sy=Co("onAction",v),_y=e=>Eo("type",e),Cy=e=>Jn("name","name",vn((()=>ls(`${e}-name`))),Ln),Ay=Mn([Jv,dy]),ky=Mn([_y("autocompleteitem"),vy,by,Ey,oy,dy,uy]),Ty=[by,py,uy,dy,cy],Py=Mn([Jv,ay].concat(Ty)),My=e=>Wn("toolbarbutton",Py,e),Dy=[vy].concat(Ty),Oy=Mn(Dy.concat([Jv,ay])),Iy=e=>Wn("ToggleButton",Oy,e),Ry=[Co("predicate",k),So("scope","node",["node","editor"]),So("position","selection",["node","selection","line"])],Ny=Ty.concat([_y("contextformbutton"),wy,ay,Qn("original",x)]),Fy=Dy.concat([_y("contextformbutton"),wy,ay,Qn("original",x)]),By=Ty.concat([_y("contextformbutton")]),Ly=Dy.concat([_y("contextformtogglebutton")]),Vy=Yn("type",{contextformbutton:Ny,contextformtogglebutton:Fy}),zy=Mn([_y("contextform"),Co("initValue",w("")),fy,co("commands",Vy),uo("launch",Yn("type",{contextformbutton:By,contextformtogglebutton:Ly}))].concat(Ry)),Hy=Mn([_y("contexttoolbar"),oo("items")].concat(Ry)),jy=[Jv,oo("src"),fo("alt"),Ao("classes",[],Ln)],Gy=Mn(jy),Uy=[Jv,ty,hy,Ao("classes",["tox-collection__item-label"],Ln)],qy=Mn(Uy),Wy=kn((()=>Gn("type",{cardimage:Gy,cardtext:qy,cardcontainer:$y}))),$y=Mn([Jv,Eo("direction","horizontal"),Eo("align","left"),Eo("valign","middle"),co("items",Wy)]),Zy=[by,dy,my,("menuitem",Jn("value","value",vn((()=>ls("menuitem-value"))),Nn())),Ey];const Ky=Mn([Jv,fy,co("items",Wy),cy,Sy].concat(Zy)),Yy=Mn([Jv,vy,uy].concat(Zy)),Xy=[Jv,oo("fancytype"),Sy],Jy=[bo("initData",{})].concat(Xy),Qy=[go("select"),ko("initData",{},[_o("allowCustomColors",!0),Eo("storageKey","default"),vo("colors",Nn())])].concat(Xy),eb=Yn("fancytype",{inserttable:Jy,colorswatch:Qy}),tb=Mn([Jv,cy,Sy,uy].concat(Zy)),rb=Mn([Jv,sy,cy,uy].concat(Zy)),nb=Mn([Jv,uy,vy,cy,ay].concat(Zy)),ob=(e,t,r)=>{const n=$c(e.element,"."+r);if(n.length>0){const e=W(n,(e=>{const r=e.dom.getBoundingClientRect().top,o=n[0].dom.getBoundingClientRect().top;return Math.abs(r-o)>t})).getOr(n.length);return P.some({numColumns:e,numRows:Math.ceil(n.length/e)})}return P.none()},ib=e=>((e,t)=>Sl([Yf(e,t)]))(ls("unnamed-events"),e),sb=ls("tooltip.exclusive"),ab=ls("tooltip.show"),lb=ls("tooltip.hide"),cb=(e,t,r)=>{e.getSystem().broadcastOn([sb],{})};var hb=Object.freeze({__proto__:null,hideAllExclusive:cb,setComponents:(e,t,r,n)=>{r.getTooltip().each((e=>{e.getSystem().isConnected()&&Kf.set(e,n)}))}}),db=Object.freeze({__proto__:null,events:(e,t)=>{const r=r=>{t.getTooltip().each((n=>{Mh(n),e.onHide(r,n),t.clearTooltip()})),t.clearTimer()};return Vi($([[ji(ab,(r=>{t.resetTimer((()=>{(r=>{if(!t.isShowing()){cb(r);const n=e.lazySink(r).getOrDie(),o=r.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Vi("normal"===e.mode?[ji($o(),(e=>{Ii(r,ab)})),ji(qo(),(e=>{Ii(r,lb)}))]:[]),behaviours:Sl([Kf.config({})])});t.setTooltip(o),kh(n,o),e.onShow(r,o),wh.position(n,o,{anchor:e.anchor(r)})}})(r)}),e.delay)})),ji(lb,(n=>{t.resetTimer((()=>{r(n)}),e.delay)})),ji(hi(),((e,t)=>{const n=t;n.universal||N(n.channels,sb)&&r(e)})),Xi((e=>{r(e)}))],"normal"===e.mode?[ji(Zo(),(e=>{Ii(e,ab)})),ji(li(),(e=>{Ii(e,lb)})),ji($o(),(e=>{Ii(e,ab)})),ji(qo(),(e=>{Ii(e,lb)}))]:[ji(Di(),((e,t)=>{Ii(e,ab)})),ji(Oi(),(e=>{Ii(e,lb)}))]]))}}),ub=[to("lazySink"),to("tooltipDom"),bo("exclusive",!0),bo("tooltipComponents",[]),bo("delay",300),So("mode","normal",["normal","follow-highlight"]),bo("anchor",(e=>({type:"hotspot",hotspot:e,layouts:{onLtr:w([cl,ll,ol,sl,il,al]),onRtl:w([cl,ll,ol,sl,il,al])}}))),Da("onHide"),Da("onShow")],pb=Object.freeze({__proto__:null,init:()=>{const e=Ql(),t=Ql(),r=()=>{e.on(clearTimeout)},n=w("not-implemented");return As({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:r,resetTimer:(t,n)=>{r(),e.set(setTimeout(t,n))},readState:n})}});const fb=Cl({fields:ub,name:"tooltipping",active:db,state:pb,apis:hb}),mb="silver.readonly",gb=Mn([("readonly",ro("readonly",Vn))]);const vb=(e,t)=>{const r=e.mainUi.outerContainer.element,n=[e.mainUi.mothership,...e.uiMotherships];t&&z(n,(e=>{e.broadcastOn([$h()],{target:r})})),z(n,(e=>{e.broadcastOn([mb],{readonly:t})}))},yb=(e,t)=>{e.on("init",(()=>{e.mode.isReadOnly()&&vb(t,!0)})),e.on("SwitchMode",(()=>vb(t,e.mode.isReadOnly()))),hg(e)&&e.mode.set("readonly")},bb=()=>Pl.config({channels:{[mb]:{schema:gb,onReceive:(e,t)=>{Iu.set(e,t.readonly)}}}}),wb=e=>Iu.config({disabled:e}),xb=e=>Iu.config({disabled:e,disableClass:"tox-tbtn--disabled"}),Eb=e=>Iu.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),Sb=(e,t)=>{const r=e.getApi(t);return e=>{e(r)}},_b=(e,t)=>Yi((r=>{Sb(e,r)((r=>{const n=e.onSetup(r);f(n)&&t.set(n)}))})),Cb=(e,t)=>Xi((r=>Sb(e,r)(t.get()))),Ab=(e,t)=>Qi(((r,n)=>{Sb(e,r)(e.onAction),e.triggersSubmenu||t!==dv.CLOSE_ON_EXECUTE||(r.getSystem().isConnected()&&Ii(r,mi()),n.stop())})),kb={[di()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Tb=xe,Pb=(e,t,r,n)=>{const o=To(v);return{type:"item",dom:t.dom,components:Tb(t.optComponents),data:e.data,eventOrder:kb,hasSubmenu:e.triggersSubmenu,itemBehaviours:Sl([Yf("item-events",[Ab(e,r),_b(e,o),Cb(e,o)]),(i=()=>!e.enabled||n.isDisabled(),Iu.config({disabled:i,disableClass:"tox-collection__item--state-disabled"})),bb(),Kf.config({})].concat(e.itemBehaviours))};var i},Mb=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),Db=e=>{const t=sg.os.isMacOS()||sg.os.isiOS(),r=t?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},n=e.split("+"),o=V(n,(e=>{const t=e.toLowerCase().trim();return ye(r,t)?r[t]:e}));return t?o.join(""):o.join("+")},Ob=(e,t,r=[vv])=>Qm(e,{tag:"div",classes:r},t),Ib=e=>({dom:{tag:"div",classes:[yv]},components:[ta(Um.translate(e))]}),Rb=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),Nb=(e,t)=>({dom:{tag:"div",classes:[yv]},components:[{dom:{tag:e.tag,styles:e.styles},components:[ta(Um.translate(t))]}]}),Fb=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[ta(Db(e))]}),Bb=e=>Ob("checkmark",e,["tox-collection__item-checkmark"]),Lb=e=>{const t=e.map((e=>({attributes:{title:Um.translate(e)}}))).getOr({});return{tag:"div",classes:[uv,pv],...t}},Vb=(e,t,r,n=P.none())=>"color"===e.presets?((e,t,r)=>{const n=e.ariaLabel,o=e.value,i=e.iconContent.map((e=>((e,t,r)=>{const n=t();return Km(e,n).or(r).getOrThunk($m(n))})(e,t.icons,r)));return{dom:(()=>{const e=fv,r=i.getOr(""),s=n.map((e=>({title:t.translate(e)}))).getOr({}),a={tag:"div",attributes:s,classes:[e]};return"custom"===o?{...a,tag:"button",classes:[...a.classes,"tox-swatches__picker-btn"],innerHtml:r}:"remove"===o?{...a,classes:[...a.classes,"tox-swatch--remove"],innerHtml:r}:p(o)?{...a,attributes:{...a.attributes,"data-mce-color":o},styles:{"background-color":o},innerHtml:r}:a})(),optComponents:[]}})(e,t,n):((e,t,r,n)=>{const o={tag:"div",classes:[vv]},i=r?e.iconContent.map((e=>Qm(e,o,t.icons,n))).orThunk((()=>P.some({dom:o}))):P.none(),s=e.checkMark,a=P.from(e.meta).fold((()=>Ib),(e=>ye(e,"style")?S(Nb,e.style):Ib)),l=e.htmlContent.fold((()=>e.textContent.map(a)),(e=>P.some(Rb(e,[yv]))));return{dom:Lb(e.ariaLabel),optComponents:[i,l,e.shortcutContent.map(Fb),s,e.caret]}})(e,t,r,n),zb=(e,t)=>ve(e,"tooltipWorker").map((e=>[fb.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:cc}}),mode:"follow-highlight",onShow:(t,r)=>{e((e=>{fb.setComponents(t,[ra({element:Be(e)})])}))}})])).getOr([]),Hb=(e,t)=>{const r=(e=>og.DOM.encode(e))(Um.translate(e));if(t.length>0){const e=new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t),"gi");return r.replace(e,(e=>`<span class="tox-autocompleter-highlight">${e}</span>`))}return r},jb=(e,t)=>V(e,(e=>{switch(e.type){case"cardcontainer":return((e,t)=>{const r="vertical"===e.direction?"tox-collection__item-container--column":Ev,n="left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[xv,r,n,(()=>{switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:t}})(e,jb(e.items,t));case"cardimage":return((e,t,r)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:r.getOr("")}}}))(e.src,e.classes,e.alt);case"cardtext":const r=e.name.exists((e=>N(t.cardText.highlightOn,e))),n=r?P.from(t.cardText.matchText).getOr(""):"";return Rb(Hb(e.text,n),e.classes)}})),Gb=$d(Sm(),_m()),Ub=e=>({value:Zb(e)}),qb=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Wb=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,$b=e=>qb.test(e)||Wb.test(e),Zb=e=>Ae(e,"#").toUpperCase(),Kb=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Yb=e=>{const t=Kb(e.red)+Kb(e.green)+Kb(e.blue);return Ub(t)},Xb=Math.min,Jb=Math.max,Qb=Math.round,ew=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,tw=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,rw=(e,t,r,n)=>({red:e,green:t,blue:r,alpha:n}),nw=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},ow=e=>{let t,r,n;const o=(e.hue||0)%360;let i=e.saturation/100,s=e.value/100;if(i=Jb(0,Xb(i,1)),s=Jb(0,Xb(s,1)),0===i)return t=r=n=Qb(255*s),rw(t,r,n,1);const a=o/60,l=s*i,c=l*(1-Math.abs(a%2-1)),h=s-l;switch(Math.floor(a)){case 0:t=l,r=c,n=0;break;case 1:t=c,r=l,n=0;break;case 2:t=0,r=l,n=c;break;case 3:t=0,r=c,n=l;break;case 4:t=c,r=0,n=l;break;case 5:t=l,r=0,n=c;break;default:t=r=n=0}return t=Qb(255*(t+h)),r=Qb(255*(r+h)),n=Qb(255*(n+h)),rw(t,r,n,1)},iw=e=>{const t=(e=>{const t=(e=>{const t=e.value.replace(qb,((e,t,r,n)=>t+t+r+r+n+n));return{value:t}})(e),r=Wb.exec(t.value);return null===r?["FFFFFF","FF","FF","FF"]:r})(e),r=parseInt(t[1],16),n=parseInt(t[2],16),o=parseInt(t[3],16);return rw(r,n,o,1)},sw=(e,t,r,n)=>{const o=parseInt(e,10),i=parseInt(t,10),s=parseInt(r,10),a=parseFloat(n);return rw(o,i,s,a)},aw=e=>{if("transparent"===e)return P.some(rw(0,0,0,0));const t=ew.exec(e);if(null!==t)return P.some(sw(t[1],t[2],t[3],"1"));const r=tw.exec(e);return null!==r?P.some(sw(r[1],r[2],r[3],r[4])):P.none()},lw=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,cw=rw(255,0,0,1),hw=(e,t)=>{e.dispatch("ResizeContent",t)},dw=(e,t)=>{e.dispatch("TextColorChange",t)},uw=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t});var pw=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const fw={},mw=e=>ve(fw,e).getOrThunk((()=>{const t=`tinymce-custom-colors-${e}`,r=pw.getItem(t);if(u(r)){const e=pw.getItem("tinymce-custom-colors");pw.setItem(t,p(e)?e:"[]")}const n=((e,t=10)=>{const r=pw.getItem(e),n=i(r)?JSON.parse(r):[],o=t-(s=n).length<0?s.slice(0,t):s;var s;const a=e=>{o.splice(e,1)};return{add:r=>{R(o,r).each(a),o.unshift(r),o.length>t&&o.pop(),pw.setItem(e,JSON.stringify(o))},state:()=>o.slice(0)}})(t,10);return fw[e]=n,n})),gw=(e,t)=>{mw(e).add(t)},vw=(e,t,r)=>({hue:e,saturation:t,value:r}),yw=e=>{let t=0,r=0,n=0;const o=e.red/255,i=e.green/255,s=e.blue/255,a=Math.min(o,Math.min(i,s)),l=Math.max(o,Math.max(i,s));return a===l?(n=a,vw(0,0,100*n)):(t=o===a?3:s===a?1:5,t=60*(t-(o===a?i-s:s===a?o-i:s-o)/(l-a)),r=(l-a)/l,n=l,vw(Math.round(t),Math.round(100*r),Math.round(100*n)))},bw=e=>Yb(ow(e)),ww=e=>{return(t=e,$b(t)?P.some({value:Zb(t)}):P.none()).orThunk((()=>aw(e).map(Yb))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const r=t.getContext("2d");r.clearRect(0,0,t.width,t.height),r.fillStyle="#FFFFFF",r.fillStyle=e,r.fillRect(0,0,1,1);const n=r.getImageData(0,0,1,1).data,o=n[0],i=n[1],s=n[2],a=n[3];return Yb(rw(o,i,s,a))}));var t},xw="forecolor",Ew="hilitecolor",Sw=e=>Math.max(5,Math.ceil(Math.sqrt(e))),_w=(e,t)=>{const r=Sw(t),n=Aw("color_cols")(e);return 5===r?n:r},Cw=e=>{const t=[];for(let r=0;r<e.length;r+=2)t.push({text:e[r+1],value:"#"+ww(e[r]).value,icon:"checkmark",type:"choiceitem"});return t},Aw=e=>t=>t.options.get(e),kw="#000000",Tw=(e,t)=>{const r=((e,t)=>t===xw?Aw("color_cols_foreground")(e):t===Ew?Aw("color_cols_background")(e):Aw("color_cols")(e))(e,t);return r>0?r:5},Pw=Aw("custom_colors"),Mw=(e,t)=>t===xw&&e.options.isSet("color_map_foreground")?Aw("color_map_foreground")(e):t===Ew&&e.options.isSet("color_map_background")?Aw("color_map_background")(e):Aw("color_map")(e),Dw=Aw("color_default_foreground"),Ow=Aw("color_default_background"),Iw=(e,t)=>{const r=Be(e.selection.getStart()),n="hilitecolor"===t?Ro(r,(e=>{if(qe(e)){const t=Rt(e,"background-color");return _e(aw(t).exists((e=>0!==e.alpha)),t)}return P.none()})).getOr("rgba(0, 0, 0, 0)"):Rt(r,"color");return aw(n).map((e=>"#"+Yb(e).value))},Rw=e=>{const t="choiceitem",r={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[r,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[r]},Nw=(e,t,r,n)=>{"custom"===r?jw(e)((r=>{r.each((r=>{gw(t,r),e.execCommand("mceApplyTextcolor",t,r),n(r)}))}),Iw(e,t).getOr(kw)):"remove"===r?(n(""),e.execCommand("mceRemoveTextcolor",t)):(n(r),e.execCommand("mceApplyTextcolor",t,r))},Fw=(e,t,r)=>e.concat((e=>V(mw(e).state(),(e=>({type:"choiceitem",text:e,icon:"checkmark",value:e}))))(t).concat(Rw(r))),Bw=(e,t,r)=>n=>{n(Fw(e,t,r))},Lw=(e,t,r)=>{const n="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(n,r)},Vw=(e,t)=>r=>{const n=Iw(e,t);return we(n,r.toUpperCase())},zw=(e,t,r,n,o)=>{e.ui.registry.addSplitButton(t,{tooltip:n,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:Vw(e,r),columns:Tw(e,r),fetch:Bw(Mw(e,r),r,Pw(e)),onAction:t=>{Nw(e,r,o.get(),v)},onItemAction:(n,i)=>{Nw(e,r,i,(r=>{o.set(r),dw(e,{name:t,color:r})}))},onSetup:r=>{Lw(r,t,o.get());const n=e=>{e.name===t&&Lw(r,e.name,e.color)};return e.on("TextColorChange",n),()=>{e.off("TextColorChange",n)}}})},Hw=(e,t,r,n,o)=>{e.ui.registry.addNestedMenuItem(t,{text:n,icon:"forecolor"===t?"text-color":"highlight-bg-color",onSetup:e=>(Lw(e,t,o.get()),v),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:Vw(e,r),initData:{storageKey:r},onAction:n=>{Nw(e,r,n.value,(r=>{o.set(r),dw(e,{name:t,color:r})}))}}]})},jw=e=>(t,r)=>{let n=!1;const o={colorpicker:r};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onAction:(e,t)=>{"hex-valid"===t.name&&(n=t.value)},onSubmit:r=>{const o=r.getData().colorpicker;n?(t(P.from(o)),r.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",o]))},onClose:v,onCancel:()=>{t(P.none())}})},Gw=(e,t,r,n,o,i,s,a)=>{const l=Zv(t),c=Uw(t,r,n,"color"!==o?"normal":"color",i,s,a);return Xv(e,l,c,n,{menuType:o})},Uw=(e,t,r,n,o,i,s)=>xe(V(e,(a=>{return"choiceitem"===a.type?(l=a,Wn("choicemenuitem",Yy,l)).fold(Kv,(a=>P.some(((e,t,r,n,o,i,s,a=!0)=>{const l=Vb({presets:r,textContent:t?e.text:P.none(),htmlContent:P.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:P.none(),checkMark:t?P.some(Bb(s.icons)):P.none(),caret:P.none(),value:e.value},s,a);return mn(Pb({data:Mb(e),enabled:e.enabled,getApi:e=>({setActive:t=>{cm.set(e,t)},isActive:()=>cm.isOn(e),isEnabled:()=>!Iu.isDisabled(e),setEnabled:t=>Iu.set(e,!t)}),onAction:t=>n(e.value),onSetup:e=>(e.setActive(o),v),triggersSubmenu:!1,itemBehaviours:[]},l,i,s),{toggling:{toggleClass:gv,toggleOnExecute:!1,selected:e.active,exclusive:!0}})})(a,1===r,n,t,i(a.value),o,s,Zv(e))))):P.none();var l}))),qw=(e,t)=>{const r=Av(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+r.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group"),previousSelector:e=>"color"===t?fa(e.element,"[aria-checked=true]"):P.none()}},Ww=ls("cell-over"),$w=ls("cell-execute"),Zw=(e,t,r)=>{const n=r=>Ri(r,$w,{row:e,col:t}),o=(e,t)=>{t.stop(),n(e)};return ia({dom:{tag:"div",attributes:{role:"button","aria-labelledby":r}},behaviours:Sl([Yf("insert-table-picker-cell",[ji($o(),tm.focus),ji(di(),n),ji(ei(),o),ji(pi(),o)]),cm.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),tm.config({onFocus:r=>Ri(r,Ww,{row:e,col:t})})])})},Kw=e=>Z(e,(e=>V(e,sa))),Yw=(e,t)=>ta(`${t}x${e}`),Xw={inserttable:e=>{const t=ls("size-label"),r=((e,t,r)=>{const n=[];for(let t=0;t<10;t++){const r=[];for(let n=0;n<10;n++)r.push(Zw(t,n,e));n.push(r)}return n})(t),n=Yw(0,0),o=Gm({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[n],behaviours:Sl([Kf.config({})])});return{type:"widget",data:{value:ls("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Gb.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Kw(r).concat(o.asSpec()),behaviours:Sl([Yf("insert-table-picker",[Yi((e=>{Kf.set(o.get(e),[n])})),Wi(Ww,((e,t,n)=>{const{row:i,col:s}=n.event;((e,t,r,n,o)=>{for(let n=0;n<10;n++)for(let o=0;o<10;o++)cm.set(e[n][o],n<=t&&o<=r)})(r,i,s),Kf.set(o.get(e),[Yw(i+1,s+1)])})),Wi($w,((t,r,n)=>{const{row:o,col:i}=n.event;e.onAction({numRows:o+1,numColumns:i+1}),Ii(t,mi())}))]),zf.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,t)=>{const r=((e,t)=>{const r=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>Fw(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,r)),(e=>e.concat(Rw(r))))})(e,t),n=t.colorinput.getColorCols(e.initData.storageKey),o="color",i={...Gw(ls("menu-value"),r,(t=>{e.onAction({value:t})}),n,o,dv.CLOSE_ON_EXECUTE,e.select.getOr(k),t.shared.providers),markers:Av(o),movement:qw(n,o)};return{type:"widget",data:{value:ls("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Gb.widget(Mm.sketch(i))]}}},Jw=e=>({type:"separator",dom:{tag:"div",classes:[pv,"tox-collection__group-heading"]},components:e.text.map(ta).toArray()});var Qw=Object.freeze({__proto__:null,getCoupled:(e,t,r,n)=>r.getOrCreate(e,t,n),getExistingCoupled:(e,t,r,n)=>r.getExisting(e,t,n)}),ex=[ro("others",qn(nn.value,Nn()))],tx=Object.freeze({__proto__:null,init:()=>{const e={},t=(t,r)=>{if(0===se(t.others).length)throw new Error("Cannot find any known coupled components");return ve(e,r)},r=w({});return As({readState:r,getExisting:(e,r,n)=>t(r,n).orThunk((()=>(ve(r.others,n).getOrDie("No information found for coupled component: "+n),P.none()))),getOrCreate:(r,n,o)=>t(n,o).getOrThunk((()=>{const t=ve(n.others,o).getOrDie("No information found for coupled component: "+o)(r),i=r.getSystem().build(t);return e[o]=i,i}))})}});const rx=Cl({fields:ex,name:"coupling",apis:Qw,state:tx}),nx=e=>{let t=P.none(),r=[];const n=e=>{o()?i(e):r.push(e)},o=()=>t.isSome(),i=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};return e((e=>{o()||(t=P.some(e),z(r,i),r=[])})),{get:n,map:e=>nx((t=>{n((r=>{t(e(r))}))})),isReady:o}},ox={nu:nx,pure:e=>nx((t=>{t(e)}))},ix=e=>{setTimeout((()=>{throw e}),0)},sx=e=>{const t=t=>{e().then(t,ix)};return{map:t=>sx((()=>e().then(t))),bind:t=>sx((()=>e().then((e=>t(e).toPromise())))),anonBind:t=>sx((()=>e().then((()=>t.toPromise())))),toLazy:()=>ox.nu(t),toCached:()=>{let t=null;return sx((()=>(null===t&&(t=e()),t)))},toPromise:e,get:t}},ax=e=>sx((()=>new Promise(e))),lx=e=>sx((()=>Promise.resolve(e))),cx=w("sink"),hx=w(jd({name:cx(),overrides:w({dom:{tag:"div"},behaviours:Sl([wh.config({useFixed:T})]),events:Vi([$i(Yo()),$i(Go()),$i(ei())])})})),dx=(e,t)=>{const r=e.getHotspot(t).getOr(t),n="hotspot",o=e.getAnchorOverrides();return e.layouts.fold((()=>({type:n,hotspot:r,overrides:o})),(e=>({type:n,hotspot:r,overrides:o,layouts:e})))},ux=(e,t,r,n,o,i,s)=>{const a=((e,t,r,n,o,i,s)=>{const a=((e,t,r)=>(0,e.fetch)(r).map(t))(e,t,n),l=mx(n,e);return a.map((e=>e.bind((e=>P.from(Vm.sketch({...i.menu(),uid:ms(""),data:e,highlightOnOpen:s,onOpenMenu:(e,t)=>{const n=l().getOrDie();wh.position(n,t,{anchor:r}),Wh.decloak(o)},onOpenSubmenu:(e,t,r)=>{const n=l().getOrDie();wh.position(n,r,{anchor:{type:"submenu",item:t}}),Wh.decloak(o)},onRepositionMenu:(e,t,n)=>{const o=l().getOrDie();wh.position(o,t,{anchor:r}),z(n,(e=>{wh.position(o,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:()=>(tm.focus(n),Wh.close(o),P.some(!0))}))))))})(e,t,dx(e,r),r,n,o,s);return a.map((e=>(e.fold((()=>{Wh.isOpen(n)&&Wh.close(n)}),(e=>{Wh.cloak(n),Wh.open(n,e),i(n)})),n)))},px=(e,t,r,n,o,i,s)=>(Wh.close(n),lx(n)),fx=(e,t,r,n,o,i)=>{const s=rx.getCoupled(r,"sandbox");return(Wh.isOpen(s)?px:ux)(e,t,r,s,n,o,i)},mx=(e,t)=>e.getSystem().getByUid(t.uid+"-"+cx()).map((e=>()=>nn.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>nn.error(new Error("No internal sink is specified, nor could an external sink be found"))),(t=>()=>t(e))))),gx=e=>{Wh.getState(e).each((e=>{Vm.repositionMenus(e)}))},vx=(e,t,r)=>{const n=va(),o=mx(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:n.id,role:"listbox"}},behaviours:vd(e.sandboxBehaviours,[ud.config({store:{mode:"memory",initialValue:t}}),Wh.config({onOpen:(o,i)=>{const s=dx(e,t);n.link(t.element),e.matchWidth&&((e,t,r)=>{const n=bu.getCurrent(t).getOr(t),o=Xt(e.element);r?Dt(n.element,"min-width",o+"px"):((e,t)=>{Yt.set(e,t)})(n.element,o)})(s.hotspot,i,e.useMinWidth),e.onOpen(s,o,i),void 0!==r&&void 0!==r.onOpen&&r.onOpen(o,i)},onClose:(e,o)=>{n.unlink(t.element),void 0!==r&&void 0!==r.onClose&&r.onClose(e,o)},isPartOf:(e,r,n)=>ya(r,n)||ya(t,n),getAttachPoint:()=>o().getOrDie()}),bu.config({find:e=>Wh.getState(e).bind((e=>bu.getCurrent(e)))}),Pl.config({channels:{...Xh({isExtraPart:k}),...Qh({doReposition:gx})}})])}},yx=e=>{const t=rx.getCoupled(e,"sandbox");gx(t)},bx=()=>[bo("sandboxClasses",[]),gd("sandboxBehaviours",[bu,Pl,Wh,ud])],wx=w([to("dom"),to("fetch"),Da("onOpen"),Oa("onExecute"),bo("getHotspot",P.some),bo("getAnchorOverrides",w({})),xc(),pd("dropdownBehaviours",[cm,rx,zf,tm]),to("toggleClass"),bo("eventOrder",{}),ho("lazySink"),bo("matchWidth",!1),bo("useMinWidth",!1),ho("role")].concat(bx())),xx=w([Hd({schema:[Ta(),bo("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),hx()]),Ex=mu({name:"Dropdown",configFields:wx(),partFields:xx(),factory:(e,t,r,n)=>{const o=e=>{Wh.getState(e).each((e=>{Vm.highlightPrimary(e)}))},i=(t,r,o)=>fx(e,x,t,n,r,o),s={expand:e=>{cm.isOn(e)||i(e,v,Bm.HighlightNone).get(v)},open:e=>{cm.isOn(e)||i(e,v,Bm.HighlightMenuAndItem).get(v)},refetch:t=>rx.getExistingCoupled(t,"sandbox").fold((()=>i(t,v,Bm.HighlightMenuAndItem).map(v)),(r=>ux(e,x,t,r,n,v,Bm.HighlightMenuAndItem).map(v))),isOpen:cm.isOn,close:e=>{cm.isOn(e)&&i(e,v,Bm.HighlightMenuAndItem).get(v)},repositionMenus:e=>{cm.isOn(e)&&yx(e)}},a=(e,t)=>(Ni(e),P.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.dropdownBehaviours,[cm.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),rx.config({others:{sandbox:t=>vx(e,t,{onOpen:()=>cm.on(t),onClose:()=>cm.off(t)})}}),zf.config({mode:"special",onSpace:a,onEnter:a,onDown:(e,t)=>{if(Ex.isOpen(e)){const t=rx.getCoupled(e,"sandbox");o(t)}else Ex.open(e);return P.some(!0)},onEscape:(e,t)=>Ex.isOpen(e)?(Ex.close(e),P.some(!0)):P.none()}),tm.config({})]),events:dm(P.some((e=>{i(e,o,Bm.HighlightMenuAndItem).get(v)}))),eventOrder:{...e.eventOrder,[di()]:["disabling","toggling","alloy.base.behaviour"]},apis:s,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold((()=>({})),(e=>({role:e}))),..."button"===e.dom.tag?{type:("type",ve(e.dom,"attributes").bind((e=>ve(e,"type")))).getOr("button")}:{}}}}},apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),Sx=(e,t,r)=>{Vv(e).each((e=>{var n;((e,t)=>{At(t.element,"id").each((t=>St(e.element,"aria-activedescendant",t)))})(e,r),(js((n=t).element,jv)?P.some(n.element):fa(n.element,"."+jv)).each((t=>{At(t,"id").each((t=>St(e.element,"aria-controls",t)))}))})),St(r.element,"aria-selected","true")},_x=(e,t,r)=>{St(r.element,"aria-selected","false")},Cx=e=>rx.getExistingCoupled(e,"sandbox").bind(Lv).map(zv).map((e=>e.fetchPattern)).getOr("");var Ax;!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(Ax||(Ax={}));const kx=(e,t,r,n,o)=>{const i=r.shared.providers,s=e=>o?{...e,shortcut:P.none(),icon:e.text.isSome()?P.none():e.icon}:e;switch(e.type){case"menuitem":return(a=e,Wn("menuitem",tb,a)).fold(Kv,(e=>P.some(((e,t,r,n=!0)=>{const o=Vb({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:P.none(),ariaLabel:e.text,caret:P.none(),checkMark:P.none(),shortcutContent:e.shortcut},r,n);return Pb({data:Mb(e),getApi:e=>({isEnabled:()=>!Iu.isDisabled(e),setEnabled:t=>Iu.set(e,!t)}),enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t,r)})(s(e),t,i,n))));case"nestedmenuitem":return(e=>Wn("nestedmenuitem",rb,e))(e).fold(Kv,(e=>P.some(((e,t,r,n=!0,o=!1)=>{const i=o?(s=r.icons,Ob("chevron-down",s,[bv])):(e=>Ob("chevron-right",e,[bv]))(r.icons);var s;const a=Vb({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:P.none(),ariaLabel:e.text,caret:P.some(i),checkMark:P.none(),shortcutContent:e.shortcut},r,n);return Pb({data:Mb(e),getApi:e=>({isEnabled:()=>!Iu.isDisabled(e),setEnabled:t=>Iu.set(e,!t),setIconFill:(t,r)=>{fa(e.element,`svg path[id="${t}"], rect[id="${t}"]`).each((e=>{St(e,"fill",r)}))}}),enabled:e.enabled,onAction:v,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},a,t,r)})(s(e),t,i,n,o))));case"togglemenuitem":return(e=>Wn("togglemenuitem",nb,e))(e).fold(Kv,(e=>P.some(((e,t,r,n=!0)=>{const o=Vb({iconContent:e.icon,textContent:e.text,htmlContent:P.none(),ariaLabel:e.text,checkMark:P.some(Bb(r.icons)),caret:P.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},r,n);return mn(Pb({data:Mb(e),enabled:e.enabled,getApi:e=>({setActive:t=>{cm.set(e,t)},isActive:()=>cm.isOn(e),isEnabled:()=>!Iu.isDisabled(e),setEnabled:t=>Iu.set(e,!t)}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t,r),{toggling:{toggleClass:gv,toggleOnExecute:!1,selected:e.active}})})(s(e),t,i,n))));case"separator":return(e=>Wn("separatormenuitem",Ay,e))(e).fold(Kv,(e=>P.some(Jw(e))));case"fancymenuitem":return(e=>Wn("fancymenuitem",eb,e))(e).fold(Kv,(e=>((e,t)=>ve(Xw,e.fancytype).map((r=>r(e,t))))(e,r)));default:return console.error("Unknown item in general menu",e),P.none()}var a},Tx=(e,t,r,n,o,i,s)=>{const a=1===n,l=!a||Zv(e);return xe(V(e,(e=>{switch(e.type){case"separator":return(n=e,Wn("Autocompleter.Separator",Ay,n)).fold(Kv,(e=>P.some(Jw(e))));case"cardmenuitem":return(e=>Wn("cardmenuitem",Ky,e))(e).fold(Kv,(e=>P.some(((e,t,r,n)=>{const o={dom:Lb(e.label),optComponents:[P.some({dom:{tag:"div",classes:[xv,Ev]},components:jb(e.items,n)})]};return Pb({data:Mb({text:P.none(),...e}),enabled:e.enabled,getApi:e=>({isEnabled:()=>!Iu.isDisabled(e),setEnabled:t=>{Iu.set(e,!t),z($c(e.element,"*"),(r=>{e.getSystem().getByDom(r).each((e=>{e.hasConfigured(Iu)&&Iu.set(e,!t)}))}))}}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(n.itemBehaviours).getOr([])},o,t,r.providers)})({...e,onAction:t=>{e.onAction(t),r(e.value,e.meta)}},o,i,{itemBehaviours:zb(e.meta,i),cardText:{matchText:t,highlightOn:s}}))));default:return(e=>Wn("Autocompleter.Item",ky,e))(e).fold(Kv,(e=>P.some(((e,t,r,n,o,i,s,a=!0)=>{const l=Vb({presets:n,textContent:P.none(),htmlContent:r?e.text.map((e=>Hb(e,t))):P.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:e.value},s.providers,a,e.icon);return Pb({data:Mb(e),enabled:e.enabled,getApi:w({}),onAction:t=>o(e.value,e.meta),onSetup:w(v),triggersSubmenu:!1,itemBehaviours:zb(e.meta,s)},l,i,s.providers)})(e,t,a,"normal",r,o,i,l))))}var n})))},Px=(e,t,r,n,o,i)=>{const s=Zv(t),a=xe(V(t,(e=>{const t=e=>kx(e,r,n,(e=>o?!ye(e,"text"):s)(e),o);return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t({...e,enabled:!1}):t(e)}))),l=(e=>"no-search"===e.searchMode?{menuType:"normal"}:{menuType:"searchable",searchMode:e})(i);return(o?Yv:Xv)(e,s,a,1,l)},Mx=e=>Vm.singleData(e.value,e),Dx=(e,t)=>{const r=To(!1),n=To(!1),o=ia(zm.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Sl([Yf("dismissAutocompleter",[ji(_i(),(()=>c()))])]),lazySink:t.getSink})),i=()=>zm.isOpen(o),s=n.get,a=()=>{i()&&zm.hide(o)},l=()=>zm.getContent(o).bind((e=>te(e.components(),0))),c=()=>e.execCommand("mceAutocompleterClose"),h=n=>{const i=(n=>{const o=ie(n,(e=>P.from(e.columns))).getOr(1);return Z(n,(n=>{const i=n.items;return Tx(i,n.matchText,((t,o)=>{const i=e.selection.getRng();((e,t)=>cv(Be(t.startContainer)).map((t=>{const r=e.createRng();return r.selectNode(t.dom),r})))(e.dom,i).each((i=>{const s={hide:()=>c(),reload:t=>{a(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:t})}};r.set(!0),n.onAction(s,i,t,o),r.set(!1)}))}),o,dv.BUBBLE_TO_SANDBOX,t,n.highlightOn)}))})(n);i.length>0?((t,r)=>{var n;(n=Be(e.getBody()),fa(n,lv)).each((n=>{const i=ie(t,(e=>P.from(e.columns))).getOr(1);zm.showMenuAt(o,{anchor:{type:"node",root:Be(e.getBody()),node:P.from(n)}},((e,t,r,n)=>{const o=qw(t,n),i=Av(n);return{data:Mx({...e,movement:o,menuBehaviours:ib("auto"!==t?[]:[Yi(((e,t)=>{ob(e,4,i.item).each((({numColumns:t,numRows:r})=>{zf.setGridSize(e,r,t)}))}))])}),menu:{markers:Av(n),fakeFocus:r===Ax.ContentFocus}}})(Xv("autocompleter-value",!0,r,i,{menuType:"normal"}),i,Ax.ContentFocus,"normal"))})),l().each(Gu.highlightFirst)})(n,i):a()};e.on("AutocompleterStart",(({lookupData:e})=>{n.set(!0),r.set(!1),h(e)})),e.on("AutocompleterUpdate",(({lookupData:e})=>h(e))),e.on("AutocompleterEnd",(()=>{a(),n.set(!1),r.set(!1)}));((e,t)=>{const r=(e,t)=>{Ri(e,Yo(),{raw:t})},n=()=>e.getMenu().bind(Gu.getHighlighted);t.on("keydown",(t=>{const o=t.which;e.isActive()&&(e.isMenuOpen()?13===o?(n().each(Ni),t.preventDefault()):40===o?(n().fold((()=>{e.getMenu().each(Gu.highlightFirst)}),(e=>{r(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==o&&38!==o&&39!==o||n().each((e=>{r(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==o&&38!==o&&40!==o||e.cancelIfNecessary())})),t.on("NodeChange",(t=>{e.isActive()&&!e.isProcessingAction()&&cv(Be(t.element)).isNone()&&e.cancelIfNecessary()}))})({cancelIfNecessary:c,isMenuOpen:i,isActive:s,isProcessingAction:r.get,getMenu:l},e)},Ox=["visible","hidden"],Ix=e=>{if(Ue(e)){const t=Rt(e,"overflow");return Me(t).length>0&&!N(Ox,t)}return!1},Rx=(e,t)=>iv(e)?(e=>{const t=(r=Ix,j(((e,t)=>{const r=f(t)?t:k;let n=e.dom;const o=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,t=Be(e);if(o.push(t),!0===r(t))break;n=e}return o})(e,n),r));var r,n;return re(t).map((e=>({element:e,others:t.slice(1)})))})(t):P.none(),Nx=e=>{const t=[...V(e.others,Yr),Qr()];return((e,t)=>U(t,((e,t)=>Jr(e,t)),e))(Yr(e.element),t)},Fx=(e,t,r)=>ma(e,t,r).isSome(),Bx=(e,t)=>{let r=null;return{cancel:()=>{null!==r&&(clearTimeout(r),r=null)},schedule:(...n)=>{r=setTimeout((()=>{e.apply(null,n),r=null}),t)}}},Lx=e=>{const t=e.raw;return void 0===t.touches||1!==t.touches.length?P.none():P.some(t.touches[0])},Vx=(e,t)=>{const r={stopBackspace:!0,...t},n=(e=>{const t=Ql(),r=To(!1),n=Bx((t=>{e.triggerEvent(fi(),t),r.set(!0)}),400),o=Do([{key:Vo(),value:e=>(Lx(e).each((o=>{n.cancel();const i={x:o.clientX,y:o.clientY,target:e.target};n.schedule(e),r.set(!1),t.set(i)})),P.none())},{key:zo(),value:e=>(n.cancel(),Lx(e).each((e=>{t.on((r=>{((e,t)=>{const r=Math.abs(e.clientX-t.x),n=Math.abs(e.clientY-t.y);return r>5||n>5})(e,r)&&t.clear()}))})),P.none())},{key:Ho(),value:o=>(n.cancel(),t.get().filter((e=>Je(e.target,o.target))).map((t=>r.get()?(o.prevent(),!1):e.triggerEvent(pi(),o))))}]);return{fireIfReady:(e,t)=>ve(o,t).bind((t=>t(e)))}})(r),o=V(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(t=>tc(e,t,(e=>{n.fireIfReady(e,t).each((t=>{t&&e.kill()})),r.triggerEvent(t,e)&&e.kill()})))),i=Ql(),s=tc(e,"paste",(e=>{n.fireIfReady(e,"paste").each((t=>{t&&e.kill()})),r.triggerEvent("paste",e)&&e.kill(),i.set(setTimeout((()=>{r.triggerEvent(ci(),e)}),0))})),a=tc(e,"keydown",(e=>{r.triggerEvent("keydown",e)?e.kill():r.stopBackspace&&(e=>e.raw.which===Uu[0]&&!N(["input","textarea"],je(e.target))&&!Fx(e.target,'[contenteditable="true"]'))(e)&&e.prevent()})),l=tc(e,"focusin",(e=>{r.triggerEvent("focusin",e)&&e.kill()})),c=Ql(),h=tc(e,"focusout",(e=>{r.triggerEvent("focusout",e)&&e.kill(),c.set(setTimeout((()=>{r.triggerEvent(li(),e)}),0))}));return{unbind:()=>{z(o,(e=>{e.unbind()})),a.unbind(),l.unbind(),h.unbind(),s.unbind(),i.on(clearTimeout),c.on(clearTimeout)}}},zx=(e,t)=>{const r=ve(e,"target").getOr(t);return To(r)},Hx=Po([{stopped:[]},{resume:["element"]},{complete:[]}]),jx=(e,t,r,n,o,i)=>{const s=e(t,n),a=((e,t)=>{const r=To(!1),n=To(!1);return{stop:()=>{r.set(!0)},cut:()=>{n.set(!0)},isStopped:r.get,isCut:n.get,event:e,setSource:t.set,getSource:t.get}})(r,o);return s.fold((()=>(i.logEventNoHandlers(t,n),Hx.complete())),(e=>{const r=e.descHandler;return Ps(r)(a),a.isStopped()?(i.logEventStopped(t,e.element,r.purpose),Hx.stopped()):a.isCut()?(i.logEventCut(t,e.element,r.purpose),Hx.complete()):ot(e.element).fold((()=>(i.logNoParent(t,e.element,r.purpose),Hx.complete())),(n=>(i.logEventResponse(t,e.element,r.purpose),Hx.resume(n))))}))},Gx=(e,t,r,n,o,i)=>jx(e,t,r,n,o,i).fold(T,(n=>Gx(e,t,r,n,o,i)),k),Ux=(e,t,r,n,o)=>{const i=zx(r,n);return Gx(e,t,r,n,i,o)},qx=()=>{const e=(()=>{const e={};return{registerId:(t,r,n)=>{le(n,((n,o)=>{const i=void 0!==e[o]?e[o]:{};i[r]=((e,t)=>({cHandler:S.apply(void 0,[e.handler].concat(t)),purpose:e.purpose}))(n,t),e[o]=i}))},unregisterId:t=>{le(e,((e,r)=>{ye(e,t)&&delete e[t]}))},filterByType:t=>ve(e,t).map((e=>fe(e,((e,t)=>((e,t)=>({id:e,descHandler:t}))(t,e))))).getOr([]),find:(t,r,n)=>ve(e,r).bind((e=>Ro(n,(t=>((e,t)=>fs(t).bind((t=>ve(e,t))).map((e=>((e,t)=>({element:e,descHandler:t}))(t,e))))(e,t)),t)))}})(),t={},r=r=>{fs(r.element).each((r=>{delete t[r],e.unregisterId(r)}))};return{find:(t,r,n)=>e.find(t,r,n),filter:t=>e.filterByType(t),register:n=>{const o=(e=>{const t=e.element;return fs(t).getOrThunk((()=>((e,t)=>{const r=ls(ds+"uid-");return ps(t,r),r})(0,e.element)))})(n);be(t,o)&&((e,n)=>{const o=t[n];if(o!==e)throw new Error('The tagId "'+n+'" is already used by: '+ns(o.element)+"\nCannot use it for: "+ns(e.element)+"\nThe conflicting element is"+(bt(o.element)?" ":" not ")+"already in the DOM");r(e)})(n,o);const i=[n];e.registerId(i,o,n.events),t[o]=n},unregister:r,getById:e=>ve(t,e)}},Wx=fu({name:"Container",factory:e=>{const{attributes:t,...r}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...r},components:e.components,behaviours:fd(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[bo("components",[]),pd("containerBehaviours",[]),bo("events",{}),bo("domModification",{}),bo("eventOrder",{})]}),$x=e=>{const t=t=>ot(e.element).fold(T,(e=>Je(t,e))),r=qx(),n=(e,n)=>r.find(t,e,n),o=Vx(e.element,{triggerEvent:(e,t)=>Ea(e,t.target,(r=>((e,t,r,n)=>Ux(e,t,r,r.target,n))(n,e,t,r)))}),i={debugInfo:w("real"),triggerEvent:(e,t,r)=>{Ea(e,t,(o=>Ux(n,e,r,t,o)))},triggerFocus:(e,t)=>{fs(e).fold((()=>{Dl(e)}),(r=>{Ea(ai(),e,(r=>(((e,t,r,n,o)=>{const i=zx(r,n);jx(e,t,r,n,i,o)})(n,ai(),{originator:t,kill:v,prevent:v,target:e},e,r),!1)))}))},triggerEscape:(e,t)=>{i.triggerEvent("keydown",e.element,t.event)},getByUid:e=>f(e),getByDom:e=>m(e),build:ia,buildOrPatch:oa,addToGui:e=>{l(e)},removeFromGui:e=>{c(e)},addToWorld:e=>{s(e)},removeFromWorld:e=>{a(e)},broadcast:e=>{d(e)},broadcastOn:(e,t)=>{u(e,t)},broadcastEvent:(e,t)=>{p(e,t)},isConnected:T},s=e=>{e.connect(i),We(e.element)||(r.register(e),z(e.components(),s),i.triggerEvent(vi(),e.element,{target:e.element}))},a=e=>{We(e.element)||(z(e.components(),a),r.unregister(e)),e.disconnect()},l=t=>{kh(e,t)},c=e=>{Mh(e)},h=e=>{const t=r.filter(hi());z(t,(t=>{const r=t.descHandler;Ps(r)(e)}))},d=e=>{h({universal:!0,data:e})},u=(e,t)=>{h({universal:!1,channels:e,data:t})},p=(e,t)=>((e,t,r)=>{const n=(e=>{const t=To(!1);return{stop:()=>{t.set(!0)},cut:v,isStopped:t.get,isCut:k,event:e,setSource:C("Cannot set source of a broadcasted event"),getSource:C("Cannot get source of a broadcasted event")}})(t);return z(e,(e=>{const t=e.descHandler;Ps(t)(n)})),n.isStopped()})(r.filter(e),t),f=e=>r.getById(e).fold((()=>nn.error(new Error('Could not find component with uid: "'+e+'" in system.'))),nn.value),m=e=>{const t=fs(e).getOr("not found");return f(t)};return s(e),{root:e,element:e.element,destroy:()=>{o.unbind(),zr(e.element)},add:l,remove:c,getByUid:f,getByDom:m,addToWorld:s,removeFromWorld:a,broadcast:d,broadcastOn:u,broadcastEvent:p}},Zx=w([bo("prefix","form-field"),pd("fieldBehaviours",[bu,ud])]),Kx=w([jd({schema:[to("dom")],name:"label"}),jd({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[to("text")],name:"aria-descriptor"}),zd({factory:{sketch:e=>{const t=((e,t)=>{const r={};return le(e,((e,n)=>{N(t,n)||(r[n]=e)})),r})(e,["factory"]);return e.factory.sketch(t)}},schema:[to("factory")],name:"field"})]),Yx=mu({name:"FormField",configFields:Zx(),partFields:Kx(),factory:(e,t,r,n)=>{const o=md(e.fieldBehaviours,[bu.config({find:t=>eu(t,e,"field")}),ud.config({store:{mode:"manual",getValue:e=>bu.getCurrent(e).bind(ud.getValue),setValue:(e,t)=>{bu.getCurrent(e).each((e=>{ud.setValue(e,t)}))}}})]),i=Vi([Yi(((t,r)=>{const n=ru(t,e,["label","field","aria-descriptor"]);n.field().each((t=>{const r=ls(e.prefix);n.label().each((e=>{St(e.element,"for",r),St(t.element,"id",r)})),n["aria-descriptor"]().each((r=>{const n=ls(e.prefix);St(r.element,"id",n),St(t.element,"aria-describedby",n)}))}))}))]),s={getField:t=>eu(t,e,"field"),getLabel:t=>eu(t,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:i,apis:s}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});var Xx=Object.freeze({__proto__:null,exhibit:(e,t)=>Ts({attributes:Do([{key:t.tabAttr,value:"true"}])})}),Jx=[bo("tabAttr","data-alloy-tabstop")];const Qx=Cl({fields:Jx,name:"tabstopping",active:Xx});var eE=tinymce.util.Tools.resolve("tinymce.html.Entities");const tE=(e,t,r,n)=>{const o=rE(e,t,r,n);return Yx.sketch(o)},rE=(e,t,r,n)=>({dom:nE(r),components:e.toArray().concat([t]),fieldBehaviours:Sl(n)}),nE=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),oE=(e,t)=>Yx.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ta(t.translate(e))]}),iE=ls("form-component-change"),sE=ls("form-close"),aE=ls("form-cancel"),lE=ls("form-action"),cE=ls("form-submit"),hE=ls("form-block"),dE=ls("form-unblock"),uE=ls("form-tabchange"),pE=ls("form-resize"),fE=["input","textarea"],mE=e=>{const t=je(e);return N(fE,t)},gE=(e,t)=>{const r=t.getRoot(e).getOr(e.element);Hs(r,t.invalidClass),t.notify.each((t=>{mE(e.element)&&St(e.element,"aria-invalid",!1),t.getContainer(e).each((e=>{ts(e,t.validHtml)})),t.onValid(e)}))},vE=(e,t,r,n)=>{const o=t.getRoot(e).getOr(e.element);zs(o,t.invalidClass),t.notify.each((t=>{mE(e.element)&&St(e.element,"aria-invalid",!0),t.getContainer(e).each((e=>{ts(e,n)})),t.onInvalid(e,n)}))},yE=(e,t,r)=>t.validator.fold((()=>lx(nn.value(!0))),(t=>t.validate(e))),bE=(e,t,r)=>(t.notify.each((t=>{t.onValidate(e)})),yE(e,t).map((r=>e.getSystem().isConnected()?r.fold((r=>(vE(e,t,0,r),nn.error(r))),(r=>(gE(e,t),nn.value(r)))):nn.error("No longer in system"))));var wE=Object.freeze({__proto__:null,markValid:gE,markInvalid:vE,query:yE,run:bE,isInvalid:(e,t)=>{const r=t.getRoot(e).getOr(e.element);return js(r,t.invalidClass)}}),xE=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map((t=>Vi([ji(t.onEvent,(t=>{bE(t,e).get(x)}))].concat(t.validateOnLoad?[Yi((t=>{bE(t,e).get(v)}))]:[])))).getOr({})}),EE=[to("invalidClass"),bo("getRoot",P.none),yo("notify",[bo("aria","alert"),bo("getContainer",P.none),bo("validHtml",""),Da("onValid"),Da("onInvalid"),Da("onValidate")]),yo("validator",[to("validate"),bo("onEvent","input"),bo("validateOnLoad",!0)])];const SE=Cl({fields:EE,name:"invalidating",active:xE,apis:wE,extra:{validation:e=>t=>{const r=ud.getValue(t);return lx(e(r))}}}),_E=Cl({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Vi([zi(oi(),T)]),exhibit:()=>Ts({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),CE=ls("color-input-change"),AE=ls("color-swatch-change"),kE=ls("color-picker-cancel"),TE=jd({schema:[to("dom")],name:"label"}),PE=e=>jd({name:e+"-edge",overrides:t=>t.model.manager.edgeActions[e].fold((()=>({})),(e=>({events:Vi([Gi(Vo(),((t,r,n)=>e(t,n)),[t]),Gi(Go(),((t,r,n)=>e(t,n)),[t]),Gi(Uo(),((t,r,n)=>{n.mouseIsDown.get()&&e(t,n)}),[t])])})))}),ME=PE("top-left"),DE=PE("top"),OE=PE("top-right"),IE=PE("right"),RE=PE("bottom-right"),NE=PE("bottom"),FE=PE("bottom-left");var BE=[TE,PE("left"),IE,DE,NE,ME,OE,FE,RE,zd({name:"thumb",defaults:w({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Vi([qi(Vo(),e,"spectrum"),qi(zo(),e,"spectrum"),qi(Ho(),e,"spectrum"),qi(Go(),e,"spectrum"),qi(Uo(),e,"spectrum"),qi(Wo(),e,"spectrum")])})}),zd({schema:[Qn("mouseIsDown",(()=>To(!1)))],name:"spectrum",overrides:e=>{const t=e.model.manager,r=(r,n)=>t.getValueFromEvent(n).map((n=>t.setValueFrom(r,e,n)));return{behaviours:Sl([zf.config({mode:"special",onLeft:r=>t.onLeft(r,e),onRight:r=>t.onRight(r,e),onUp:r=>t.onUp(r,e),onDown:r=>t.onDown(r,e)}),tm.config({})]),events:Vi([ji(Vo(),r),ji(zo(),r),ji(Go(),r),ji(Uo(),((t,n)=>{e.mouseIsDown.get()&&r(t,n)}))])}}})];const LE=w("slider.change.value"),VE=e=>{const t=e.event.raw;if((e=>-1!==e.type.indexOf("touch"))(t)){const e=t;return void 0!==e.touches&&1===e.touches.length?P.some(e.touches[0]).map((e=>Wt(e.clientX,e.clientY))):P.none()}{const e=t;return void 0!==e.clientX?P.some(e).map((e=>Wt(e.clientX,e.clientY))):P.none()}},zE=e=>e.model.minX,HE=e=>e.model.minY,jE=e=>e.model.minX-1,GE=e=>e.model.minY-1,UE=e=>e.model.maxX,qE=e=>e.model.maxY,WE=e=>e.model.maxX+1,$E=e=>e.model.maxY+1,ZE=(e,t,r)=>t(e)-r(e),KE=e=>ZE(e,UE,zE),YE=e=>ZE(e,qE,HE),XE=e=>KE(e)/2,JE=e=>YE(e)/2,QE=e=>e.stepSize,eS=e=>e.snapToGrid,tS=e=>e.snapStart,rS=e=>e.rounded,nS=(e,t)=>void 0!==e[t+"-edge"],oS=e=>nS(e,"left"),iS=e=>nS(e,"right"),sS=e=>nS(e,"top"),aS=e=>nS(e,"bottom"),lS=e=>e.model.value.get(),cS=(e,t)=>({x:e,y:t}),hS=(e,t)=>{Ri(e,LE(),{value:t})},dS=(e,t,r,n)=>e<t?e:e>r?r:e===t?t-1:Math.max(t,e-n),uS=(e,t,r,n)=>e>r?e:e<t?t:e===r?r+1:Math.min(r,e+n),pS=(e,t,r)=>Math.max(t,Math.min(r,e)),fS=e=>{const{min:t,max:r,range:n,value:o,step:i,snap:s,snapStart:a,rounded:l,hasMinEdge:c,hasMaxEdge:h,minBound:d,maxBound:u,screenRange:p}=e,f=c?t-1:t,m=h?r+1:r;if(o<d)return f;if(o>u)return m;{const e=((e,t,r)=>Math.min(r,Math.max(e,t))-t)(o,d,u),c=pS(e/p*n+t,f,m);return s&&c>=t&&c<=r?((e,t,r,n,o)=>o.fold((()=>{const o=e-t,i=Math.round(o/n)*n;return pS(t+i,t-1,r+1)}),(t=>{const o=(e-t)%n,i=Math.round(o/n),s=Math.floor((e-t)/n),a=Math.floor((r-t)/n),l=t+Math.min(a,s+i)*n;return Math.max(t,l)})))(c,t,r,i,a):l?Math.round(c):c}},mS=e=>{const{min:t,max:r,range:n,value:o,hasMinEdge:i,hasMaxEdge:s,maxBound:a,maxOffset:l,centerMinEdge:c,centerMaxEdge:h}=e;return o<t?i?0:c:o>r?s?a:h:(o-t)/n*l},gS="top",vS="right",yS="bottom",bS="left",wS=e=>e.element.dom.getBoundingClientRect(),xS=(e,t)=>e[t],ES=e=>{const t=wS(e);return xS(t,bS)},SS=e=>{const t=wS(e);return xS(t,vS)},_S=e=>{const t=wS(e);return xS(t,gS)},CS=e=>{const t=wS(e);return xS(t,yS)},AS=e=>{const t=wS(e);return xS(t,"width")},kS=e=>{const t=wS(e);return xS(t,"height")},TS=(e,t,r)=>(e+t)/2-r,PS=(e,t)=>{const r=wS(e),n=wS(t),o=xS(r,bS),i=xS(r,vS),s=xS(n,bS);return TS(o,i,s)},MS=(e,t)=>{const r=wS(e),n=wS(t),o=xS(r,gS),i=xS(r,yS),s=xS(n,gS);return TS(o,i,s)},DS=(e,t)=>{Ri(e,LE(),{value:t})},OS=(e,t,r)=>{const n={min:zE(t),max:UE(t),range:KE(t),value:r,step:QE(t),snap:eS(t),snapStart:tS(t),rounded:rS(t),hasMinEdge:oS(t),hasMaxEdge:iS(t),minBound:ES(e),maxBound:SS(e),screenRange:AS(e)};return fS(n)},IS=e=>(t,r)=>((e,t,r)=>{const n=(e>0?uS:dS)(lS(r),zE(r),UE(r),QE(r));return DS(t,n),P.some(n)})(e,t,r).map(T),RS=(e,t,r,n,o,i)=>{const s=((e,t,r,n,o)=>{const i=AS(e),s=n.bind((t=>P.some(PS(t,e)))).getOr(0),a=o.bind((t=>P.some(PS(t,e)))).getOr(i),l={min:zE(t),max:UE(t),range:KE(t),value:r,hasMinEdge:oS(t),hasMaxEdge:iS(t),minBound:ES(e),minOffset:0,maxBound:SS(e),maxOffset:i,centerMinEdge:s,centerMaxEdge:a};return mS(l)})(t,i,r,n,o);return ES(t)-ES(e)+s},NS=IS(-1),FS=IS(1),BS=P.none,LS=P.none,VS={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some(((e,t)=>{hS(e,WE(t))})),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some(((e,t)=>{hS(e,jE(t))}))};var zS=Object.freeze({__proto__:null,setValueFrom:(e,t,r)=>{const n=OS(e,t,r);return DS(e,n),n},setToMin:(e,t)=>{const r=zE(t);DS(e,r)},setToMax:(e,t)=>{const r=UE(t);DS(e,r)},findValueOfOffset:OS,getValueFromEvent:e=>VE(e).map((e=>e.left)),findPositionOfValue:RS,setPositionFromValue:(e,t,r,n)=>{const o=lS(r),i=RS(e,n.getSpectrum(e),o,n.getLeftEdge(e),n.getRightEdge(e),r),s=Xt(t.element)/2;Dt(t.element,"left",i-s+"px")},onLeft:NS,onRight:FS,onUp:BS,onDown:LS,edgeActions:VS});const HS=(e,t)=>{Ri(e,LE(),{value:t})},jS=(e,t,r)=>{const n={min:HE(t),max:qE(t),range:YE(t),value:r,step:QE(t),snap:eS(t),snapStart:tS(t),rounded:rS(t),hasMinEdge:sS(t),hasMaxEdge:aS(t),minBound:_S(e),maxBound:CS(e),screenRange:kS(e)};return fS(n)},GS=e=>(t,r)=>((e,t,r)=>{const n=(e>0?uS:dS)(lS(r),HE(r),qE(r),QE(r));return HS(t,n),P.some(n)})(e,t,r).map(T),US=(e,t,r,n,o,i)=>{const s=((e,t,r,n,o)=>{const i=kS(e),s=n.bind((t=>P.some(MS(t,e)))).getOr(0),a=o.bind((t=>P.some(MS(t,e)))).getOr(i),l={min:HE(t),max:qE(t),range:YE(t),value:r,hasMinEdge:sS(t),hasMaxEdge:aS(t),minBound:_S(e),minOffset:0,maxBound:CS(e),maxOffset:i,centerMinEdge:s,centerMaxEdge:a};return mS(l)})(t,i,r,n,o);return _S(t)-_S(e)+s},qS=P.none,WS=P.none,$S=GS(-1),ZS=GS(1),KS={"top-left":P.none(),top:P.some(((e,t)=>{hS(e,GE(t))})),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some(((e,t)=>{hS(e,$E(t))})),"bottom-left":P.none(),left:P.none()};var YS=Object.freeze({__proto__:null,setValueFrom:(e,t,r)=>{const n=jS(e,t,r);return HS(e,n),n},setToMin:(e,t)=>{const r=HE(t);HS(e,r)},setToMax:(e,t)=>{const r=qE(t);HS(e,r)},findValueOfOffset:jS,getValueFromEvent:e=>VE(e).map((e=>e.top)),findPositionOfValue:US,setPositionFromValue:(e,t,r,n)=>{const o=lS(r),i=US(e,n.getSpectrum(e),o,n.getTopEdge(e),n.getBottomEdge(e),r),s=Gt(t.element)/2;Dt(t.element,"top",i-s+"px")},onLeft:qS,onRight:WS,onUp:$S,onDown:ZS,edgeActions:KS});const XS=(e,t)=>{Ri(e,LE(),{value:t})},JS=(e,t)=>({x:e,y:t}),QS=(e,t)=>(r,n)=>((e,t,r,n)=>{const o=e>0?uS:dS,i=t?lS(n).x:o(lS(n).x,zE(n),UE(n),QE(n)),s=t?o(lS(n).y,HE(n),qE(n),QE(n)):lS(n).y;return XS(r,JS(i,s)),P.some(i)})(e,t,r,n).map(T),e_=QS(-1,!1),t_=QS(1,!1),r_=QS(-1,!0),n_=QS(1,!0),o_={"top-left":P.some(((e,t)=>{hS(e,cS(jE(t),GE(t)))})),top:P.some(((e,t)=>{hS(e,cS(XE(t),GE(t)))})),"top-right":P.some(((e,t)=>{hS(e,cS(WE(t),GE(t)))})),right:P.some(((e,t)=>{hS(e,cS(WE(t),JE(t)))})),"bottom-right":P.some(((e,t)=>{hS(e,cS(WE(t),$E(t)))})),bottom:P.some(((e,t)=>{hS(e,cS(XE(t),$E(t)))})),"bottom-left":P.some(((e,t)=>{hS(e,cS(jE(t),$E(t)))})),left:P.some(((e,t)=>{hS(e,cS(jE(t),JE(t)))}))};var i_=Object.freeze({__proto__:null,setValueFrom:(e,t,r)=>{const n=OS(e,t,r.left),o=jS(e,t,r.top),i=JS(n,o);return XS(e,i),i},setToMin:(e,t)=>{const r=zE(t),n=HE(t);XS(e,JS(r,n))},setToMax:(e,t)=>{const r=UE(t),n=qE(t);XS(e,JS(r,n))},getValueFromEvent:e=>VE(e),setPositionFromValue:(e,t,r,n)=>{const o=lS(r),i=RS(e,n.getSpectrum(e),o.x,n.getLeftEdge(e),n.getRightEdge(e),r),s=US(e,n.getSpectrum(e),o.y,n.getTopEdge(e),n.getBottomEdge(e),r),a=Xt(t.element)/2,l=Gt(t.element)/2;Dt(t.element,"left",i-a+"px"),Dt(t.element,"top",s-l+"px")},onLeft:e_,onRight:t_,onUp:r_,onDown:n_,edgeActions:o_});const s_=mu({name:"Slider",configFields:[bo("stepSize",1),bo("onChange",v),bo("onChoose",v),bo("onInit",v),bo("onDragStart",v),bo("onDragEnd",v),bo("snapToGrid",!1),bo("rounded",!0),ho("snapStart"),ro("model",Yn("mode",{x:[bo("minX",0),bo("maxX",100),Qn("value",(e=>To(e.mode.minX))),to("getInitialValue"),Na("manager",zS)],y:[bo("minY",0),bo("maxY",100),Qn("value",(e=>To(e.mode.minY))),to("getInitialValue"),Na("manager",YS)],xy:[bo("minX",0),bo("maxX",100),bo("minY",0),bo("maxY",100),Qn("value",(e=>To({x:e.mode.minX,y:e.mode.minY}))),to("getInitialValue"),Na("manager",i_)]})),pd("sliderBehaviours",[zf,ud]),Qn("mouseIsDown",(()=>To(!1)))],partFields:BE,factory:(e,t,r,n)=>{const o=t=>tu(t,e,"thumb"),i=t=>tu(t,e,"spectrum"),s=t=>eu(t,e,"left-edge"),a=t=>eu(t,e,"right-edge"),l=t=>eu(t,e,"top-edge"),c=t=>eu(t,e,"bottom-edge"),h=e.model,d=h.manager,u=(t,r)=>{d.setPositionFromValue(t,r,e,{getLeftEdge:s,getRightEdge:a,getTopEdge:l,getBottomEdge:c,getSpectrum:i})},p=(e,t)=>{h.value.set(t);const r=o(e);u(e,r)},f=t=>{const r=e.mouseIsDown.get();e.mouseIsDown.set(!1),r&&eu(t,e,"thumb").each((r=>{const n=h.value.get();e.onChoose(t,r,n)}))},m=(t,r)=>{r.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,o(t))},g=(t,r)=>{r.stop(),e.onDragEnd(t,o(t)),f(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.sliderBehaviours,[zf.config({mode:"special",focusIn:t=>eu(t,e,"spectrum").map(zf.focusIn).map(T)}),ud.config({store:{mode:"manual",getValue:e=>h.value.get(),setValue:p}}),Pl.config({channels:{[Kh()]:{onReceive:f}}})]),events:Vi([ji(LE(),((t,r)=>{((t,r)=>{p(t,r);const n=o(t);e.onChange(t,n,r),P.some(!0)})(t,r.event.value)})),Yi(((t,r)=>{const n=h.getInitialValue();h.value.set(n);const s=o(t);u(t,s);const a=i(t);e.onInit(t,s,a,h.value.get())})),ji(Vo(),m),ji(Ho(),g),ji(Go(),m),ji(Wo(),g)]),apis:{resetToMin:t=>{d.setToMin(t,e)},resetToMax:t=>{d.setToMax(t,e)},setValue:p,refresh:u},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,t,r)=>{e.setValue(t,r)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),a_=ls("rgb-hex-update"),l_=ls("slider-update"),c_=ls("palette-update"),h_="form",d_=[pd("formBehaviours",[ud])],u_=e=>"<alloy.field."+e+">",p_=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:md(e.formBehaviours,[ud.config({store:{mode:"manual",getValue:t=>{const r=nu(t,e);return ce(r,((e,t)=>e().bind((e=>{return r=bu.getCurrent(e),n=new Error(`Cannot find a current component to extract the value from for form part '${t}': `+ns(e.element)),r.fold((()=>nn.error(n)),nn.value);var r,n})).map(ud.getValue)))},setValue:(t,r)=>{le(r,((r,n)=>{eu(t,e,n).each((e=>{bu.getCurrent(e).each((e=>{ud.setValue(e,r)}))}))}))}}})]),apis:{getField:(t,r)=>eu(t,e,r).bind(bu.getCurrent)}}),f_={getField:_s(((e,t,r)=>e.getField(t,r))),sketch:e=>{const t=(()=>{const e=[];return{field:(t,r)=>(e.push(t),Kd(h_,u_(t),r)),record:w(e)}})(),r=e(t),n=t.record(),o=V(n,(e=>zd({name:e,pname:u_(e)})));return hu(h_,d_,o,p_,r)}},m_=ls("valid-input"),g_=ls("invalid-input"),v_=ls("validating-input"),y_="colorcustom.rgb.",b_=(e,t,r,n)=>{const o=(r,n)=>SE.config({invalidClass:t("invalid"),notify:{onValidate:e=>{Ri(e,v_,{type:r})},onValid:e=>{Ri(e,m_,{type:r,value:ud.getValue(e)})},onInvalid:e=>{Ri(e,g_,{type:r,value:ud.getValue(e)})}},validator:{validate:t=>{const r=ud.getValue(t),o=n(r)?nn.value(!0):nn.error(e("aria.input.invalid"));return lx(o)},validateOnLoad:!1}}),i=(r,n,i,s,a)=>{const l=e(y_+"range"),c=Yx.parts.label({dom:{tag:"label",attributes:{"aria-label":s}},components:[ta(i)]}),h=Yx.parts.field({data:a,factory:Rv,inputAttributes:{type:"text",..."hex"===n?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:Sl([o(n,r),Qx.config({})]),onSetValue:e=>{SE.isInvalid(e)&&SE.run(e).get(v)}}),d=[c,h],u="hex"!==n?[Yx.parts["aria-descriptor"]({text:l})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:d.concat(u)}},s=(e,t)=>{const r=t.red,n=t.green,o=t.blue;ud.setValue(e,{red:r,green:n,blue:o})},a=Gm({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),l=(e,t)=>{a.getOpt(e).each((e=>{Dt(e.element,"background-color","#"+t.value)}))},c=fu({factory:()=>{const o={red:To(P.some(255)),green:To(P.some(255)),blue:To(P.some(255)),hex:To(P.some("ffffff"))},c=e=>o[e].get(),h=(e,t)=>{o[e].set(t)},d=e=>{const t=e.red,r=e.green,n=e.blue;h("red",P.some(t)),h("green",P.some(r)),h("blue",P.some(n))},u=(e,t)=>{const r=t.event;"hex"!==r.type?h(r.type,P.none()):n(e)},p=(e,t)=>{const n=t.event;(e=>"hex"===e.type)(n)?((e,t)=>{r(e);const n=Ub(t);h("hex",P.some(n.value));const o=iw(n);s(e,o),d(o),Ri(e,a_,{hex:n}),l(e,n)})(e,n.value):((e,t,r)=>{const n=parseInt(r,10);h(t,P.some(n)),c("red").bind((e=>c("green").bind((t=>c("blue").map((r=>rw(e,t,r,1))))))).each((t=>{const r=((e,t)=>{const r=Yb(t);return f_.getField(e,"hex").each((t=>{tm.isFocused(t)||ud.setValue(e,{hex:r.value})})),r})(e,t);Ri(e,a_,{hex:r}),l(e,r)}))})(e,n.type,n.value)},f=t=>({label:e(y_+t+".label"),description:e(y_+t+".description")}),m=f("red"),g=f("green"),v=f("blue"),y=f("hex");return mn(f_.sketch((r=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[r.field("red",Yx.sketch(i(nw,"red",m.label,m.description,255))),r.field("green",Yx.sketch(i(nw,"green",g.label,g.description,255))),r.field("blue",Yx.sketch(i(nw,"blue",v.label,v.description,255))),r.field("hex",Yx.sketch(i($b,"hex",y.label,y.description,"ffffff"))),a.asSpec()],formBehaviours:Sl([SE.config({invalidClass:t("form-invalid")}),Yf("rgb-form-events",[ji(m_,p),ji(g_,u),ji(v_,u)])])}))),{apis:{updateHex:(e,t)=>{ud.setValue(e,{hex:t.value}),((e,t)=>{const r=iw(t);s(e,r),d(r)})(e,t),l(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(e,t,r)=>{e.updateHex(t,r)}},extraApis:{}});return c},w_=(e,t)=>{const r=fu({name:"ColourPicker",configFields:[to("dom"),bo("onValidHex",v),bo("onInvalidHex",v)],factory:r=>{const n=b_(e,t,r.onValidHex,r.onInvalidHex),o=((e,t)=>{const r=s_.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),n=s_.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}}),o=(e,t)=>{const{width:r,height:n}=e,o=e.getContext("2d");if(null===o)return;o.fillStyle=t,o.fillRect(0,0,r,n);const i=o.createLinearGradient(0,0,r,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,r,n);const s=o.createLinearGradient(0,0,0,n);s.addColorStop(0,"rgba(0,0,0,0)"),s.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=s,o.fillRect(0,0,r,n)};return fu({factory:e=>{const i=w({x:0,y:0}),s=Sl([bu.config({find:P.some}),tm.config({})]);return s_.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[r,n],onChange:(e,t,r)=>{Ri(e,c_,{value:r})},onInit:(e,t,r,n)=>{o(r.element.dom,lw(cw))},sliderBehaviours:s})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,r)=>{((e,t)=>{const r=e.components()[0].element.dom,n=vw(t,100,100),i=ow(n);o(r,lw(i))})(t,r)},setThumb:(e,t,r)=>{((e,t)=>{const r=yw(iw(t));s_.setValue(e,{x:r.saturation,y:100-r.value})})(t,r)}},extraApis:{}})})(0,t),i={paletteRgba:To(cw),paletteHue:To(0)},s=Gm(((e,t)=>{const r=s_.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),n=s_.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return s_.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:w(0)},components:[r,n],sliderBehaviours:Sl([tm.config({})]),onChange:(e,t,r)=>{Ri(e,l_,{value:r})}})})(0,t)),a=Gm(o.sketch({})),l=Gm(n.sketch({})),c=(e,t,r)=>{a.getOpt(e).each((e=>{o.setHue(e,r)}))},h=(e,t)=>{l.getOpt(e).each((e=>{n.updateHex(e,t)}))},d=(e,t,r)=>{s.getOpt(e).each((e=>{s_.setValue(e,(e=>100-e/360*100)(r))}))},u=(e,t)=>{a.getOpt(e).each((e=>{o.setThumb(e,t)}))},p=(e,t,r,n)=>{((e,t)=>{const r=iw(e);i.paletteRgba.set(r),i.paletteHue.set(t)})(t,r),z(n,(n=>{n(e,t,r)}))};return{uid:r.uid,dom:r.dom,components:[a.asSpec(),s.asSpec(),l.asSpec()],behaviours:Sl([Yf("colour-picker-events",[ji(a_,(()=>{const e=[c,d,u];return(t,r)=>{const n=r.event.hex,o=(e=>yw(iw(e)))(n);p(t,n,o.hue,e)}})()),ji(c_,(()=>{const e=[h];return(t,r)=>{const n=r.event.value,o=i.paletteHue.get(),s=vw(o,n.x,100-n.y),a=bw(s);p(t,a,o,e)}})()),ji(l_,(()=>{const e=[c,h];return(t,r)=>{const n=(e=>(100-e)/100*360)(r.event.value),o=i.paletteRgba.get(),s=yw(o),a=vw(n,s.saturation,s.value),l=bw(a);p(t,l,n,e)}})())]),bu.config({find:e=>l.getOpt(e)}),zf.config({mode:"acyclic"})])}}});return r},x_=()=>bu.config({find:P.some}),E_=e=>bu.config({find:t=>lt(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))}),S_=Mn([bo("preprocess",x),bo("postprocess",x)]),__=(e,t,r)=>ud.config({store:{mode:"manual",...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:r}}),C_=(e,t,r)=>__(e,(e=>t(e.element)),((e,t)=>r(e.element,t))),A_=(e,t)=>{const r=Zn("RepresentingConfigs.memento processors",S_,t);return ud.config({store:{mode:"manual",getValue:t=>{const n=e.get(t),o=ud.getValue(n);return r.postprocess(o)},setValue:(t,n)=>{const o=r.preprocess(n),i=e.get(t);ud.setValue(i,o)}}})},k_=C_,T_=__,P_=e=>ud.config({store:{mode:"memory",initialValue:e}}),M_={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var D_=tinymce.util.Tools.resolve("tinymce.Resource"),O_=tinymce.util.Tools.resolve("tinymce.util.Tools");const I_=ls("alloy-fake-before-tabstop"),R_=ls("alloy-fake-after-tabstop"),N_=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Sl([tm.config({ignore:!0}),Qx.config({})])}),F_=e=>({dom:{tag:"div",classes:["tox-navobj"]},components:[N_([I_]),e,N_([R_])],behaviours:Sl([E_(1)])}),B_=(e,t)=>{Ri(e,Yo(),{raw:{which:9,shiftKey:t}})},L_=(e,t)=>{const r=t.element;js(r,I_)?B_(e,!0):js(r,R_)&&B_(e,!1)},V_=e=>Fx(e,["."+I_,"."+R_].join(","),k),z_=ls("toolbar.button.execute"),H_=ls("common-button-display-events"),j_={[di()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[Ei()]:["toolbar-button-events",H_],[Go()]:["focusing","alloy.base.behaviour",H_]},G_=e=>Dt(e.element,"width",Rt(e.element,"width")),U_=(e,t,r)=>Qm(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:r},t),q_=(e,t)=>U_(e,t,[]),W_=(e,t)=>U_(e,t,[Kf.config({})]),$_=(e,t,r)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[ta(r.translate(e))],behaviours:Sl([Kf.config({})])}),Z_=ls("update-menu-text"),K_=ls("update-menu-icon"),Y_=(e,t,r)=>{const n=To(v),o=e.text.map((e=>Gm($_(e,t,r.providers)))),i=e.icon.map((e=>Gm(W_(e,r.providers.icons)))),s=(e,t)=>{const r=ud.getValue(e);return tm.focus(r),Ri(r,"keydown",{raw:t.event.raw}),Ex.close(r),P.some(!0)},a=e.role.fold((()=>({})),(e=>({role:e}))),l=e.tooltip.fold((()=>({})),(e=>{const t=r.providers.translate(e);return{title:t,"aria-label":t}})),c=Qm("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},r.providers.icons),h=ls("common-button-display-events"),d=Gm(Ex.sketch({...e.uid?{uid:e.uid}:{},...a,dom:{tag:"button",classes:[t,`${t}--select`].concat(V(e.classes,(e=>`${t}--${e}`))),attributes:{...l}},components:Tb([i.map((e=>e.asSpec())),o.map((e=>e.asSpec())),P.some(c)]),matchWidth:!0,useMinWidth:!0,onOpen:(t,r,n)=>{e.searchable&&(e=>{Vv(e).each((e=>tm.focus(e)))})(n)},dropdownBehaviours:Sl([...e.dropdownBehaviours,wb((()=>e.disabled||r.providers.isDisabled())),bb(),_E.config({}),Kf.config({}),Yf("dropdown-events",[_b(e,n),Cb(e,n)]),Yf(h,[Yi(((e,t)=>G_(e)))]),Yf("menubutton-update-display-text",[ji(Z_,((e,t)=>{o.bind((t=>t.getOpt(e))).each((e=>{Kf.set(e,[ta(r.providers.translate(t.event.text))])}))})),ji(K_,((e,t)=>{i.bind((t=>t.getOpt(e))).each((e=>{Kf.set(e,[W_(t.event.icon,r.providers.icons)])}))}))])]),eventOrder:mn(j_,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Ei()]:["toolbar-button-events","dropdown-events",h]}),sandboxBehaviours:Sl([zf.config({mode:"special",onLeft:s,onRight:s}),Yf("dropdown-sandbox-events",[ji(Nv,((e,t)=>{(e=>{const t=ud.getValue(e),r=Lv(e).map(zv);Ex.refetch(t).get((()=>{const e=rx.getCoupled(t,"sandbox");r.each((t=>Lv(e).each((e=>((e,t)=>{ud.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd})(e,t)))))}))})(e),t.stop()})),ji(Fv,((e,t)=>{((e,t)=>{(e=>Wh.getState(e).bind(Gu.getHighlighted).bind(Gu.getHighlighted))(e).each((r=>{((e,t,r,n)=>{const o={...n,target:t};e.getSystem().triggerEvent(r,t,o)})(e,r.element,t.event.eventType,t.event.interactionEvent)}))})(e,t),t.stop()}))])]),lazySink:r.getSink,toggleClass:`${t}--active`,parts:{menu:{...Pv(0,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:Sx,onCollapseMenu:(e,t,r)=>{Gu.getHighlighted(r).each((t=>{Sx(e,r,t)}))},onDehighlightItem:_x}},fetch:t=>ax(S(e.fetch,t))}));return d.asSpec()},X_=e=>"separator"===e.type,J_={type:"separator"},Q_=(e,t)=>{const r=((e,t)=>{const r=U(e,((e,r)=>(e=>i(e))(r)?""===r?e:"|"===r?e.length>0&&!X_(e[e.length-1])?e.concat([J_]):e:ye(t,r.toLowerCase())?e.concat([t[r.toLowerCase()]]):e:e.concat([r])),[]);return r.length>0&&X_(r[r.length-1])&&r.pop(),r})(i(e)?e.split(" "):e,t);return G(r,((e,r)=>{if((e=>ye(e,"getSubmenuItems"))(r)){const n=(e=>{const t=ve(e,"value").getOrThunk((()=>ls("generated-menu-item")));return mn({value:t},e)})(r),o=((e,t)=>{const r=e.getSubmenuItems(),n=Q_(r,t);return{item:e,menus:mn(n.menus,{[e.value]:n.items}),expansions:mn(n.expansions,{[e.value]:e.value})}})(n,t);return{menus:mn(e.menus,o.menus),items:[o.item,...e.items],expansions:mn(e.expansions,o.expansions)}}return{...e,items:[r,...e.items]}}),{menus:{},expansions:{},items:[]})},eC=(e,t,r,n)=>{const o=ls("primary-menu"),i=Q_(e,r.shared.providers.menuItems());if(0===i.items.length)return P.none();const s=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-field",placeholder:e.placeholder}))))(n),a=Px(o,i.items,t,r,n.isHorizontalMenu,s),l=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-results"}))))(n),c=ce(i.menus,((e,n)=>Px(n,e,t,r,!1,l))),h=mn(c,Mo(o,a));return P.from(Vm.tieredData(o,h,i.expansions))},tC=e=>!ye(e,"items"),rC="data-value",nC=(e,t,r,n)=>V(r,(r=>tC(r)?{type:"togglemenuitem",text:r.text,value:r.value,active:r.value===n,onAction:()=>{ud.setValue(e,r.value),Ri(e,iE,{name:t}),tm.focus(e)}}:{type:"nestedmenuitem",text:r.text,getSubmenuItems:()=>nC(e,t,r.items,n)})),oC=(e,t)=>ie(e,(e=>tC(e)?_e(e.value===t,e):oC(e.items,t))),iC=fu({name:"HtmlSelect",configFields:[to("options"),pd("selectBehaviours",[tm,ud]),bo("selectClasses",[]),bo("selectAttributes",{}),ho("data")],factory:(e,t)=>{const r=V(e.options,(e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}}))),n=e.data.map((e=>Mo("initialValue",e))).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:r,behaviours:md(e.selectBehaviours,[tm.config({}),ud.config({store:{mode:"manual",getValue:e=>Ws(e.element),setValue:(t,r)=>{q(e.options,(e=>e.value===r)).isSome()&&$s(t.element,r)},...n}})])}}}),sC=w([bo("field1Name","field1"),bo("field2Name","field2"),Ia("onLockedChange"),Pa(["lockClass"]),bo("locked",!1),gd("coupledFieldBehaviours",[bu,ud])]),aC=(e,t)=>zd({factory:Yx,name:e,overrides:e=>({fieldBehaviours:Sl([Yf("coupled-input-behaviour",[ji(Jo(),(r=>{((e,t,r)=>eu(e,t,r).bind(bu.getCurrent))(r,e,t).each((t=>{eu(r,e,"lock").each((n=>{cm.isOn(n)&&e.onLockedChange(r,t,n)}))}))}))])])})}),lC=w([aC("field1","field2"),aC("field2","field1"),zd({factory:jm,schema:[to("dom")],name:"lock",overrides:e=>({buttonBehaviours:Sl([cm.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),cC=mu({name:"FormCoupledInputs",configFields:sC(),partFields:lC(),factory:(e,t,r,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:vd(e.coupledFieldBehaviours,[bu.config({find:P.some}),ud.config({store:{mode:"manual",getValue:t=>{const r=iu(t,e,["field1","field2"]);return{[e.field1Name]:ud.getValue(r.field1()),[e.field2Name]:ud.getValue(r.field2())}},setValue:(t,r)=>{const n=iu(t,e,["field1","field2"]);be(r,e.field1Name)&&ud.setValue(n.field1(),r[e.field1Name]),be(r,e.field2Name)&&ud.setValue(n.field2(),r[e.field2Name])}}})]),apis:{getField1:t=>eu(t,e,"field1"),getField2:t=>eu(t,e,"field2"),getLock:t=>eu(t,e,"lock")}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),hC=e=>{const t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null!==t){const e=parseFloat(t[1]),r=t[2];return nn.value({value:e,unit:r})}return nn.error(e)},dC=(e,t)=>{const r={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},n=e=>ye(r,e);return e.unit===t?P.some(e.value):n(e.unit)&&n(t)?r[e.unit]===r[t]?P.some(e.value):P.some(e.value/r[e.unit]*r[t]):P.none()},uC=e=>P.none(),pC=(e,t)=>{const r=e.label.map((e=>oE(e,t))),n=[Iu.config({disabled:()=>e.disabled||t.isDisabled()}),bb(),zf.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:e=>(Ii(e,cE),P.some(!0))}),Yf("textfield-change",[ji(Jo(),((t,r)=>{Ri(t,iE,{name:e.name})})),ji(ci(),((t,r)=>{Ri(t,iE,{name:e.name})}))]),Qx.config({})],o=e.validation.map((e=>SE.config({getRoot:e=>it(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{const r=ud.getValue(t),n=e.validator(r);return lx(!0===n?nn.value(r):nn.error(n))},validateOnLoad:e.validateOnLoad}}))).toArray(),i={...e.placeholder.fold(w({}),(e=>({placeholder:t.translate(e)}))),...e.inputMode.fold(w({}),(e=>({inputmode:e})))},s=Yx.parts.field({tag:!0===e.multiline?"textarea":"input",...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:i,inputClasses:[e.classname],inputBehaviours:Sl($([n,o])),selectOnFocus:!1,factory:Rv}),a=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[s]}:s,l=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),c=[Iu.config({disabled:()=>e.disabled||t.isDisabled(),onDisabled:e=>{Yx.getField(e).each(Iu.disable)},onEnabled:e=>{Yx.getField(e).each(Iu.enable)}}),bb()];return tE(r,a,l,c)},fC=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e))),mC=e=>e.dimension.property,gC=(e,t)=>e.dimension.getDimension(t),vC=(e,t)=>{const r=fC(e,t);Us(r,[t.shrinkingClass,t.growingClass])},yC=(e,t)=>{Hs(e.element,t.openClass),zs(e.element,t.closedClass),Dt(e.element,mC(t),"0px"),zt(e.element)},bC=(e,t)=>{Hs(e.element,t.closedClass),zs(e.element,t.openClass),Vt(e.element,mC(t))},wC=(e,t,r,n)=>{r.setCollapsed(),Dt(e.element,mC(t),gC(t,e.element)),vC(e,t),yC(e,t),t.onStartShrink(e),t.onShrunk(e)},xC=(e,t,r,n)=>{const o=n.getOrThunk((()=>gC(t,e.element)));r.setCollapsed(),Dt(e.element,mC(t),o),zt(e.element);const i=fC(e,t);Hs(i,t.growingClass),zs(i,t.shrinkingClass),yC(e,t),t.onStartShrink(e)},EC=(e,t,r)=>{const n=gC(t,e.element);("0px"===n?wC:xC)(e,t,r,P.some(n))},SC=(e,t,r)=>{const n=fC(e,t),o=js(n,t.shrinkingClass),i=gC(t,e.element);bC(e,t);const s=gC(t,e.element);(o?()=>{Dt(e.element,mC(t),i),zt(e.element)}:()=>{yC(e,t)})(),Hs(n,t.shrinkingClass),zs(n,t.growingClass),bC(e,t),Dt(e.element,mC(t),s),r.setExpanded(),t.onStartGrow(e)},_C=(e,t,r)=>{const n=fC(e,t);return!0===js(n,t.growingClass)},CC=(e,t,r)=>{const n=fC(e,t);return!0===js(n,t.shrinkingClass)};var AC=Object.freeze({__proto__:null,refresh:(e,t,r)=>{if(r.isExpanded()){Vt(e.element,mC(t));const r=gC(t,e.element);Dt(e.element,mC(t),r)}},grow:(e,t,r)=>{r.isExpanded()||SC(e,t,r)},shrink:(e,t,r)=>{r.isExpanded()&&EC(e,t,r)},immediateShrink:(e,t,r)=>{r.isExpanded()&&wC(e,t,r)},hasGrown:(e,t,r)=>r.isExpanded(),hasShrunk:(e,t,r)=>r.isCollapsed(),isGrowing:_C,isShrinking:CC,isTransitioning:(e,t,r)=>_C(e,t)||CC(e,t),toggleGrow:(e,t,r)=>{(r.isExpanded()?EC:SC)(e,t,r)},disableTransitions:vC,immediateGrow:(e,t,r)=>{r.isExpanded()||(bC(e,t),Dt(e.element,mC(t),gC(t,e.element)),vC(e,t),r.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),kC=Object.freeze({__proto__:null,exhibit:(e,t,r)=>{const n=t.expanded;return Ts(n?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:Mo(t.dimension.property,"0px")})},events:(e,t)=>Vi([Ki(ri(),((r,n)=>{n.event.raw.propertyName===e.dimension.property&&(vC(r,e),t.isExpanded()&&Vt(r.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(r))}))])}),TC=[to("closedClass"),to("openClass"),to("shrinkingClass"),to("growingClass"),ho("getAnimationRoot"),Da("onShrunk"),Da("onStartShrink"),Da("onGrown"),Da("onStartGrow"),bo("expanded",!1),ro("dimension",Yn("property",{width:[Na("property","width"),Na("getDimension",(e=>Xt(e)+"px"))],height:[Na("property","height"),Na("getDimension",(e=>Gt(e)+"px"))]}))];const PC=Cl({fields:TC,name:"sliding",active:kC,apis:AC,state:Object.freeze({__proto__:null,init:e=>{const t=To(e.expanded);return As({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:S(t.set,!1),setExpanded:S(t.set,!0),readState:()=>"expanded: "+t.get()})}})}),MC=e=>({isEnabled:()=>!Iu.isDisabled(e),setEnabled:t=>Iu.set(e,!t),setActive:t=>{const r=e.element;t?(zs(r,"tox-tbtn--enabled"),St(r,"aria-pressed",!0)):(Hs(r,"tox-tbtn--enabled"),Tt(r,"aria-pressed"))},isActive:()=>js(e.element,"tox-tbtn--enabled"),setText:t=>{Ri(e,Z_,{text:t})},setIcon:t=>Ri(e,K_,{icon:t})}),DC=(e,t,r,n,o=!0)=>Y_({text:e.text,icon:e.icon,tooltip:e.tooltip,searchable:e.search.isSome(),role:n,fetch:(t,n)=>{const o={pattern:e.search.isSome()?Cx(t):""};e.fetch((t=>{n(eC(t,dv.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!1,search:e.search}))}),o,MC(t))},onSetup:e.onSetup,getApi:MC,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...o?[Qx.config({})]:[]]},t,r.shared),OC=(e,t,r)=>{const n=e=>n=>{const o=!n.isActive();n.setActive(o),e.storage.set(o),r.shared.getSink().each((r=>{t().getOpt(r).each((t=>{Dl(t.element),Ri(t,lE,{name:e.name,value:e.storage.get()})}))}))},o=e=>t=>{t.setActive(e.storage.get())};return t=>{t(V(e,(e=>{const t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:!1,...t,onAction:n(e),onSetup:o(e)}})))}},IC=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:e,"aria-label":e}},components:[ta(e)]}),RC=ls("leaf-label-event-id"),NC=({leaf:e,onLeafAction:t,visible:r,treeId:n,backstage:o})=>{const i=e.menu.map((e=>DC(e,"tox-mbtn",o,P.none(),r))),s=[IC(e.title)];return i.each((e=>s.push(e))),jm.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(r?["tox-tree--leaf__label--visible"]:[])},components:s,role:"treeitem",action:r=>{t(e.id),r.getSystem().broadcastOn([`update-active-item-${n}`],{value:e.id})},eventOrder:{[Yo()]:[RC,"keying"]},buttonBehaviours:Sl([...r?[Qx.config({})]:[],cm.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Pl.config({channels:{[`update-active-item-${n}`]:{onReceive:(t,r)=>{(r.value===e.id?cm.on:cm.off)(t)}}}}),Yf(RC,[ji(Yo(),((e,t)=>{const r="ArrowLeft"===t.event.raw.code,n="ArrowRight"===t.event.raw.code;r?(ua(e.element,".tox-tree--directory").each((t=>{e.getSystem().getByDom(t).each((e=>{pa(t,".tox-tree--directory__label").each((t=>{e.getSystem().getByDom(t).each(tm.focus)}))}))})),t.stop()):n&&t.stop()}))])])})},FC=ls("directory-label-event-id"),BC=({directory:e,visible:t,noChildren:r,backstage:n})=>{const o=e.menu.map((e=>DC(e,"tox-mbtn",n,P.none()))),i=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(s="chevron-right",a=n.shared.providers.icons,((e,t,r)=>Qm(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},t))(s,a))]},IC(e.title)];var s,a;o.each((e=>{i.push(e)}));const l=e=>{ua(e.element,".tox-tree--directory").each((t=>{e.getSystem().getByDom(t).each((e=>cm.toggle(e)))}))};return jm.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(t?["tox-tree--directory__label--visible"]:[])},components:i,action:l,eventOrder:{[Yo()]:[FC,"keying"]},buttonBehaviours:Sl([...t?[Qx.config({})]:[],Yf(FC,[ji(Yo(),((e,t)=>{const n="ArrowRight"===t.event.raw.code,o="ArrowLeft"===t.event.raw.code;n&&r&&t.stop(),(n||o)&&ua(e.element,".tox-tree--directory").each((r=>{e.getSystem().getByDom(r).each((r=>{!cm.isOn(r)&&n||cm.isOn(r)&&o?(l(e),t.stop()):o&&!cm.isOn(r)&&(ua(r.element,".tox-tree--directory").each((e=>{pa(e,".tox-tree--directory__label").each((e=>{r.getSystem().getByDom(e).each(tm.focus)}))})),t.stop())}))}))}))])])})},LC=({children:e,onLeafAction:t,visible:r,treeId:n,backstage:o})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map((e=>"leaf"===e.type?NC({leaf:e,onLeafAction:t,visible:r,treeId:n,backstage:o}):VC({directory:e,onLeafAction:t,labelTabstopping:r,treeId:n,backstage:o}))),behaviours:Sl([PC.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking"}),Kf.config({})])}),VC=({directory:e,onLeafAction:t,labelTabstopping:r,treeId:n,backstage:o})=>{const{children:i}=e;return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[BC({directory:e,visible:r,noChildren:0===e.children.length,backstage:o}),LC({children:i,onLeafAction:t,visible:!1,treeId:n,backstage:o})],behaviours:Sl([cm.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(e,r)=>{const s=e.components()[1],a=(l=r,i.map((e=>"leaf"===e.type?NC({leaf:e,onLeafAction:t,visible:l,treeId:n,backstage:o}):VC({directory:e,onLeafAction:t,labelTabstopping:l,treeId:n,backstage:o}))));var l;r?PC.grow(s):PC.shrink(s),Kf.set(s,a)}})])}};var zC=Object.freeze({__proto__:null,events:(e,t)=>{const r=e.stream.streams.setup(e,t);return Vi([ji(e.event,r),Xi((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[ji(e,(()=>t.cancel()))])).getOr([])))}});const HC=(e,t)=>{let r=null;const n=()=>{c(r)||(clearTimeout(r),r=null)};return{cancel:n,throttle:(...o)=>{n(),r=setTimeout((()=>{r=null,e.apply(null,o)}),t)}}},jC=e=>{const t=To(null);return As({readState:()=>({timer:null!==t.get()?"set":"unset"}),setTimer:e=>{t.set(e)},cancel:()=>{const e=t.get();null!==e&&e.cancel()}})};var GC=Object.freeze({__proto__:null,throttle:jC,init:e=>e.stream.streams.state(e)}),UC=[ro("stream",Yn("mode",{throttle:[to("delay"),bo("stopEvent",!0),Na("streams",{setup:(e,t)=>{const r=e.stream,n=HC(e.onStream,r.delay);return t.setTimer(n),(e,t)=>{n.throttle(e,t),r.stopEvent&&t.stop()}},state:jC})]})),bo("event","input"),ho("cancelEvent"),Ia("onStream")];const qC=Cl({fields:UC,name:"streaming",active:zC,state:GC}),WC=(e,t,r)=>{const n=ud.getValue(r);ud.setValue(t,n),ZC(t)},$C=(e,t)=>{const r=e.element,n=Ws(r),o=r.dom;"number"!==Ct(r,"type")&&t(o,n)},ZC=e=>{$C(e,((e,t)=>e.setSelectionRange(t.length,t.length)))},KC=w("alloy.typeahead.itemexecute"),YC=w([ho("lazySink"),to("fetch"),bo("minChars",5),bo("responseTime",1e3),Da("onOpen"),bo("getHotspot",P.some),bo("getAnchorOverrides",w({})),bo("layouts",P.none()),bo("eventOrder",{}),ko("model",{},[bo("getDisplayText",(e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value)),bo("selectsOver",!0),bo("populateFromBrowse",!0)]),Da("onSetValue"),Oa("onExecute"),Da("onItemExecute"),bo("inputClasses",[]),bo("inputAttributes",{}),bo("inputStyles",{}),bo("matchWidth",!0),bo("useMinWidth",!1),bo("dismissOnBlur",!0),Pa(["openClass"]),ho("initialData"),pd("typeaheadBehaviours",[tm,ud,qC,zf,cm,rx]),Qn("lazyTypeaheadComp",(()=>To(P.none))),Qn("previewing",(()=>To(!0)))].concat(Mv()).concat(bx())),XC=w([Hd({schema:[Ta()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(t,r,n)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each((t=>{((e,t,r)=>{if(e.selectsOver){const n=ud.getValue(t),o=e.getDisplayText(n),i=ud.getValue(r);return 0===e.getDisplayText(i).indexOf(o)?P.some((()=>{WC(0,t,r),((e,t)=>{$C(e,((e,r)=>e.setSelectionRange(t,r.length)))})(t,o.length)})):P.none()}return P.none()})(e.model,t,n).fold((()=>{e.model.selectsOver?(Gu.dehighlight(r,n),e.previewing.set(!0)):e.previewing.set(!1)}),(t=>{t(),e.previewing.set(!1)}))})):e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&WC(e.model,t,n)}))},onExecute:(t,r)=>e.lazyTypeaheadComp.get().map((e=>(Ri(e,KC(),{item:r}),!0))),onHover:(t,r)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&WC(e.model,t,r)}))}})})]),JC=mu({name:"Typeahead",configFields:YC(),partFields:XC(),factory:(e,t,r,n)=>{const o=(t,r,o)=>{e.previewing.set(!1);const i=rx.getCoupled(t,"sandbox");if(Wh.isOpen(i))bu.getCurrent(i).each((e=>{Gu.getHighlighted(e).fold((()=>{o(e)}),(()=>{Li(i,e.element,"keydown",r)}))}));else{const r=e=>{bu.getCurrent(e).each(o)};ux(e,s(t),t,i,n,r,Bm.HighlightMenuAndItem).get(v)}},i=Dv(e),s=e=>t=>t.map((t=>{const r=ge(t.menus),n=Z(r,(e=>j(e.items,(e=>"item"===e.type))));return ud.getState(e).update(V(n,(e=>e.data))),t})),a=e=>bu.getCurrent(e),l="typeaheadevents",c=[tm.config({}),ud.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>Ws(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,r)=>{$s(t.element,e.model.getDisplayText(r))},...e.initialData.map((e=>Mo("initialValue",e))).getOr({})}}),qC.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(t,r)=>{const o=rx.getCoupled(t,"sandbox");if(tm.isFocused(t)&&Ws(t.element).length>=e.minChars){const r=a(o).bind((e=>Gu.getHighlighted(e).map(ud.getValue)));e.previewing.set(!0);const i=t=>{a(o).each((t=>{r.fold((()=>{e.model.selectsOver&&Gu.highlightFirst(t)}),(e=>{Gu.highlightBy(t,(t=>ud.getValue(t).value===e.value)),Gu.getHighlighted(t).orThunk((()=>(Gu.highlightFirst(t),P.none())))}))}))};ux(e,s(t),t,o,n,i,Bm.HighlightJustMenu).get(v)}},cancelEvent:gi()}),zf.config({mode:"special",onDown:(e,t)=>(o(e,t,Gu.highlightFirst),P.some(!0)),onEscape:e=>{const t=rx.getCoupled(e,"sandbox");return Wh.isOpen(t)?(Wh.close(t),P.some(!0)):P.none()},onUp:(e,t)=>(o(e,t,Gu.highlightLast),P.some(!0)),onEnter:t=>{const r=rx.getCoupled(t,"sandbox"),n=Wh.isOpen(r);if(n&&!e.previewing.get())return a(r).bind((e=>Gu.getHighlighted(e))).map((e=>(Ri(t,KC(),{item:e}),!0)));{const o=ud.getValue(t);return Ii(t,gi()),e.onExecute(r,t,o),n&&Wh.close(r),P.some(!0)}}}),cm.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),rx.config({others:{sandbox:t=>vx(e,t,{onOpen:()=>cm.on(t),onClose:()=>cm.off(t)})}}),Yf(l,[Yi((t=>{e.lazyTypeaheadComp.set(P.some(t))})),Xi((t=>{e.lazyTypeaheadComp.set(P.none())})),Qi((t=>{const r=v;fx(e,s(t),t,n,r,Bm.HighlightMenuAndItem).get(v)})),ji(KC(),((t,r)=>{const n=rx.getCoupled(t,"sandbox");WC(e.model,t,r.event.item),Ii(t,gi()),e.onItemExecute(t,n,r.event.item,ud.getValue(t)),Wh.close(n),ZC(t)}))].concat(e.dismissOnBlur?[ji(li(),(e=>{const t=rx.getCoupled(e,"sandbox");Nl(t.element).isNone()&&Wh.close(t)}))]:[]))],h={[Si()]:[ud.name(),qC.name(),l],...e.eventOrder};return{uid:e.uid,dom:Iv(mn(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...i,...md(e.typeaheadBehaviours,c)},eventOrder:h}}}),QC=e=>({...e,toCached:()=>QC(e.toCached()),bindFuture:t=>QC(e.bind((e=>e.fold((e=>lx(nn.error(e))),(e=>t(e)))))),bindResult:t=>QC(e.map((e=>e.bind(t)))),mapResult:t=>QC(e.map((e=>e.map(t)))),mapError:t=>QC(e.map((e=>e.mapError(t)))),foldResult:(t,r)=>e.map((e=>e.fold(t,r))),withTimeout:(t,r)=>QC(ax((n=>{let o=!1;const i=setTimeout((()=>{o=!0,n(nn.error(r()))}),t);e.get((e=>{o||(clearTimeout(i),n(e))}))})))}),eA=e=>QC(ax(e)),tA=(e,t,r=[],n,o,i)=>{const s=t.fold((()=>({})),(e=>({action:e}))),a={buttonBehaviours:Sl([wb((()=>!e.enabled||i.isDisabled())),bb(),Qx.config({}),Yf("button press",[Hi("click"),Hi("mousedown")])].concat(r)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...s},l=mn(a,{dom:n});return mn(l,{components:o})},rA=(e,t,r,n=[])=>{const o={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map((e=>({"aria-label":r.translate(e),title:r.translate(e)}))).getOr({})},i=e.icon.map((e=>q_(e,r.icons))),s=Tb([i]);return tA(e,t,n,o,s,r)},nA=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},oA=(e,t,r,n=[],o=[])=>{const i=r.translate(e.text),s=e.icon.map((e=>q_(e,r.icons))),a=[s.getOrThunk((()=>ta(i)))],l=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),c=[...nA(l),...s.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...o];return tA(e,t,n,{tag:"button",classes:c,attributes:{title:i}},a,r)},iA=(e,t,r,n=[],o=[])=>{const i=oA(e,P.some(t),r,n,o);return jm.sketch(i)},sA=(e,t)=>r=>{"custom"===t?Ri(r,lE,{name:e,value:{}}):"submit"===t?Ii(r,cE):"cancel"===t?Ii(r,aE):console.error("Unknown button type: ",t)},aA=(e,t,r)=>{if(((e,t)=>"menu"===t)(0,t)){const t=()=>i,n=e,o={...e,type:"menubutton",search:P.none(),onSetup:t=>(t.setEnabled(e.enabled),v),fetch:OC(n.items,t,r)},i=Gm(DC(o,"tox-tbtn",r,P.none()));return i.asSpec()}if(((e,t)=>"custom"===t||"cancel"===t||"submit"===t)(0,t)){const n=sA(e.name,t),o={...e,borderless:!1};return iA(o,n,r.shared.providers,[])}if(((e,t)=>"togglebutton"===t)(0,t))return((e,t)=>{var r,n,o;const i=P.from(e.icon).map((e=>W_(e,t.icons))).map(Gm),s={...e,name:null!==(r=e.name)&&void 0!==r?r:"",primary:"primary"===e.buttonType,buttonType:P.from(e.buttonType),tooltip:P.from(e.tooltip),icon:P.from(e.name),enabled:null!==(n=e.enabled)&&void 0!==n&&n,borderless:!1},a=s.tooltip.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),l=nA(null!==(o=e.buttonType)&&void 0!==o?o:"secondary"),c=!!e.icon&&!!e.text,h={tag:"button",classes:[...l.concat(["tox-button--icon"]),...e.active?["tox-button--enabled"]:[],...c?["tox-button--icon-and-text"]:[]],attributes:a},d=t.translate(e.text),u=ta(d),p=[...Tb([i.map((e=>e.asSpec()))]),...c?[u]:[]],f=tA(s,P.some((r=>{Ri(r,lE,{name:e.name,value:{setIcon:e=>{i.map((n=>n.getOpt(r).each((r=>{Kf.set(r,[W_(e,t.icons)])}))))}}})})),[],h,p,t);return jm.sketch(f)})({...e,tooltip:e.tooltip,text:e.text.getOrUndefined(),buttonType:e.buttonType.getOrUndefined()},r.shared.providers);throw console.error("Unknown footer button type: ",t),new Error("Unknown footer button type")},lA={type:"separator"},cA=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:v}),hA=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:v}),dA=(e,t)=>(e=>V(e,cA))(((e,t)=>j(t,(t=>t.type===e)))(e,t)),uA=e=>dA("header",e.targets),pA=e=>dA("anchor",e.targets),fA=e=>P.from(e.anchorTop).map((e=>hA("<top>",e))).toArray(),mA=e=>P.from(e.anchorBottom).map((e=>hA("<bottom>",e))).toArray(),gA=(e,t)=>{const r=e.toLowerCase();return j(t,(e=>{var t;const n=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text,o=null!==(t=e.value)&&void 0!==t?t:"";return ke(n.toLowerCase(),r)||ke(o.toLowerCase(),r)}))},vA=ls("aria-invalid"),yA=(e,t)=>{e.dom.checked=t},bA=e=>e.dom.checked,wA=e=>(t,r,n,o)=>ve(r,"name").fold((()=>e(r,o,P.none())),(i=>t.field(i,e(r,o,ve(n,i))))),xA={bar:wA(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:V(e.items,t.interpreter)}))(e,t.shared))),collection:wA(((e,t,r)=>((e,t,r)=>{const n=e.label.map((e=>oE(e,t))),o=e=>(t,r)=>{ma(r.event.target,"[data-collection-item-value]").each((n=>{e(t,r,n,Ct(n,"data-collection-item-value"))}))},i=o(((r,n,o,i)=>{n.stop(),t.isDisabled()||Ri(r,lE,{name:e.name,value:i})})),s=[ji($o(),o(((e,t,r)=>{Dl(r)}))),ji(ei(),i),ji(pi(),i),ji(Zo(),o(((e,t,r)=>{fa(e.element,"."+wv).each((e=>{Hs(e,wv)})),zs(r,wv)}))),ji(Ko(),o((e=>{fa(e.element,"."+wv).each((e=>{Hs(e,wv)}))}))),Qi(o(((t,r,n,o)=>{Ri(t,lE,{name:e.name,value:o})})))],a=(e,t)=>V($c(e.element,".tox-collection__item"),t),l=Yx.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:x},behaviours:Sl([Iu.config({disabled:t.isDisabled,onDisabled:e=>{a(e,(e=>{zs(e,"tox-collection__item--state-disabled"),St(e,"aria-disabled",!0)}))},onEnabled:e=>{a(e,(e=>{Hs(e,"tox-collection__item--state-disabled"),Tt(e,"aria-disabled")}))}}),bb(),Kf.config({}),ud.config({store:{mode:"memory",initialValue:r.getOr([])},onSetValue:(r,n)=>{((r,n)=>{const o=V(n,(r=>{const n=Um.translate(r.text),o=1===e.columns?`<div class="tox-collection__item-label">${n}</div>`:"",i=`<div class="tox-collection__item-icon">${r.icon}</div>`,s={_:" "," - ":" ","-":" "},a=n.replace(/\_| \- |\-/g,(e=>s[e]));return`<div class="tox-collection__item${t.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${eE.encodeAllRaw(r.value)}" title="${a}" aria-label="${a}">${i}${o}</div>`})),i="auto"!==e.columns&&e.columns>1?L(o,e.columns):[o],s=V(i,(e=>`<div class="tox-collection__group">${e.join("")}</div>`));ts(r.element,s.join(""))})(r,n),"auto"===e.columns&&ob(r,5,"tox-collection__item").each((({numRows:e,numColumns:t})=>{zf.setGridSize(r,e,t)})),Ii(r,pE)}}),Qx.config({}),zf.config((c=e.columns,1===c?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===c?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${pv}`}})),Yf("collection-events",s)]),eventOrder:{[di()]:["disabling","alloy.base.behaviour","collection-events"]}});var c;return tE(n,l,["tox-form__group--collection"],[])})(e,t.shared.providers,r))),alertbanner:wA(((e,t)=>((e,t)=>Wx.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[jm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Ym(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:t=>{Ri(t,lE,{name:"alert-banner",value:e.url})},buttonBehaviours:Sl([Xm()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]}))(e,t.shared.providers))),input:wA(((e,t,r)=>((e,t,r)=>pC({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:P.none(),maximized:e.maximized,data:r},t))(e,t.shared.providers,r))),textarea:wA(((e,t,r)=>((e,t,r)=>pC({name:e.name,multiline:!0,label:e.label,inputMode:P.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:P.none(),maximized:e.maximized,data:r},t))(e,t.shared.providers,r))),label:wA(((e,t)=>((e,t)=>{return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:["tox-label"]},components:[ta(t.providers.translate(e.label))]},...V(e.items,t.interpreter)],behaviours:Sl([x_(),Kf.config({}),(r=P.none(),C_(r,es,ts)),zf.config({mode:"acyclic"})])};var r})(e,t.shared))),iframe:(Wk=(e,t,r)=>((e,t,r)=>{const n=e.sandboxed,o=e.transparent,i="tox-dialog__iframe",s={...e.label.map((e=>({title:e}))).getOr({}),...r.map((e=>({srcdoc:e}))).getOr({}),...n?{sandbox:"allow-scripts allow-same-origin"}:{}},a=(e=>{const t=To(e.getOr(""));return{getValue:e=>t.get(),setValue:(e,r)=>{t.get()!==r&&St(e.element,"srcdoc",r),t.set(r)}}})(r),l=e.label.map((e=>oE(e,t))),c=Yx.parts.field({factory:{sketch:e=>F_({uid:e.uid,dom:{tag:"iframe",attributes:s,classes:o?[i]:[i,`${i}--opaque`]},behaviours:Sl([Qx.config({}),tm.config({}),T_(r,a.getValue,a.setValue)])})}});return tE(l,c,["tox-form__group--stretched"],[])})(e,t.shared.providers,r),(e,t,r,n)=>{const o=mn(t,{source:"dynamic"});return wA(Wk)(e,o,r,n)}),button:wA(((e,t)=>((e,t)=>{const r=sA(e.name,"custom");return n=P.none(),o=Yx.parts.field({factory:jm,...oA(e,P.some(r),t,[P_(""),x_()])}),tE(n,o,[],[]);var n,o})(e,t.shared.providers))),checkbox:wA(((e,t,r)=>((e,t,r)=>{const n=e=>(e.element.dom.click(),P.some(!0)),o=Yx.parts.field({factory:{sketch:x},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Sl([x_(),Iu.config({disabled:()=>!e.enabled||t.isDisabled()}),Qx.config({}),tm.config({}),k_(r,bA,yA),zf.config({mode:"special",onEnter:n,onSpace:n,stopSpaceKeyup:!0}),Yf("checkbox-events",[ji(Qo(),((t,r)=>{Ri(t,iE,{name:e.name})}))])])}),i=Yx.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[ta(t.translate(e.label))],behaviours:Sl([_E.config({})])}),s=e=>Qm("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons),a=Gm({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[s("checked"),s("unchecked")]});return Yx.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,a.asSpec(),i],fieldBehaviours:Sl([Iu.config({disabled:()=>!e.enabled||t.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:e=>{Yx.getField(e).each(Iu.disable)},onEnabled:e=>{Yx.getField(e).each(Iu.enable)}}),bb()])})})(e,t.shared.providers,r))),colorinput:wA(((e,t,r)=>((e,t,r,n)=>{const o=Yx.parts.field({factory:Rv,inputClasses:["tox-textfield"],data:n,onSetValue:e=>SE.run(e).get(v),inputBehaviours:Sl([Iu.config({disabled:t.providers.isDisabled}),bb(),Qx.config({}),SE.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>it(e.element),notify:{onValid:e=>{const t=ud.getValue(e);Ri(e,CE,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{const t=ud.getValue(e);if(0===t.length)return lx(nn.value(!0));{const e=Ne("span");Dt(e,"background-color",t);const r=Ft(e,"background-color").fold((()=>nn.error("blah")),(e=>nn.value(t)));return lx(r)}}}})]),selectOnFocus:!1}),i=e.label.map((e=>oE(e,t.providers))),s=(e,t)=>{Ri(e,AE,{value:t})},a=Gm(((e,t)=>Ex.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Sl([wb(t.providers.isDisabled),bb(),_E.config({}),Qx.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:r=>ax((t=>e.fetch(t))).map((n=>P.from(Mx(mn(Gw(ls("menu-value"),n,(t=>{e.onItemAction(r,t)}),e.columns,e.presets,dv.CLOSE_ON_EXECUTE,k,t.providers),{movement:qw(e.columns,e.presets)}))))),parts:{menu:Pv(0,0,e.presets)}}))({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[il,ol,cl],onLtr:()=>[ol,il,cl]},components:[],fetch:Bw(r.getColors(e.storageKey),e.storageKey,r.hasCustomColors()),columns:r.getColorCols(e.storageKey),presets:"color",onItemAction:(t,n)=>{a.getOpt(t).each((t=>{"custom"===n?r.colorPicker((r=>{r.fold((()=>Ii(t,kE)),(r=>{s(t,r),gw(e.storageKey,r)}))}),"#ffffff"):s(t,"remove"===n?"":n)}))}},t));return Yx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:i.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[o,a.asSpec()]}]),fieldBehaviours:Sl([Yf("form-field-events",[ji(CE,((t,r)=>{a.getOpt(t).each((e=>{Dt(e.element,"background-color",r.event.color)})),Ri(t,iE,{name:e.name})})),ji(AE,((e,t)=>{Yx.getField(e).each((r=>{ud.setValue(r,t.event.value),bu.getCurrent(e).each(tm.focus)}))})),ji(kE,((e,t)=>{Yx.getField(e).each((t=>{bu.getCurrent(e).each(tm.focus)}))}))])])})})(e,t.shared,t.colorinput,r))),colorpicker:wA(((e,t,r)=>((e,t,r)=>{const n=e=>"tox-"+e,o=w_((e=>t=>e.translate(M_[t]))(t),n),i=Gm(o.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:e=>{Ri(e,lE,{name:"hex-valid",value:!0})},onInvalidHex:e=>{Ri(e,lE,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:Sl([T_(r,(e=>{const t=i.get(e);return bu.getCurrent(t).bind((e=>ud.getValue(e).hex)).map((e=>"#"+Ae(e,"#"))).getOr("")}),((e,t)=>{const r=P.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t)).bind((e=>te(e,1))),n=i.get(e);bu.getCurrent(n).fold((()=>{console.log("Can not find form")}),(e=>{ud.setValue(e,{hex:r.getOr("")}),f_.getField(e,"hex").each((e=>{Ii(e,Jo())}))}))})),x_()])}})(0,t.shared.providers,r))),dropzone:wA(((e,t,r)=>((e,t,r)=>{const n=(e,t)=>{t.stop()},o=e=>(t,r)=>{z(e,(e=>{e(t,r)}))},i=(e,t)=>{var r;if(!Iu.isDisabled(e)){const n=t.event.raw;a(e,null===(r=n.dataTransfer)||void 0===r?void 0:r.files)}},s=(e,t)=>{const r=t.event.raw.target;a(e,r.files)},a=(r,n)=>{n&&(ud.setValue(r,((e,t)=>{const r=O_.explode(t.getOption("images_file_types"));return j(oe(e),(e=>F(r,(t=>Pe(e.name.toLowerCase(),`.${t.toLowerCase()}`)))))})(n,t)),Ri(r,iE,{name:e.name}))},l=Gm({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Sl([Yf("input-file-events",[$i(ei()),$i(pi())])])}),c=e.label.map((e=>oE(e,t))),h=Yx.parts.field({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Sl([P_(r.getOr([])),x_(),Iu.config({}),cm.config({toggleClass:"dragenter",toggleOnExecute:!1}),Yf("dropzone-events",[ji("dragenter",o([n,cm.toggle])),ji("dragleave",o([n,cm.toggle])),ji("dragover",n),ji("drop",o([n,i])),ji(Qo(),s)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[ta(t.translate("Drop an image here"))]},jm.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[ta(t.translate("Browse for an image")),l.asSpec()],action:e=>{l.get(e).element.dom.click()},buttonBehaviours:Sl([Qx.config({}),wb(t.isDisabled),bb()])})]}]})}});return tE(c,h,["tox-form__group--stretched"],[])})(e,t.shared.providers,r))),grid:wA(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:V(e.items,t.interpreter)}))(e,t.shared))),listbox:wA(((e,t,r)=>((e,t,r)=>{const n=t.shared.providers,o=r.bind((t=>oC(e.items,t))).orThunk((()=>re(e.items).filter(tC))),i=e.label.map((e=>oE(e,n))),s=Yx.parts.field({dom:{},factory:{sketch:r=>Y_({uid:r.uid,text:o.map((e=>e.text)),icon:P.none(),tooltip:e.label,role:P.none(),fetch:(r,n)=>{const o=nC(r,e.name,e.items,ud.getValue(r));n(eC(o,dv.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:P.none()}))},onSetup:w(v),getApi:w({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Qx.config({}),T_(o.map((e=>e.value)),(e=>Ct(e.element,rC)),((t,r)=>{oC(e.items,r).each((e=>{St(t.element,rC,e.value),Ri(t,Z_,{text:e.text})}))}))]},"tox-listbox",t.shared)}}),a={dom:{tag:"div",classes:["tox-listboxfield"]},components:[s]};return Yx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:$([i.toArray(),[a]]),fieldBehaviours:Sl([Iu.config({disabled:w(!e.enabled),onDisabled:e=>{Yx.getField(e).each(Iu.disable)},onEnabled:e=>{Yx.getField(e).each(Iu.enable)}})])})})(e,t,r))),selectbox:wA(((e,t,r)=>((e,t,r)=>{const n=V(e.items,(e=>({text:t.translate(e.text),value:e.value}))),o=e.label.map((e=>oE(e,t))),i=Yx.parts.field({dom:{},...r.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:n,factory:iC,selectBehaviours:Sl([Iu.config({disabled:()=>!e.enabled||t.isDisabled()}),Qx.config({}),Yf("selectbox-change",[ji(Qo(),((t,r)=>{Ri(t,iE,{name:e.name})}))])])}),s=e.size>1?P.none():P.some(Qm("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),a={dom:{tag:"div",classes:["tox-selectfield"]},components:$([[i],s.toArray()])};return Yx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:$([o.toArray(),[a]]),fieldBehaviours:Sl([Iu.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{Yx.getField(e).each(Iu.disable)},onEnabled:e=>{Yx.getField(e).each(Iu.enable)}}),bb()])})})(e,t.shared.providers,r))),sizeinput:wA(((e,t)=>((e,t)=>{let r=uC;const n=ls("ratio-event"),o=e=>Qm(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons),i=cC.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[o("lock"),o("unlock")],buttonBehaviours:Sl([Iu.config({disabled:()=>!e.enabled||t.isDisabled()}),bb(),Qx.config({})])}),s=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e}),a=r=>Yx.parts.field({factory:Rv,inputClasses:["tox-textfield"],inputBehaviours:Sl([Iu.config({disabled:()=>!e.enabled||t.isDisabled()}),bb(),Qx.config({}),Yf("size-input-events",[ji(Zo(),((e,t)=>{Ri(e,n,{isField1:r})})),ji(Qo(),((t,r)=>{Ri(t,iE,{name:e.name})}))])]),selectOnFocus:!1}),l=e=>({dom:{tag:"label",classes:["tox-label"]},components:[ta(t.translate(e))]}),c=cC.parts.field1(s([Yx.parts.label(l("Width")),a(!0)])),h=cC.parts.field2(s([Yx.parts.label(l("Height")),a(!1)]));return cC.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,h,s([l(""),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,n)=>{hC(ud.getValue(e)).each((e=>{r(e).each((e=>{ud.setValue(t,(e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let r=e.value.toFixed((n=e.unit)in t?t[n]:1);var n;return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+e.unit})(e))}))}))},coupledFieldBehaviours:Sl([Iu.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{cC.getField1(e).bind(Yx.getField).each(Iu.disable),cC.getField2(e).bind(Yx.getField).each(Iu.disable),cC.getLock(e).each(Iu.disable)},onEnabled:e=>{cC.getField1(e).bind(Yx.getField).each(Iu.enable),cC.getField2(e).bind(Yx.getField).each(Iu.enable),cC.getLock(e).each(Iu.enable)}}),bb(),Yf("size-input-events2",[ji(n,((e,t)=>{const n=t.event.isField1,o=n?cC.getField1(e):cC.getField2(e),i=n?cC.getField2(e):cC.getField1(e),s=o.map(ud.getValue).getOr(""),a=i.map(ud.getValue).getOr("");r=((e,t)=>{const r=hC(e).toOptional(),n=hC(t).toOptional();return Ee(r,n,((e,t)=>dC(e,t.unit).map((e=>t.value/e)).map((e=>{return r=e,n=t.unit,e=>dC(e,n).map((e=>({value:e*r,unit:n})));var r,n})).getOr(uC))).getOr(uC)})(s,a)}))])])})})(e,t.shared.providers))),slider:wA(((e,t,r)=>((e,t,r)=>{const n=s_.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ta(t.translate(e.label))]}),o=s_.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),i=s_.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return s_.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:w(r.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[n,o,i],sliderBehaviours:Sl([x_(),tm.config({})]),onChoose:(t,r,n)=>{Ri(t,iE,{name:e.name,value:n})}})})(e,t.shared.providers,r))),urlinput:wA(((e,t,r)=>((e,t,r,n)=>{const o=t.shared.providers,i=t=>{const n=ud.getValue(t);r.addToHistory(n.value,e.filetype)},s={...n.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":vA,type:"url"},minChars:0,responseTime:0,fetch:n=>{const o=((e,t,r)=>{const n=ud.getValue(t),o=void 0!==n.meta.text?n.meta.text:n.value;return r.getLinkInformation().fold((()=>[]),(t=>{const n=gA(o,(e=>V(e,(e=>hA(e,e))))(r.getHistory(e)));return"file"===e?(i=[n,gA(o,uA(t)),gA(o,$([fA(t),pA(t),mA(t)]))],U(i,((e,t)=>0===e.length||0===t.length?e.concat(t):e.concat(lA,t)),[])):n;var i}))})(e.filetype,n,r),i=eC(o,dv.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:P.none()});return lx(i)},getHotspot:e=>p.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(SE)&&SE.run(e).get(v)},typeaheadBehaviours:Sl([...r.getValidationHandler().map((t=>SE.config({getRoot:e=>it(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{c.getOpt(e).each((e=>{St(e.element,"title",o.translate(t))}))}},validator:{validate:r=>{const n=ud.getValue(r);return eA((r=>{t({type:e.filetype,url:n.value},(e=>{if("invalid"===e.status){const t=nn.error(e.message);r(t)}else{const t=nn.value(e.message);r(t)}}))}))},validateOnLoad:!1}}))).toArray(),Iu.config({disabled:()=>!e.enabled||o.isDisabled()}),Qx.config({}),Yf("urlinput-events",[ji(Jo(),(t=>{const r=Ws(t.element),n=r.trim();n!==r&&$s(t.element,n),"file"===e.filetype&&Ri(t,iE,{name:e.name})})),ji(Qo(),(t=>{Ri(t,iE,{name:e.name}),i(t)})),ji(ci(),(t=>{Ri(t,iE,{name:e.name}),i(t)}))])]),eventOrder:{[Jo()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:Pv(0,0,"normal")},onExecute:(e,t,r)=>{Ri(t,cE,{})},onItemExecute:(t,r,n,o)=>{i(t),Ri(t,iE,{name:e.name})}},a=Yx.parts.field({...s,factory:JC}),l=e.label.map((e=>oE(e,o))),c=Gm(((e,t,r=e,n=e)=>Qm(r,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:o.translate(n),"aria-live":"polite",...t.fold((()=>({})),(e=>({id:e})))}},o.icons))("invalid",P.some(vA),"warning")),h=Gm({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[c.asSpec()]}),d=r.getUrlPicker(e.filetype),u=ls("browser.url.event"),p=Gm({dom:{tag:"div",classes:["tox-control-wrap"]},components:[a,h.asSpec()],behaviours:Sl([Iu.config({disabled:()=>!e.enabled||o.isDisabled()})])}),f=Gm(iA({name:e.name,icon:P.some("browse"),text:e.label.getOr(""),enabled:e.enabled,primary:!1,buttonType:P.none(),borderless:!0},(e=>Ii(e,u)),o,[],["tox-browse-url"]));return Yx.sketch({dom:nE([]),components:l.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:$([[p.asSpec()],d.map((()=>f.asSpec())).toArray()])}]),fieldBehaviours:Sl([Iu.config({disabled:()=>!e.enabled||o.isDisabled(),onDisabled:e=>{Yx.getField(e).each(Iu.disable),f.getOpt(e).each(Iu.disable)},onEnabled:e=>{Yx.getField(e).each(Iu.enable),f.getOpt(e).each(Iu.enable)}}),bb(),Yf("url-input-events",[ji(u,(t=>{bu.getCurrent(t).each((r=>{const n=ud.getValue(r),o={fieldname:e.name,...n};d.each((n=>{n(o).get((n=>{ud.setValue(r,n),Ri(t,iE,{name:e.name})}))}))}))}))])])})})(e,t,t.urlinput,r))),customeditor:wA((e=>{const t=Ql(),r=Gm({dom:{tag:e.tag}}),n=Ql();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Sl([Yf("custom-editor-events",[Yi((o=>{r.getOpt(o).each((r=>{((e=>ye(e,"init"))(e)?e.init(r.element.dom):D_.load(e.scriptId,e.scriptUrl).then((t=>t(r.element.dom,e.settings)))).then((e=>{n.on((t=>{e.setValue(t)})),n.clear(),t.set(e)}))}))}))]),T_(P.none(),(()=>t.get().fold((()=>n.get().getOr("")),(e=>e.getValue()))),((e,r)=>{t.get().fold((()=>n.set(r)),(e=>e.setValue(r)))})),x_()]),components:[r.asSpec()]}})),htmlpanel:wA((e=>"presentation"===e.presets?Wx.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):Wx.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Sl([Qx.config({}),tm.config({})])}))),imagepreview:wA(((e,t,r)=>((e,t)=>{const r=To(t.getOr({url:""})),n=Gm({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map((e=>({src:e.url}))).getOr({})}}),o=Gm({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[n.asSpec()]}),i={};e.height.each((e=>i.height=e));const s=t.map((e=>({url:e.url,zoom:P.from(e.zoom),cachedWidth:P.from(e.cachedWidth),cachedHeight:P.from(e.cachedHeight)})));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:i,attributes:{role:"presentation"}},components:[o.asSpec()],behaviours:Sl([x_(),T_(s,(()=>r.get()),((e,t)=>{const i={url:t.url};t.zoom.each((e=>i.zoom=e)),t.cachedWidth.each((e=>i.cachedWidth=e)),t.cachedHeight.each((e=>i.cachedHeight=e)),r.set(i);const s=()=>{const{cachedWidth:t,cachedHeight:r,zoom:n}=i;if(!d(t)&&!d(r)){if(d(n)){const n=((e,t,r)=>{const n=Xt(e),o=Gt(e);return Math.min(n/t,o/r,1)})(e.element,t,r);i.zoom=n}const s=((e,t,r,n,o)=>{const i=r*o,s=n*o,a=Math.max(0,e/2-i/2),l=Math.max(0,t/2-s/2);return{left:a.toString()+"px",top:l.toString()+"px",width:i.toString()+"px",height:s.toString()+"px"}})(Xt(e.element),Gt(e.element),t,r,i.zoom);o.getOpt(e).each((e=>{Ot(e.element,s)}))}};n.getOpt(e).each((r=>{const n=r.element;var o;t.url!==Ct(n,"src")&&(St(n,"src",t.url),Hs(e.element,"tox-imagepreview__loaded")),s(),(o=n,new Promise(((e,t)=>{const r=()=>{i(),e(o)},n=[tc(o,"load",r),tc(o,"error",(()=>{i(),t("Unable to load data from image: "+o.dom.src)}))],i=()=>z(n,(e=>e.unbind()));o.dom.complete&&r()}))).then((t=>{e.getSystem().isConnected()&&(zs(e.element,"tox-imagepreview__loaded"),i.cachedWidth=t.dom.naturalWidth,i.cachedHeight=t.dom.naturalHeight,s())}))}))}))])}})(e,r))),table:wA(((e,t)=>((e,t)=>{const r=e=>({dom:{tag:"td",innerHtml:t.translate(e)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(o=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:V(o,(e=>({dom:{tag:"th",innerHtml:t.translate(e)}})))}]}),(n=e.cells,{dom:{tag:"tbody"},components:V(n,(e=>({dom:{tag:"tr"},components:V(e,r)})))})],behaviours:Sl([Qx.config({}),tm.config({})])};var n,o})(e,t.shared.providers))),tree:wA(((e,t)=>((e,t)=>{const r=e.onLeafAction.getOr(v),n=ls("tree-id");return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:e.items.map((e=>"leaf"===e.type?NC({leaf:e,onLeafAction:r,visible:!0,treeId:n,backstage:t}):VC({directory:e,onLeafAction:r,labelTabstopping:!0,treeId:n,backstage:t}))),behaviours:Sl([zf.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1})])}})(e,t))),panel:wA(((e,t)=>((e,t)=>({dom:{tag:"div",classes:e.classes},components:V(e.items,t.shared.interpreter)}))(e,t)))},EA={field:(e,t)=>t,record:w([])},SA=(e,t,r,n)=>{const o=mn(n,{shared:{interpreter:t=>_A(e,t,r,o)}});return _A(e,t,r,o)},_A=(e,t,r,n)=>ve(xA,t.type).fold((()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t)),(o=>o(e,t,r,n))),CA=(e,t,r)=>_A(EA,e,t,r),AA="layout-inset",kA=e=>e.x,TA=(e,t)=>e.x+e.width/2-t.width/2,PA=(e,t)=>e.x+e.width-t.width,MA=e=>e.y,DA=(e,t)=>e.y+e.height-t.height,OA=(e,t)=>e.y+e.height/2-t.height/2,IA=(e,t,r)=>La(PA(e,t),DA(e,t),r.insetSouthwest(),Ga(),"southwest",Ya(e,{right:0,bottom:3}),AA),RA=(e,t,r)=>La(kA(e),DA(e,t),r.insetSoutheast(),ja(),"southeast",Ya(e,{left:1,bottom:3}),AA),NA=(e,t,r)=>La(PA(e,t),MA(e),r.insetNorthwest(),Ha(),"northwest",Ya(e,{right:0,top:2}),AA),FA=(e,t,r)=>La(kA(e),MA(e),r.insetNortheast(),za(),"northeast",Ya(e,{left:1,top:2}),AA),BA=(e,t,r)=>La(TA(e,t),MA(e),r.insetNorth(),Ua(),"north",Ya(e,{top:2}),AA),LA=(e,t,r)=>La(TA(e,t),DA(e,t),r.insetSouth(),qa(),"south",Ya(e,{bottom:3}),AA),VA=(e,t,r)=>La(PA(e,t),OA(e,t),r.insetEast(),$a(),"east",Ya(e,{right:0}),AA),zA=(e,t,r)=>La(kA(e),OA(e,t),r.insetWest(),Wa(),"west",Ya(e,{left:1}),AA),HA=e=>{switch(e){case"north":return BA;case"northeast":return FA;case"northwest":return NA;case"south":return LA;case"southeast":return RA;case"southwest":return IA;case"east":return VA;case"west":return zA}},jA=(e,t,r,n,o)=>Zl(n).map(HA).getOr(BA)(e,t,r,n,o),GA=e=>{switch(e){case"north":return LA;case"northeast":return RA;case"northwest":return IA;case"south":return BA;case"southeast":return FA;case"southwest":return NA;case"east":return zA;case"west":return VA}},UA=(e,t,r,n,o)=>Zl(n).map(GA).getOr(BA)(e,t,r,n,o),qA={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},WA=(e,t,r)=>{const n={maxHeightFunction:cc()};return()=>r()?{type:"node",root:gt(mt(e())),node:P.from(e()),bubble:pc(12,12,qA),layouts:{onRtl:()=>[FA],onLtr:()=>[NA]},overrides:n}:{type:"hotspot",hotspot:t(),bubble:pc(-12,12,qA),layouts:{onRtl:()=>[ol,il,cl],onLtr:()=>[il,ol,cl]},overrides:n}},$A=(e,t,r)=>()=>r()?{type:"node",root:gt(mt(e())),node:P.from(e()),layouts:{onRtl:()=>[BA],onLtr:()=>[BA]}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[cl],onLtr:()=>[cl]}},ZA=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const t=e.selection.getRng();return P.some(zc.range(Be(t.startContainer),t.startOffset,Be(t.endContainer),t.endOffset))}}),KA=e=>t=>({type:"node",root:e(),node:t}),YA=(e,t,r)=>{const n=tv(e),o=()=>Be(e.getBody()),i=()=>Be(e.getContentAreaContainer()),s=()=>n||!r();return{inlineDialog:WA(i,t,s),banner:$A(i,t,s),cursor:ZA(e,o),node:KA(o)}},XA=e=>(t,r)=>{jw(e)(t,r)},JA=e=>()=>Pw(e),QA=e=>t=>Mw(e,t),ek=e=>t=>Tw(e,t),tk=e=>()=>Lg(e),rk=e=>be(e,"items"),nk=e=>be(e,"format"),ok=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],ik=e=>U(e,((e,t)=>{if(ye(t,"items")){const r=ik(t.items);return{customFormats:e.customFormats.concat(r.customFormats),formats:e.formats.concat([{title:t.title,items:r.formats}])}}if(ye(t,"inline")||(e=>ye(e,"block"))(t)||(e=>ye(e,"selector"))(t)){const r=`custom-${i(t.name)?t.name:t.title.toLowerCase()}`;return{customFormats:e.customFormats.concat([{name:r,format:t}]),formats:e.formats.concat([{title:t.title,format:r,icon:t.icon}])}}return{...e,formats:e.formats.concat(t)}}),{customFormats:[],formats:[]}),sk=e=>vg(e).map((t=>{const r=((e,t)=>{const r=ik(t),n=t=>{z(t,(t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?n(r.customFormats):e.on("init",(()=>{n(r.customFormats)})),r.formats})(e,t);return yg(e)?ok.concat(r):r})).getOr(ok),ak=(e,t,r)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:r(e.format)}),lk=(e,t,r,n)=>{const o=t=>V(t,(t=>rk(t)?(e=>{const t=o(e.items);return{...e,type:"submenu",getStyleItems:w(t)}})(t):nk(t)?(e=>ak(e,r,n))(t):(e=>{const t=se(e);return 1===t.length&&N(t,"title")})(t)?{...t,type:"separator"}:(t=>{const o=i(t.name)?t.name:ls(t.title),s=`custom-${o}`,a={...t,type:"formatter",format:s,isSelected:r(s),getStylePreview:n(s)};return e.formatter.register(o,a),a})(t)));return o(t)},ck=O_.trim,hk=e=>t=>{if((e=>p(e)&&1===e.nodeType)(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},dk=hk("true"),uk=hk("false"),pk=(e,t,r,n,o)=>({type:e,title:t,url:r,level:n,attach:o}),fk=e=>e.innerText||e.textContent,mk=e=>(e=>e&&"A"===e.nodeName&&void 0!==(e.id||e.name))(e)&&vk(e),gk=e=>e&&/^(H[1-6])$/.test(e.nodeName),vk=e=>(e=>{let t=e;for(;t=t.parentNode;){const e=t.contentEditable;if(e&&"inherit"!==e)return dk(t)}return!1})(e)&&!uk(e),yk=e=>gk(e)&&vk(e),bk=e=>{var t;const r=(e=>e.id?e.id:ls("h"))(e);return pk("header",null!==(t=fk(e))&&void 0!==t?t:"","#"+r,(e=>gk(e)?parseInt(e.nodeName.substr(1),10):0)(e),(()=>{e.id=r}))},wk=e=>{const t=e.id||e.name,r=fk(e);return pk("anchor",r||"#"+t,"#"+t,0,v)},xk=e=>ck(e.title).length>0,Ek=e=>{const t=(e=>{const t=V($c(Be(e),"h1,h2,h3,h4,h5,h6,a:not([href])"),(e=>e.dom));return t})(e);return j((e=>V(j(e,yk),bk))(t).concat((e=>V(j(e,mk),wk))(t)),xk)},Sk="tinymce-url-history",_k=e=>i(e)&&/^https?/.test(e),Ck=e=>s(e)&&me(e,(e=>{return!(l(t=e)&&t.length<=5&&K(t,_k));var t})).isNone(),Ak=()=>{const e=pw.getItem(Sk);if(null===e)return{};let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+Sk+" was not valid JSON",e),{};throw e}return Ck(t)?t:(console.log("Local storage "+Sk+" was not valid format",t),{})},kk=e=>{const t=Ak();return ve(t,e).getOr([])},Tk=(e,t)=>{if(!_k(e))return;const r=Ak(),n=ve(r,t).getOr([]),o=j(n,(t=>t!==e));r[t]=[e].concat(o).slice(0,5),(e=>{if(!Ck(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));pw.setItem(Sk,JSON.stringify(e))})(r)},Pk=e=>!!e,Mk=e=>ce(O_.makeMap(e,/[, ]/),Pk),Dk=e=>P.from(Dg(e)),Ok=e=>P.from(e).filter(i).getOrUndefined(),Ik=e=>({getHistory:kk,addToHistory:Tk,getLinkInformation:()=>(e=>Ng(e)?P.some({targets:Ek(e.getBody()),anchorTop:Ok(Fg(e)),anchorBottom:Ok(Bg(e))}):P.none())(e),getValidationHandler:()=>(e=>P.from(Og(e)))(e),getUrlPicker:t=>((e,t)=>((e,t)=>{const r=(e=>{const t=P.from(Rg(e)).filter(Pk).map(Mk);return Dk(e).fold(k,(e=>t.fold(T,(e=>se(e).length>0&&e))))})(e);return h(r)?r?Dk(e):P.none():r[t]?Dk(e):P.none()})(e,t).map((r=>n=>ax((o=>{const a={filetype:t,fieldname:n.fieldname,...P.from(n.meta).getOr({})};r.call(e,((e,t)=>{if(!i(e))throw new Error("Expected value to be string");if(void 0!==t&&!s(t))throw new Error("Expected meta to be a object");o({value:e,meta:t})}),n.value,a)})))))(e,t)}),Rk=lu,Nk=qd,Fk=w([bo("shell",!1),to("makeItem"),bo("setupItem",v),gd("listBehaviours",[Kf])]),Bk=jd({name:"items",overrides:()=>({behaviours:Sl([Kf.config({})])})}),Lk=w([Bk]),Vk=mu({name:w("CustomList")(),configFields:Fk(),partFields:Lk(),factory:(e,t,r,n)=>{const o=e.shell?{behaviours:[Kf.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:o.components,behaviours:md(e.listBehaviours,o.behaviours),apis:{setItems:(t,r)=>{var n;(n=t,e.shell?P.some(n):eu(n,e,"items")).fold((()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(n=>{const o=Kf.contents(n),i=r.length,s=i-o.length,a=s>0?B(s,(()=>e.makeItem())):[],l=o.slice(i);z(l,(e=>Kf.remove(n,e))),z(a,(e=>Kf.append(n,e)));const c=Kf.contents(n);z(c,((n,o)=>{e.setupItem(t,n,r[o],o)}))}))}}}},apis:{setItems:(e,t,r)=>{e.setItems(t,r)}}}),zk=w([to("dom"),bo("shell",!0),pd("toolbarBehaviours",[Kf])]),Hk=w([jd({name:"groups",overrides:()=>({behaviours:Sl([Kf.config({})])})})]),jk=mu({name:"Toolbar",configFields:zk(),partFields:Hk(),factory:(e,t,r,n)=>{const o=e.shell?{behaviours:[Kf.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:o.components,behaviours:md(e.toolbarBehaviours,o.behaviours),apis:{setGroups:(t,r)=>{var n;(n=t,e.shell?P.some(n):eu(n,e,"groups")).fold((()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(e=>{Kf.set(e,r)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,r)=>{e.setGroups(t,r)}}}),Gk=v,Uk=k,qk=w([]);var Wk,$k=Object.freeze({__proto__:null,setup:Gk,isDocked:Uk,getBehaviours:qk});const Zk=e=>(we(Ft(e,"position"),"fixed")?P.none():st(e)).orThunk((()=>{const t=Ne("span");return ot(e).bind((e=>{Br(e,t);const r=st(t);return zr(t),r}))})),Kk=e=>Zk(e).map(Zt).getOrThunk((()=>Wt(0,0))),Yk=(e,t)=>{const r=e.element;zs(r,t.transitionClass),Hs(r,t.fadeOutClass),zs(r,t.fadeInClass),t.onShow(e)},Xk=(e,t)=>{const r=e.element;zs(r,t.transitionClass),Hs(r,t.fadeInClass),zs(r,t.fadeOutClass),t.onHide(e)},Jk=(e,t)=>e.y>=t.y,Qk=(e,t)=>e.bottom<=t.bottom,eT=(e,t,r)=>({location:"top",leftX:t,topY:r.bounds.y-e.y}),tT=(e,t,r)=>({location:"bottom",leftX:t,bottomY:e.bottom-r.bounds.bottom}),rT=e=>e.box.x-e.win.x,nT=(e,t,r)=>r.getInitialPos().map((r=>{const n=((e,t)=>{const r=t.optScrollEnv.fold(w(e.bounds.y),(t=>t.scrollElmTop+(e.bounds.y-t.currentScrollTop)));return Wt(e.bounds.x,r)})(r,t);return{box:Kr(n.left,n.top,Xt(e),Gt(e)),location:r.location}})),oT=(e,t,r,n,o)=>{const i=((e,t)=>{const r=t.optScrollEnv.fold(w(e.y),(t=>e.y+t.currentScrollTop-t.scrollElmTop));return Wt(e.x,r)})(t,r),s=Kr(i.left,i.top,t.width,t.height);n.setInitialPos({style:Bt(e),position:Rt(e,"position")||"static",bounds:s,location:o.location})},iT=(e,t,r)=>r.getInitialPos().bind((n=>{var o;switch(r.clearInitialPos(),n.position){case"static":return P.some({morph:"static"});case"absolute":const r=Zk(e).getOr(wt()),i=Yr(r),s=null!==(o=r.dom.scrollTop)&&void 0!==o?o:0;return P.some({morph:"absolute",positionCss:Bl("absolute",ve(n.style,"left").map((e=>t.x-i.x)),ve(n.style,"top").map((e=>t.y-i.y+s)),ve(n.style,"right").map((e=>i.right-t.right)),ve(n.style,"bottom").map((e=>i.bottom-t.bottom)))});default:return P.none()}})),sT=e=>{switch(e.location){case"top":return P.some({morph:"fixed",positionCss:Bl("fixed",P.some(e.leftX),P.some(e.topY),P.none(),P.none())});case"bottom":return P.some({morph:"fixed",positionCss:Bl("fixed",P.some(e.leftX),P.none(),P.none(),P.some(e.bottomY))});default:return P.none()}},aT=(e,t,r)=>{const n=e.element;return we(Ft(n,"position"),"fixed")?((e,t,r)=>((e,t,r)=>nT(e,t,r).filter((({box:e})=>((e,t,r)=>K(e,(e=>{switch(e){case"bottom":return Qk(t,r.bounds);case"top":return Jk(t,r.bounds)}})))(r.getModes(),e,t))).bind((({box:t})=>iT(e,t,r))))(e,t,r).orThunk((()=>t.optScrollEnv.bind((n=>nT(e,t,r))).bind((({box:e,location:r})=>{const n=Qr(),o=rT({win:n,box:e}),i="top"===r?eT(n,o,t):tT(n,o,t);return sT(i)})))))(n,t,r):((e,t,r)=>{const n=Yr(e),o=Qr(),i=((e,t,r)=>{const n=t.win,o=t.box,i=rT(t);return ie(e,(e=>{switch(e){case"bottom":return Qk(o,r.bounds)?P.none():P.some(tT(n,i,r));case"top":return Jk(o,r.bounds)?P.none():P.some(eT(n,i,r));default:return P.none()}})).getOr({location:"no-dock"})})(r.getModes(),{win:o,box:n},t);return"top"===i.location||"bottom"===i.location?(oT(e,n,t,r,i),sT(i)):P.none()})(n,t,r)},lT=(e,t,r)=>{r.setDocked(!1),z(["left","right","top","bottom","position"],(t=>Vt(e.element,t))),t.onUndocked(e)},cT=(e,t,r,n)=>{const o="fixed"===n.position;r.setDocked(o),Ll(e.element,n),(o?t.onDocked:t.onUndocked)(e)},hT=(e,t,r,n,o=!1)=>{t.contextual.each((t=>{t.lazyContext(e).each((i=>{const s=((e,t)=>e.y<t.bottom&&e.bottom>t.y)(i,n.bounds);s!==r.isVisible()&&(r.setVisible(s),o&&!s?(Gs(e.element,[t.fadeOutClass]),t.onHide(e)):(s?Yk:Xk)(e,t))}))}))},dT=(e,t,r,n,o)=>{hT(e,t,r,n,!0),cT(e,t,r,o.positionCss)},uT=(e,t,r)=>{e.getSystem().isConnected()&&((e,t,r)=>{const n=t.lazyViewport(e);hT(e,t,r,n),aT(e,n,r).each((o=>{((e,t,r,n,o)=>{switch(o.morph){case"static":return lT(e,t,r);case"absolute":return cT(e,t,r,o.positionCss);case"fixed":dT(e,t,r,n,o)}})(e,t,r,n,o)}))})(e,t,r)},pT=(e,t,r)=>{r.isDocked()&&((e,t,r)=>{const n=e.element;r.setDocked(!1);const o=t.lazyViewport(e);((e,t,r)=>{const n=e.element;return nT(n,t,r).bind((({box:e})=>iT(n,e,r)))})(e,o,r).each((n=>{switch(n.morph){case"static":lT(e,t,r);break;case"absolute":cT(e,t,r,n.positionCss)}})),r.setVisible(!0),t.contextual.each((t=>{Us(n,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),uT(e,t,r)})(e,t,r)},fT=e=>(t,r,n)=>{const o=r.lazyViewport(t);((e,t,r,n)=>{const o=Yr(e),i=Qr(),s=n(i,rT({win:i,box:o}),t);return"bottom"===s.location||"top"===s.location?(((e,t,r,n,o)=>{n.getInitialPos().fold((()=>oT(e,t,r,n,o)),(()=>v))})(e,o,t,r,s),sT(s)):P.none()})(t.element,o,n,e).each((e=>{dT(t,r,n,o,e)}))},mT=fT(eT),gT=fT(tT);var vT=Object.freeze({__proto__:null,refresh:uT,reset:pT,isDocked:(e,t,r)=>r.isDocked(),getModes:(e,t,r)=>r.getModes(),setModes:(e,t,r,n)=>r.setModes(n),forceDockToTop:mT,forceDockToBottom:gT}),yT=Object.freeze({__proto__:null,events:(e,t)=>Vi([Ki(ri(),((r,n)=>{e.contextual.each((e=>{js(r.element,e.transitionClass)&&(Us(r.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(r)),n.stop()}))})),ji(wi(),((r,n)=>{uT(r,e,t)})),ji(Ti(),((r,n)=>{uT(r,e,t)})),ji(xi(),((r,n)=>{pT(r,e,t)}))])}),bT=[yo("contextual",[oo("fadeInClass"),oo("fadeOutClass"),oo("transitionClass"),so("lazyContext"),Da("onShow"),Da("onShown"),Da("onHide"),Da("onHidden")]),Co("lazyViewport",(()=>({bounds:Qr(),optScrollEnv:P.none()}))),Ao("modes",["top","bottom"],Ln),Da("onDocked"),Da("onUndocked")];const wT=Cl({fields:bT,name:"docking",active:yT,apis:vT,state:Object.freeze({__proto__:null,init:e=>{const t=To(!1),r=To(!0),n=Ql(),o=To(e.modes);return As({isDocked:t.get,setDocked:t.set,getInitialPos:n.get,setInitialPos:n.set,clearInitialPos:n.clear,isVisible:r.get,setVisible:r.set,getModes:o.get,setModes:o.set,readState:()=>`docked:  ${t.get()}, visible: ${r.get()}, modes: ${o.get().join(",")}`})}})}),xT=w(ls("toolbar-height-change")),ET={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},ST="tox-tinymce--toolbar-sticky-on",_T="tox-tinymce--toolbar-sticky-off",CT=(e,t)=>N(wT.getModes(e),t),AT=e=>{const t=e.element;it(t).each((r=>{const n="padding-"+wT.getModes(e)[0];if(wT.isDocked(e)){const e=Xt(r);Dt(t,"width",e+"px"),Dt(r,n,(e=>Ut(e)+(parseInt(Rt(e,"margin-top"),10)||0)+(parseInt(Rt(e,"margin-bottom"),10)||0))(t)+"px")}else Vt(t,"width"),Vt(r,n)}))},kT=(e,t)=>{t?(Hs(e,ET.fadeOutClass),Gs(e,[ET.transitionClass,ET.fadeInClass])):(Hs(e,ET.fadeInClass),Gs(e,[ET.fadeOutClass,ET.transitionClass]))},TT=(e,t)=>{const r=Be(e.getContainer());t?(zs(r,ST),Hs(r,_T)):(zs(r,_T),Hs(r,ST))},PT=(e,t)=>{const r=Ql(),n=t.getSink,o=e=>{n().each((t=>e(t.element)))},i=t=>{e.inline||AT(t),TT(e,wT.isDocked(t)),t.getSystem().broadcastOn([Zh()],{}),n().each((e=>e.getSystem().broadcastOn([Zh()],{})))},s=e.inline?[]:[Pl.config({channels:{[xT()]:{onReceive:AT}}})];return[tm.config({}),wT.config({contextual:{lazyContext:t=>{const r=Ut(t.element),n=e.inline?e.getContentAreaContainer():e.getContainer();return P.from(n).map((n=>{const o=Yr(Be(n));return Rx(e,t.element).fold((()=>{const e=o.height-r,n=o.y+(CT(t,"top")?0:r);return Kr(o.x,n,o.width,e)}),(e=>{const t=Jr(o,Nx(e));return Kr(t.x,t.y,t.width,t.height-r)}))}))},onShow:()=>{o((e=>kT(e,!0)))},onShown:e=>{o((e=>Us(e,[ET.transitionClass,ET.fadeInClass]))),r.get().each((t=>{((e,t)=>{const r=et(t);Rl(r).filter((e=>!Je(t,e))).filter((t=>Je(t,Be(r.dom.body))||Qe(e,t))).each((()=>Dl(t)))})(e.element,t),r.clear()}))},onHide:e=>{((e,t)=>Nl(e).orThunk((()=>t().toOptional().bind((e=>Nl(e.element))))))(e.element,n).fold(r.clear,r.set),o((e=>kT(e,!1)))},onHidden:()=>{o((e=>Us(e,[ET.transitionClass])))},...ET},lazyViewport:t=>Rx(e,t.element).fold((()=>{const r=Qr(),n=Tg(e),o=r.y+(CT(t,"top")?n:0),i=r.height-(CT(t,"bottom")?n:0);return{bounds:Kr(r.x,o,r.width,i),optScrollEnv:P.none()}}),(e=>({bounds:Nx(e),optScrollEnv:P.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Zt(e.element).top})}))),modes:[t.header.getDockingMode()],onDocked:i,onUndocked:i}),...s]};var MT=Object.freeze({__proto__:null,setup:(e,t,r)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(()=>{r().each(wT.reset)})),e.on("ResizeWindow ResizeEditor",(()=>{r().each(AT)})),e.on("SkinLoaded",(()=>{r().each((e=>{wT.isDocked(e)?wT.reset(e):wT.refresh(e)}))})),e.on("FullscreenStateChanged",(()=>{r().each(wT.reset)}))),e.on("AfterScrollIntoView",(e=>{r().each((t=>{wT.refresh(t);const r=t.element;Op(r)&&((e,t)=>{const r=et(t),n=nt(t).dom.innerHeight,o=Hr(r),i=Be(e.elm),s=Xr(i),a=Gt(i),l=s.y,c=l+a,h=Zt(t),d=Gt(t),u=h.top,p=u+d,f=Math.abs(u-o.top)<2,m=Math.abs(p-(o.top+n))<2;if(f&&l<p)jr(o.left,l-d,r);else if(m&&c>u){const e=l-n+a+d;jr(o.left,e,r)}})(e,r)}))})),e.on("PostRender",(()=>{TT(e,!1)}))},isDocked:e=>e().map(wT.isDocked).getOr(!1),getBehaviours:PT});const DT=Mn([Jv,ro("items",On([Rn([Qv,co("items",Ln)]),Ln]))].concat(Ty)),OT=[fo("text"),fo("tooltip"),fo("icon"),wo("search",!1,On([Vn,Mn([fo("placeholder")])],(e=>h(e)?e?P.some({placeholder:P.none()}):P.none():P.some(e)))),so("fetch"),Co("onSetup",(()=>v))],IT=Mn([Jv,...OT]),RT=e=>Wn("menubutton",IT,e),NT=Mn([Jv,py,uy,dy,gy,iy,cy,So("presets","normal",["normal","color","listpreview"]),xy(1),ay,ly]);var FT=fu({factory:(e,t)=>{const r={focus:zf.focusIn,setMenus:(e,r)=>{const n=V(r,(e=>{const r={type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())}},n=RT(r).mapError((e=>Kn(e))).getOrDie();return DC(n,"tox-mbtn",t.backstage,P.some("menuitem"))}));Kf.set(e,n)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:Sl([Kf.config({}),Yf("menubar-events",[Yi((t=>{e.onSetup(t)})),ji($o(),((e,t)=>{fa(e.element,".tox-mbtn--active").each((r=>{ma(t.event.target,".tox-mbtn").each((t=>{Je(r,t)||e.getSystem().getByDom(r).each((r=>{e.getSystem().getByDom(t).each((e=>{Ex.expand(e),Ex.close(r),tm.focus(e)}))}))}))}))})),ji(Ai(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((r=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{Ex.isOpen(r)&&(Ex.expand(e),Ex.close(r))}))}))}))]),zf.config({mode:"flow",selector:".tox-mbtn",onEscape:t=>(e.onEscape(t),P.some(!0))}),Qx.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[to("dom"),to("uid"),to("onEscape"),to("backstage"),bo("onSetup",v)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,r)=>{e.setMenus(t,r)}}});const BT="container",LT=[pd("slotBehaviours",[])],VT=e=>"<alloy.field."+e+">",zT=(e,t)=>{const r=t=>ou(e),n=(t,r)=>(n,o)=>eu(n,e,o).map((e=>t(e,o))).getOr(r),o=(e,t)=>"true"!==Ct(e.element,"aria-hidden"),i=n(o,!1),s=n(((e,t)=>{if(o(e)){const r=e.element;Dt(r,"display","none"),St(r,"aria-hidden","true"),Ri(e,ki(),{name:t,visible:!1})}})),a=(e=>(t,r)=>{z(r,(r=>e(t,r)))})(s),l=n(((e,t)=>{if(!o(e)){const r=e.element;Vt(r,"display"),Tt(r,"aria-hidden"),Ri(e,ki(),{name:t,visible:!0})}})),c={getSlotNames:r,getSlot:(t,r)=>eu(t,e,r),isShowing:i,hideSlot:s,hideAllSlots:e=>a(e,r()),showSlot:l};return{uid:e.uid,dom:e.dom,components:t,behaviours:fd(e.slotBehaviours),apis:c}},HT=ce({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,r)=>e.getSlot(t,r),isShowing:(e,t,r)=>e.isShowing(t,r),hideSlot:(e,t,r)=>e.hideSlot(t,r),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,r)=>e.showSlot(t,r)},(e=>_s(e))),jT={...HT,sketch:e=>{const t=(()=>{const e=[];return{slot:(t,r)=>(e.push(t),Kd(BT,VT(t),r)),record:w(e)}})(),r=e(t),n=t.record(),o=V(n,(e=>zd({name:e,pname:VT(e)})));return hu(BT,LT,o,zT,r)}},GT=Mn([uy,py,Co("onShow",v),Co("onHide",v),cy]),UT=e=>({element:()=>e.element.dom}),qT=(e,t)=>{const r=V(se(t),(e=>{const r=t[e],n=$n((e=>Wn("sidebar",GT,e))(r));return{name:e,getApi:UT,onSetup:n.onSetup,onShow:n.onShow,onHide:n.onHide}}));return V(r,(t=>{const n=To(v);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:ib([_b(t,n),Cb(t,n),ji(ki(),((e,t)=>{const n=t.event,o=q(r,(e=>e.name===n.name));o.each((t=>{(n.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},WT=e=>jT.sketch((t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:qT(t,e),slotBehaviours:ib([Yi((e=>jT.hideAllSlots(e)))])}))),$T=(e,t)=>{St(e,"role",t)},ZT=e=>bu.getCurrent(e).bind((e=>PC.isGrowing(e)||PC.hasGrown(e)?bu.getCurrent(e).bind((e=>q(jT.getSlotNames(e),(t=>jT.isShowing(e,t))))):P.none())),KT=ls("FixSizeEvent"),YT=ls("AutoSizeEvent");var XT=Object.freeze({__proto__:null,block:(e,t,r,n)=>{St(e.element,"aria-busy",!0);const o=t.getRoot(e).getOr(e),i=Sl([zf.config({mode:"special",onTab:()=>P.some(!0),onShiftTab:()=>P.some(!0)}),tm.config({})]),s=n(o,i),a=o.getSystem().build(s);Kf.append(o,sa(a)),a.hasConfigured(zf)&&t.focus&&zf.focusIn(a),r.isBlocked()||t.onBlock(e),r.blockWith((()=>Kf.remove(o,a)))},unblock:(e,t,r)=>{Tt(e.element,"aria-busy"),r.isBlocked()&&t.onUnblock(e),r.clear()}}),JT=[Co("getRoot",P.none),_o("focus",!0),Da("onBlock"),Da("onUnblock")];const QT=Cl({fields:JT,name:"blocking",apis:XT,state:Object.freeze({__proto__:null,init:()=>{const e=Xl((e=>e.destroy()));return As({readState:e.isSet,blockWith:t=>{e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),eP=e=>{const t=Re(e),r=at(t),n=(e=>{const t=void 0!==e.dom.attributes?e.dom.attributes:[];return U(t,((e,t)=>"class"===t.name?e:{...e,[t.name]:t.value}),{})})(t),o=(e=>Array.prototype.slice.call(e.dom.classList,0))(t),i=0===r.length?{}:{innerHtml:es(t)};return{tag:je(t),classes:o,attributes:n,...i}},tP=e=>bu.getCurrent(e).each((e=>Dl(e.element))),rP=(e,t,r)=>{const n=To(!1),o=Ql(),i=r=>{var o;n.get()&&(!(e=>"focusin"===e.type)(o=r)||!(o.composed?re(o.composedPath()):P.from(o.target)).map(Be).filter(qe).exists((e=>js(e,"mce-pastebin"))))&&(r.preventDefault(),tP(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(()=>{e.dom.bind(e.getWin(),"focusin",i),e.on("BeforeExecCommand",(e=>{"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&i(e)}))}));const s=o=>{o!==n.get()&&(n.set(o),((e,t,r,n)=>{const o=t.element;if(((e,t)=>{const r="tabindex",n=`data-mce-${r}`;P.from(e.iframeElement).map(Be).each((e=>{t?(At(e,r).each((t=>St(e,n,t))),St(e,r,-1)):(Tt(e,r),At(e,n).each((t=>{St(e,r,t),Tt(e,n)})))}))})(e,r),r)QT.block(t,(e=>(t,r)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:eP('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(n)),Vt(o,"display"),Tt(o,"aria-hidden"),e.hasFocus()&&tP(t);else{const r=bu.getCurrent(t).exists((e=>Il(e.element)));QT.unblock(t),Dt(o,"display","none"),St(o,"aria-hidden","true"),r&&e.focus()}})(e,t(),o,r.providers),((e,t)=>{e.dispatch("AfterProgressState",{state:t})})(e,o))};e.on("ProgressState",(t=>{if(o.on(clearTimeout),m(t.time)){const r=Hm.setEditorTimeout(e,(()=>s(t.state)),t.time);o.set(r)}else s(t.state),o.clear()}))},nP=(e,t,r)=>({within:e,extra:t,withinWidth:r}),oP=(e,t,r)=>{const n=U(e,((e,t)=>((e,t)=>{const n=r(e);return P.some({element:e,start:t,finish:t+n,width:n})})(t,e.len).fold(w(e),(t=>({len:t.finish,list:e.list.concat([t])})))),{len:0,list:[]}).list,o=j(n,(e=>e.finish<=t)),i=G(o,((e,t)=>e+t.width),0);return{within:o,extra:n.slice(o.length),withinWidth:i}},iP=e=>V(e,(e=>e.element)),sP=(e,t)=>{const r=V(t,(e=>sa(e)));jk.setGroups(e,r)},aP=(e,t,r)=>{const n=t.builtGroups.get();if(0===n.length)return;const o=tu(e,t,"primary"),i=rx.getCoupled(e,"overflowGroup");Dt(o.element,"visibility","hidden");const s=n.concat([i]),a=ie(s,(e=>Nl(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()))));r([]),sP(o,s);const l=((e,t,r,n)=>{const o=((e,t,r)=>{const n=oP(t,e,r);return 0===n.extra.length?P.some(n):P.none()})(e,t,r).getOrThunk((()=>oP(t,e-r(n),r))),i=o.within,s=o.extra,a=o.withinWidth;return 1===s.length&&s[0].width<=r(n)?((e,t,r)=>{const n=iP(e.concat(t));return nP(n,[],r)})(i,s,a):s.length>=1?((e,t,r,n)=>{const o=iP(e).concat([r]);return nP(o,iP(t),n)})(i,s,n,a):((e,t,r)=>nP(iP(e),[],r))(i,0,a)})(Xt(o.element),t.builtGroups.get(),(e=>Xt(e.element)),i);0===l.extra.length?(Kf.remove(o,i),r([])):(sP(o,l.within),r(l.extra)),Vt(o.element,"visibility"),zt(o.element),a.each(tm.focus)},lP=w([pd("splitToolbarBehaviours",[rx]),Qn("builtGroups",(()=>To([])))]),cP=w([Pa(["overflowToggledClass"]),go("getOverflowBounds"),to("lazySink"),Qn("overflowGroups",(()=>To([]))),Da("onOpened"),Da("onClosed")].concat(lP())),hP=w([zd({factory:jk,schema:zk(),name:"primary"}),Hd({schema:zk(),name:"overflow"}),Hd({name:"overflow-button"}),Hd({name:"overflow-group"})]),dP=w(((e,t)=>{((e,t)=>{const r=Yt.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Dt(e,"max-width",r+"px")})(e,Math.floor(t))})),uP=w([Pa(["toggledClass"]),to("lazySink"),so("fetch"),go("getBounds"),yo("fireDismissalEventInstead",[bo("event",_i())]),xc(),Da("onToggled")]),pP=w([Hd({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Sl([cm.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),Hd({factory:jk,schema:zk(),name:"toolbar",overrides:e=>({toolbarBehaviours:Sl([zf.config({mode:"cyclic",onEscape:t=>(eu(t,e,"button").each(tm.focus),P.none())})])})})]),fP=Ql(),mP=(e,t)=>{const r=rx.getCoupled(e,"toolbarSandbox");Wh.isOpen(r)?Wh.close(r):Wh.open(r,t.toolbar())},gP=(e,t,r,n)=>{const o=r.getBounds.map((e=>e())),i=r.lazySink(e).getOrDie();wh.positionWithinBounds(i,t,{anchor:{type:"hotspot",hotspot:e,layouts:n,overrides:{maxWidthFunction:dP()}}},o)},vP=(e,t,r,n,o)=>{jk.setGroups(t,o),gP(e,t,r,n),cm.on(e)},yP=mu({name:"FloatingToolbarButton",factory:(e,t,r,n)=>({...jm.sketch({...n.button(),action:e=>{mP(e,n)},buttonBehaviours:vd({dump:n.button().buttonBehaviours},[rx.config({others:{toolbarSandbox:t=>((e,t,r)=>{const n=va();return{dom:{tag:"div",attributes:{id:n.id}},behaviours:Sl([zf.config({mode:"special",onEscape:e=>(Wh.close(e),P.some(!0))}),Wh.config({onOpen:(o,i)=>{const s=fP.get().getOr(!1);r.fetch().get((o=>{vP(e,i,r,t.layouts,o),n.link(e.element),s||zf.focusIn(i)}))},onClose:()=>{cm.off(e),fP.get().getOr(!1)||tm.focus(e),n.unlink(e.element)},isPartOf:(t,r,n)=>ya(r,n)||ya(e,n),getAttachPoint:()=>r.lazySink(e).getOrDie()}),Pl.config({channels:{...Xh({isExtraPart:k,...r.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Qh({doReposition:()=>{Wh.getState(rx.getCoupled(e,"toolbarSandbox")).each((n=>{gP(e,n,r,t.layouts)}))}})}})])}})(t,r,e)}})])}),apis:{setGroups:(t,n)=>{Wh.getState(rx.getCoupled(t,"toolbarSandbox")).each((o=>{vP(t,o,e,r.layouts,n)}))},reposition:t=>{Wh.getState(rx.getCoupled(t,"toolbarSandbox")).each((n=>{gP(t,n,e,r.layouts)}))},toggle:e=>{mP(e,n)},toggleWithoutFocusing:e=>{((e,t)=>{fP.set(!0),mP(e,t),fP.clear()})(e,n)},getToolbar:e=>Wh.getState(rx.getCoupled(e,"toolbarSandbox")),isOpen:e=>Wh.isOpen(rx.getCoupled(e,"toolbarSandbox"))}}),configFields:uP(),partFields:pP(),apis:{setGroups:(e,t,r)=>{e.setGroups(t,r)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),bP=w([to("items"),Pa(["itemSelector"]),pd("tgroupBehaviours",[zf])]),wP=w([Gd({name:"items",unit:"item"})]),xP=mu({name:"ToolbarGroup",configFields:bP(),partFields:wP(),factory:(e,t,r,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:md(e.tgroupBehaviours,[zf.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),EP=e=>V(e,(e=>sa(e))),SP=(e,t,r)=>{aP(e,r,(n=>{r.overflowGroups.set(n),t.getOpt(e).each((e=>{yP.setGroups(e,EP(n))}))}))},_P=mu({name:"SplitFloatingToolbar",configFields:cP(),partFields:hP(),factory:(e,t,r,n)=>{const o=Gm(yP.sketch({fetch:()=>ax((t=>{t(EP(e.overflowGroups.get()))})),layouts:{onLtr:()=>[il,ol],onRtl:()=>[ol,il],onBottomLtr:()=>[al,sl],onBottomRtl:()=>[sl,al]},getBounds:r.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:n["overflow-button"](),toolbar:n.overflow()},onToggled:(t,r)=>e[r?"onOpened":"onClosed"](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.splitToolbarBehaviours,[rx.config({others:{overflowGroup:()=>xP.sketch({...n["overflow-group"](),items:[o.asSpec()]})}})]),apis:{setGroups:(t,r)=>{e.builtGroups.set(V(r,t.getSystem().build)),SP(t,o,e)},refresh:t=>SP(t,o,e),toggle:e=>{o.getOpt(e).each((e=>{yP.toggle(e)}))},toggleWithoutFocusing:e=>{o.getOpt(e).each(yP.toggleWithoutFocusing)},isOpen:e=>o.getOpt(e).map(yP.isOpen).getOr(!1),reposition:e=>{o.getOpt(e).each((e=>{yP.reposition(e)}))},getOverflow:e=>o.getOpt(e).bind(yP.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,r)=>{e.setGroups(t,r)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),CP=w([Pa(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Da("onOpened"),Da("onClosed")].concat(lP())),AP=w([zd({factory:jk,schema:zk(),name:"primary"}),zd({factory:jk,schema:zk(),name:"overflow",overrides:e=>({toolbarBehaviours:Sl([PC.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{eu(t,e,"overflow-button").each((e=>{cm.off(e),tm.focus(e)})),e.onClosed(t)},onGrown:t=>{zf.focusIn(t),e.onOpened(t)},onStartGrow:t=>{eu(t,e,"overflow-button").each(cm.on)}}),zf.config({mode:"acyclic",onEscape:t=>(eu(t,e,"overflow-button").each(tm.focus),P.some(!0))})])})}),Hd({name:"overflow-button",overrides:e=>({buttonBehaviours:Sl([cm.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Hd({name:"overflow-group"})]),kP=(e,t)=>{eu(e,t,"overflow-button").bind((()=>eu(e,t,"overflow"))).each((r=>{TP(e,t),PC.toggleGrow(r)}))},TP=(e,t)=>{eu(e,t,"overflow").each((r=>{aP(e,t,(e=>{const t=V(e,(e=>sa(e)));jk.setGroups(r,t)})),eu(e,t,"overflow-button").each((e=>{PC.hasGrown(r)&&cm.on(e)})),PC.refresh(r)}))},PP=mu({name:"SplitSlidingToolbar",configFields:CP(),partFields:AP(),factory:(e,t,r,n)=>{const o="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.splitToolbarBehaviours,[rx.config({others:{overflowGroup:e=>xP.sketch({...n["overflow-group"](),items:[jm.sketch({...n["overflow-button"](),action:t=>{Ii(e,o)}})]})}}),Yf("toolbar-toggle-events",[ji(o,(t=>{kP(t,e)}))])]),apis:{setGroups:(t,r)=>{((t,r)=>{const n=V(r,t.getSystem().build);e.builtGroups.set(n)})(t,r),TP(t,e)},refresh:t=>TP(t,e),toggle:t=>kP(t,e),isOpen:t=>((e,t)=>eu(e,t,"overflow").map(PC.hasGrown).getOr(!1))(t,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,r)=>{e.setGroups(t,r)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),MP=e=>{const t=e.title.fold((()=>({})),(e=>({attributes:{title:e}})));return{dom:{tag:"div",classes:["tox-toolbar__group"],...t},components:[xP.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Sl([Qx.config({}),tm.config({})])}},DP=e=>xP.sketch(MP(e)),OP=(e,t)=>{const r=Yi((t=>{const r=V(e.initGroups,DP);jk.setGroups(t,r)}));return Sl([Eb(e.providers.isDisabled),bb(),zf.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Yf("toolbar-events",[r])])},IP=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":MP({title:P.none(),items:[]}),"overflow-button":rA({name:"more",icon:P.some("more-drawer"),enabled:!0,tooltip:P.some("More..."),primary:!1,buttonType:P.none(),borderless:!1},P.none(),e.providers)},splitToolbarBehaviours:OP(e,t)}},RP=e=>{const t=IP(e),r=_P.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return _P.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element,r=Xr(t),n=rt(t),o=Xr(n),i=Math.max(n.dom.scrollHeight,o.height);return Kr(r.x+4,o.y,r.width-8,i)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>e.onToggled(t,!0),onClosed:t=>e.onToggled(t,!1)})},NP=e=>{const t=PP.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),r=PP.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),n=IP(e);return PP.sketch({...n,components:[t,r],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>{t.getSystem().broadcastOn([xT()],{type:"opened"}),e.onToggled(t,!0)},onClosed:t=>{t.getSystem().broadcastOn([xT()],{type:"closed"}),e.onToggled(t,!1)}})},FP=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return jk.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===rg.scrolling?["tox-toolbar--scrolling"]:[])},components:[jk.parts.groups({})],toolbarBehaviours:OP(e,t)})},BP=[dy,uy,fo("tooltip"),So("buttonType","secondary",["primary","secondary"]),_o("borderless",!1),so("onAction")],LP={button:[...BP,ty,io("type",["button"])],togglebutton:[...BP,_o("active",!1),io("type",["togglebutton"])]},VP=[io("type",["group"]),Ao("buttons",[],Yn("type",LP))],zP=Yn("type",{...LP,group:VP}),HP=Mn([Ao("buttons",[],zP),so("onShow"),so("onHide")]),jP=(e,t)=>((e,t)=>{var r,n;const o="togglebutton"===e.type,i=e.icon.map((e=>W_(e,t.icons))).map(Gm),s={...e,name:o?e.text.getOr(e.icon.getOr("")):null!==(r=e.text)&&void 0!==r?r:e.icon.getOr(""),primary:"primary"===e.buttonType,buttonType:P.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},a=nA(null!==(n=e.buttonType)&&void 0!==n?n:"secondary"),l=o?e.text.map(t.translate):P.some(t.translate(e.text)),c=l.map(ta),h=s.tooltip.or(l).map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),d=i.map((e=>e.asSpec())),u=Tb([d,c]),p=e.icon.isSome()&&c.isSome(),f={tag:"button",classes:a.concat(...e.icon.isSome()&&!p?["tox-button--icon"]:[]).concat(...p?["tox-button--icon-and-text"]:[]).concat(...e.borderless?["tox-button--naked"]:[]).concat(..."togglebutton"===e.type&&e.active?["tox-button--enabled"]:[]),attributes:h},m=tA(s,P.some((r=>{const n=e=>{i.map((n=>n.getOpt(r).each((r=>{Kf.set(r,[W_(e,t.icons)])}))))};return o?e.onAction({setIcon:n,setActive:e=>{const t=r.element;e?(zs(t,"tox-button--enabled"),St(t,"aria-pressed",!0)):(Hs(t,"tox-button--enabled"),Tt(t,"aria-pressed"))},isActive:()=>js(r.element,"tox-button--enabled")}):"button"===e.type?e.onAction({setIcon:n}):void 0})),[],f,u,t);return jm.sketch(m)})(e,t),GP=Mr().deviceType,UP=GP.isPhone(),qP=GP.isTablet();var WP=mu({name:"silver.View",configFields:[to("viewConfig")],partFields:[jd({factory:{sketch:e=>{let t=!1;const r=V(e.buttons,(r=>"group"===r.type?(t=!0,((e,t)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:V(e.buttons,(e=>jP(e,t)))}))(r,e.providers)):jP(r,e.providers)));return{uid:e.uid,dom:{tag:"div",classes:[t?"tox-view__toolbar":"tox-view__header",...UP||qP?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Sl([tm.config({}),zf.config({mode:"flow",selector:"button, .tox-button",focusInside:up.OnEnterOrSpaceMode})]),components:t?r:[Wx.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Wx.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:r})]}}},schema:[to("buttons"),to("providers")],name:"header"}),jd({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(e,t,r,n)=>{const o={getPane:t=>Rk.getPart(t,e,"pane"),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,apis:o}},apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const $P=(e,t,r)=>fe(t,((t,n)=>{const o=$n(Wn("view",HP,t));return e.slot(n,WP.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:o,components:[...o.buttons.length>0?[WP.parts.header({buttons:o.buttons,providers:r})]:[],WP.parts.pane({})]}))})),ZP=(e,t)=>jT.sketch((r=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:$P(r,e,t),slotBehaviours:ib([Yi((e=>jT.hideAllSlots(e)))])}))),KP=e=>q(jT.getSlotNames(e),(t=>jT.isShowing(e,t))),YP=(e,t,r)=>{jT.getSlot(e,t).each((e=>{WP.getPane(e).each((t=>{var n;r(e)((n=t.element.dom,{getContainer:w(n)}))}))}))};var XP=fu({factory:(e,t)=>{const r={setViews:(e,r)=>{Kf.set(e,[ZP(r,t.backstage.shared.providers)])},whichView:e=>bu.getCurrent(e).bind(KP),toggleView:(e,t,r,n)=>bu.getCurrent(e).exists((o=>{const i=KP(o),s=i.exists((e=>n===e)),a=jT.getSlot(o,n).isSome();return a&&(jT.hideAllSlots(o),s?((e=>{const t=e.element;Dt(t,"display","none"),St(t,"aria-hidden","true")})(e),t()):(r(),(e=>{const t=e.element;Vt(t,"display"),Tt(t,"aria-hidden")})(e),jT.showSlot(o,n),((e,t)=>{YP(e,t,WP.getOnShow)})(o,n)),i.each((e=>((e,t)=>YP(e,t,WP.getOnHide))(o,e)))),a}))};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Sl([Kf.config({}),bu.config({find:e=>{const t=Kf.contents(e);return re(t)}})]),apis:r}},name:"silver.ViewWrapper",configFields:[to("backstage")],apis:{setViews:(e,t,r)=>e.setViews(t,r),toggleView:(e,t,r,n,o)=>e.toggleView(t,r,n,o),whichView:(e,t)=>e.whichView(t)}});const JP=Nk.optional({factory:FT,name:"menubar",schema:[to("backstage")]}),QP=Nk.optional({factory:{sketch:e=>Vk.sketch({uid:e.uid,dom:e.dom,listBehaviours:Sl([zf.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>FP({type:e.type,uid:ls("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),P.some(!0))}),setupItem:(e,t,r,n)=>{jk.setGroups(t,r)},shell:!0})},name:"multiple-toolbar",schema:[to("dom"),to("onEscape")]}),eM=Nk.optional({factory:{sketch:e=>{const t=(e=>e.type===rg.sliding?NP:e.type===rg.floating?RP:FP)(e);return t({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),P.some(!0)),onToggled:(t,r)=>e.onToolbarToggled(r),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[to("dom"),to("onEscape"),to("getSink")]}),tM=Nk.optional({factory:{sketch:e=>{const t=e.editor,r=e.sticky?PT:qk;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Sl(r(t,e.sharedBackstage))}}},name:"header",schema:[to("dom")]}),rM=Nk.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[to("dom")]}),nM=Nk.optional({name:"socket",schema:[to("dom")]}),oM=Nk.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Sl([Qx.config({}),tm.config({}),PC.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{bu.getCurrent(e).each(jT.hideAllSlots),Ii(e,YT)},onGrown:e=>{Ii(e,YT)},onStartGrow:e=>{Ri(e,KT,{width:Ft(e.element,"width").getOr("")})},onStartShrink:e=>{Ri(e,KT,{width:Xt(e.element)+"px"})}}),Kf.config({}),bu.config({find:e=>{const t=Kf.contents(e);return re(t)}})])}],behaviours:Sl([E_(0),Yf("sidebar-sliding-events",[ji(KT,((e,t)=>{Dt(e.element,"width",t.event.width)})),ji(YT,((e,t)=>{Vt(e.element,"width")}))])])})},name:"sidebar",schema:[to("dom")]}),iM=Nk.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Sl([Kf.config({}),QT.config({focus:!1}),bu.config({find:e=>re(e.components())})]),components:[]})},name:"throbber",schema:[to("dom")]}),sM=Nk.optional({factory:XP,name:"viewWrapper",schema:[to("backstage")]}),aM=Nk.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]});var lM=mu({name:"OuterContainer",factory:(e,t,r)=>{let n=!1;const o={getSocket:t=>Rk.getPart(t,e,"socket"),setSidebar:(t,r,n)=>{Rk.getPart(t,e,"sidebar").each((e=>((e,t,r)=>{bu.getCurrent(e).each((n=>{Kf.set(n,[WT(t)]);const o=null==r?void 0:r.toLowerCase();i(o)&&ye(t,o)&&bu.getCurrent(n).each((t=>{jT.showSlot(t,o),PC.immediateGrow(n),Vt(n.element,"width"),$T(e.element,"region")}))}))})(e,r,n)))},toggleSidebar:(t,r)=>{Rk.getPart(t,e,"sidebar").each((e=>((e,t)=>{bu.getCurrent(e).each((r=>{bu.getCurrent(r).each((n=>{PC.hasGrown(r)?jT.isShowing(n,t)?(PC.shrink(r),$T(e.element,"presentation")):(jT.hideAllSlots(n),jT.showSlot(n,t),$T(e.element,"region")):(jT.hideAllSlots(n),jT.showSlot(n,t),PC.grow(r),$T(e.element,"region"))}))}))})(e,r)))},whichSidebar:t=>Rk.getPart(t,e,"sidebar").bind(ZT).getOrNull(),getHeader:t=>Rk.getPart(t,e,"header"),getToolbar:t=>Rk.getPart(t,e,"toolbar"),setToolbar:(t,r)=>{Rk.getPart(t,e,"toolbar").each((e=>{const t=V(r,DP);e.getApis().setGroups(e,t)}))},setToolbars:(t,r)=>{Rk.getPart(t,e,"multiple-toolbar").each((e=>{const t=V(r,(e=>V(e,DP)));Vk.setItems(e,t)}))},refreshToolbar:t=>{Rk.getPart(t,e,"toolbar").each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{Rk.getPart(t,e,"toolbar").each((e=>{Se(e.getApis().toggle,(t=>t(e)))}))},toggleToolbarDrawerWithoutFocusing:t=>{Rk.getPart(t,e,"toolbar").each((e=>{Se(e.getApis().toggleWithoutFocusing,(t=>t(e)))}))},isToolbarDrawerToggled:t=>Rk.getPart(t,e,"toolbar").bind((e=>P.from(e.getApis().isOpen).map((t=>t(e))))).getOr(!1),getThrobber:t=>Rk.getPart(t,e,"throbber"),focusToolbar:t=>{Rk.getPart(t,e,"toolbar").orThunk((()=>Rk.getPart(t,e,"multiple-toolbar"))).each((e=>{zf.focusIn(e)}))},setMenubar:(t,r)=>{Rk.getPart(t,e,"menubar").each((e=>{FT.setMenus(e,r)}))},focusMenubar:t=>{Rk.getPart(t,e,"menubar").each((e=>{FT.focus(e)}))},setViews:(t,r)=>{Rk.getPart(t,e,"viewWrapper").each((e=>{XP.setViews(e,r)}))},toggleView:(t,r)=>Rk.getPart(t,e,"viewWrapper").exists((e=>XP.toggleView(e,(()=>o.showMainView(t)),(()=>o.hideMainView(t)),r))),whichView:t=>Rk.getPart(t,e,"viewWrapper").bind(XP.whichView).getOrNull(),hideMainView:t=>{n=o.isToolbarDrawerToggled(t),n&&o.toggleToolbarDrawer(t),Rk.getPart(t,e,"editorContainer").each((e=>{const t=e.element;Dt(t,"display","none"),St(t,"aria-hidden","true")}))},showMainView:t=>{n&&o.toggleToolbarDrawer(t),Rk.getPart(t,e,"editorContainer").each((e=>{const t=e.element;Vt(t,"display"),Tt(t,"aria-hidden")})),o.refreshToolbar(t)}};return{uid:e.uid,dom:e.dom,components:t,apis:o,behaviours:e.behaviours}},configFields:[to("dom"),to("behaviours")],partFields:[tM,JP,eM,QP,nM,oM,rM,iM,sM,aM],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,r,n)=>{e.setSidebar(t,r,n)},toggleSidebar:(e,t,r)=>{e.toggleSidebar(t,r)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,r)=>{e.setToolbar(t,r)},setToolbars:(e,t,r)=>{e.setToolbars(t,r)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,r)=>{e.setMenubar(t,r)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,r)=>{e.setViews(t,r)},toggleView:(e,t,r)=>e.toggleView(t,r),whichView:(e,t)=>e.whichView(t)}});const cM={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},hM=e=>e.split(" "),dM=(e,t)=>{const r={...cM,...t.menus},n=se(t.menus).length>0,o=void 0===t.menubar||!0===t.menubar?hM("file edit view insert format tools table help"):hM(!1===t.menubar?"":t.menubar),s=j(o,(e=>{const r=ye(cM,e);return n?r||ve(t.menus,e).exists((e=>ye(e,"items"))):r})),a=V(s,(n=>{const o=r[n];return((e,t,r)=>{const n=xg(r).split(/[ ,]/);return{text:e.title,getItems:()=>Z(e.items,(e=>{const r=e.toLowerCase();return 0===r.trim().length||F(n,(e=>e===r))?[]:"separator"===r||"|"===r?[{type:"separator"}]:t.menuItems[r]?[t.menuItems[r]]:[]}))}})({title:o.title,items:hM(o.items)},t,e)}));return j(a,(e=>e.getItems().length>0&&F(e.getItems(),(e=>i(e)||"separator"!==e.type))))},uM=e=>{const t=()=>{e._skinLoaded=!0,(e=>{e.dispatch("SkinLoaded")})(e)};return()=>{e.initialized?t():e.on("init",t)}},pM=(e,t,r)=>(e.on("remove",(()=>r.unload(t))),r.load(t)),fM=(e,t)=>pM(e,t+"/skin.min.css",e.ui.styleSheetLoader),mM=(e,t)=>{var r;return r=Be(e.getElement()),vt(r).isSome()?pM(e,t+"/skin.shadowdom.min.css",og.DOM.styleSheetLoader):Promise.resolve()},gM=(e,t)=>{const r=Zg(t);return r&&t.contentCSS.push(r+(e?"/content.inline":"/content")+".min.css"),!Wg(t)&&i(r)?Promise.all([fM(t,r),mM(t,r)]).then(uM(t),((e,t)=>()=>((e,t)=>{e.dispatch("SkinLoadError",t)})(e,{message:"Skin could not be loaded"}))(t)):Promise.resolve(uM(t)())},vM=S(gM,!1),yM=S(gM,!0),bM=(e,t)=>r=>{const n=Jl(),o=()=>{r.setActive(e.formatter.match(t));const o=e.formatter.formatChanged(t,r.setActive);n.set(o)};return e.initialized?o():e.once("init",o),()=>{e.off("init",o),n.clear()}},wM=(e,t,r)=>n=>{const o=()=>r(n),i=()=>{r(n),e.on(t,o)};return e.initialized?i():e.once("init",i),()=>{e.off("init",i),e.off(t,o)}},xM=e=>t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))},EM=(e,t)=>()=>e.execCommand(t),SM=(e,t,r)=>{const n=(e,n,i,s)=>{const a=t.shared.providers.translate(e.title);if("separator"===e.type)return P.some({type:"separator",text:a});if("submenu"===e.type){const t=Z(e.getStyleItems(),(e=>o(e,n,s)));return 0===n&&t.length<=0?P.none():P.some({type:"nestedmenuitem",text:a,enabled:t.length>0,getSubmenuItems:()=>Z(e.getStyleItems(),(e=>o(e,n,s)))})}return P.some({type:"togglemenuitem",text:a,icon:e.icon,active:e.isSelected(s),enabled:!i,onAction:r.onAction(e),...e.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})},o=(e,t,o)=>{const i="formatter"===e.type&&r.isInvalid(e);return 0===t?i?[]:n(e,t,!1,o).toArray():n(e,t,i,o).toArray()},i=e=>{const t=r.getCurrentValue(),n=r.shouldHide?0:1;return Z(e,(e=>o(e,n,t)))};return{validateItems:i,getFetch:(e,t)=>(r,n)=>{const o=t(),s=i(o);n(eC(s,dv.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:P.none()}))}}},_M=(e,t,r)=>{const n=r.dataset,o="basic"===n.type?()=>V(n.data,(e=>ak(e,r.isSelectedFor,r.getPreviewFor))):n.getData;return{items:SM(0,t,r),getStyleItems:o}},CM=(e,t,r)=>{const{items:n,getStyleItems:o}=_M(0,t,r),i=wM(e,"NodeChange",(e=>{const t=e.getComponent();r.updateText(t)}));return Y_({text:r.icon.isSome()?P.none():r.text,icon:r.icon,tooltip:P.from(r.tooltip),role:P.none(),fetch:n.getFetch(t,o),onSetup:i,getApi:e=>({getComponent:w(e)}),columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};var AM;!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(AM||(AM={}));const kM=(e,t,r)=>{const n=(o=((e,t)=>t===AM.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "))(e.options.get(t),r),V(o,(e=>{let t=e,r=e;const n=e.split("=");return n.length>1&&(t=n[0],r=n[1]),{title:t,format:r}})));var o;return{type:"basic",data:n}},TM=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],PM=e=>{const t={type:"basic",data:TM};return{tooltip:"Align",text:P.none(),icon:P.some("align-left"),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:P.none,getPreviewFor:e=>P.none,onAction:t=>()=>q(TM,(e=>e.format===t.format)).each((t=>e.execCommand(t.command))),updateText:t=>{const r=q(TM,(t=>e.formatter.match(t.format))).fold(w("left"),(e=>e.title.toLowerCase()));Ri(t,K_,{icon:`align-${r}`})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},MM=(e,t)=>{const r=t(),n=V(r,(e=>e.format));return P.from(e.formatter.closest(n)).bind((e=>q(r,(t=>t.format===e)))).orThunk((()=>_e(e.formatter.match("p"),{title:"Paragraph",format:"p"})))},DM=e=>{const t="Paragraph",r=kM(e,"block_formats",AM.SemiColon);return{tooltip:"Blocks",text:P.some(t),icon:P.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:P.none,getPreviewFor:t=>()=>{const r=e.formatter.get(t);return r?P.some({tag:r.length>0&&(r[0].inline||r[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):P.none()},onAction:xM(e),updateText:n=>{const o=MM(e,(()=>r.data)).fold(w(t),(e=>e.title));Ri(n,Z_,{text:o})},dataset:r,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},OM=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],IM=e=>{const t=e.split(/\s*,\s*/);return V(t,(e=>e.replace(/^['"]+|['"]+$/g,"")))},RM=e=>{const t="System Font",r=()=>{const r=e=>e?IM(e)[0]:"",o=e.queryCommandValue("FontName"),i=n.data,s=o?o.toLowerCase():"",a=q(i,(e=>{const t=e.format;return t.toLowerCase()===s||r(t).toLowerCase()===r(s).toLowerCase()})).orThunk((()=>_e((e=>0===e.indexOf("-apple-system")&&(()=>{const t=IM(e.toLowerCase());return K(OM,(e=>t.indexOf(e.toLowerCase())>-1))})())(s),{title:t,format:s})));return{matchOpt:a,font:o}},n=kM(e,"font_family_formats",AM.SemiColon);return{tooltip:"Fonts",text:P.some(t),icon:P.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getCurrentValue:()=>{const{matchOpt:e}=r();return e},getPreviewFor:e=>()=>P.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}}),onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontName",!1,t.format)}))},updateText:e=>{const{matchOpt:t,font:n}=r(),o=t.fold(w(n),(e=>e.title));Ri(e,Z_,{text:o})},dataset:n,shouldHide:!1,isInvalid:k}},NM={tab:w(9),escape:w(27),enter:w(13),backspace:w(8),delete:w(46),left:w(37),up:w(38),right:w(39),down:w(40),space:w(32),home:w(36),end:w(35),pageUp:w(33),pageDown:w(34)},FM={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},BM=(()=>{const e="[0-9]+",t="[eE][+-]?"+e,r=e=>`(?:${e})?`,n=["Infinity",e+"\\."+r(e)+r(t),"\\."+e+r(t),e+r(t)].join("|");return new RegExp(`^([+-]?(?:${n}))(.*)$`)})(),LM=(e,t)=>P.from(BM.exec(e)).bind((e=>{const r=Number(e[1]),n=e[2];return((e,t)=>F(t,(t=>F(FM[t],(t=>e===t)))))(n,t)?P.some({value:r,unit:n}):P.none()})),VM={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},zM={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},HM=(e,t)=>/[0-9.]+px$/.test(e)?((e,t)=>{const r=Math.pow(10,t);return Math.round(e*r)/r})(72*parseInt(e,10)/96,t||0)+"pt":ve(zM,e).getOr(e),jM=e=>ve(VM,e).getOr(""),GM=e=>{const t=()=>{let t=P.none();const r=n.data,o=e.queryCommandValue("FontSize");if(o)for(let e=3;t.isNone()&&e>=0;e--){const n=HM(o,e),i=jM(n);t=q(r,(e=>e.format===o||e.format===n||e.format===i))}return{matchOpt:t,size:o}},r=w(P.none),n=kM(e,"font_size_formats",AM.Space);return{tooltip:"Font sizes",text:P.some("12pt"),icon:P.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getPreviewFor:r,getCurrentValue:()=>{const{matchOpt:e}=t();return e},onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontSize",!1,t.format)}))},updateText:e=>{const{matchOpt:r,size:n}=t(),o=r.fold(w(n),(e=>e.title));Ri(e,Z_,{text:o})},dataset:n,shouldHide:!1,isInvalid:k}},UM=e=>{var t;return null!==(t={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[e])&&void 0!==t?t:{step:1}},qM=(e,t)=>{const r="Paragraph";return{tooltip:"Formats",text:P.some(r),icon:P.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:P.none,getPreviewFor:t=>()=>{const r=e.formatter.get(t);return void 0!==r?P.some({tag:r.length>0&&(r[0].inline||r[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):P.none()},onAction:xM(e),updateText:t=>{const n=e=>rk(e)?Z(e.items,n):nk(e)?[{title:e.title,format:e.format}]:[],o=Z(sk(e),n),i=MM(e,w(o)).fold(w(r),(e=>e.title));Ri(t,Z_,{text:i})},shouldHide:bg(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}},WM=w([to("toggleClass"),to("fetch"),Ia("onExecute"),bo("getHotspot",P.some),bo("getAnchorOverrides",w({})),xc(),Ia("onItemExecute"),ho("lazySink"),to("dom"),Da("onOpen"),pd("splitDropdownBehaviours",[rx,zf,tm]),bo("matchWidth",!1),bo("useMinWidth",!1),bo("eventOrder",{}),ho("role")].concat(bx())),$M=zd({factory:jm,schema:[to("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Sl([tm.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(Ni)},buttonBehaviours:Sl([cm.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),ZM=zd({factory:jm,schema:[to("dom")],name:"button",defaults:()=>({buttonBehaviours:Sl([tm.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each((r=>{e.onExecute(r,t)}))}})}),KM=w([$M,ZM,jd({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[to("text")],name:"aria-descriptor"}),Hd({schema:[Ta()],name:"menu",defaults:e=>({onExecute:(t,r)=>{t.getSystem().getByUid(e.uid).each((n=>{e.onItemExecute(n,t,r)}))}})}),hx()]),YM=mu({name:"SplitDropdown",configFields:WM(),partFields:KM(),factory:(e,t,r,n)=>{const o=e=>{bu.getCurrent(e).each((e=>{Gu.highlightFirst(e),zf.focusIn(e)}))},i=t=>{fx(e,x,t,n,o,Bm.HighlightMenuAndItem).get(v)},s=t=>{const r=tu(t,e,"button");return Ni(r),P.some(!0)},a={...Vi([Yi(((t,r)=>{eu(t,e,"aria-descriptor").each((e=>{const r=ls("aria");St(e.element,"id",r),St(t.element,"aria-describedby",r)}))}))]),...dm(P.some(i))},l={repositionMenus:e=>{cm.isOn(e)&&yx(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:{...e.eventOrder,[di()]:["disabling","toggling","alloy.base.behaviour"]},events:a,behaviours:md(e.splitDropdownBehaviours,[rx.config({others:{sandbox:t=>{const r=tu(t,e,"arrow");return vx(e,t,{onOpen:()=>{cm.on(r),cm.on(t)},onClose:()=>{cm.off(r),cm.off(t)}})}}}),zf.config({mode:"special",onSpace:s,onEnter:s,onDown:e=>(i(e),P.some(!0))}),tm.config({}),cm.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),XM=e=>({isEnabled:()=>!Iu.isDisabled(e),setEnabled:t=>Iu.set(e,!t),setText:t=>Ri(e,Z_,{text:t}),setIcon:t=>Ri(e,K_,{icon:t})}),JM=e=>({setActive:t=>{cm.set(e,t)},isActive:()=>cm.isOn(e),isEnabled:()=>!Iu.isDisabled(e),setEnabled:t=>Iu.set(e,!t),setText:t=>Ri(e,Z_,{text:t}),setIcon:t=>Ri(e,K_,{icon:t})}),QM=(e,t)=>e.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),eD=ls("focus-button"),tD=(e,t,r,n,o)=>{const i=t.map((e=>Gm($_(e,"tox-tbtn",o)))),s=e.map((e=>Gm(W_(e,o.icons))));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:QM(r,o)},components:Tb([s.map((e=>e.asSpec())),i.map((e=>e.asSpec()))]),eventOrder:{[Go()]:["focusing","alloy.base.behaviour",H_],[Ei()]:[H_,"toolbar-group-button-events"]},buttonBehaviours:Sl([Eb(o.isDisabled),bb(),Yf(H_,[Yi(((e,t)=>G_(e))),ji(Z_,((e,t)=>{i.bind((t=>t.getOpt(e))).each((e=>{Kf.set(e,[ta(o.translate(t.event.text))])}))})),ji(K_,((e,t)=>{s.bind((t=>t.getOpt(e))).each((e=>{Kf.set(e,[W_(t.event.icon,o.icons)])}))})),ji(Go(),((e,t)=>{t.event.prevent(),Ii(e,eD)}))])].concat(n.getOr([])))}},rD=(e,t,r)=>{var n;const o=To(v),i=tD(e.icon,e.text,e.tooltip,P.none(),r);return jm.sketch({dom:i.dom,components:i.components,eventOrder:j_,buttonBehaviours:{...Sl([Yf("toolbar-button-events",[(s={onAction:e.onAction,getApi:t.getApi},Qi(((e,t)=>{Sb(s,e)((t=>{Ri(e,z_,{buttonApi:t}),s.onAction(t)}))}))),_b(t,o),Cb(t,o)]),Eb((()=>!e.enabled||r.isDisabled())),bb()].concat(t.toolbarButtonBehaviours)),[H_]:null===(n=i.buttonBehaviours)||void 0===n?void 0:n[H_]}});var s},nD=(e,t,r)=>rD(e,{toolbarButtonBehaviours:r.length>0?[Yf("toolbarButtonWith",r)]:[],getApi:XM,onSetup:e.onSetup},t),oD=(e,t,r)=>rD(e,{toolbarButtonBehaviours:[Kf.config({}),cm.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(r.length>0?[Yf("toolbarToggleButtonWith",r)]:[]),getApi:JM,onSetup:e.onSetup},t),iD=(e,t,r)=>n=>ax((e=>t.fetch(e))).map((o=>P.from(Mx(mn(Gw(ls("menu-value"),o,(r=>{t.onItemAction(e(n),r)}),t.columns,t.presets,dv.CLOSE_ON_EXECUTE,t.select.getOr(k),r),{movement:qw(t.columns,t.presets),menuBehaviours:ib("auto"!==t.columns?[]:[Yi(((e,r)=>{ob(e,4,Sv(t.presets)).each((({numRows:t,numColumns:r})=>{zf.setGridSize(e,t,r)}))}))])}))))),sD=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],aD=(e,t)=>(r,n,o)=>{const i=e(r).mapError((e=>Kn(e))).getOrDie();return t(i,n,o)},lD={button:aD(My,((e,t)=>{return r=e,n=t.shared.providers,nD(r,n,[]);var r,n})),togglebutton:aD(Iy,((e,t)=>{return r=e,n=t.shared.providers,oD(r,n,[]);var r,n})),menubutton:aD(RT,((e,t)=>DC(e,"tox-tbtn",t,P.none()))),splitbutton:aD((e=>Wn("SplitButton",NT,e)),((e,t)=>((e,t)=>{const r=e=>({isEnabled:()=>!Iu.isDisabled(e),setEnabled:t=>Iu.set(e,!t),setIconFill:(t,r)=>{fa(e.element,`svg path[id="${t}"], rect[id="${t}"]`).each((e=>{St(e,"fill",r)}))},setActive:t=>{St(e.element,"aria-pressed",t),fa(e.element,"span").each((r=>{e.getSystem().getByDom(r).each((e=>cm.set(e,t)))}))},isActive:()=>fa(e.element,"span").exists((t=>e.getSystem().getByDom(t).exists(cm.isOn))),setText:t=>fa(e.element,"span").each((r=>e.getSystem().getByDom(r).each((e=>Ri(e,Z_,{text:t}))))),setIcon:t=>fa(e.element,"span").each((r=>e.getSystem().getByDom(r).each((e=>Ri(e,K_,{icon:t})))))}),n=To(v),o={getApi:r,onSetup:e.onSetup};return YM.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...QM(e.tooltip,t.providers)}},onExecute:t=>{const n=r(t);n.isEnabled()&&e.onAction(n)},onItemExecute:(e,t,r)=>{},splitDropdownBehaviours:Sl([xb(t.providers.isDisabled),bb(),Yf("split-dropdown-events",[Yi(((e,t)=>G_(e))),ji(eD,tm.focus),_b(o,n),Cb(o,n)]),_E.config({})]),eventOrder:{[Ei()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:iD(r,e,t.providers),parts:{menu:Pv(0,e.columns,e.presets)},components:[YM.parts.button(tD(e.icon,e.text,P.none(),P.some([cm.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),YM.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Ym("chevron-down",t.providers.icons)},buttonBehaviours:Sl([xb(t.providers.isDisabled),bb(),Xm()])}),YM.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})})(e,t.shared))),grouptoolbarbutton:aD((e=>Wn("GroupToolbarButton",DT,e)),((e,t,r)=>{const n=r.ui.registry.getAll().buttons,o={[bc]:t.shared.header.isPositionedAtTop()?yc.TopToBottom:yc.BottomToTop};if(Eg(r)===rg.floating)return((e,t,r,n)=>{const o=t.shared,i=To(v),s={toolbarButtonBehaviours:[],getApi:XM,onSetup:e.onSetup},a=[Yf("toolbar-group-button-events",[_b(s,i),Cb(s,i)])];return yP.sketch({lazySink:o.getSink,fetch:()=>ax((t=>{t(V(r(e.items),DP))})),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:tD(e.icon,e.text,e.tooltip,P.some(a),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n}}}})})(e,t,(e=>hD(r,{buttons:n,toolbar:e,allowToolbarGroups:!1},t,P.none())),o);throw new Error("Toolbar groups are only supported when using floating toolbar mode")}))},cD={styles:(e,t)=>{const r={type:"advanced",...t.styles};return CM(e,t,qM(e,r))},fontsize:(e,t)=>CM(e,t,GM(e)),fontsizeinput:(e,t)=>((e,t,r)=>{let n=P.none();const o=wM(e,"NodeChange",(e=>{const t=e.getComponent();n=P.some(t),r.updateInputValue(t)})),i=e=>({getComponent:w(e)}),s=To(v),a=ls("custom-number-input-events"),l=(t,o,i)=>{const s=n.map((e=>ud.getValue(e))).getOr(""),a=LM(s,["unsupportedLength","empty"]),l=a.map((e=>e.value)).getOr(0),c=Ig(e),h=a.map((e=>e.unit)).filter((e=>""!==e)).getOr(c),d=t(l,r.getConfigFromUnit(h).step),u=`${(e=>e>=0)(d)?d:l}${h}`,p=`${l}${h}`.length-`${u}`.length,f=n.map((e=>e.element.dom.selectionStart-p)),m=n.map((e=>e.element.dom.selectionEnd-p));r.onAction(u,i),n.each((e=>{ud.setValue(e,u),o&&(f.each((t=>e.element.dom.selectionStart=t)),m.each((t=>e.element.dom.selectionEnd=t)))}))},c=(e,t)=>l(((e,t)=>e-t),e,t),h=(e,t)=>l(((e,t)=>e+t),e,t),d=e=>it(e.element).fold(P.none,(e=>(Dl(e),P.some(!0)))),u=e=>Il(e.element)?(ct(e.element).each((e=>Dl(e))),P.some(!0)):P.none(),p=(e,r,n,o)=>{const i=t.shared.providers.translate(n),s=ls("altExecuting"),a=()=>e(!0);return jm.sketch({dom:{tag:"button",attributes:{title:i,"aria-label":i},classes:o.concat(r)},components:[q_(r,t.shared.providers.icons)],buttonBehaviours:Sl([Yf(s,[ji(Yo(),((t,r)=>{r.event.raw.keyCode!==NM.space()&&r.event.raw.keyCode!==NM.enter()||e(!1)})),ji(ei(),a),ji(Ho(),a)])]),eventOrder:{[Yo()]:[s,"keying"],[ei()]:[s,"alloy.base.behaviour"],[Ho()]:[s,"alloy.base.behaviour"]}})},f=Gm(p((e=>c(!1,e)),"minus","Decrease font size",["highlight-on-focus"])),m=Gm(p((e=>h(!1,e)),"plus","Increase font size",["highlight-on-focus"])),g=Gm({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Rv.sketch({inputBehaviours:Sl([Yf(a,[_b({onSetup:o,getApi:i},s),Cb({getApi:i},s)]),Yf("input-update-display-text",[ji(Z_,((e,t)=>{ud.setValue(e,t.event.text)})),ji(Ko(),(e=>{r.onAction(ud.getValue(e))})),ji(Qo(),(e=>{r.onAction(ud.getValue(e))}))]),zf.config({mode:"special",onEnter:e=>(l(x,!0,!0),P.some(!0)),onEscape:d,onUp:e=>(h(!0,!1),P.some(!0)),onDown:e=>(c(!0,!1),P.some(!0)),onLeft:(e,t)=>(t.cut(),P.none()),onRight:(e,t)=>(t.cut(),P.none())})])})],behaviours:Sl([tm.config({}),zf.config({mode:"special",onEnter:u,onSpace:u,onEscape:d}),Yf("input-wrapper-events",[ji($o(),(e=>{z([f,m],(t=>{const r=Be(t.get(e).element.dom);Il(r)&&Ol(r)}))}))])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[f.asSpec(),g.asSpec(),m.asSpec()],behaviours:Sl([tm.config({}),zf.config({mode:"flow",focusInside:up.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:e=>Il(e.element)?P.none():(Dl(e.element),P.some(!0))})])}})(e,t,(e=>({updateInputValue:t=>Ri(t,Z_,{text:e.queryCommandValue("FontSize")}),getConfigFromUnit:UM,onAction:(t,r)=>e.execCommand("FontSize",!1,t,{skip_focus:!r})}))(e)),fontfamily:(e,t)=>CM(e,t,RM(e)),blocks:(e,t)=>CM(e,t,DM(e)),align:(e,t)=>CM(e,t,PM(e))},hD=(e,t,r,n)=>{const o=(e=>{const t=e.toolbar,r=e.buttons;return!1===t?[]:void 0===t||!0===t?(e=>{const t=V(sD,(t=>{const r=j(t.items,(t=>ye(e,t)||ye(cD,t)));return{name:t.name,items:r}}));return j(t,(e=>e.items.length>0))})(r):i(t)?(e=>{const t=e.split("|");return V(t,(e=>({items:e.trim().split(" ")})))})(t):(e=>g(e,(e=>ye(e,"name")&&ye(e,"items"))))(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(t),s=V(o,(o=>{const i=Z(o.items,(o=>0===o.trim().length?[]:((e,t,r,n,o,i)=>ve(t,r.toLowerCase()).orThunk((()=>i.bind((e=>ie(e,(e=>ve(t,e+r.toLowerCase()))))))).fold((()=>ve(cD,r.toLowerCase()).map((t=>t(e,o)))),(t=>"grouptoolbarbutton"!==t.type||n?((e,t,r)=>ve(lD,e.type).fold((()=>(console.error("skipping button defined by",e),P.none())),(n=>P.some(n(e,t,r)))))(t,o,e):(console.warn(`Ignoring the '${r}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),P.none()))))(e,t.buttons,o,t.allowToolbarGroups,r,n).toArray()));return{title:P.from(e.translate(o.name)),items:i}}));return j(s,(e=>e.items.length>0))},dD=(e,t,r,n)=>{const o=t.mainUi.outerContainer,s=r.toolbar,a=r.buttons;if(g(s,i)){const t=s.map((t=>{const o={toolbar:t,buttons:a,allowToolbarGroups:r.allowToolbarGroups};return hD(e,o,n,P.none())}));lM.setToolbars(o,t)}else lM.setToolbar(o,hD(e,r,n,P.none()))},uD=Mr(),pD=uD.os.isiOS()&&uD.os.version.major<=12;var fD=Object.freeze({__proto__:null,render:async(e,t,r,n,o)=>{const{mainUi:i,uiMotherships:s}=t,a=To(0),l=i.outerContainer;await vM(e);const h=Be(o.targetNode),d=gt(mt(h));Ih(h,i.mothership),((e,t,r)=>{iv(e)&&Ih(r.mainUi.mothership.element,r.popupUi.mothership),Oh(t,r.dialogUi.mothership)})(e,d,t),e.on("PostRender",(()=>{lM.setSidebar(l,r.sidebar,Ug(e)),dD(e,t,r,n),a.set(e.getWin().innerWidth),lM.setMenubar(l,dM(e,r)),lM.setViews(l,r.views),((e,t)=>{const{uiMotherships:r}=t,n=e.dom;let o=e.getWin();const i=e.getDoc().documentElement,s=To(Wt(o.innerWidth,o.innerHeight)),a=To(Wt(i.offsetWidth,i.offsetHeight)),l=()=>{const t=s.get();t.left===o.innerWidth&&t.top===o.innerHeight||(s.set(Wt(o.innerWidth,o.innerHeight)),hw(e))},c=()=>{const t=e.getDoc().documentElement,r=a.get();r.left===t.offsetWidth&&r.top===t.offsetHeight||(a.set(Wt(t.offsetWidth,t.offsetHeight)),hw(e))},h=t=>{((e,t)=>{e.dispatch("ScrollContent",t)})(e,t)};n.bind(o,"resize",l),n.bind(o,"scroll",h);const d=rc(Be(e.getBody()),"load",c);e.on("hide",(()=>{z(r,(e=>{Dt(e.element,"display","none")}))})),e.on("show",(()=>{z(r,(e=>{Vt(e.element,"display")}))})),e.on("NodeChange",c),e.on("remove",(()=>{d.unbind(),n.unbind(o,"resize",l),n.unbind(o,"scroll",h),o=null}))})(e,t)}));const u=lM.getSocket(l).getOrDie("Could not find expected socket element");if(pD){Ot(u.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const t=((e,t)=>{let r=null;return{cancel:()=>{c(r)||(clearTimeout(r),r=null)},throttle:(...t)=>{c(r)&&(r=setTimeout((()=>{r=null,e.apply(null,t)}),20))}}})((()=>{e.dispatch("ScrollContent")})),r=tc(u.element,"scroll",t.throttle);e.on("remove",r.unbind)}yb(e,t),e.addCommand("ToggleSidebar",((t,r)=>{lM.toggleSidebar(l,r),e.dispatch("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(()=>{var e;return null!==(e=lM.whichSidebar(l))&&void 0!==e?e:""})),e.addCommand("ToggleView",((t,r)=>{if(lM.toggleView(l,r)){const t=l.element;i.mothership.broadcastOn([$h()],{target:t}),z(s,(e=>{e.broadcastOn([$h()],{target:t})})),c(lM.whichView(l))&&(e.focus(),e.nodeChanged())}})),e.addQueryValueHandler("ToggleView",(()=>{var e;return null!==(e=lM.whichView(l))&&void 0!==e?e:""}));const p=Eg(e);p!==rg.sliding&&p!==rg.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(()=>{const r=e.getWin().innerWidth;r!==a.get()&&(lM.refreshToolbar(t.mainUi.outerContainer),a.set(r))}));const f={setEnabled:e=>{vb(t,!e)},isEnabled:()=>!Iu.isDisabled(l)};return{iframeContainer:u.element.dom,editorContainer:l.element.dom,api:f}}});const mD=e=>/^[0-9\.]+(|px)$/i.test(""+e)?P.some(parseInt(""+e,10)):P.none(),gD=e=>m(e)?e+"px":e,vD=(e,t,r)=>{const n=t.filter((t=>e<t)),o=r.filter((t=>e>t));return n.or(o).getOr(e)},yD=e=>{const t=ug(e),r=pg(e),n=mg(e);return mD(t).map((e=>vD(e,r,n)))},{ToolbarLocation:bD,ToolbarMode:wD}=av,xD=(e,t,r,n,o)=>{const{mainUi:i,uiMotherships:s}=r,a=og.DOM,l=tv(e),c=ov(e),h=mg(e).or(yD(e)),d=n.shared.header,u=d.isPositionedAtTop,p=Eg(e),f=p===wD.sliding||p===wD.floating,m=To(!1),g=()=>m.get()&&!e.removed,v=e=>f?e.fold(w(0),(e=>e.components().length>1?Gt(e.components()[1].element):0)):0,y=()=>{z(s,(e=>{e.broadcastOn([Zh()],{})}))},b=r=>{if(!g())return;l||o.on((e=>{const r=h.getOrThunk((()=>{const e=mD(Rt(wt(),"margin-left")).getOr(0);return Xt(wt())-Zt(t).left+e}));Dt(e.element,"max-width",r+"px")}));const n=l?P.none():(()=>{if(l)return P.none();if(Zt(i.outerContainer.element).left+Jt(i.outerContainer.element)>=window.innerWidth-40||Ft(i.outerContainer.element,"width").isSome()){Dt(i.outerContainer.element,"position","absolute"),Dt(i.outerContainer.element,"left","0px"),Vt(i.outerContainer.element,"width");const e=Jt(i.outerContainer.element);return P.some(e)}return P.none()})();f&&lM.refreshToolbar(i.outerContainer),l||(r=>{o.on((n=>{const o=lM.getToolbar(i.outerContainer),s=v(o),a=Yr(t),{top:l,left:c}=((e,t)=>iv(e)?Zk(t):P.none())(e,i.outerContainer.element).fold((()=>({top:u()?Math.max(a.y-Gt(n.element)+s,0):a.bottom,left:a.x})),(e=>{var t;const r=Yr(e),o=null!==(t=e.dom.scrollTop)&&void 0!==t?t:0,i=Je(e,wt()),l=i?Math.max(a.y-Gt(n.element)+s,0):a.y-r.y+o-Gt(n.element)+s;return{top:u()?l:a.bottom,left:i?a.x:a.x-r.x}})),h={position:"absolute",left:Math.round(c)+"px",top:Math.round(l)+"px"},d=r.map((e=>{const t=Hr(),r=window.innerWidth-(c-t.left);return{width:Math.max(Math.min(e,r),150)+"px"}})).getOr({});Ot(i.outerContainer.element,{...h,...d})}))})(n),c&&o.on(r),y()},x=()=>!(l||!c||!g())&&o.get().exists((r=>{const n=d.getDockingMode(),s=(r=>{switch(_g(e)){case bD.auto:const e=lM.getToolbar(i.outerContainer),n=v(e),o=Gt(r.element)-n,s=Yr(t);if(s.y>o)return"top";{const e=rt(t),r=Math.max(e.dom.scrollHeight,Gt(e));return s.bottom<r-o||Qr().bottom<s.bottom-o?"bottom":"top"}case bD.bottom:return"bottom";case bD.top:default:return"top"}})(r);return s!==n&&(a=s,o.on((e=>{wT.setModes(e,[a]),d.setDockingMode(a);const t=u()?yc.TopToBottom:yc.BottomToTop;St(e.element,bc,t)})),!0);var a}));return{isVisible:g,isPositionedAtTop:u,show:()=>{m.set(!0),Dt(i.outerContainer.element,"display","flex"),a.addClass(e.getBody(),"mce-edit-focus"),z(s,(e=>{Vt(e.element,"display")})),x(),iv(e)?b((e=>wT.isDocked(e)?wT.reset(e):wT.refresh(e))):b(wT.refresh)},hide:()=>{m.set(!1),Dt(i.outerContainer.element,"display","none"),a.removeClass(e.getBody(),"mce-edit-focus"),z(s,(e=>{Dt(e.element,"display","none")}))},update:b,updateMode:()=>{x()&&b(wT.reset)},repositionPopups:y}},ED=(e,t)=>{const r=Yr(e);return{pos:t?r.y:r.bottom,bounds:r}};var SD=Object.freeze({__proto__:null,render:async(e,t,r,n,o)=>{const{mainUi:i}=t,s=Ql(),a=Be(o.targetNode),l=xD(e,a,t,n,s),c=kg(e);await yM(e);const h=()=>{if(s.isSet())return void l.show();s.set(lM.getHeader(i.outerContainer).getOrDie());const o=rv(e);iv(e)?(Ih(a,i.mothership),Ih(a,t.popupUi.mothership)):Oh(o,i.mothership),Oh(o,t.dialogUi.mothership),dD(e,t,r,n),lM.setMenubar(i.outerContainer,dM(e,r)),l.show(),((e,t,r,n)=>{const o=To(ED(t,r.isPositionedAtTop())),i=n=>{const{pos:i,bounds:s}=ED(t,r.isPositionedAtTop()),{pos:a,bounds:l}=o.get(),c=s.height!==l.height||s.width!==l.width;o.set({pos:i,bounds:s}),c&&hw(e,n),r.isVisible()&&(a!==i?r.update(wT.reset):c&&(r.updateMode(),r.repositionPopups()))};n||(e.on("activate",r.show),e.on("deactivate",r.hide)),e.on("SkinLoaded ResizeWindow",(()=>r.update(wT.reset))),e.on("NodeChange keydown",(e=>{requestAnimationFrame((()=>i(e)))}));let s=0;const a=HC((()=>r.update(wT.refresh)),33);e.on("ScrollWindow",(()=>{const e=Hr().left;e!==s&&(s=e,a.throttle()),r.updateMode()})),iv(e)&&e.on("ElementScroll",(e=>{r.update(wT.refresh)}));const l=Jl();l.set(rc(Be(e.getBody()),"load",(e=>i(e.raw)))),e.on("remove",(()=>{l.clear()}))})(e,a,l,c),e.nodeChanged()};e.on("show",h),e.on("hide",l.hide),c||(e.on("focus",h),e.on("blur",l.hide)),e.on("init",(()=>{(e.hasFocus()||c)&&h()})),yb(e,t);const d={show:h,hide:l.hide,setEnabled:e=>{vb(t,!e)},isEnabled:()=>!Iu.isDisabled(i.outerContainer)};return{editorContainer:i.outerContainer.element.dom,api:d}}});const _D="contexttoolbar-hide",CD=(e,t)=>ji(z_,((r,n)=>{const o=(e=>({hide:()=>Ii(e,mi()),getValue:()=>ud.getValue(e)}))(e.get(r));t.onAction(o,n.event.buttonApi)})),AD=(e,t)=>{const r=e.label.fold((()=>({})),(e=>({"aria-label":e}))),n=Gm(Rv.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:r,selectOnFocus:!0,inputBehaviours:Sl([zf.config({mode:"special",onEnter:e=>o.findPrimary(e).map((e=>(Ni(e),!0))),onLeft:(e,t)=>(t.cut(),P.none()),onRight:(e,t)=>(t.cut(),P.none())})])})),o=((e,t,r)=>{const n=V(t,(t=>Gm(((e,t,r)=>(e=>"contextformtogglebutton"===e.type)(t)?((e,t,r)=>{const{primary:n,...o}=t.original,i=$n(Iy({...o,type:"togglebutton",onAction:v}));return oD(i,r,[CD(e,t)])})(e,t,r):((e,t,r)=>{const{primary:n,...o}=t.original,i=$n(My({...o,type:"button",onAction:v}));return nD(i,r,[CD(e,t)])})(e,t,r))(e,t,r))));return{asSpecs:()=>V(n,(e=>e.asSpec())),findPrimary:e=>ie(t,((t,r)=>t.primary?P.from(n[r]).bind((t=>t.getOpt(e))).filter(_(Iu.isDisabled)):P.none()))}})(n,e.commands,t);return[{title:P.none(),items:[n.asSpec()]},{title:P.none(),items:o.asSpecs()}]},kD=(e,t,r)=>t.bottom-e.y>=r&&e.bottom-t.y>=r,TD=e=>{const t=(e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const r=dt(Be(e.startContainer),e.startOffset).element;return(We(r)?ot(r):P.some(r)).filter(qe).map((e=>e.dom.getBoundingClientRect())).getOr(t)}return t})(e.selection.getRng());if(e.inline){const e=Hr();return Kr(e.left+t.left,e.top+t.top,t.width,t.height)}{const r=Xr(Be(e.getBody()));return Kr(r.x+t.left,r.y+t.top,t.width,t.height)}},PD=(e,t,r,n=0)=>{const o=Ur(window),i=Yr(Be(e.getContentAreaContainer())),s=$g(e)||Yg(e)||Jg(e),{x:a,width:l}=((e,t,r)=>{const n=Math.max(e.x+r,t.x);return{x:n,width:Math.min(e.right-r,t.right)-n}})(i,o,n);if(e.inline&&!s)return Kr(a,o.y,l,o.height);{const s=t.header.isPositionedAtTop(),{y:c,bottom:h}=((e,t,r,n,o,i)=>{const s=Be(e.getContainer()),a=fa(s,".tox-editor-header").getOr(s),l=Yr(a),c=l.y>=t.bottom,h=n&&!c;if(e.inline&&h)return{y:Math.max(l.bottom+i,r.y),bottom:r.bottom};if(e.inline&&!h)return{y:r.y,bottom:Math.min(l.y-i,r.bottom)};const d="line"===o?Yr(s):t;return h?{y:Math.max(l.bottom+i,r.y),bottom:Math.min(d.bottom-i,r.bottom)}:{y:Math.max(d.y+i,r.y),bottom:Math.min(l.y-i,r.bottom)}})(e,i,o,s,r,n);return Kr(a,c,l,h-c)}},MD={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},DD={maxHeightFunction:cc(),maxWidthFunction:dP()},OD=e=>"node"===e,ID=(e,t,r,n,o)=>{const i=TD(e),s=n.lastElement().exists((e=>Je(r,e)));return((e,t)=>{const r=e.selection.getRng(),n=dt(Be(r.startContainer),r.startOffset);return r.startContainer===r.endContainer&&r.startOffset===r.endOffset-1&&Je(n.element,t)})(e,r)?s?jA:BA:s?((e,r,o)=>{const s=Ft(e,"position");Dt(e,"position",r);const a=kD(i,Yr(t),-20)&&!n.isReposition()?UA:jA;return s.each((t=>Dt(e,"position",t))),a})(t,n.getMode()):("fixed"===n.getMode()?o.y+Hr().top:o.y)+(Gt(t)+12)<=i.y?BA:LA},RD=(e,t,r,n)=>{const o=t=>(n,o,i,s,a)=>({...ID(e,s,t,r,a)({...n,y:a.y,height:a.height},o,i,s,a),alwaysFit:!0}),i=e=>OD(n)?[o(e)]:[];return t?{onLtr:e=>[cl,ol,il,sl,al,ll].concat(i(e)),onRtl:e=>[cl,il,ol,al,sl,ll].concat(i(e))}:{onLtr:e=>[ll,cl,sl,ol,al,il].concat(i(e)),onRtl:e=>[ll,cl,al,il,sl,ol].concat(i(e))}},ND=(e,t)=>{const r=j(t,(t=>t.predicate(e.dom))),{pass:n,fail:o}=H(r,(e=>"contexttoolbar"===e.type));return{contextToolbars:n,contextForms:o}},FD=(e,t)=>{const r={},n=[],o=[],i={},s={},a=se(e);return z(a,(a=>{const l=e[a];"contextform"===l.type?((e,a)=>{const l=$n(Wn("ContextForm",zy,a));r[e]=l,l.launch.map((r=>{i["form:"+e]={...a.launch,type:"contextformtogglebutton"===r.type?"togglebutton":"button",onAction:()=>{t(l)}}})),"editor"===l.scope?o.push(l):n.push(l),s[e]=l})(a,l):"contexttoolbar"===l.type&&((e,t)=>{var r;(r=t,Wn("ContextToolbar",Hy,r)).each((r=>{"editor"===t.scope?o.push(r):n.push(r),s[e]=r}))})(a,l)})),{forms:r,inNodeScope:n,inEditorScope:o,lookupTable:s,formNavigators:i}},BD=ls("forward-slide"),LD=ls("backward-slide"),VD=ls("change-slide-event"),zD="tox-pop--resizing",HD="tox-pop--transition",jD=(e,t,r,n)=>{const o=n.backstage,i=o.shared,s=Mr().deviceType.isTouch,a=Ql(),l=Ql(),c=Ql(),h=ia((e=>{const t=To([]);return zm.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]),zm.getContent(e).each((e=>{Vt(e.element,"visibility")})),Hs(e.element,zD),Vt(e.element,"width")},inlineBehaviours:Sl([Yf("context-toolbar-events",[Ki(ri(),((e,t)=>{"width"===t.event.raw.propertyName&&(Hs(e.element,zD),Vt(e.element,"width"))})),ji(VD,((e,t)=>{const r=e.element;Vt(r,"width");const n=Xt(r);zm.setContent(e,t.event.contents),zs(r,zD);const o=Xt(r);Dt(r,"width",n+"px"),zm.getContent(e).each((e=>{t.event.focus.bind((e=>(Dl(e),Nl(r)))).orThunk((()=>(zf.focusIn(e),Rl(mt(r)))))})),setTimeout((()=>{Dt(e.element,"width",o+"px")}),0)})),ji(BD,((e,r)=>{zm.getContent(e).each((r=>{t.set(t.get().concat([{bar:r,focus:Rl(mt(e.element))}]))})),Ri(e,VD,{contents:r.event.forwardContents,focus:P.none()})})),ji(LD,((e,r)=>{ne(t.get()).each((r=>{t.set(t.get().slice(0,t.get().length-1)),Ri(e,VD,{contents:sa(r.bar),focus:r.focus})}))}))]),zf.config({mode:"special",onEscape:r=>ne(t.get()).fold((()=>e.onEscape()),(e=>(Ii(r,LD),P.some(!0))))})]),lazySink:()=>nn.value(e.sink)})})({sink:r,onEscape:()=>(e.focus(),P.some(!0))})),d=()=>{const t=c.get().getOr("node"),r=OD(t)?1:0;return PD(e,i,t,r)},u=()=>!(e.removed||s()&&o.isContextMenuOpen()),p=()=>{if(u()){const t=d(),r=we(c.get(),"node")?((e,t)=>t.filter((e=>bt(e)&&Ue(e))).map(Xr).getOrThunk((()=>TD(e))))(e,a.get()):TD(e);return t.height<=0||!kD(r,t,.01)}return!0},f=()=>{a.clear(),l.clear(),c.clear(),zm.hide(h)},m=()=>{if(zm.isOpen(h)){const e=h.element;Vt(e,"display"),p()?Dt(e,"display","none"):(l.set(0),zm.reposition(h))}},g=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Sl([zf.config({mode:"acyclic"}),Yf("pop-dialog-wrap-events",[Yi((t=>{e.shortcuts.add("ctrl+F9","focus statusbar",(()=>zf.focusIn(t)))})),Xi((t=>{e.shortcuts.remove("ctrl+F9")}))])])}),y=Qt((()=>FD(t,(e=>{const t=b([e]);Ri(h,BD,{forwardContents:g(t)})})))),b=t=>{const{buttons:r}=e.ui.registry.getAll(),o={...r,...y().formNavigators},s=Eg(e)===rg.scrolling?rg.scrolling:rg.default,a=$(V(t,(t=>"contexttoolbar"===t.type?((t,r)=>hD(e,{buttons:t,toolbar:r.items,allowToolbarGroups:!1},n.backstage,P.some(["form:"])))(o,t):((e,t)=>AD(e,t))(t,i.providers))));return FP({type:s,uid:ls("context-toolbar"),initGroups:a,onEscape:P.none,cyclicKeying:!0,providers:i.providers})},w=(t,n)=>{if(E.cancel(),!u())return;const o=b(t),f=t[0].position,m=((t,n)=>{const o="node"===t?i.anchors.node(n):i.anchors.cursor(),c=((e,t,r,n)=>"line"===t?{bubble:pc(12,0,MD),layouts:{onLtr:()=>[hl],onRtl:()=>[dl]},overrides:DD}:{bubble:pc(0,12,MD,1/12),layouts:RD(e,r,n,t),overrides:DD})(e,t,s(),{lastElement:a.get,isReposition:()=>we(l.get(),0),getMode:()=>wh.getMode(r)});return mn(o,c)})(f,n);c.set(f),l.set(1);const v=h.element;Vt(v,"display"),(e=>we(Ee(e,a.get(),Je),!0))(n)||(Hs(v,HD),wh.reset(r,h)),zm.showWithinBounds(h,g(o),{anchor:m,transition:{classes:[HD],mode:"placement"}},(()=>P.some(d()))),n.fold(a.clear,a.set),p()&&Dt(v,"display","none")};let x=!1;const E=HC((()=>{!e.hasFocus()||e.removed||x||(js(h.element,HD)?E.throttle():((e,t)=>{const r=Be(t.getBody()),n=e=>Je(e,r),o=Be(t.selection.getNode());return(e=>!n(e)&&!Qe(r,e))(o)?P.none():((e,t,r)=>{const n=ND(e,t);if(n.contextForms.length>0)return P.some({elem:e,toolbars:[n.contextForms[0]]});{const t=ND(e,r);if(t.contextForms.length>0)return P.some({elem:e,toolbars:[t.contextForms[0]]});if(n.contextToolbars.length>0||t.contextToolbars.length>0){const r=(e=>{if(e.length<=1)return e;{const t=t=>F(e,(e=>e.position===t)),r=t=>j(e,(e=>e.position===t)),n=t("selection"),o=t("node");if(n||o){if(o&&n){const e=r("node"),t=V(r("selection"),(e=>({...e,position:"node"})));return e.concat(t)}return r(n?"selection":"node")}return r("line")}})(n.contextToolbars.concat(t.contextToolbars));return P.some({elem:e,toolbars:r})}return P.none()}})(o,e.inNodeScope,e.inEditorScope).orThunk((()=>((e,t,r)=>e(t)?P.none():Io(t,(e=>{if(qe(e)){const{contextToolbars:t,contextForms:n}=ND(e,r.inNodeScope),o=n.length>0?n:(e=>{if(e.length<=1)return e;{const t=t=>q(e,(e=>e.position===t));return t("selection").orThunk((()=>t("node"))).orThunk((()=>t("line"))).map((e=>e.position)).fold((()=>[]),(t=>j(e,(e=>e.position===t))))}})(t);return o.length>0?P.some({elem:e,toolbars:o}):P.none()}return P.none()}),e))(n,o,e)))})(y(),e).fold(f,(e=>{w(e.toolbars,P.some(e.elem))})))}),17);e.on("init",(()=>{e.on("remove",f),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",m),e.on("click keyup focus SetContent",E.throttle),e.on(_D,f),e.on("contexttoolbar-show",(t=>{const r=y();ve(r.lookupTable,t.toolbarKey).each((r=>{w([r],_e(t.target!==e,t.target)),zm.getContent(h).each(zf.focusIn)}))})),e.on("focusout",(t=>{Hm.setEditorTimeout(e,(()=>{Nl(r.element).isNone()&&Nl(h.element).isNone()&&f()}),0)})),e.on("SwitchMode",(()=>{e.mode.isReadOnly()&&f()})),e.on("AfterProgressState",(t=>{t.state?f():e.hasFocus()&&E.throttle()})),e.on("dragstart",(()=>{x=!0})),e.on("dragend drop",(()=>{x=!1})),e.on("NodeChange",(e=>{Nl(h.element).fold(E.throttle,v)}))}))},GD=(e,t)=>{const r=()=>{const r=t.getOptions(e),n=t.getCurrent(e).map(t.hash),o=Ql();return V(r,(r=>({type:"togglemenuitem",text:t.display(r),onSetup:i=>{const s=e=>{e&&(o.on((e=>e.setActive(!1))),o.set(i)),i.setActive(e)};s(we(n,t.hash(r)));const a=t.watcher(e,r,s);return()=>{o.clear(),a()}},onAction:()=>t.setCurrent(e,r)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(r()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:r,onSetup:t.onMenuSetup})},UD={name:"lineheight",text:"Line height",icon:"line-height",getOptions:Kg,hash:e=>((e,t)=>LM(e,["fixed","relative","empty"]).map((({value:e,unit:t})=>e+t)))(e).getOr(e),display:x,watcher:(e,t,r)=>e.formatter.formatChanged("lineheight",r,!1,{value:t}).unbind,getCurrent:e=>P.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",!1,t)},qD=e=>wM(e,"NodeChange",(t=>{t.setEnabled(e.queryCommandState("outdent"))})),WD=(e,t)=>r=>{r.setActive(t.get());const n=e=>{t.set(e.state),r.setActive(e.state)};return e.on("PastePlainTextToggle",n),()=>e.off("PastePlainTextToggle",n)},$D=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},ZD=e=>{(e=>{(e=>{O_.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],((t,r)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:bM(e,t.name),onAction:$D(e,t.name)})}));for(let t=1;t<=6;t++){const r="h"+t;e.ui.registry.addToggleButton(r,{text:r.toUpperCase(),tooltip:"Heading "+t,onSetup:bM(e,r),onAction:$D(e,r)})}})(e),(e=>{O_.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:EM(e,t.action)})}))})(e),(e=>{O_.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:EM(e,t.action),onSetup:bM(e,t.name)})}))})(e)})(e),(e=>{O_.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:EM(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:$D(e,"code")})})(e)},KD=(e,t)=>wM(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(r=>{r.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())})),YD=e=>wM(e,"VisualAid",(t=>{t.setActive(e.hasVisual)})),XD=(e,t)=>{(e=>{z([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:EM(e,t.cmd),onSetup:bM(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:EM(e,"JustifyNone")})})(e),ZD(e),((e,t)=>{((e,t)=>{const r=_M(0,t,PM(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:()=>r.items.validateItems(r.getStyleItems())})})(e,t),((e,t)=>{const r=_M(0,t,RM(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:()=>r.items.validateItems(r.getStyleItems())})})(e,t),((e,t)=>{const r={type:"advanced",...t.styles},n=_M(0,t,qM(e,r));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const r=_M(0,t,DM(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>r.items.validateItems(r.getStyleItems())})})(e,t),((e,t)=>{const r=_M(0,t,GM(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>r.items.validateItems(r.getStyleItems())})})(e,t)})(e,t),(e=>{(e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:KD(e,"hasUndo"),onAction:EM(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:KD(e,"hasRedo"),onAction:EM(e,"redo")})})(e),(e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:KD(e,"hasUndo"),onAction:EM(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:KD(e,"hasRedo"),onAction:EM(e,"redo")})})(e)})(e),(e=>{(e=>{e.addCommand("mceApplyTextcolor",((t,r)=>{((e,t,r)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.apply(t,{value:r}),e.nodeChanged()}))})(e,t,r)})),e.addCommand("mceRemoveTextcolor",(t=>{((e,t)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()}))})(e,t)}))})(e);const t=Dw(e),r=Ow(e),n=To(t),o=To(r);zw(e,"forecolor","forecolor","Text color",n),zw(e,"backcolor","hilitecolor","Background color",o),Hw(e,"forecolor","forecolor","Text color",n),Hw(e,"backcolor","hilitecolor","Background color",o)})(e),(e=>{(e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:EM(e,"mceToggleVisualAid")})})(e),(e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:YD(e),onAction:EM(e,"mceToggleVisualAid")})})(e)})(e),(e=>{(e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:qD(e),onAction:EM(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:EM(e,"indent")})})(e)})(e),(e=>{GD(e,UD),(e=>P.from(wg(e)).map((t=>({name:"language",text:"Language",icon:"language",getOptions:w(t),hash:e=>d(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,r)=>{var n;return e.formatter.formatChanged("lang",r,!1,{value:t.code,customValue:null!==(n=t.customCode)&&void 0!==n?n:null}).unbind},getCurrent:e=>{const t=Be(e.selection.getNode());return Ro(t,(e=>P.some(e).filter(qe).bind((e=>At(e,"lang").map((t=>({code:t,customCode:At(e,"data-mce-lang").getOrUndefined(),title:""})))))))},setCurrent:(e,t)=>e.execCommand("Lang",!1,t),onToolbarSetup:t=>{const r=Jl();return t.setActive(e.formatter.match("lang",{},void 0,!0)),r.set(e.formatter.formatChanged("lang",t.setActive,!0)),r.clear}}))))(e).each((t=>GD(e,t)))})(e),(e=>{const t=To(Gg(e)),r=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:r,onSetup:WD(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:r,onSetup:WD(e,t)})})(e)},JD=e=>i(e)?e.split(/[ ,]/):e,QD=e=>t=>t.options.get(e),eO=QD("contextmenu_never_use_native"),tO=QD("contextmenu_avoid_overlap"),rO=e=>{const t=e.ui.registry.getAll().contextMenus,r=e.options.get("contextmenu");return e.options.isSet("contextmenu")?r:j(r,(e=>ye(t,e)))},nO=(e,t)=>({type:"makeshift",x:e,y:t}),oO=e=>"longpress"===e.type||0===e.type.indexOf("touch"),iO=(e,t)=>"contextmenu"===t.type||"longpress"===t.type?e.inline?(e=>{if(oO(e)){const t=e.touches[0];return nO(t.pageX,t.pageY)}return nO(e.pageX,e.pageY)})(t):((e,t)=>{const r=og.DOM.getPos(e);return((e,t,r)=>nO(e.x+t,e.y+r))(t,r.x,r.y)})(e.getContentAreaContainer(),(e=>{if(oO(e)){const t=e.touches[0];return nO(t.clientX,t.clientY)}return nO(e.clientX,e.clientY)})(t)):sO(e),sO=e=>({type:"selection",root:Be(e.selection.getNode())}),aO=(e,t,r)=>{switch(r){case"node":return(e=>({type:"node",node:P.some(Be(e.selection.getNode())),root:Be(e.getBody())}))(e);case"point":return iO(e,t);case"selection":return sO(e)}},lO=(e,t,r,n,o,i)=>{const s=r(),a=aO(e,t,i);eC(s,dv.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:P.none()}).map((e=>{t.preventDefault(),zm.showMenuAt(o,{anchor:a},{menu:{markers:Av("normal")},data:e})}))},cO={onLtr:()=>[cl,ol,il,sl,al,ll,BA,LA,FA,RA,NA,IA],onRtl:()=>[cl,il,ol,al,sl,ll,BA,LA,NA,IA,FA,RA]},hO={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},dO=(e,t,r,n,o,i)=>{const s=Mr(),a=s.os.isiOS(),l=s.os.isMacOS(),c=s.os.isAndroid(),h=s.deviceType.isTouch(),d=()=>{const s=r();((e,t,r,n,o,i,s)=>{const a=((e,t,r)=>{const n=aO(e,t,r);return{bubble:pc(0,"point"===r?12:0,hO),layouts:cO,overrides:{maxWidthFunction:dP(),maxHeightFunction:cc()},...n}})(e,t,i);eC(r,dv.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!0,search:P.none()}).map((r=>{t.preventDefault();const l=s?Bm.HighlightMenuAndItem:Bm.HighlightNone;zm.showMenuWithinBounds(o,{anchor:a},{menu:{markers:Av("normal"),highlightOnOpen:l},data:r,type:"horizontal"},(()=>P.some(PD(e,n.shared,"node"===i?"node":"selection")))),e.dispatch(_D)}))})(e,t,s,n,o,i,!(c||a||l&&h))};if((l||a)&&"node"!==i){const r=()=>{(e=>{const t=e.selection.getRng(),r=()=>{Hm.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10),i()};e.once("touchend",r);const n=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",n,!0);const o=()=>i();e.once("longpresscancel",o);const i=()=>{e.off("touchend",r),e.off("longpresscancel",o),e.off("mousedown",n)}})(e),d()};((e,t)=>{const r=e.selection;if(r.isCollapsed()||t.touches.length<1)return!1;{const n=t.touches[0],o=r.getRng();return Yc(e.getWin(),zc.domRange(o)).exists((e=>e.left<=n.clientX&&e.right>=n.clientX&&e.top<=n.clientY&&e.bottom>=n.clientY))}})(e,t)?r():(e.once("selectionchange",r),e.once("touchend",(()=>e.off("selectionchange",r))))}else d()},uO=e=>i(e)?"|"===e:"separator"===e.type,pO={type:"separator"},fO=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(i(e))return e;switch(e.type){case"separator":return pO;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();return i(t)?t:V(t,fO)}};default:const r=e;return{type:"menuitem",...t(r),onAction:y(r.onAction)}}},mO=(e,t)=>{if(0===t.length)return e;const r=ne(e).filter((e=>!uO(e))).fold((()=>[]),(e=>[pO]));return e.concat(r).concat(t).concat([pO])},gO=(e,t)=>!(e=>"longpress"===e.type||ye(e,"touches"))(t)&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType),vO=(e,t)=>gO(e,t)?e.selection.getStart(!0):t.target,yO=(e,t,r)=>{const n=Mr().deviceType.isTouch,o=ia(zm.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>r.setContextMenuState(!0),onHide:()=>r.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Sl([Yf("dismissContextMenu",[ji(_i(),((t,r)=>{Wh.close(t),e.focus()}))])])})),s=()=>zm.hide(o),a=t=>{if(eO(e)&&t.preventDefault(),((e,t)=>t.ctrlKey&&!eO(e))(e,t)||(e=>0===rO(e).length)(e))return;const s=((e,t)=>{const r=tO(e),n=gO(e,t)?"selection":"point";if(De(r)){const o=vO(e,t);return Fx(Be(o),r)?"node":n}return n})(e,t);(n()?dO:lO)(e,t,(()=>{const r=vO(e,t),n=e.ui.registry.getAll(),o=rO(e);return((e,t,r)=>{const n=U(t,((t,n)=>ve(e,n.toLowerCase()).map((e=>{const n=e.update(r);if(i(n))return mO(t,n.split(" "));if(n.length>0){const e=V(n,fO);return mO(t,e)}return t})).getOrThunk((()=>t.concat([n])))),[]);return n.length>0&&uO(n[n.length-1])&&n.pop(),n})(n.contextMenus,o,r)}),r,o,s)};e.on("init",(()=>{const t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(n()?"":" ResizeWindow");e.on(t,s),e.on("longpress contextmenu",a)}))},bO=Po([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),wO=e=>t=>t.translate(-e.left,-e.top),xO=e=>t=>t.translate(e.left,e.top),EO=e=>(t,r)=>U(e,((e,t)=>t(e)),Wt(t,r)),SO=(e,t,r)=>e.fold(EO([xO(r),wO(t)]),EO([wO(t)]),EO([])),_O=(e,t,r)=>e.fold(EO([xO(r)]),EO([]),EO([xO(t)])),CO=(e,t,r)=>e.fold(EO([]),EO([wO(r)]),EO([xO(t),wO(r)])),AO=(e,t,r)=>{const n=e.fold(((e,t)=>({position:P.some("absolute"),left:P.some(e+"px"),top:P.some(t+"px")})),((e,t)=>({position:P.some("absolute"),left:P.some(e-r.left+"px"),top:P.some(t-r.top+"px")})),((e,t)=>({position:P.some("fixed"),left:P.some(e+"px"),top:P.some(t+"px")})));return{right:P.none(),bottom:P.none(),...n}},kO=(e,t,r,n)=>{const o=(e,o)=>(i,s)=>{const a=e(t,r,n);return o(i.getOr(a.left),s.getOr(a.top))};return e.fold(o(CO,TO),o(_O,PO),o(SO,MO))},TO=bO.offset,PO=bO.absolute,MO=bO.fixed,DO=(e,t)=>{const r=Ct(e,t);return d(r)?NaN:parseInt(r,10)},OO=(e,t,r,n,o,i)=>{const s=((e,t,r,n)=>((e,t)=>{const r=e.element,n=DO(r,t.leftAttr),o=DO(r,t.topAttr);return isNaN(n)||isNaN(o)?P.none():P.some(Wt(n,o))})(e,t).fold((()=>r),(e=>MO(e.left+n.left,e.top+n.top))))(e,t,r,n),a=t.mustSnap?RO(e,t,s,o,i):NO(e,t,s,o,i),l=SO(s,o,i);return((e,t,r)=>{const n=e.element;St(n,t.leftAttr,r.left+"px"),St(n,t.topAttr,r.top+"px")})(e,t,l),a.fold((()=>({coord:MO(l.left,l.top),extra:P.none()})),(e=>({coord:e.output,extra:e.extra})))},IO=(e,t,r,n)=>ie(e,(e=>{const o=e.sensor,i=((e,t,r,n,o,i)=>{const s=_O(e,o,i),a=_O(t,o,i);return Math.abs(s.left-a.left)<=r&&Math.abs(s.top-a.top)<=n})(t,o,e.range.left,e.range.top,r,n);return i?P.some({output:kO(e.output,t,r,n),extra:e.extra}):P.none()})),RO=(e,t,r,n,o)=>{const i=t.getSnapPoints(e);return IO(i,r,n,o).orThunk((()=>{const e=U(i,((e,t)=>{const i=t.sensor,s=((e,t,r,n,o,i)=>{const s=_O(e,o,i),a=_O(t,o,i),l=Math.abs(s.left-a.left),c=Math.abs(s.top-a.top);return Wt(l,c)})(r,i,t.range.left,t.range.top,n,o);return e.deltas.fold((()=>({deltas:P.some(s),snap:P.some(t)})),(r=>(s.left+s.top)/2<=(r.left+r.top)/2?{deltas:P.some(s),snap:P.some(t)}:e))}),{deltas:P.none(),snap:P.none()});return e.snap.map((e=>({output:kO(e.output,r,n,o),extra:e.extra})))}))},NO=(e,t,r,n,o)=>{const i=t.getSnapPoints(e);return IO(i,r,n,o)};var FO=Object.freeze({__proto__:null,snapTo:(e,t,r,n)=>{const o=t.getTarget(e.element);if(t.repositionTarget){const t=et(e.element),r=Hr(t),i=Kk(o),s=((e,t,r)=>({coord:kO(e.output,e.output,t,r),extra:e.extra}))(n,r,i),a=AO(s.coord,0,i);It(o,a)}}});const BO="data-initial-z-index",LO=(e,t)=>{e.getSystem().addToGui(t),(e=>{ot(e.element).filter(qe).each((t=>{Ft(t,"z-index").each((e=>{St(t,BO,e)})),Dt(t,"z-index",Rt(e.element,"z-index"))}))})(t)},VO=e=>{(e=>{ot(e.element).filter(qe).each((e=>{At(e,BO).fold((()=>Vt(e,"z-index")),(t=>Dt(e,"z-index",t))),Tt(e,BO)}))})(e),e.getSystem().removeFromGui(e)},zO=(e,t,r)=>e.getSystem().build(Wx.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:r}));var HO=yo("snaps",[to("getSnapPoints"),Da("onSensor"),to("leftAttr"),to("topAttr"),bo("lazyViewport",Qr),bo("mustSnap",!1)]);const jO=[bo("useFixed",k),to("blockerClass"),bo("getTarget",x),bo("onDrag",v),bo("repositionTarget",!0),bo("onDrop",v),Co("getBounds",Qr),HO],GO=e=>{return(t=Ft(e,"left"),r=Ft(e,"top"),n=Ft(e,"position"),t.isSome()&&r.isSome()&&n.isSome()?P.some(((e,t,r)=>("fixed"===r?MO:TO)(parseInt(e,10),parseInt(t,10)))(t.getOrDie(),r.getOrDie(),n.getOrDie())):P.none()).getOrThunk((()=>{const t=Zt(e);return PO(t.left,t.top)}));var t,r,n},UO=(e,t)=>({bounds:e.getBounds(),height:Ut(t.element),width:Jt(t.element)}),qO=(e,t,r,n,o)=>{const i=r.update(n,o),s=r.getStartData().getOrThunk((()=>UO(t,e)));i.each((r=>{((e,t,r,n)=>{const o=t.getTarget(e.element);if(t.repositionTarget){const i=et(e.element),s=Hr(i),a=Kk(o),l=GO(o),c=((e,t,r,n,o,i,s)=>((e,t,r,n,o)=>{const i=o.bounds,s=_O(t,r,n),a=Ka(s.left,i.x,i.x+i.width-o.width),l=Ka(s.top,i.y,i.y+i.height-o.height),c=PO(a,l);return t.fold((()=>{const e=CO(c,r,n);return TO(e.left,e.top)}),w(c),(()=>{const e=SO(c,r,n);return MO(e.left,e.top)}))})(0,t.fold((()=>{const e=(t=r,s=i.left,a=i.top,t.fold(((e,t)=>TO(e+s,t+a)),((e,t)=>PO(e+s,t+a)),((e,t)=>MO(e+s,t+a))));var t,s,a;const l=SO(e,n,o);return MO(l.left,l.top)}),(t=>{const s=OO(e,t,r,i,n,o);return s.extra.each((r=>{t.onSensor(e,r)})),s.coord})),n,o,s))(e,t.snaps,l,s,a,n,r),h=AO(c,0,a);It(o,h)}t.onDrag(e,o,n)})(e,t,s,r)}))},WO=(e,t,r,n)=>{t.each(VO),r.snaps.each((t=>{((e,t)=>{((e,t)=>{const r=e.element;Tt(r,t.leftAttr),Tt(r,t.topAttr)})(e,t)})(e,t)}));const o=r.getTarget(e.element);n.reset(),r.onDrop(e,o)},$O=e=>(t,r)=>{const n=e=>{r.setStartData(UO(t,e))};return Vi([ji(wi(),(e=>{r.getStartData().each((()=>n(e)))})),...e(t,r,n)])};var ZO=Object.freeze({__proto__:null,getData:e=>P.from(Wt(e.x,e.y)),getDelta:(e,t)=>Wt(t.left-e.left,t.top-e.top)});const KO=(e,t,r)=>[ji(Go(),((n,o)=>{if(0!==o.event.raw.button)return;o.stop();const i=()=>WO(n,P.some(l),e,t),s=Bx(i,200),a={drop:i,delayDrop:s.schedule,forceDrop:i,move:r=>{s.cancel(),qO(n,e,t,ZO,r)}},l=zO(n,e.blockerClass,(e=>Vi([ji(Go(),e.forceDrop),ji(Wo(),e.drop),ji(Uo(),((t,r)=>{e.move(r.event)})),ji(qo(),e.delayDrop)]))(a));r(n),LO(n,l)}))],YO=[...jO,Na("dragger",{handlers:$O(KO)})];var XO=Object.freeze({__proto__:null,getData:e=>{const t=e.raw.touches;return 1===t.length?(e=>{const t=e[0];return P.some(Wt(t.clientX,t.clientY))})(t):P.none()},getDelta:(e,t)=>Wt(t.left-e.left,t.top-e.top)});const JO=(e,t,r)=>{const n=Ql(),o=r=>{WO(r,n.get(),e,t),n.clear()};return[ji(Vo(),((i,s)=>{s.stop();const a=()=>o(i),l={drop:a,delayDrop:v,forceDrop:a,move:r=>{qO(i,e,t,XO,r)}},c=zO(i,e.blockerClass,(e=>Vi([ji(Vo(),e.forceDrop),ji(Ho(),e.drop),ji(jo(),e.drop),ji(zo(),((t,r)=>{e.move(r.event)}))]))(l));n.set(c),r(i),LO(i,c)})),ji(zo(),((r,n)=>{n.stop(),qO(r,e,t,XO,n.event)})),ji(Ho(),((e,t)=>{t.stop(),o(e)})),ji(jo(),o)]},QO=YO,eI=[...jO,Na("dragger",{handlers:$O(JO)})],tI=[...jO,Na("dragger",{handlers:$O(((e,t,r)=>[...KO(e,t,r),...JO(e,t,r)]))})];var rI=Object.freeze({__proto__:null,mouse:QO,touch:eI,mouseOrTouch:tI}),nI=Object.freeze({__proto__:null,init:()=>{let e=P.none(),t=P.none();const r=w({});return As({readState:r,reset:()=>{e=P.none(),t=P.none()},update:(t,r)=>t.getData(r).bind((r=>((t,r)=>{const n=e.map((e=>t.getDelta(e,r)));return e=P.some(r),n})(t,r))),getStartData:()=>t,setStartData:e=>{t=P.some(e)}})}});const oI=kl({branchKey:"mode",branches:rI,name:"dragging",active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:P.from(e.extra)})},state:nI,apis:FO}),iI=(e,t,r,n,o,i)=>e.fold((()=>oI.snap({sensor:PO(r-20,n-20),range:Wt(o,i),output:PO(P.some(r),P.some(n)),extra:{td:t}})),(e=>{const o=r-20,i=n-20,s=e.element.dom.getBoundingClientRect();return oI.snap({sensor:PO(o,i),range:Wt(40,40),output:PO(P.some(r-s.width/2),P.some(n-s.height/2)),extra:{td:t}})})),sI=(e,t,r)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,n)=>{const o=n.td;((e,t)=>e.exists((e=>Je(e,t))))(t.get(),o)||(t.set(o),r(o))},mustSnap:!0}),aI=e=>Gm(jm.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Sl([oI.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),_E.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),lI=(e,t)=>{const r=To([]),n=To([]),o=To(!1),i=Ql(),s=Ql(),a=e=>{const r=Xr(e);return iI(d.getOpt(t),e,r.x,r.y,r.width,r.height)},l=e=>{const r=Xr(e);return iI(u.getOpt(t),e,r.right,r.bottom,r.width,r.height)},c=sI((()=>V(r.get(),(e=>a(e)))),i,(t=>{s.get().each((r=>{e.dispatch("TableSelectorChange",{start:t,finish:r})}))})),h=sI((()=>V(n.get(),(e=>l(e)))),s,(t=>{i.get().each((r=>{e.dispatch("TableSelectorChange",{start:r,finish:t})}))})),d=aI(c),u=aI(h),p=ia(d.asSpec()),f=ia(u.asSpec()),m=(t,r,n,o)=>{const i=n(r);oI.snapTo(t,i),((t,r,n,i)=>{const s=r.dom.getBoundingClientRect();Vt(t.element,"display");const a=nt(Be(e.getBody())).dom.innerHeight,l=s[o]<0,c=((e,t)=>e[o]>t)(s,a);(l||c)&&Dt(t.element,"display","none")})(t,r)},g=e=>m(p,e,a,"top"),v=e=>m(f,e,l,"bottom");Mr().deviceType.isTouch()&&(e.on("TableSelectionChange",(e=>{o.get()||(kh(t,p),kh(t,f),o.set(!0)),i.set(e.start),s.set(e.finish),e.otherCells.each((t=>{r.set(t.upOrLeftCells),n.set(t.downOrRightCells),g(e.start),v(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(()=>{i.get().each(g),s.get().each(v)})),e.on("TableSelectionClear",(()=>{o.get()&&(Mh(p),Mh(f),o.set(!1)),i.clear(),s.clear()})))},cI=(e,t,r)=>{var n;const o=null!==(n=t.delimiter)&&void 0!==n?n:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Sl([zf.config({mode:"flow",selector:"div[role=button]"}),Iu.config({disabled:r.isDisabled}),bb(),Qx.config({}),Kf.config({}),Yf("elementPathEvents",[Yi(((t,n)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",(()=>zf.focusIn(t))),e.on("NodeChange",(n=>{const i=(t=>{const r=[];let n=t.length;for(;n-- >0;){const i=t[n];if(1===i.nodeType&&"BR"!==(o=i).nodeName&&!o.getAttribute("data-mce-bogus")&&"bookmark"!==o.getAttribute("data-mce-type")){const t=uw(e,i);if(t.isDefaultPrevented()||r.push({name:t.name,element:i}),t.isPropagationStopped())break}}var o;return r})(n.parents),s=i.length>0?U(i,((t,n,i)=>{const s=((t,n,o)=>jm.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":o,"aria-level":o+1}},components:[ta(t)],action:t=>{e.focus(),e.selection.select(n),e.nodeChanged()},buttonBehaviours:Sl([wb(r.isDisabled),bb()])}))(n.name,n.element,i);return 0===i?t.concat([s]):t.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[ta(` ${o} `)]},s])}),[]):[];Kf.set(t,s)}))}))])]),components:[]}};var hI;!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(hI||(hI={}));const dI=(e,t,r)=>{const n=Be(e.getContainer()),o=((e,t,r,n,o)=>{const i={height:vD(n+t.top,fg(e),gg(e))};return r===hI.Both&&(i.width=vD(o+t.left,pg(e),mg(e))),i})(e,t,r,Gt(n),Xt(n));le(o,((e,t)=>{m(e)&&Dt(n,t,gD(e))})),(e=>{e.dispatch("ResizeEditor")})(e)},uI=(e,t,r,n)=>{const o=Wt(20*r,20*n);return dI(e,o,t),P.some(!0)},pI=(e,t)=>({dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const r=(()=>{const r=[];return zg(e)&&r.push(cI(e,{},t)),e.hasPlugin("wordcount")&&r.push(((e,t)=>{const r=(e,r,n)=>Kf.set(e,[ta(t.translate(["{0} "+n,r[n]]))]);return jm.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Sl([wb(t.isDisabled),bb(),Qx.config({}),Kf.config({}),ud.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Yf("wordcount-events",[Qi((e=>{const t=ud.getValue(e),n="words"===t.mode?"characters":"words";ud.setValue(e,{mode:n,count:t.count}),r(e,t.count,n)})),Yi((t=>{e.on("wordCountUpdate",(e=>{const{mode:n}=ud.getValue(t);ud.setValue(t,{mode:n,count:e.wordCount}),r(t,e.wordCount,n)}))}))])]),eventOrder:{[di()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(e,t)),Hg(e)&&r.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Um.translate(["Powered by {0}","Tiny"])},innerHtml:'<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n'.trim()},behaviours:Sl([tm.config({})])}]}),r.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]:[]})(),n=((e,t)=>{const r=(e=>{const t=jg(e);return!1===t?hI.None:"both"===t?hI.Both:hI.Vertical})(e);return r===hI.None?P.none():P.some(Qm("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},behaviours:[oI.config({mode:"mouse",repositionTarget:!1,onDrag:(t,n,o)=>dI(e,o,r),blockerClass:"tox-blocker"}),zf.config({mode:"special",onLeft:()=>uI(e,r,-1,0),onRight:()=>uI(e,r,1,0),onUp:()=>uI(e,r,0,-1),onDown:()=>uI(e,r,0,1)}),Qx.config({}),tm.config({})]},t.icons))})(e,t);return r.concat(n.toArray())})()}),fI=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),mI=(e,t)=>{const r=e.inline,n=r?SD:fD,o=ov(e)?MT:$k,i=(()=>{const e=Ql(),t=Ql(),r=Ql();return{dialogUi:e,popupUi:t,mainUi:r,getUiMotherships:()=>{const r=e.get().map((e=>e.mothership)),n=t.get().map((e=>e.mothership));return r.fold((()=>n.toArray()),(e=>n.fold((()=>[e]),(t=>Je(e.element,t.element)?[e]:[e,t]))))},lazyGetInOuterOrDie:(e,t)=>()=>r.get().bind((e=>t(e.outerContainer))).getOrDie(`Could not find ${e} element in OuterContainer`)}})(),s=Ql(),a=Ql(),l=Ql(),c=Mr().deviceType.isTouch()?["tox-platform-touch"]:[],h=Qg(e),d=Eg(e),u=Gm({dom:{tag:"div",classes:["tox-anchorbar"]}}),p=()=>i.mainUi.get().map((e=>e.outerContainer)).bind(lM.getHeader),f=i.lazyGetInOuterOrDie("anchor bar",u.getOpt),m=i.lazyGetInOuterOrDie("toolbar",lM.getToolbar),g=i.lazyGetInOuterOrDie("throbber",lM.getThrobber),v=((e,t,r)=>{const n=To(!1),o=(e=>{const t=To(Qg(e)?"bottom":"top");return{isPositionedAtTop:()=>"top"===t.get(),getDockingMode:t.get,setDockingMode:t.set}})(t),i={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:Um.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get},s=Ik(t),a=(e=>{const t=t=>()=>e.formatter.match(t),r=t=>()=>{const r=e.formatter.get(t);return void 0!==r?P.some({tag:r.length>0&&(r[0].inline||r[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):P.none()},n=To([]),o=To([]),i=To(!1);return e.on("PreInit",(o=>{const i=sk(e),s=lk(e,i,t,r);n.set(s)})),e.on("addStyleModifications",(n=>{const s=lk(e,n.items,t,r);o.set(s),i.set(n.replace)})),{getData:()=>{const e=i.get()?[]:n.get(),t=o.get();return e.concat(t)}}})(t),l=(e=>({colorPicker:XA(e),hasCustomColors:JA(e),getColors:QA(e),getColorCols:ek(e)}))(t),c=(e=>({isDraggableModal:tk(e)}))(t),h={shared:{providers:i,anchors:YA(t,r,o.isPositionedAtTop),header:o},urlinput:s,styles:a,colorinput:l,dialog:c,isContextMenuOpen:()=>n.get(),setContextMenuState:e=>n.set(e)},d={...h,shared:{...h.shared,interpreter:e=>CA(e,{},d),getSink:e.popup}},u={...h,shared:{...h.shared,interpreter:e=>CA(e,{},u),getSink:e.dialog}};return{popup:d,dialog:u}})({popup:()=>nn.fromOption(i.popupUi.get().map((e=>e.sink)),"(popup) UI has not been rendered"),dialog:()=>nn.fromOption(i.dialogUi.get().map((e=>e.sink)),"UI has not been rendered")},e,f),y=()=>{const t=(()=>{const t={attributes:{[bc]:h?yc.BottomToTop:yc.TopToBottom}},r=lM.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:v.popup,onEscape:()=>{e.focus()}}),n=lM.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:v.popup.shared.getSink,providers:v.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{((e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})})(e,t)},type:d,lazyToolbar:m,lazyHeader:()=>p().getOrDie("Could not find header element"),...t}),o=lM.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:v.popup.shared.providers,onEscape:()=>{e.focus()},type:d}),i=Jg(e),s=Yg(e),a=$g(e),l=qg(e),c=lM.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),f=i||s||a,g=l?[c,r]:[r];return lM.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(f?[]:["tox-editor-header--empty"]),...t},components:$([a?g:[],i?[o]:s?[n]:[],tv(e)?[]:[u.asSpec()]]),sticky:ov(e),editor:e,sharedBackstage:v.popup.shared})})(),n={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[lM.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),lM.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},o=lM.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:v.popup}),i=lM.parts.viewWrapper({backstage:v.popup}),a=Vg(e)&&!r?P.some(pI(e,v.popup.shared.providers)):P.none(),l=$([h?[]:[t],r?[]:[n],h?[t]:[]]),f=lM.parts.editorContainer({components:$([l,r?[]:a.toArray()])}),g=nv(e),y={role:"application",...Um.isRtl()?{dir:"rtl"}:{},...g?{"aria-hidden":"true"}:{}},b=ia(lM.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(r?["tox-tinymce-inline"]:[]).concat(h?["tox-tinymce--toolbar-bottom"]:[]).concat(c),styles:{visibility:"hidden",...g?{opacity:"0",border:"0"}:{}},attributes:y},components:[f,...r?[]:[i],o],behaviours:Sl([bb(),Iu.config({disableClass:"tox-tinymce--disabled"}),zf.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),w=$x(b);return s.set(w),{mothership:w,outerContainer:b}},b=t=>{const r=gD((e=>{const t=(e=>{const t=dg(e),r=fg(e),n=gg(e);return mD(t).map((e=>vD(e,r,n)))})(e);return t.getOr(dg(e))})(e)),n=gD((e=>yD(e).getOr(ug(e)))(e));return e.inline||(Lt("div","width",n)&&Dt(t.element,"width",n),Lt("div","height",r)?Dt(t.element,"height",r):Dt(t.element,"height","400px")),r};return{popups:{backstage:v.popup,getMothership:()=>fI("popups",l)},dialogs:{backstage:v.dialog,getMothership:()=>fI("dialogs",a)},renderUI:()=>{const r=y(),s=(()=>{const t=rv(e),r=Je(wt(),t)&&"grid"===Rt(t,"display"),n={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c),attributes:{...Um.isRtl()?{dir:"rtl"}:{}}},behaviours:Sl([wh.config({useFixed:()=>o.isDocked(p)})])},i={dom:{styles:{width:document.body.clientWidth+"px"}},events:Vi([ji(xi(),(e=>{Dt(e.element,"width",document.body.clientWidth+"px")}))])},s=ia(mn(n,r?i:{})),l=$x(s);return a.set(l),{sink:s,mothership:l}})(),h=iv(e)?(()=>{const e={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(c),attributes:{...Um.isRtl()?{dir:"rtl"}:{}}},behaviours:Sl([wh.config({useFixed:()=>o.isDocked(p),getBounds:()=>t.getPopupSinkBounds()})])},r=ia(e),n=$x(r);return l.set(n),{sink:r,mothership:n}})():(e=>(l.set(e.mothership),e))(s);i.dialogUi.set(s),i.popupUi.set(h),i.mainUi.set(r);return(t=>{const{mainUi:r,popupUi:i,uiMotherships:s}=t;ce(Sg(e),((t,r)=>{e.ui.registry.addGroupToolbarButton(r,t)}));const{buttons:a,menuItems:l,contextToolbars:c,sidebars:h,views:u}=e.ui.registry.getAll(),f=Xg(e),m={menuItems:l,menus:sv(e),menubar:Pg(e),toolbar:f.getOrThunk((()=>Mg(e))),allowToolbarGroups:d===rg.floating,buttons:a,sidebar:h,views:u};var y;y=r.outerContainer,e.addShortcut("alt+F9","focus menubar",(()=>{lM.focusMenubar(y)})),e.addShortcut("alt+F10","focus toolbar",(()=>{lM.focusToolbar(y)})),e.addCommand("ToggleToolbarDrawer",((e,t)=>{(null==t?void 0:t.skipFocus)?lM.toggleToolbarDrawerWithoutFocusing(y):lM.toggleToolbarDrawer(y)})),e.addQueryStateHandler("ToggleToolbarDrawer",(()=>lM.isToolbarDrawerToggled(y))),((e,t,r)=>{const n=(e,n)=>{z([t,...r],(t=>{t.broadcastEvent(e,n)}))},o=(e,n)=>{z([t,...r],(t=>{t.broadcastOn([e],n)}))},i=e=>o($h(),{target:e.target}),s=qr(),a=tc(s,"touchstart",i),l=tc(s,"touchmove",(e=>n(yi(),e))),c=tc(s,"touchend",(e=>n(bi(),e))),h=tc(s,"mousedown",i),d=tc(s,"mouseup",(e=>{0===e.raw.button&&o(Kh(),{target:e.target})})),u=e=>o($h(),{target:Be(e.target)}),p=e=>{0===e.button&&o(Kh(),{target:Be(e.target)})},f=()=>{z(e.editorManager.get(),(t=>{e!==t&&t.dispatch("DismissPopups",{relatedTarget:e})}))},m=e=>n(wi(),nc(e)),g=e=>{o(Zh(),{}),n(xi(),nc(e))},v=mt(Be(e.getElement())),y=rc(v,"scroll",(r=>{requestAnimationFrame((()=>{if(null!=e.getContainer()){const o=Rx(e,t.element).map((e=>[e.element,...e.others])).getOr([]);F(o,(e=>Je(e,r.target)))&&(e.dispatch("ElementScroll",{target:r.target.dom}),n(Ti(),r))}}))})),b=()=>o(Zh(),{}),w=t=>{t.state&&o($h(),{target:Be(e.getContainer())})},x=e=>{o($h(),{target:Be(e.relatedTarget.getContainer())})};e.on("PostRender",(()=>{e.on("click",u),e.on("tap",u),e.on("mouseup",p),e.on("mousedown",f),e.on("ScrollWindow",m),e.on("ResizeWindow",g),e.on("ResizeEditor",b),e.on("AfterProgressState",w),e.on("DismissPopups",x)})),e.on("remove",(()=>{e.off("click",u),e.off("tap",u),e.off("mouseup",p),e.off("mousedown",f),e.off("ScrollWindow",m),e.off("ResizeWindow",g),e.off("ResizeEditor",b),e.off("AfterProgressState",w),e.off("DismissPopups",x),h.unbind(),a.unbind(),l.unbind(),c.unbind(),d.unbind(),y.unbind()})),e.on("detach",(()=>{z([t,...r],Nh),z([t,...r],(e=>e.destroy()))}))})(e,r.mothership,s),o.setup(e,v.popup.shared,p),XD(e,v.popup),yO(e,v.popup.shared.getSink,v.popup),(e=>{const{sidebars:t}=e.ui.registry.getAll();z(se(t),(r=>{const n=t[r],o=()=>we(P.from(e.queryCommandValue("ToggleSidebar")),r);e.ui.registry.addToggleButton(r,{icon:n.icon,tooltip:n.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",!1,r),t.setActive(o())},onSetup:t=>{t.setActive(o());const r=()=>t.setActive(o());return e.on("ToggleSidebar",r),()=>{e.off("ToggleSidebar",r)}}})}))})(e),rP(e,g,v.popup.shared),jD(e,c,i.sink,{backstage:v.popup}),lI(e,i.sink);const w={targetNode:e.getElement(),height:b(r.outerContainer)};return n.render(e,t,m,v.popup,w)})({popupUi:h,dialogUi:s,mainUi:r,uiMotherships:i.getUiMotherships()})}}},gI=w([to("lazySink"),ho("dragBlockClass"),Co("getBounds",Qr),bo("useTabstopAt",T),bo("firstTabstop",0),bo("eventOrder",{}),pd("modalBehaviours",[zf]),Oa("onExecute"),Ra("onEscape")]),vI={sketch:x},yI=w([jd({name:"draghandle",overrides:(e,t)=>({behaviours:Sl([oI.config({mode:"mouse",getTarget:e=>ua(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),zd({schema:[to("dom")],name:"title"}),zd({factory:vI,schema:[to("dom")],name:"close"}),zd({factory:vI,schema:[to("dom")],name:"body"}),jd({factory:vI,schema:[to("dom")],name:"footer"}),Hd({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[bo("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),bo("components",[])],name:"blocker"})]),bI=mu({name:"ModalDialog",configFields:gI(),partFields:yI(),factory:(e,t,r,n)=>{const o=Ql(),i=ls("modal-events"),s={...e.eventOrder,[Ei()]:[i].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:t,apis:{show:t=>{o.set(t);const r=e.lazySink(t).getOrDie(),i=n.blocker(),s=r.getSystem().build({...i,components:i.components.concat([sa(t)]),behaviours:Sl([tm.config({}),Yf("dialog-blocker-events",[Ki(Zo(),(()=>{zf.focusIn(t)}))])])});kh(r,s),zf.focusIn(t)},hide:e=>{o.clear(),ot(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{Mh(e)}))}))},getBody:t=>tu(t,e,"body"),getFooter:t=>tu(t,e,"footer"),setIdle:e=>{QT.unblock(e)},setBusy:(e,t)=>{QT.block(e,t)}},eventOrder:s,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:md(e.modalBehaviours,[Kf.config({}),zf.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),QT.config({getRoot:o.get}),Yf(i,[Yi((t=>{((e,t)=>{const r=At(e,"id").fold((()=>{const e=ls("dialog-label");return St(t,"id",e),e}),x);St(e,"aria-labelledby",r)})(t.element,tu(t,e,"title").element),((e,t)=>{const r=P.from(Ct(e,"id")).fold((()=>{const e=ls("dialog-describe");return St(t,"id",e),e}),x);St(e,"aria-describedby",r)})(t.element,tu(t,e,"body").element)}))])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,r)=>{e.setBusy(t,r)},setIdle:(e,t)=>{e.setIdle(t)}}}),wI=Mn([Jv,Qv].concat(Zy)),xI=Vn,EI=[Cy("button"),uy,So("align","end",["start","end"]),wy,by,mo("buttonType",["primary","secondary"])],SI=[...EI,ty],_I=[io("type",["submit","cancel","custom"]),...SI],CI=[io("type",["menu"]),dy,py,uy,co("items",wI),...EI],AI=[...EI,io("type",["togglebutton"]),oo("tooltip"),ny,dy,_o("active",!1)],kI=Yn("type",{submit:_I,cancel:_I,custom:_I,menu:CI,togglebutton:AI}),TI=[Jv,ty,io("level",["info","warn","error","success"]),ny,bo("url","")],PI=Mn(TI),MI=[Jv,ty,by,Cy("button"),uy,yy,mo("buttonType",["primary","secondary","toolbar"]),wy],DI=Mn(MI),OI=[Jv,Qv],II=OI.concat([fy]),RI=OI.concat([ey,by]),NI=Mn(RI),FI=Vn,BI=II.concat([xy("auto")]),LI=Mn(BI),VI=Rn([oy,ty,ny]),zI=II.concat([Eo("storageKey","default")]),HI=Mn(zI),jI=Ln,GI=Mn(II),UI=Ln,qI=OI.concat([Eo("tag","textarea"),oo("scriptId"),oo("scriptUrl"),wo("settings",void 0,jn)]),WI=OI.concat([Eo("tag","textarea"),so("init")]),$I=Un((e=>Wn("customeditor.old",Pn(WI),e).orThunk((()=>Wn("customeditor.new",Pn(qI),e))))),ZI=Ln,KI=Mn(II),YI=Dn(_n),XI=e=>[Jv,no("columns"),e],JI=[Jv,oo("html"),So("presets","presentation",["presentation","document"])],QI=Mn(JI),eR=II.concat([_o("sandboxed",!0),_o("transparent",!0)]),tR=Mn(eR),rR=Ln,nR=Mn(OI.concat([fo("height")])),oR=Mn([oo("url"),po("zoom"),po("cachedWidth"),po("cachedHeight")]),iR=II.concat([fo("inputMode"),fo("placeholder"),_o("maximized",!1),by]),sR=Mn(iR),aR=Ln,lR=e=>[Jv,ey,e],cR=[ty,oy],hR=[ty,co("items",Xn(0,(()=>dR)))],dR=On([Mn(cR),Mn(hR)]),uR=II.concat([co("items",dR),by]),pR=Mn(uR),fR=Ln,mR=II.concat([lo("items",[ty,oy]),xo("size",1),by]),gR=Mn(mR),vR=Ln,yR=II.concat([_o("constrain",!0),by]),bR=Mn(yR),wR=Mn([oo("width"),oo("height")]),xR=OI.concat([ey,xo("min",0),xo("max",0)]),ER=Mn(xR),SR=Bn,_R=[Jv,co("header",Ln),co("cells",Dn(Ln))],CR=Mn(_R),AR=II.concat([fo("placeholder"),_o("maximized",!1),by]),kR=Mn(AR),TR=Ln,PR=[io("type",["directory","leaf"]),ry,oo("id"),uo("menu",IT)],MR=Mn(PR),DR=PR.concat([co("children",Xn(0,(()=>Gn("type",{directory:OR,leaf:MR}))))]),OR=Mn(DR),IR=Gn("type",{directory:OR,leaf:MR}),RR=[Jv,co("items",IR),go("onLeafAction")],NR=Mn(RR),FR=II.concat([So("filetype","file",["image","media","file"]),by]),BR=Mn(FR),LR=Mn([oy,Ey]),VR=e=>Jn("items","items",{tag:"required",process:{}},Dn(Un((t=>Wn(`Checking item of ${e}`,zR,t).fold((e=>nn.error(Kn(e))),(e=>nn.value(e))))))),zR=kn((()=>{return Gn("type",{alertbanner:PI,bar:Mn((e=VR("bar"),[Jv,e])),button:DI,checkbox:NI,colorinput:HI,colorpicker:GI,dropzone:KI,grid:Mn(XI(VR("grid"))),iframe:tR,input:sR,listbox:pR,selectbox:gR,sizeinput:bR,slider:ER,textarea:kR,urlinput:BR,customeditor:$I,htmlpanel:QI,imagepreview:nR,collection:LI,label:Mn(lR(VR("label"))),table:CR,tree:NR,panel:jR});var e})),HR=[Jv,bo("classes",[]),co("items",zR)],jR=Mn(HR),GR=[Cy("tab"),ry,co("items",zR)],UR=[Jv,lo("tabs",GR)],qR=Mn(UR),WR=SI,$R=kI,ZR=Mn([oo("title"),ro("body",Gn("type",{panel:jR,tabpanel:qR})),Eo("size","normal"),co("buttons",$R),bo("initialData",{}),Co("onAction",v),Co("onChange",v),Co("onSubmit",v),Co("onClose",v),Co("onCancel",v),Co("onTabChange",v)]),KR=Mn([io("type",["cancel","custom"]),...WR]),YR=Mn([oo("title"),oo("url"),po("height"),po("width"),vo("buttons",KR),Co("onAction",v),Co("onCancel",v),Co("onClose",v),Co("onMessage",v)]),XR=e=>s(e)?[e].concat(Z(ge(e),XR)):l(e)?Z(e,XR):[],JR=e=>i(e.type)&&i(e.name),QR={checkbox:FI,colorinput:jI,colorpicker:UI,dropzone:YI,input:aR,iframe:rR,imagepreview:oR,selectbox:vR,sizeinput:wR,slider:SR,listbox:fR,size:wR,textarea:TR,urlinput:LR,customeditor:ZI,collection:VI,togglemenuitem:xI},eN=e=>{const t=(e=>j(XR(e),JR))(e),r=Z(t,(e=>(e=>P.from(QR[e.type]))(e).fold((()=>[]),(t=>[ro(e.name,t)]))));return Mn(r)},tN=e=>{var t;return{internalDialog:$n(Wn("dialog",ZR,e)),dataValidator:eN(e),initialData:null!==(t=e.initialData)&&void 0!==t?t:{}}},rN={open:(e,t)=>{const r=tN(t);return e(r.internalDialog,r.initialData,r.dataValidator)},openUrl:(e,t)=>e($n(Wn("dialog",YR,t))),redial:e=>tN(e)};var nN=Object.freeze({__proto__:null,events:(e,t)=>{const r=(r,n)=>{e.updateState.each((e=>{const o=e(r,n);t.set(o)})),e.renderComponents.each((o=>{const i=o(n,t.get());(e.reuseDom?jf:Hf)(r,i)}))};return Vi([ji(hi(),((t,n)=>{const o=n;if(!o.universal){const n=e.channel;N(o.channels,n)&&r(t,o.data)}})),Yi(((t,n)=>{e.initialData.each((e=>{r(t,e)}))}))])}}),oN=Object.freeze({__proto__:null,getState:(e,t,r)=>r}),iN=[to("channel"),ho("renderComponents"),ho("updateState"),ho("initialData"),_o("reuseDom",!0)];const sN=Cl({fields:iN,name:"reflecting",active:nN,apis:oN,state:Object.freeze({__proto__:null,init:()=>{const e=To(P.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(P.none())}}})}),aN=e=>{const t=[],r={};return le(e,((e,n)=>{e.fold((()=>{t.push(n)}),(e=>{r[n]=e}))})),t.length>0?nn.error(t):nn.value(r)},lN=(e,t,r)=>{const n=Gm(f_.sketch((n=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:V(e.items,(e=>SA(n,e,t,r)))}))));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:Sl([zf.config({mode:"acyclic",useTabstopAt:_(V_)}),(o=n,bu.config({find:o.getOpt})),A_(n,{postprocess:e=>aN(e).fold((e=>(console.error(e),{})),x)})])};var o},cN=fu({name:"TabButton",configFields:[bo("uid",void 0),to("value"),Jn("dom","dom",bn((()=>({attributes:{role:"tab",id:ls("aria"),"aria-selected":"false"}}))),Nn()),ho("action"),bo("domModification",{}),pd("tabButtonBehaviours",[tm,zf,ud]),to("view")],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:dm(e.action),behaviours:md(e.tabButtonBehaviours,[tm.config({}),zf.config({mode:"execution",useSpace:!0,useEnter:!0}),ud.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),hN=w([to("tabs"),to("dom"),bo("clickToDismiss",!1),pd("tabbarBehaviours",[Gu,zf]),Pa(["tabClass","selectedClass"])]),dN=Gd({factory:cN,name:"tabs",unit:"tab",overrides:e=>{const t=(e,t)=>{Gu.dehighlight(e,t),Ri(e,Mi(),{tabbar:e,button:t})},r=(e,t)=>{Gu.highlight(e,t),Ri(e,Pi(),{tabbar:e,button:t})};return{action:n=>{const o=n.getSystem().getByUid(e.uid).getOrDie(),i=Gu.isHighlighted(o,n);(i&&e.clickToDismiss?t:i?v:r)(o,n)},domModification:{classes:[e.markers.tabClass]}}}}),uN=w([dN]),pN=mu({name:"Tabbar",configFields:hN(),partFields:uN(),factory:(e,t,r,n)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:md(e.tabbarBehaviours,[Gu.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{St(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{St(t.element,"aria-selected","false")}}),zf.config({mode:"flow",getInitial:e=>Gu.getHighlighted(e).map((e=>e.element)),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),fN=fu({name:"Tabview",configFields:[pd("tabviewBehaviours",[Kf])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:md(e.tabviewBehaviours,[Kf.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),mN=w([bo("selectFirst",!0),Da("onChangeTab"),Da("onDismissTab"),bo("tabs",[]),pd("tabSectionBehaviours",[])]),gN=zd({factory:pN,schema:[to("dom"),ao("markers",[to("tabClass"),to("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),vN=zd({factory:fN,name:"tabview"}),yN=w([gN,vN]),bN=mu({name:"TabSection",configFields:mN(),partFields:yN(),factory:(e,t,r,n)=>{const o=(t,r)=>{eu(t,e,"tabbar").each((e=>{r(e).each(Ni)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:fd(e.tabSectionBehaviours),events:Vi($([e.selectFirst?[Yi(((e,t)=>{o(e,Gu.getFirst)}))]:[],[ji(Pi(),((t,r)=>{(t=>{const r=ud.getValue(t);eu(t,e,"tabview").each((n=>{q(e.tabs,(e=>e.value===r)).each((r=>{const o=r.view();At(t.element,"id").each((e=>{St(n.element,"aria-labelledby",e)})),Kf.set(n,o),e.onChangeTab(n,t,o)}))}))})(r.event.button)})),ji(Mi(),((t,r)=>{const n=r.event.button;e.onDismissTab(t,n)}))]])),apis:{getViewItems:t=>eu(t,e,"tabview").map((e=>Kf.contents(e))).getOr([]),showTab:(e,t)=>{o(e,(e=>{const r=Gu.getCandidates(e);return q(r,(e=>ud.getValue(e)===t)).filter((t=>!Gu.isHighlighted(e,t)))}))}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,r)=>{e.showTab(t,r)}}}),wN=(e,t)=>{Dt(e,"height",t+"px"),Dt(e,"flex-basis",t+"px")},xN=(e,t,r)=>{ua(e,'[role="dialog"]').each((e=>{fa(e,'[role="tablist"]').each((n=>{r.get().map((r=>(Dt(t,"height","0"),Dt(t,"flex-basis","0"),Math.min(r,((e,t,r)=>{const n=rt(e).dom,o=ua(e,".tox-dialog-wrap").getOr(e);let i;i="fixed"===Rt(o,"position")?Math.max(n.clientHeight,window.innerHeight):Math.max(n.offsetHeight,n.scrollHeight);const s=Gt(t),a=t.dom.offsetLeft>=r.dom.offsetLeft+Xt(r)?Math.max(Gt(r),s):s,l=parseInt(Rt(e,"margin-top"),10)||0,c=parseInt(Rt(e,"margin-bottom"),10)||0;return i-(Gt(e)+l+c-a)})(e,t,n))))).each((e=>{wN(t,e)}))}))}))},EN=e=>fa(e,'[role="tabpanel"]'),SN="send-data-to-section",_N="send-data-to-view",CN=(e,t,r)=>{const n=To({}),o=e=>{const t=ud.getValue(e),r=aN(t).getOr({}),o=n.get(),i=mn(o,r);n.set(i)},i=e=>{const t=n.get();ud.setValue(e,t)},s=To(null),a=V(e.tabs,(e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[ta(r.shared.providers.translate(e.title))],view:()=>[f_.sketch((n=>({dom:{tag:"div",classes:["tox-form"]},components:V(e.items,(e=>SA(n,e,t,r))),formBehaviours:Sl([zf.config({mode:"acyclic",useTabstopAt:_(V_)}),Yf("TabView.form.events",[Yi(i),Xi(o)]),Pl.config({channels:Do([{key:SN,value:{onReceive:o}},{key:_N,value:{onReceive:i}}])})])})))]}))),l=(e=>{const t=Ql(),r=[Yi((r=>{const n=r.element;EN(n).each((o=>{Dt(o,"visibility","hidden"),r.getSystem().getByDom(o).toOptional().each((r=>{const n=((e,t,r)=>V(e,((n,o)=>{Kf.set(r,e[o].view());const i=t.dom.getBoundingClientRect();return Kf.set(r,[]),i.height})))(e,o,r),i=(e=>re(ee(e,((e,t)=>e>t?-1:e<t?1:0))))(n);i.fold(t.clear,t.set)})),xN(n,o,t),Vt(o,"visibility"),((e,t)=>{re(e).each((e=>bN.showTab(t,e.value)))})(e,r),requestAnimationFrame((()=>{xN(n,o,t)}))}))})),ji(xi(),(e=>{const r=e.element;EN(r).each((e=>{xN(r,e,t)}))})),ji(pE,((e,r)=>{const n=e.element;EN(n).each((e=>{const r=Rl(mt(e));Dt(e,"visibility","hidden");const o=Ft(e,"height").map((e=>parseInt(e,10)));Vt(e,"height"),Vt(e,"flex-basis");const i=e.dom.getBoundingClientRect().height;o.forall((e=>i>e))?(t.set(i),xN(n,e,t)):o.each((t=>{wN(e,t)})),Vt(e,"visibility"),r.each(Dl)}))}))];return{extraEvents:r,selectFirst:!1}})(a);return bN.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,r)=>{const n=ud.getValue(t);Ri(e,uE,{name:n,oldName:s.get()}),s.set(n)},tabs:a,components:[bN.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[pN.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Sl([Qx.config({})])}),bN.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:l.selectFirst,tabSectionBehaviours:Sl([Yf("tabpanel",l.extraEvents),zf.config({mode:"acyclic"}),bu.config({find:e=>re(bN.getViewItems(e))}),T_(P.none(),(e=>(e.getSystem().broadcastOn([SN],{}),n.get())),((e,t)=>{n.set(t),e.getSystem().broadcastOn([_N],{})}))])})},AN=ls("update-dialog"),kN=ls("update-title"),TN=ls("update-body"),PN=ls("update-footer"),MN=ls("body-send-message"),DN=(e,t,r,n,o)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...r.map((e=>({id:e}))).getOr({}),...o?{"aria-live":"polite"}:{}}},components:[],behaviours:Sl([E_(0),sN.config({channel:`${TN}-${t}`,updateState:(e,t)=>P.some({isTabPanel:()=>"tabpanel"===t.body.type}),renderComponents:e=>{const t=e.body;return"tabpanel"===t.type?[CN(t,e.initialData,n)]:[lN(t,e.initialData,n)]},initialData:e})])});function ON(e){return ON="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ON(e)}function IN(e,t){return IN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},IN(e,t)}function RN(e,t,r){return RN=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&IN(o,r.prototype),o},RN.apply(null,arguments)}function NN(e){return function(e){if(Array.isArray(e))return FN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return FN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?FN(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BN=Object.hasOwnProperty,LN=Object.setPrototypeOf,VN=Object.isFrozen,zN=Object.getPrototypeOf,HN=Object.getOwnPropertyDescriptor,jN=Object.freeze,GN=Object.seal,UN=Object.create,qN="undefined"!=typeof Reflect&&Reflect,WN=qN.apply,$N=qN.construct;WN||(WN=function(e,t,r){return e.apply(t,r)}),jN||(jN=function(e){return e}),GN||(GN=function(e){return e}),$N||($N=function(e,t){return RN(e,NN(t))});var ZN,KN=iF(Array.prototype.forEach),YN=iF(Array.prototype.pop),XN=iF(Array.prototype.push),JN=iF(String.prototype.toLowerCase),QN=iF(String.prototype.match),eF=iF(String.prototype.replace),tF=iF(String.prototype.indexOf),rF=iF(String.prototype.trim),nF=iF(RegExp.prototype.test),oF=(ZN=TypeError,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return $N(ZN,t)});function iF(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return WN(e,t,n)}}function sF(e,t){LN&&LN(e,null);for(var r=t.length;r--;){var n=t[r];if("string"==typeof n){var o=JN(n);o!==n&&(VN(t)||(t[r]=o),n=o)}e[n]=!0}return e}function aF(e){var t,r=UN(null);for(t in e)WN(BN,e,[t])&&(r[t]=e[t]);return r}function lF(e,t){for(;null!==e;){var r=HN(e,t);if(r){if(r.get)return iF(r.get);if("function"==typeof r.value)return iF(r.value)}e=zN(e)}return function(e){return console.warn("fallback value for",e),null}}var cF=jN(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),hF=jN(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),dF=jN(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),uF=jN(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pF=jN(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),fF=jN(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),mF=jN(["#text"]),gF=jN(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),vF=jN(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yF=jN(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),bF=jN(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wF=GN(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xF=GN(/<%[\w\W]*|[\w\W]*%>/gm),EF=GN(/^data-[\-\w.\u00B7-\uFFFF]/),SF=GN(/^aria-[\-\w]+$/),_F=GN(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),CF=GN(/^(?:\w+script|data):/i),AF=GN(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),kF=GN(/^html$/i),TF=function(){return"undefined"==typeof window?null:window},PF=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TF(),r=function(t){return e(t)};if(r.version="2.3.8",r.removed=[],!t||!t.document||9!==t.document.nodeType)return r.isSupported=!1,r;var n=t.document,o=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,l=t.Element,c=t.NodeFilter,h=t.NamedNodeMap,d=void 0===h?t.NamedNodeMap||t.MozNamedAttrMap:h,u=t.HTMLFormElement,p=t.DOMParser,f=t.trustedTypes,m=l.prototype,g=lF(m,"cloneNode"),v=lF(m,"nextSibling"),y=lF(m,"childNodes"),b=lF(m,"parentNode");if("function"==typeof s){var w=o.createElement("template");w.content&&w.content.ownerDocument&&(o=w.content.ownerDocument)}var x=function(e,t){if("object"!==ON(e)||"function"!=typeof e.createPolicy)return null;var r=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(r=t.currentScript.getAttribute(n));var o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(f,n),E=x?x.createHTML(""):"",S=o,_=S.implementation,C=S.createNodeIterator,A=S.createDocumentFragment,k=S.getElementsByTagName,T=n.importNode,P={};try{P=aF(o).documentMode?o.documentMode:{}}catch(e){}var M={};r.isSupported="function"==typeof b&&_&&void 0!==_.createHTMLDocument&&9!==P;var D,O,I=wF,R=xF,N=EF,F=SF,B=CF,L=AF,V=_F,z=null,H=sF({},[].concat(NN(cF),NN(hF),NN(dF),NN(pF),NN(mF))),j=null,G=sF({},[].concat(NN(gF),NN(vF),NN(yF),NN(bF))),U=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,W=null,$=!0,Z=!0,K=!1,Y=!1,X=!1,J=!1,Q=!1,ee=!1,te=!1,re=!1,ne=!0,oe=!0,ie=!1,se={},ae=null,le=sF({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ce=null,he=sF({},["audio","video","img","source","image","track"]),de=null,ue=sF({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml",ge=me,ve=!1,ye=["application/xhtml+xml","text/html"],be=null,we=o.createElement("form"),xe=function(e){return e instanceof RegExp||e instanceof Function},Ee=function(e){be&&be===e||(e&&"object"===ON(e)||(e={}),e=aF(e),z="ALLOWED_TAGS"in e?sF({},e.ALLOWED_TAGS):H,j="ALLOWED_ATTR"in e?sF({},e.ALLOWED_ATTR):G,de="ADD_URI_SAFE_ATTR"in e?sF(aF(ue),e.ADD_URI_SAFE_ATTR):ue,ce="ADD_DATA_URI_TAGS"in e?sF(aF(he),e.ADD_DATA_URI_TAGS):he,ae="FORBID_CONTENTS"in e?sF({},e.FORBID_CONTENTS):le,q="FORBID_TAGS"in e?sF({},e.FORBID_TAGS):{},W="FORBID_ATTR"in e?sF({},e.FORBID_ATTR):{},se="USE_PROFILES"in e&&e.USE_PROFILES,$=!1!==e.ALLOW_ARIA_ATTR,Z=!1!==e.ALLOW_DATA_ATTR,K=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=e.SAFE_FOR_TEMPLATES||!1,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,re=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,oe=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,V=e.ALLOWED_URI_REGEXP||V,ge=e.NAMESPACE||me,e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(U.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),D=D=-1===ye.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,O="application/xhtml+xml"===D?function(e){return e}:JN,Y&&(Z=!1),te&&(ee=!0),se&&(z=sF({},NN(mF)),j=[],!0===se.html&&(sF(z,cF),sF(j,gF)),!0===se.svg&&(sF(z,hF),sF(j,vF),sF(j,bF)),!0===se.svgFilters&&(sF(z,dF),sF(j,vF),sF(j,bF)),!0===se.mathMl&&(sF(z,pF),sF(j,yF),sF(j,bF))),e.ADD_TAGS&&(z===H&&(z=aF(z)),sF(z,e.ADD_TAGS)),e.ADD_ATTR&&(j===G&&(j=aF(j)),sF(j,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&sF(de,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ae===le&&(ae=aF(ae)),sF(ae,e.FORBID_CONTENTS)),oe&&(z["#text"]=!0),X&&sF(z,["html","head","body"]),z.table&&(sF(z,["tbody"]),delete q.tbody),jN&&jN(e),be=e)},Se=sF({},["mi","mo","mn","ms","mtext"]),_e=sF({},["foreignobject","desc","title","annotation-xml"]),Ce=sF({},["title","style","font","a","script"]),Ae=sF({},hF);sF(Ae,dF),sF(Ae,uF);var ke=sF({},pF);sF(ke,fF);var Te=function(e){XN(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=E}catch(t){e.remove()}}},Pe=function(e,t){try{XN(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){XN(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!j[e])if(ee||te)try{Te(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Me=function(e){var t,r;if(Q)e="<remove></remove>"+e;else{var n=QN(e,/^[\r\n\t ]+/);r=n&&n[0]}"application/xhtml+xml"===D&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=x?x.createHTML(e):e;if(ge===me)try{t=(new p).parseFromString(i,D)}catch(e){}if(!t||!t.documentElement){t=_.createDocument(ge,"template",null);try{t.documentElement.innerHTML=ve?"":i}catch(e){}}var s=t.body||t.documentElement;return e&&r&&s.insertBefore(o.createTextNode(r),s.childNodes[0]||null),ge===me?k.call(t,X?"html":"body")[0]:X?t.documentElement:s},De=function(e){return C.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Oe=function(e){return"object"===ON(a)?e instanceof a:e&&"object"===ON(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ie=function(e,t,n){M[e]&&KN(M[e],(function(e){e.call(r,t,n,be)}))},Re=function(e){var t,n;if(Ie("beforeSanitizeElements",e,null),(n=e)instanceof u&&("string"!=typeof n.nodeName||"string"!=typeof n.textContent||"function"!=typeof n.removeChild||!(n.attributes instanceof d)||"function"!=typeof n.removeAttribute||"function"!=typeof n.setAttribute||"string"!=typeof n.namespaceURI||"function"!=typeof n.insertBefore))return Te(e),!0;if(nF(/[\u0080-\uFFFF]/,e.nodeName))return Te(e),!0;var o=O(e.nodeName);if(Ie("uponSanitizeElement",e,{tagName:o,allowedTags:z}),e.hasChildNodes()&&!Oe(e.firstElementChild)&&(!Oe(e.content)||!Oe(e.content.firstElementChild))&&nF(/<[/\w]/g,e.innerHTML)&&nF(/<[/\w]/g,e.textContent))return Te(e),!0;if("select"===o&&nF(/<template/i,e.innerHTML))return Te(e),!0;if(!z[o]||q[o]){if(!q[o]&&Fe(o)){if(U.tagNameCheck instanceof RegExp&&nF(U.tagNameCheck,o))return!1;if(U.tagNameCheck instanceof Function&&U.tagNameCheck(o))return!1}if(oe&&!ae[o]){var i=b(e)||e.parentNode,s=y(e)||e.childNodes;if(s&&i)for(var a=s.length-1;a>=0;--a)i.insertBefore(g(s[a],!0),v(e))}return Te(e),!0}return e instanceof l&&!function(e){var t=b(e);t&&t.tagName||(t={namespaceURI:me,tagName:"template"});var r=JN(e.tagName),n=JN(t.tagName);return e.namespaceURI===fe?t.namespaceURI===me?"svg"===r:t.namespaceURI===pe?"svg"===r&&("annotation-xml"===n||Se[n]):Boolean(Ae[r]):e.namespaceURI===pe?t.namespaceURI===me?"math"===r:t.namespaceURI===fe?"math"===r&&_e[n]:Boolean(ke[r]):e.namespaceURI===me&&!(t.namespaceURI===fe&&!_e[n])&&!(t.namespaceURI===pe&&!Se[n])&&!ke[r]&&(Ce[r]||!Ae[r])}(e)?(Te(e),!0):"noscript"!==o&&"noembed"!==o||!nF(/<\/no(script|embed)/i,e.innerHTML)?(Y&&3===e.nodeType&&(t=e.textContent,t=eF(t,I," "),t=eF(t,R," "),e.textContent!==t&&(XN(r.removed,{element:e.cloneNode()}),e.textContent=t)),Ie("afterSanitizeElements",e,null),!1):(Te(e),!0)},Ne=function(e,t,r){if(ne&&("id"===t||"name"===t)&&(r in o||r in we))return!1;if(Z&&!W[t]&&nF(N,t));else if($&&nF(F,t));else if(!j[t]||W[t]){if(!(Fe(e)&&(U.tagNameCheck instanceof RegExp&&nF(U.tagNameCheck,e)||U.tagNameCheck instanceof Function&&U.tagNameCheck(e))&&(U.attributeNameCheck instanceof RegExp&&nF(U.attributeNameCheck,t)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(t))||"is"===t&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&nF(U.tagNameCheck,r)||U.tagNameCheck instanceof Function&&U.tagNameCheck(r))))return!1}else if(de[t]);else if(nF(V,eF(r,L,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==tF(r,"data:")||!ce[e])if(K&&!nF(B,eF(r,L,"")));else if(r)return!1;return!0},Fe=function(e){return e.indexOf("-")>0},Be=function(e){var t,r,n,o;Ie("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j};for(o=i.length;o--;){var a=t=i[o],l=a.name,c=a.namespaceURI;r="value"===l?t.value:rF(t.value),n=O(l);var h=r;if(s.attrName=n,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,Ie("uponSanitizeAttribute",e,s),r=s.attrValue,!s.forceKeepAttr)if(s.keepAttr)if(nF(/\/>/i,r))Pe(l,e);else{Y&&(r=eF(r,I," "),r=eF(r,R," "));var d=O(e.nodeName);if(Ne(d,n,r)){if(r!==h)try{c?e.setAttributeNS(c,l,r):e.setAttribute(l,r)}catch(t){Pe(l,e)}}else Pe(l,e)}else Pe(l,e)}Ie("afterSanitizeAttributes",e,null)}},Le=function e(t){var r,n=De(t);for(Ie("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)Ie("uponSanitizeShadowNode",r,null),Re(r)||(r.content instanceof i&&e(r.content),Be(r));Ie("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(e,o){var s,l,c,h,d;if((ve=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Oe(e)){if("function"!=typeof e.toString)throw oF("toString is not a function");if("string"!=typeof(e=e.toString()))throw oF("dirty is not a string, aborting")}if(!r.isSupported){if("object"===ON(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Oe(e))return t.toStaticHTML(e.outerHTML)}return e}if(J||Ee(o),r.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){var u=O(e.nodeName);if(!z[u]||q[u])throw oF("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof a)1===(l=(s=Me("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!ee&&!Y&&!X&&-1===e.indexOf("<"))return x&&re?x.createHTML(e):e;if(!(s=Me(e)))return ee?null:re?E:""}s&&Q&&Te(s.firstChild);for(var p=De(ie?e:s);c=p.nextNode();)3===c.nodeType&&c===h||Re(c)||(c.content instanceof i&&Le(c.content),Be(c),h=c);if(h=null,ie)return e;if(ee){if(te)for(d=A.call(s.ownerDocument);s.firstChild;)d.appendChild(s.firstChild);else d=s;return j.shadowroot&&(d=T.call(n,d,!0)),d}var f=X?s.outerHTML:s.innerHTML;return X&&z["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&nF(kF,s.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+f),Y&&(f=eF(f,I," "),f=eF(f,R," ")),x&&re?x.createHTML(f):f},r.setConfig=function(e){Ee(e),J=!0},r.clearConfig=function(){be=null,J=!1},r.isValidAttribute=function(e,t,r){be||Ee({});var n=O(e),o=O(t);return Ne(n,o,r)},r.addHook=function(e,t){"function"==typeof t&&(M[e]=M[e]||[],XN(M[e],t))},r.removeHook=function(e){if(M[e])return YN(M[e])},r.removeHooks=function(e){M[e]&&(M[e]=[])},r.removeAllHooks=function(){M={}},r}();const MF=e=>PF().sanitize(e),DF=sg.deviceType.isTouch(),OF=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),IF=(e,t)=>bI.parts.close(jm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Sl([Qx.config({})])})),RF=()=>bI.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),NF=(e,t)=>bI.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:eP(`<p>${MF(t.translate(e))}</p>`)}]}]}),FF=e=>bI.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),BF=(e,t)=>[Wx.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Wx.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],LF=e=>{const t="tox-dialog",r=t+"-wrap",n=r+"__backdrop",o=t+"__disable-scroll";return bI.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),P.some(!0)),useTabstopAt:e=>!V_(e),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:eP(`<div class="${r}"></div>`),components:[{dom:{tag:"div",classes:DF?[n,n+"--opaque"]:[n]}}]}},dragBlockClass:r,modalBehaviours:Sl([tm.config({}),Yf("dialog-events",e.dialogEvents.concat([Ki(Zo(),((e,t)=>{zf.focusIn(e)}))])),Yf("scroll-lock",[Yi((()=>{zs(wt(),o)})),Xi((()=>{Hs(wt(),o)}))]),...e.extraBehaviours]),eventOrder:{[di()]:["dialog-events"],[Ei()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Si()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},VF=e=>jm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},buttonBehaviours:Sl([Qx.config({})]),components:[Qm("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:e=>{Ii(e,aE)}}),zF=(e,t,r,n)=>({dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...r.map((e=>({id:e}))).getOr({})}},components:[],behaviours:Sl([sN.config({channel:`${kN}-${t}`,initialData:e,renderComponents:e=>[ta(n.translate(e.title))]})])}),HF=()=>({dom:eP('<div class="tox-dialog__draghandle"></div>')}),jF=(e,t,r)=>((e,t,r)=>{const n=bI.parts.title(zF(e,t,P.none(),r)),o=bI.parts.draghandle(HF()),i=bI.parts.close(VF(r)),s=[n].concat(e.draggable?[o]:[]).concat([i]);return Wx.sketch({dom:eP('<div class="tox-dialog__header"></div>'),components:s})})({title:r.shared.providers.translate(e),draggable:r.dialog.isDraggableModal()},t,r.shared.providers),GF=(e,t,r)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":r.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:eP('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),UF=(e,t,r)=>({onClose:()=>r.closeWindow(),onBlock:r=>{bI.setBusy(e(),((e,n)=>GF(r.message,n,t)))},onUnblock:()=>{bI.setIdle(e())}}),qF=(e,t,r,n)=>ia(LF({...e,firstTabstop:1,lazySink:n.shared.getSink,extraBehaviours:[sN.config({channel:`${AN}-${e.id}`,updateState:(e,t)=>P.some(t),initialData:t}),P_({}),...e.extraBehaviours],onEscape:e=>{Ii(e,aE)},dialogEvents:r,eventOrder:{[hi()]:[sN.name(),Pl.name()],[Ei()]:["scroll-lock",sN.name(),"messages","dialog-events","alloy.base.behaviour"],[Si()]:["alloy.base.behaviour","dialog-events","messages",sN.name(),"scroll-lock"]}})),WF=(e,t={})=>V(e,(e=>"menu"===e.type?(e=>{const r=V(e.items,(e=>{const r=ve(t,e.name).getOr(To(!1));return{...e,storage:r}}));return{...e,items:r}})(e):e)),$F=e=>U(e,((e,t)=>"menu"===t.type?U(t.items,((e,t)=>(e[t.name]=t.storage,e)),e):e),{}),ZF=(e,t)=>[Wi(Zo(),L_),e(sE,((e,r,n,o)=>{Rl(mt(o.element)).fold(v,Ol),t.onClose(),r.onClose()})),e(aE,((e,t,r,n)=>{t.onCancel(e),Ii(n,sE)})),ji(dE,((e,r)=>t.onUnblock())),ji(hE,((e,r)=>t.onBlock(r.event)))],KF=(e,t,r)=>{const n=(t,r)=>ji(t,((t,n)=>{o(t,((o,i)=>{r(e(),o,n.event,t)}))})),o=(e,t)=>{sN.getState(e).get().each((r=>{t(r.internalDialog,e)}))};return[...ZF(n,t),n(cE,((e,t)=>t.onSubmit(e))),n(iE,((e,t,r)=>{t.onChange(e,{name:r.name})})),n(lE,((e,t,n,o)=>{const i=()=>zf.focusIn(o),s=e=>kt(e,"disabled")||At(e,"aria-disabled").exists((e=>"true"===e)),a=mt(o.element),l=Rl(a);t.onAction(e,{name:n.name,value:n.value}),Rl(a).fold(i,(e=>{s(e)||l.exists((t=>Qe(e,t)&&s(t)))?i():r().toOptional().filter((t=>!Qe(t.element,e))).each(i)}))})),n(uE,((e,t,r)=>{t.onTabChange(e,{newTabName:r.name,oldTabName:r.oldName})})),Xi((t=>{const r=e();ud.setValue(t,r.getData())}))]},YF=(e,t)=>{const r=t.map((e=>e.footerButtons)).getOr([]),n=H(r,(e=>"start"===e.align)),o=(e,t)=>Wx.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:V(t,(e=>e.memento.asSpec()))});return[o("start",n.pass),o("end",n.fail)]},XF=(e,t,r)=>({dom:eP('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Sl([sN.config({channel:`${PN}-${t}`,initialData:e,updateState:(e,t)=>{const n=V(t.buttons,(e=>{const t=Gm(((e,t)=>aA(e,e.type,t))(e,r));return{name:e.name,align:e.align,memento:t}}));return P.some({lookupByName:t=>((e,t,r)=>q(t,(e=>e.name===r)).bind((t=>t.memento.getOpt(e))))(e,n,t),footerButtons:n})},renderComponents:YF})])}),JF=(e,t,r)=>bI.parts.footer(XF(e,t,r)),QF=(e,t)=>{if(e.getRoot().getSystem().isConnected()){const r=bu.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return f_.getField(r,t).orThunk((()=>{const r=e.getFooter();return sN.getState(r).get().bind((e=>e.lookupByName(t)))}))}return P.none()},eB=(e,t,r)=>{const n=t=>{const r=e.getRoot();r.getSystem().isConnected()&&t(r)},o={getData:()=>{const t=e.getRoot(),n=t.getSystem().isConnected()?e.getFormWrapper():t;return{...ud.getValue(n),...ce(r,(e=>e.get()))}},setData:t=>{n((n=>{const i=o.getData(),s=mn(i,t),a=((e,t)=>{const r=e.getRoot();return sN.getState(r).get().map((e=>$n(Wn("data",e.dataValidator,t)))).getOr(t)})(e,s),l=e.getFormWrapper();ud.setValue(l,a),le(r,((e,t)=>{ye(s,t)&&e.set(s[t])}))}))},setEnabled:(t,r)=>{QF(e,t).each(r?Iu.enable:Iu.disable)},focus:t=>{QF(e,t).each(tm.focus)},block:e=>{if(!i(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");n((t=>{Ri(t,hE,{message:e})}))},unblock:()=>{n((e=>{Ii(e,dE)}))},showTab:t=>{n((r=>{const n=e.getBody();sN.getState(n).get().exists((e=>e.isTabPanel()))&&bu.getCurrent(n).each((e=>{bN.showTab(e,t)}))}))},redial:i=>{n((n=>{const s=e.getId(),a=t(i),l=WF(a.internalDialog.buttons,r);n.getSystem().broadcastOn([`${AN}-${s}`],a),n.getSystem().broadcastOn([`${kN}-${s}`],a.internalDialog),n.getSystem().broadcastOn([`${TN}-${s}`],a.internalDialog),n.getSystem().broadcastOn([`${PN}-${s}`],{...a.internalDialog,buttons:l}),o.setData(a.initialData)}))},close:()=>{n((e=>{Ii(e,sE)}))},toggleFullscreen:e.toggleFullscreen};return o};var tB=tinymce.util.Tools.resolve("tinymce.util.URI");const rB=["insertContent","setContent","execCommand","close","block","unblock"],nB=e=>s(e)&&-1!==rB.indexOf(e.mceAction),oB=(e,t,r,n)=>{const o=ls("dialog"),a=jF(e.title,o,n),l=(e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[F_({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Sl([Qx.config({}),tm.config({})])})]}],behaviours:Sl([zf.config({mode:"acyclic",useTabstopAt:_(V_)})])};return bI.parts.body(t)})(e),c=e.buttons.bind((e=>0===e.length?P.none():P.some(JF({buttons:e},o,n)))),d=((e,t)=>{const r=(t,r)=>ji(t,((t,o)=>{n(t,((n,i)=>{r(e(),n,o.event,t)}))})),n=(e,t)=>{sN.getState(e).get().each((r=>{t(r,e)}))};return[...ZF(r,t),r(lE,((e,t,r)=>{t.onAction(e,{name:r.name})}))]})((()=>w),UF((()=>b),n.shared.providers,t)),u={...e.height.fold((()=>({})),(e=>({height:e+"px","max-height":e+"px"}))),...e.width.fold((()=>({})),(e=>({width:e+"px","max-width":e+"px"})))},f=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],m=new tB(e.url,{base_uri:new tB(window.location.href)}),g=`${m.protocol}://${m.host}${m.port?":"+m.port:""}`,v=Jl(),y=[Yf("messages",[Yi((()=>{const t=tc(Be(window),"message",(t=>{if(m.isSameOrigin(new tB(t.raw.origin))){const n=t.raw.data;nB(n)?((e,t,r)=>{switch(r.mceAction){case"insertContent":e.insertContent(r.content);break;case"setContent":e.setContent(r.content);break;case"execCommand":const n=!!h(r.ui)&&r.ui;e.execCommand(r.cmd,n,r.value);break;case"close":t.close();break;case"block":t.block(r.message);break;case"unblock":t.unblock()}})(r,w,n):(e=>!nB(e)&&s(e)&&ye(e,"mceAction"))(n)&&e.onMessage(w,n)}}));v.set(t)})),Xi(v.clear)]),Pl.config({channels:{[MN]:{onReceive:(e,t)=>{fa(e.element,"iframe").each((e=>{const r=e.dom.contentWindow;p(r)&&r.postMessage(t,g)}))}}}})],b=qF({id:o,header:a,body:l,footer:c,extraClasses:f,extraBehaviours:y,extraStyles:u},e,d,n),w=(e=>{const t=t=>{e.getSystem().isConnected()&&t(e)};return{block:e=>{if(!i(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((t=>{Ri(t,hE,{message:e})}))},unblock:()=>{t((e=>{Ii(e,dE)}))},close:()=>{t((e=>{Ii(e,sE)}))},sendMessage:e=>{t((t=>{t.getSystem().broadcastOn([MN],e)}))}}})(b);return{dialog:b,instanceApi:w}},iB=(e,t,r)=>t&&r?[]:[wT.config({contextual:{lazyContext:()=>P.some(Yr(Be(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:t=>Rx(e,t.element).map((e=>({bounds:Nx(e),optScrollEnv:P.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Zt(e.element).top})}))).getOrThunk((()=>({bounds:Qr(),optScrollEnv:P.none()})))})],sB=e=>{const t=e.editor,r=ov(t),n=(e=>{const t=e.shared;return{open:(r,n)=>{const o=()=>{bI.hide(l),n()},i=Gm(aA({name:"close-alert",text:"OK",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"cancel",e)),s=RF(),a=IF(o,t.providers),l=ia(LF({lazySink:()=>t.getSink(),header:OF(s,a),body:NF(r,t.providers),footer:P.some(FF(BF([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ji(aE,o)],eventOrder:{}}));bI.show(l);const c=i.get(l);tm.focus(c)}}})(e.backstages.dialog),o=(e=>{const t=e.shared;return{open:(r,n)=>{const o=e=>{bI.hide(c),n(e)},i=Gm(aA({name:"yes",text:"Yes",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"submit",e)),s=aA({name:"no",text:"No",primary:!1,buttonType:P.some("secondary"),align:"end",enabled:!0,icon:P.none()},"cancel",e),a=RF(),l=IF((()=>o(!1)),t.providers),c=ia(LF({lazySink:()=>t.getSink(),header:OF(a,l),body:NF(r,t.providers),footer:P.some(FF(BF([],[s,i.asSpec()]))),onEscape:()=>o(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ji(aE,(()=>o(!1))),ji(cE,(()=>o(!0)))],eventOrder:{}}));bI.show(c);const h=i.get(c);tm.focus(h)}}})(e.backstages.dialog),i=(t,r)=>rN.open(((t,n,o)=>{const i=n,s=((e,t,r)=>{const n=ls("dialog"),o=e.internalDialog,i=jF(o.title,n,r),s=((e,t,r)=>{const n=DN(e,t,P.none(),r,!1);return bI.parts.body(n)})({body:o.body,initialData:o.initialData},n,r),a=WF(o.buttons),l=$F(a),c=JF({buttons:a},n,r),h=KF((()=>m),UF((()=>p),r.shared.providers,t),r.shared.getSink),d=(e=>{switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}})(o.size),u={id:n,header:i,body:s,footer:P.some(c),extraClasses:d,extraBehaviours:[],extraStyles:{}},p=qF(u,e,h,r),f={getId:w(n),getRoot:w(p),getBody:()=>bI.getBody(p),getFooter:()=>bI.getFooter(p),getFormWrapper:()=>{const e=bI.getBody(p);return bu.getCurrent(e).getOr(e)},toggleFullscreen:()=>{const e="tox-dialog--fullscreen",t=Be(p.element.dom);js(t,e)?(Hs(t,e),Gs(t,d)):(Us(t,d),zs(t,e))}},m=eB(f,t.redial,l);return{dialog:p,instanceApi:m}})({dataValidator:o,initialData:i,internalDialog:t},{redial:rN.redial,closeWindow:()=>{bI.hide(s.dialog),r(s.instanceApi)}},e.backstages.dialog);return bI.show(s.dialog),s.instanceApi.setData(i),s.instanceApi}),t),s=(n,o,i,s=!1)=>rN.open(((n,a,l)=>{const c=$n(Wn("data",l,a)),h=Ql(),d=e.backstages.popup.shared.header.isPositionedAtTop(),u=()=>h.on((e=>{zm.reposition(e),wT.refresh(e)})),p=((e,t,r,n)=>{const o=ls("dialog"),i=ls("dialog-label"),s=ls("dialog-content"),a=e.internalDialog,l=Gm(((e,t,r,n)=>Wx.sketch({dom:eP('<div class="tox-dialog__header"></div>'),components:[zF(e,t,P.some(r),n),HF(),VF(n)],containerBehaviours:Sl([oI.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>ma(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:a.title,draggable:!0},o,i,r.shared.providers)),c=Gm(((e,t,r,n,o)=>DN(e,t,P.some(r),n,o))({body:a.body,initialData:a.initialData},o,s,r,n)),h=WF(a.buttons),d=$F(h),u=Gm(((e,t,r)=>XF(e,t,r))({buttons:h},o,r)),p=KF((()=>g),{onBlock:e=>{QT.block(m,((t,n)=>GF(e.message,n,r.shared.providers)))},onUnblock:()=>{QT.unblock(m)},onClose:()=>t.closeWindow()},r.shared.getSink),f="tox-dialog-inline",m=ia({dom:{tag:"div",classes:["tox-dialog",f],attributes:{role:"dialog","aria-labelledby":i,"aria-describedby":s}},eventOrder:{[hi()]:[sN.name(),Pl.name()],[di()]:["execute-on-form"],[Ei()]:["reflecting","execute-on-form"]},behaviours:Sl([zf.config({mode:"cyclic",onEscape:e=>(Ii(e,sE),P.some(!0)),useTabstopAt:e=>!V_(e)&&("button"!==je(e)||"disabled"!==Ct(e,"disabled")),firstTabstop:1}),sN.config({channel:`${AN}-${o}`,updateState:(e,t)=>P.some(t),initialData:e}),tm.config({}),Yf("execute-on-form",p.concat([Ki(Zo(),((e,t)=>{zf.focusIn(e)}))])),QT.config({getRoot:()=>P.some(m)}),Kf.config({}),P_({})]),components:[l.asSpec(),c.asSpec(),u.asSpec()]}),g=eB({getId:w(o),getRoot:w(m),getFooter:()=>u.get(m),getBody:()=>c.get(m),getFormWrapper:()=>{const e=c.get(m);return bu.getCurrent(e).getOr(e)},toggleFullscreen:()=>{const e="tox-dialog--fullscreen",t=Be(m.element.dom);qs(t,[e])?(Us(t,[e]),Gs(t,[f])):(Us(t,[f]),Gs(t,[e]))}},t.redial,d);return{dialog:m,instanceApi:g}})({dataValidator:l,initialData:c,internalDialog:n},{redial:rN.redial,closeWindow:()=>{h.on(zm.hide),t.off("ResizeEditor",u),h.clear(),i(p.instanceApi)}},e.backstages.popup,s),f=ia(zm.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...d?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Sl([Yf("window-manager-inline-events",[ji(_i(),((e,t)=>{Ii(p.dialog,aE)}))]),...iB(t,r,d)]),isExtraPart:(e,t)=>(e=>Fx(e,".tox-alert-dialog")||Fx(e,".tox-confirm-dialog"))(t)}));return h.set(f),zm.showWithinBounds(f,sa(p.dialog),{anchor:o},(()=>{const e=t.inline?wt():Be(t.getContainer()),r=Yr(e);return P.some(r)})),r&&d||(wT.refresh(f),t.on("ResizeEditor",u)),p.instanceApi.setData(c),zf.focusIn(p.dialog),p.instanceApi}),n);return{open:(t,r,n)=>void 0!==r&&"toolbar"===r.inline?s(t,e.backstages.popup.shared.anchors.inlineDialog(),n,r.ariaAttrs):void 0!==r&&"cursor"===r.inline?s(t,e.backstages.popup.shared.anchors.cursor(),n,r.ariaAttrs):i(t,n),openUrl:(r,n)=>((r,n)=>rN.openUrl((r=>{const o=oB(r,{closeWindow:()=>{bI.hide(o.dialog),n(o.instanceApi)}},t,e.backstages.dialog);return bI.show(o.dialog),o.instanceApi}),r))(r,n),alert:(e,t)=>{n.open(e,t)},close:e=>{e.close()},confirm:(e,t)=>{o.open(e,t)}}};en.add("silver",(e=>{(e=>{cg(e),(e=>{const t=e.options.register,r=e=>g(e,i)?{value:Cw(e),valid:!0}:{valid:!1,message:"Must be an array of strings."};t("color_map",{processor:r,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_map_background",{processor:r}),t("color_map_foreground",{processor:r}),t("color_cols",{processor:"number",default:Sw(Mw(e,"default").length)}),t("color_cols_foreground",{processor:"number",default:_w(e,Mw(e,xw).length)}),t("color_cols_background",{processor:"number",default:_w(e,Mw(e,Ew).length)}),t("custom_colors",{processor:"boolean",default:!0}),t("color_default_foreground",{processor:"string",default:kw}),t("color_default_background",{processor:"string",default:kw})})(e),(e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:e=>!1===e?{value:[],valid:!0}:i(e)||g(e,i)?{value:JD(e),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(e)})(e);let t=()=>Qr();const{dialogs:r,popups:n,renderUI:o}=mI(e,{getPopupSinkBounds:()=>t()});Dx(e,n.backstage.shared);const s=sB({editor:e,backstages:{popup:n.backstage,dialog:r.backstage}});return{renderUI:async()=>{const r=await o();return Rx(e,n.getMothership().element).each((e=>{t=()=>Nx(e)})),r},getWindowManagerImpl:w(s),getNotificationManagerImpl:()=>((e,t,r)=>{const n=t.backstage.shared,o=()=>{const t=Yr(Be(e.getContentAreaContainer())),r=Qr(),n=Ka(r.x,t.x,t.right),o=Ka(r.y,t.y,t.bottom),i=Math.max(t.right,r.right),s=Math.max(t.bottom,r.bottom);return P.some(Kr(n,o,i-n,s-o))};return{open:(t,i)=>{const s=()=>{i(),zm.hide(l)},a=ia(tg.sketch({text:t.text,level:N(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:t.icon,closeButton:t.closeButton,onAction:s,iconProvider:n.providers.icons,translationProvider:n.providers.translate})),l=ia(zm.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:n.getSink,fireDismissalEventInstead:{},...n.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));r.add(l),m(t.timeout)&&t.timeout>0&&Hm.setEditorTimeout(e,(()=>{s()}),t.timeout);const c={close:s,reposition:()=>{const t=sa(a),r={maxHeightFunction:cc()},i=e.notificationManager.getNotifications();if(i[0]===c){const e={...n.anchors.banner(),overrides:r};zm.showWithinBounds(l,t,{anchor:e},o)}else R(i,c).each((e=>{const n=i[e-1].getEl(),s={type:"node",root:wt(),node:P.some(Be(n)),overrides:r,layouts:{onRtl:()=>[cl],onLtr:()=>[cl]}};zm.showWithinBounds(l,t,{anchor:s},o)}))},text:e=>{tg.updateText(a,e)},settings:t,getEl:()=>a.element.dom,progressBar:{value:e=>{tg.updateProgress(a,e)}}};return c},close:e=>{e.close()},getArgs:e=>e.settings}})(e,{backstage:n.backstage},n.getMothership())}}))}()},5594:e=>{!function(){"use strict";var t=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},r=function(e){return{eq:e}},n=r((function(e,t){return e===t})),o=function(e){return r((function(t,r){if(t.length!==r.length)return!1;for(var n=t.length,o=0;o<n;o++)if(!e.eq(t[o],r[o]))return!1;return!0}))},i=function(e){return r((function(t,i){var s=Object.keys(t),a=Object.keys(i);if(!function(e,t){return function(e,t){return r((function(r,n){return e.eq(t(r),t(n))}))}(o(e),(function(e){return function(e,t){return Array.prototype.slice.call(e).sort(void 0)}(e)}))}(n).eq(s,a))return!1;for(var l=s.length,c=0;c<l;c++){var h=s[c];if(!e.eq(t[h],i[h]))return!1}return!0}))},s=r((function(e,r){if(e===r)return!0;var n=t(e);return n===t(r)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(n)?e===r:"array"===n?o(s).eq(e,r):"object"===n&&i(s).eq(e,r))}));const a=Object.getPrototypeOf,l=(e,t,r)=>{var n;return!!r(e,t.prototype)||(null===(n=e.constructor)||void 0===n?void 0:n.name)===t.name},c=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&l(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t})(t)===e,h=e=>t=>typeof t===e,d=e=>t=>e===t,u=(e,t)=>f(e)&&l(e,t,((e,t)=>a(e)===t)),p=c("string"),f=c("object"),m=e=>u(e,Object),g=c("array"),v=d(null),y=h("boolean"),b=d(void 0),w=e=>null==e,x=e=>!w(e),E=h("function"),S=h("number"),_=(e,t)=>{if(g(e)){for(let r=0,n=e.length;r<n;++r)if(!t(e[r]))return!1;return!0}return!1},C=()=>{},A=(e,t)=>(...r)=>e(t.apply(null,r)),k=(e,t)=>r=>e(t(r)),T=e=>()=>e,P=e=>e,M=(e,t)=>e===t;function D(e,...t){return(...r)=>{const n=t.concat(r);return e.apply(null,n)}}const O=e=>t=>!e(t),I=e=>()=>{throw new Error(e)},R=e=>e(),N=e=>{e()},F=T(!1),B=T(!0);class L{constructor(e,t){this.tag=e,this.value=t}static some(e){return new L(!0,e)}static none(){return L.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?L.some(e(this.value)):L.none()}bind(e){return this.tag?e(this.value):L.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:L.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return x(e)?L.some(e):L.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}L.singletonNone=new L(!1);const V=Array.prototype.slice,z=Array.prototype.indexOf,H=Array.prototype.push,j=(e,t)=>z.call(e,t),G=(e,t)=>j(e,t)>-1,U=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(t(e[r],r))return!0;return!1},q=(e,t)=>{const r=e.length,n=new Array(r);for(let o=0;o<r;o++){const r=e[o];n[o]=t(r,o)}return n},W=(e,t)=>{for(let r=0,n=e.length;r<n;r++)t(e[r],r)},$=(e,t)=>{for(let r=e.length-1;r>=0;r--)t(e[r],r)},Z=(e,t)=>{const r=[],n=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];(t(i,o)?r:n).push(i)}return{pass:r,fail:n}},K=(e,t)=>{const r=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)&&r.push(o)}return r},Y=(e,t,r)=>($(e,((e,n)=>{r=t(r,e,n)})),r),X=(e,t,r)=>(W(e,((e,n)=>{r=t(r,e,n)})),r),J=(e,t,r)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return L.some(o);if(r(o,n))break}return L.none()},Q=(e,t)=>J(e,t,F),ee=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(t(e[r],r))return L.some(r);return L.none()},te=e=>{const t=[];for(let r=0,n=e.length;r<n;++r){if(!g(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e);H.apply(t,e[r])}return t},re=(e,t)=>te(q(e,t)),ne=(e,t)=>{for(let r=0,n=e.length;r<n;++r)if(!0!==t(e[r],r))return!1;return!0},oe=e=>{const t=V.call(e,0);return t.reverse(),t},ie=(e,t)=>K(e,(e=>!G(t,e))),se=(e,t)=>{const r={};for(let n=0,o=e.length;n<o;n++){const o=e[n];r[String(o)]=t(o,n)}return r},ae=(e,t)=>{const r=V.call(e,0);return r.sort(t),r},le=(e,t)=>t>=0&&t<e.length?L.some(e[t]):L.none(),ce=e=>le(e,0),he=e=>le(e,e.length-1),de=E(Array.from)?Array.from:e=>V.call(e),ue=(e,t)=>{for(let r=0;r<e.length;r++){const n=t(e[r],r);if(n.isSome())return n}return L.none()},pe=Object.keys,fe=Object.hasOwnProperty,me=(e,t)=>{const r=pe(e);for(let n=0,o=r.length;n<o;n++){const o=r[n];t(e[o],o)}},ge=(e,t)=>ve(e,((e,r)=>({k:r,v:t(e,r)}))),ve=(e,t)=>{const r={};return me(e,((e,n)=>{const o=t(e,n);r[o.k]=o.v})),r},ye=e=>(t,r)=>{e[r]=t},be=(e,t,r,n)=>{me(e,((e,o)=>{(t(e,o)?r:n)(e,o)}))},we=(e,t)=>{const r={};return be(e,t,ye(r),C),r},xe=(e,t)=>{const r=[];return me(e,((e,n)=>{r.push(t(e,n))})),r},Ee=e=>xe(e,P),Se=(e,t)=>_e(e,t)?L.from(e[t]):L.none(),_e=(e,t)=>fe.call(e,t),Ce=(e,t)=>_e(e,t)&&void 0!==e[t]&&null!==e[t],Ae=e=>{const t={};return W(e,(e=>{t[e]={}})),pe(t)},ke=e=>void 0!==e.length,Te=Array.isArray,Pe=(e,t,r)=>{if(!e)return!1;if(r=r||e,ke(e)){for(let n=0,o=e.length;n<o;n++)if(!1===t.call(r,e[n],n,e))return!1}else for(const n in e)if(_e(e,n)&&!1===t.call(r,e[n],n,e))return!1;return!0},Me=(e,t)=>{const r=[];return Pe(e,((n,o)=>{r.push(t(n,o,e))})),r},De=(e,t)=>{const r=[];return Pe(e,((n,o)=>{t&&!t(n,o,e)||r.push(n)})),r},Oe=(e,t,r,n)=>{let o=b(r)?e[0]:r;for(let r=0;r<e.length;r++)o=t.call(n,o,e[r],r);return o},Ie=(e,t,r)=>{for(let n=0,o=e.length;n<o;n++)if(t.call(r,e[n],n,e))return n;return-1},Re=e=>e[e.length-1],Ne=e=>{let t,r=!1;return(...n)=>(r||(r=!0,t=e.apply(null,n)),t)},Fe=()=>Be(0,0),Be=(e,t)=>({major:e,minor:t}),Le={nu:Be,detect:(e,t)=>{const r=String(t).toLowerCase();return 0===e.length?Fe():((e,t)=>{const r=((e,t)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.test(t))return n}})(e,t);if(!r)return{major:0,minor:0};const n=e=>Number(t.replace(r,"$"+e));return Be(n(1),n(2))})(e,r)},unknown:Fe},Ve=(e,t)=>{const r=String(t).toLowerCase();return Q(e,(e=>e.search(r)))},ze=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,He=(e,t)=>Ge(e,t)?((e,t)=>e.substring(t))(e,t.length):e,je=(e,t,r=0,n)=>{const o=e.indexOf(t,r);return-1!==o&&(!!b(n)||o+t.length<=n)},Ge=(e,t)=>ze(e,t,0),Ue=(e,t)=>ze(e,t,e.length-t.length),qe=e=>t=>t.replace(e,""),We=qe(/^\s+|\s+$/g),$e=qe(/^\s+/g),Ze=qe(/\s+$/g),Ke=e=>e.length>0,Ye=e=>!Ke(e),Xe=(e,t=10)=>{const r=parseInt(e,t);return isNaN(r)?L.none():L.some(r)},Je=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qe=e=>t=>je(t,e),et=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>je(e,"edge/")&&je(e,"chrome")&&je(e,"safari")&&je(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Je],search:e=>je(e,"chrome")&&!je(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>je(e,"msie")||je(e,"trident")},{name:"Opera",versionRegexes:[Je,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qe("firefox")},{name:"Safari",versionRegexes:[Je,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(je(e,"safari")||je(e,"mobile/"))&&je(e,"applewebkit")}],tt=[{name:"Windows",search:Qe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>je(e,"iphone")||je(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Qe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qe("linux"),versionRegexes:[]},{name:"Solaris",search:Qe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Qe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],rt={browsers:T(et),oses:T(tt)},nt="Edge",ot="Chromium",it="Opera",st="Firefox",at="Safari",lt=e=>{const t=e.current,r=e.version,n=e=>()=>t===e;return{current:t,version:r,isEdge:n(nt),isChromium:n(ot),isIE:n("IE"),isOpera:n(it),isFirefox:n(st),isSafari:n(at)}},ct=()=>lt({current:void 0,version:Le.unknown()}),ht=lt,dt=(T(nt),T(ot),T("IE"),T(it),T(st),T(at),"Windows"),ut="Android",pt="Linux",ft="macOS",mt="Solaris",gt="FreeBSD",vt="ChromeOS",yt=e=>{const t=e.current,r=e.version,n=e=>()=>t===e;return{current:t,version:r,isWindows:n(dt),isiOS:n("iOS"),isAndroid:n(ut),isMacOS:n(ft),isLinux:n(pt),isSolaris:n(mt),isFreeBSD:n(gt),isChromeOS:n(vt)}},bt=()=>yt({current:void 0,version:Le.unknown()}),wt=yt,xt=(T(dt),T("iOS"),T(ut),T(pt),T(ft),T(mt),T(gt),T(vt),e=>window.matchMedia(e).matches);let Et=Ne((()=>((e,t,r)=>{const n=rt.browsers(),o=rt.oses(),i=t.bind((e=>((e,t)=>ue(t.brands,(t=>{const r=t.brand.toLowerCase();return Q(e,(e=>{var t;return r===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Le.nu(parseInt(t.version,10),0)})))})))(n,e))).orThunk((()=>((e,t)=>Ve(e,t).map((e=>{const r=Le.detect(e.versionRegexes,t);return{current:e.name,version:r}})))(n,e))).fold(ct,ht),s=((e,t)=>Ve(e,t).map((e=>{const r=Le.detect(e.versionRegexes,t);return{current:e.name,version:r}})))(o,e).fold(bt,wt),a=((e,t,r,n)=>{const o=e.isiOS()&&!0===/ipad/i.test(r),i=e.isiOS()&&!o,s=e.isiOS()||e.isAndroid(),a=s||n("(pointer:coarse)"),l=o||!i&&s&&n("(min-device-width:768px)"),c=i||s&&!l,h=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r),d=!c&&!l&&!h;return{isiPad:T(o),isiPhone:T(i),isTablet:T(l),isPhone:T(c),isTouch:T(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:T(h),isDesktop:T(d)}})(s,i,e,r);return{browser:i,os:s,deviceType:a}})(navigator.userAgent,L.from(navigator.userAgentData),xt)));const St=()=>Et(),_t=navigator.userAgent,Ct=St(),At=Ct.browser,kt=Ct.os,Tt=Ct.deviceType,Pt=-1!==_t.indexOf("Windows Phone"),Mt={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:At.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!At.isIE(),windowsPhone:Pt,browser:{current:At.current,version:At.version,isChromium:At.isChromium,isEdge:At.isEdge,isFirefox:At.isFirefox,isIE:At.isIE,isOpera:At.isOpera,isSafari:At.isSafari},os:{current:kt.current,version:kt.version,isAndroid:kt.isAndroid,isChromeOS:kt.isChromeOS,isFreeBSD:kt.isFreeBSD,isiOS:kt.isiOS,isLinux:kt.isLinux,isMacOS:kt.isMacOS,isSolaris:kt.isSolaris,isWindows:kt.isWindows},deviceType:{isDesktop:Tt.isDesktop,isiPad:Tt.isiPad,isiPhone:Tt.isiPhone,isPhone:Tt.isPhone,isTablet:Tt.isTablet,isTouch:Tt.isTouch,isWebView:Tt.isWebView}},Dt=/^\s*|\s*$/g,Ot=e=>w(e)?"":(""+e).replace(Dt,""),It=function(e,t,r,n){n=n||this,e&&(r&&(e=e[r]),Pe(e,((e,o)=>!1!==t.call(n,e,o,r)&&(It(e,t,r,n),!0))))},Rt={trim:Ot,isArray:Te,is:(e,t)=>t?!("array"!==t||!Te(e))||typeof e===t:void 0!==e,toArray:e=>{if(Te(e))return e;{const t=[];for(let r=0,n=e.length;r<n;r++)t[r]=e[r];return t}},makeMap:(e,t,r={})=>{const n=p(e)?e.split(t||","):e||[];let o=n.length;for(;o--;)r[n[o]]={};return r},each:Pe,map:Me,grep:De,inArray:(e,t)=>{if(e)for(let r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},hasOwn:_e,extend:(e,...t)=>{for(let r=0;r<t.length;r++){const n=t[r];for(const t in n)if(_e(n,t)){const r=n[t];void 0!==r&&(e[t]=r)}}return e},walk:It,resolve:(e,t=window)=>{const r=e.split(".");for(let e=0,n=r.length;e<n&&(t=t[r[e]]);e++);return t},explode:(e,t)=>g(e)?e:""===e?[]:Me(e.split(t||","),Ot),_addCacheSuffix:e=>{const t=Mt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Nt=(e,t,r=M)=>e.exists((e=>r(e,t))),Ft=(e,t,r)=>e.isSome()&&t.isSome()?L.some(r(e.getOrDie(),t.getOrDie())):L.none(),Bt=(e,t)=>e?L.some(t):L.none(),Lt="undefined"!=typeof window?window:Function("return this;")(),Vt=(e,t)=>((e,t)=>{let r=null!=t?t:Lt;for(let t=0;t<e.length&&null!=r;++t)r=r[e[t]];return r})(e.split("."),t),zt=Object.getPrototypeOf,Ht=e=>e.dom.nodeName.toLowerCase(),jt=e=>e.dom.nodeType,Gt=e=>t=>jt(t)===e,Ut=Gt(1),qt=Gt(3),Wt=Gt(9),$t=Gt(11),Zt=e=>t=>Ut(t)&&Ht(t)===e,Kt=(e,t,r)=>{if(!(p(r)||y(r)||S(r)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},Yt=(e,t,r)=>{Kt(e.dom,t,r)},Xt=(e,t)=>{const r=e.dom;me(t,((e,t)=>{Kt(r,t,e)}))},Jt=(e,t)=>{const r=e.dom.getAttribute(t);return null===r?void 0:r},Qt=(e,t)=>L.from(Jt(e,t)),er=(e,t)=>{const r=e.dom;return!(!r||!r.hasAttribute)&&r.hasAttribute(t)},tr=(e,t)=>{e.dom.removeAttribute(t)},rr=e=>X(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),nr=(e,t)=>{const r=Jt(e,t);return void 0===r||""===r?[]:r.split(" ")},or=e=>void 0!==e.dom.classList,ir=e=>nr(e,"class"),sr=(e,t)=>((e,t,r)=>{const n=nr(e,t).concat([r]);return Yt(e,t,n.join(" ")),!0})(e,"class",t),ar=(e,t)=>((e,t,r)=>{const n=K(nr(e,t),(e=>e!==r));return n.length>0?Yt(e,t,n.join(" ")):tr(e,t),!1})(e,"class",t),lr=(e,t)=>{or(e)?e.dom.classList.add(t):sr(e,t)},cr=e=>{0===(or(e)?e.dom.classList:ir(e)).length&&tr(e,"class")},hr=(e,t)=>{or(e)?e.dom.classList.remove(t):ar(e,t),cr(e)},dr=(e,t)=>or(e)&&e.dom.classList.contains(t),ur=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},pr=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return ur(r.childNodes[0])},fr=(e,t)=>{const r=(t||document).createElement(e);return ur(r)},mr=(e,t)=>{const r=(t||document).createTextNode(e);return ur(r)},gr=ur,vr=(e,t)=>{const r=[],n=e=>(r.push(e),t(e));let o=t(e);do{o=o.bind(n)}while(o.isSome());return r},yr=(e,t)=>{const r=e.dom;if(1!==r.nodeType)return!1;{const e=r;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},br=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,wr=(e,t)=>e.dom===t.dom,xr=(e,t)=>{const r=e.dom,n=t.dom;return r!==n&&r.contains(n)},Er=e=>gr(e.dom.ownerDocument),Sr=e=>Wt(e)?e:Er(e),_r=e=>gr(Sr(e).dom.defaultView),Cr=e=>L.from(e.dom.parentNode).map(gr),Ar=e=>L.from(e.dom.parentElement).map(gr),kr=(e,t)=>{const r=E(t)?t:F;let n=e.dom;const o=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,t=gr(e);if(o.push(t),!0===r(t))break;n=e}return o},Tr=e=>L.from(e.dom.previousSibling).map(gr),Pr=e=>L.from(e.dom.nextSibling).map(gr),Mr=e=>oe(vr(e,Tr)),Dr=e=>vr(e,Pr),Or=e=>q(e.dom.childNodes,gr),Ir=(e,t)=>{const r=e.dom.childNodes;return L.from(r[t]).map(gr)},Rr=e=>Ir(e,0),Nr=e=>Ir(e,e.dom.childNodes.length-1),Fr=e=>e.dom.childNodes.length,Br=e=>$t(e)&&x(e.dom.host),Lr=E(Element.prototype.attachShadow)&&E(Node.prototype.getRootNode),Vr=T(Lr),zr=Lr?e=>gr(e.dom.getRootNode()):Sr,Hr=e=>Br(e)?e:(e=>{const t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return gr(t)})(Sr(e)),jr=e=>gr(e.dom.host),Gr=e=>{if(Vr()&&x(e.target)){const t=gr(e.target);if(Ut(t)&&Ur(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return ce(t)}}return L.from(e.target)},Ur=e=>x(e.dom.shadowRoot),qr=e=>{const t=qt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const r=t.ownerDocument;return(e=>{const t=zr(e);return Br(t)?L.some(t):L.none()})(gr(t)).fold((()=>r.body.contains(t)),k(qr,jr))};var Wr=(e,t,r,n,o)=>e(r,n)?L.some(r):E(o)&&o(r)?L.none():t(r,n,o);const $r=(e,t,r)=>{let n=e.dom;const o=E(r)?r:F;for(;n.parentNode;){n=n.parentNode;const e=gr(n);if(t(e))return L.some(e);if(o(e))break}return L.none()},Zr=(e,t,r)=>Wr(((e,t)=>t(e)),$r,e,t,r),Kr=(e,t,r)=>$r(e,(e=>yr(e,t)),r),Yr=(e,t)=>((e,t)=>{const r=void 0===t?document:t.dom;return br(r)?L.none():L.from(r.querySelector(e)).map(gr)})(t,e),Xr=(e,t,r)=>Wr(((e,t)=>yr(e,t)),Kr,e,t,r),Jr=(e,t=!1)=>{return qr(e)?e.dom.isContentEditable:(r=e,Xr(r,"[contenteditable]")).fold(T(t),(e=>"true"===Qr(e)));var r},Qr=e=>e.dom.contentEditable,en=e=>void 0!==e.style&&E(e.style.getPropertyValue),tn=(e,t,r)=>{if(!p(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);en(e)&&e.style.setProperty(t,r)},rn=(e,t,r)=>{const n=e.dom;tn(n,t,r)},nn=(e,t)=>{const r=e.dom;me(t,((e,t)=>{tn(r,t,e)}))},on=(e,t)=>{const r=e.dom,n=window.getComputedStyle(r).getPropertyValue(t);return""!==n||qr(e)?n:sn(r,t)},sn=(e,t)=>en(e)?e.style.getPropertyValue(t):"",an=(e,t)=>{const r=e.dom,n=sn(r,t);return L.from(n).filter((e=>e.length>0))},ln=e=>{const t={},r=e.dom;if(en(r))for(let e=0;e<r.style.length;e++){const n=r.style.item(e);t[n]=r.style[n]}return t},cn=(e,t)=>{((e,t)=>{en(e)&&e.style.removeProperty(t)})(e.dom,t),Nt(Qt(e,"style").map(We),"")&&tr(e,"style")},hn=(e,t)=>{Cr(e).each((r=>{r.dom.insertBefore(t.dom,e.dom)}))},dn=(e,t)=>{Pr(e).fold((()=>{Cr(e).each((e=>{pn(e,t)}))}),(e=>{hn(e,t)}))},un=(e,t)=>{Rr(e).fold((()=>{pn(e,t)}),(r=>{e.dom.insertBefore(t.dom,r.dom)}))},pn=(e,t)=>{e.dom.appendChild(t.dom)},fn=(e,t)=>{hn(e,t),pn(t,e)},mn=(e,t)=>{W(t,(t=>{pn(e,t)}))},gn=e=>{e.dom.textContent="",W(Or(e),(e=>{vn(e)}))},vn=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},yn=e=>{const t=Or(e);var r,n;t.length>0&&(r=e,W(n=t,((e,t)=>{const o=0===t?r:n[t-1];dn(o,e)}))),vn(e)},bn=e=>q(e,gr),wn=e=>e.dom.innerHTML,xn=(e,t)=>{const r=Er(e).dom,n=gr(r.createDocumentFragment()),o=((e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,Or(gr(r))})(t,r);mn(n,o),gn(e),pn(e,n)},En=(e,t,r,n)=>{e.dom.removeEventListener(t,r,n)},Sn=(e,t)=>({left:e,top:t,translate:(r,n)=>Sn(e+r,t+n)}),_n=Sn,Cn=(e,t)=>void 0!==e?e:void 0!==t?t:0,An=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?_n(r.offsetLeft,r.offsetTop):qr(e)?(e=>{const t=e.getBoundingClientRect();return _n(t.left,t.top)})(t):_n(0,0)},kn=e=>{const t=void 0!==e?e.dom:document,r=t.body.scrollLeft||t.documentElement.scrollLeft,n=t.body.scrollTop||t.documentElement.scrollTop;return _n(r,n)},Tn=(e,t,r)=>{const n=(void 0!==r?r.dom:document).defaultView;n&&n.scrollTo(e,t)},Pn=(e,t)=>{St().browser.isSafari()&&E(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Mn=(e,t,r,n)=>({x:e,y:t,width:r,height:n,right:e+r,bottom:t+n}),Dn=e=>{const t=void 0===e?window:e,r=t.document,n=kn(gr(r));return(e=>{const t=void 0===e?window:e;return St().browser.isFirefox()?L.none():L.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,r=e.clientWidth,o=e.clientHeight;return Mn(n.left,n.top,r,o)}),(e=>Mn(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)))},On=(e,t)=>{let r=[];return W(Or(e),(e=>{t(e)&&(r=r.concat([e])),r=r.concat(On(e,t))})),r},In=(e,t)=>((e,t)=>{const r=void 0===t?document:t.dom;return br(r)?[]:q(r.querySelectorAll(e),gr)})(t,e),Rn=(e,t,r)=>Kr(e,t,r).isSome();class Nn{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,r,n){if(e){if(!n&&e[t])return e[t];if(e!==this.rootNode){let t=e[r];if(t)return t;for(let n=e.parentNode;n&&n!==this.rootNode;n=n.parentNode)if(t=n[r],t)return t}}}findPreviousNode(e,t){if(e){const r=e.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!t)for(let e=r.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return r}const n=e.parentNode;if(n&&n!==this.rootNode)return n}}}const Fn=e=>t=>!!t&&t.nodeType===e,Bn=e=>!!e&&!Object.getPrototypeOf(e),Ln=Fn(1),Vn=e=>{const t=e.toLowerCase();return e=>x(e)&&e.nodeName.toLowerCase()===t},zn=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const r=e.nodeName.toLowerCase();return G(t,r)}return!1}},Hn=(e,t)=>{const r=t.toLowerCase().split(" ");return t=>{if(Ln(t)){const n=t.ownerDocument.defaultView;if(n)for(let o=0;o<r.length;o++){const i=n.getComputedStyle(t,null);if((i?i.getPropertyValue(e):null)===r[o])return!0}}return!1}},jn=e=>t=>Ln(t)&&t.hasAttribute(e),Gn=e=>Ln(e)&&e.hasAttribute("data-mce-bogus"),Un=e=>Ln(e)&&"TABLE"===e.tagName,qn=e=>t=>{if(Ln(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},Wn=zn(["textarea","input"]),$n=Fn(3),Zn=Fn(4),Kn=Fn(7),Yn=Fn(8),Xn=Fn(9),Jn=Fn(11),Qn=Vn("br"),eo=Vn("img"),to=qn("true"),ro=qn("false"),no=zn(["td","th"]),oo=zn(["td","th","caption"]),io=zn(["video","audio","object","embed"]),so=Vn("li"),ao="\ufeff",lo="",co=e=>e===ao,ho=((e,t)=>{const r=t=>e(t)?L.from(t.dom.nodeValue):L.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return r(t).getOr("")},getOption:r,set:(t,r)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=r}}})(qt),uo=e=>ho.get(e),po=e=>ho.getOption(e),fo=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),mo=e=>{let t;return r=>(t=t||se(e,B),_e(t,Ht(r)))},go=mo(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),vo=e=>Ut(e)&&!go(e),yo=e=>Ut(e)&&"br"===Ht(e),bo=mo(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),wo=mo(["ul","ol","dl"]),xo=mo(["li","dd","dt"]),Eo=mo(["thead","tbody","tfoot"]),So=mo(["td","th"]),_o=mo(["pre","script","textarea","style"]),Co=mo(fo),Ao=e=>Co(e)||vo(e),ko=()=>{const e=fr("br");return Yt(e,"data-mce-bogus","1"),e},To=e=>{gn(e),pn(e,ko())},Po=e=>{Nr(e).each((t=>{Tr(t).each((r=>{go(e)&&yo(t)&&go(r)&&vn(t)}))}))},Mo=ao,Do=co,Oo=e=>e.replace(/\uFEFF/g,""),Io=Ln,Ro=$n,No=e=>(Ro(e)&&(e=e.parentNode),Io(e)&&e.hasAttribute("data-mce-caret")),Fo=e=>Ro(e)&&Do(e.data),Bo=e=>No(e)||Fo(e),Lo=e=>e.firstChild!==e.lastChild||!Qn(e.firstChild),Vo=e=>{const t=e.container();return!!$n(t)&&(t.data.charAt(e.offset())===Mo||e.isAtStart()&&Fo(t.previousSibling))},zo=e=>{const t=e.container();return!!$n(t)&&(t.data.charAt(e.offset()-1)===Mo||e.isAtEnd()&&Fo(t.nextSibling))},Ho=e=>Ro(e)&&e.data[0]===Mo,jo=e=>Ro(e)&&e.data[e.data.length-1]===Mo,Go=e=>e&&e.hasAttribute("data-mce-caret")?((e=>{var t;const r=e.getElementsByTagName("br"),n=r[r.length-1];Gn(n)&&(null===(t=n.parentNode)||void 0===t||t.removeChild(n))})(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Uo=e=>No(e.startContainer),qo=to,Wo=ro,$o=Qn,Zo=$n,Ko=zn(["script","style","textarea"]),Yo=zn(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Xo=zn(["table"]),Jo=Bo,Qo=e=>!Jo(e)&&(Zo(e)?!Ko(e.parentNode):Yo(e)||$o(e)||Xo(e)||ei(e)),ei=e=>!(e=>Ln(e)&&"true"===e.getAttribute("unselectable"))(e)&&Wo(e),ti=(e,t)=>Qo(e)&&((e,t)=>{for(let r=e.parentNode;r&&r!==t;r=r.parentNode){if(ei(r))return!1;if(qo(r))return!0}return!0})(e,t),ri=/^[ \t\r\n]*$/,ni=e=>ri.test(e),oi=e=>"\n"===e||"\r"===e,ii=(e,t=4,r=!0,n=!0)=>{const o=((e,t)=>t<=0?"":new Array(t+1).join(" "))(0,t),i=e.replace(/\t/g,o),s=X(i,((e,t)=>(e=>-1!==" \f\t\v".indexOf(e))(t)||t===lo?e.pcIsSpace||""===e.str&&r||e.str.length===i.length-1&&n||((e,t)=>t<e.length&&t>=0&&oi(e[t]))(i,e.str.length+1)?{pcIsSpace:!1,str:e.str+lo}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:oi(t),str:e.str+t}),{pcIsSpace:!1,str:""});return s.str},si=(e,t)=>Qo(e)&&!((e,t)=>$n(e)&&ni(e.data)&&!((e,t)=>{const r=gr(t),n=gr(e);return Rn(n,"pre,code",D(wr,r))})(e,t))(e,t)||(e=>Ln(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")))(e)||ai(e),ai=jn("data-mce-bookmark"),li=jn("data-mce-bogus"),ci=e=>Ln(e)&&"all"===e.getAttribute("data-mce-bogus"),hi=(e,t=!0)=>((e,t)=>{let r=0;if(si(e,e))return!1;{let n=e.firstChild;if(!n)return!0;const o=new Nn(n,e);do{if(t){if(ci(n)){n=o.next(!0);continue}if(li(n)){n=o.next();continue}}if(Qn(n))r++,n=o.next();else{if(si(n,e))return!1;n=o.next()}}while(n);return r<=1}})(e.dom,t),di="data-mce-block",ui=e=>(e=>K(pe(e),(e=>!/[A-Z]/.test(e))))(e).join(","),pi=(e,t)=>x(t.querySelector(e))?(t.setAttribute(di,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(di),!1),fi=(e,t)=>{const r=ui(e.getTransparentElements()),n=ui(e.getBlockElements());return K(t.querySelectorAll(r),(e=>pi(n,e)))},mi=(e,t)=>{var r;const n=t?"lastChild":"firstChild";for(let t=e[n];t;t=t[n])if(hi(gr(t)))return void(null===(r=t.parentNode)||void 0===r||r.removeChild(t))},gi=(e,t)=>{const r=fi(e,t);((e,t,r)=>{const n=e.getBlockElements(),o=gr(t),i=e=>Ht(e)in n,s=e=>wr(e,o);W(bn(r),(t=>{$r(t,i,s).each((r=>{const n=((t,n)=>K(Or(t),(t=>i(t)&&!e.isValidChild(Ht(r),Ht(t)))))(t);if(n.length>0){const t=Ar(r);W(n,(e=>{$r(e,i,s).each((t=>{((e,t)=>{const r=document.createRange(),n=e.parentNode;if(n){r.setStartBefore(e),r.setEndBefore(t);const o=r.extractContents();mi(o,!0),r.setStartAfter(t),r.setEndAfter(e);const i=r.extractContents();mi(i,!1),hi(gr(o))||n.insertBefore(o,e),hi(gr(t))||n.insertBefore(t,e),hi(gr(i))||n.insertBefore(i,e),n.removeChild(e)}})(t.dom,e.dom)}))})),t.each((t=>fi(e,t.dom)))}}))}))})(e,t,r),((e,t,r)=>{W([...r,...xi(e,t)?[t]:[]],(t=>W(In(gr(t),t.nodeName.toLowerCase()),(t=>{Ei(e,t.dom)&&yn(t)}))))})(e,t,r)},vi=(e,t)=>{if(wi(e,t)){const r=ui(e.getBlockElements());pi(r,t)}},yi=e=>e.hasAttribute(di),bi=(e,t)=>_e(e.getTransparentElements(),t),wi=(e,t)=>Ln(t)&&bi(e,t.nodeName),xi=(e,t)=>wi(e,t)&&yi(t),Ei=(e,t)=>wi(e,t)&&!yi(t),Si=(e,t)=>1===t.type&&bi(e,t.name)&&b(t.attr(di)),_i=St().browser,Ci=e=>Q(e,Ut),Ai=(e,t)=>e.children&&G(e.children,t),ki=(e,t={})=>{let r=0;const n={},o=gr(e),i=Sr(o),s=e=>new Promise(((s,a)=>{let l;const c=Rt._addCacheSuffix(e),h=(e=>Se(n,e).getOrThunk((()=>({id:"mce-u"+r++,passed:[],failed:[],count:0}))))(c);n[c]=h,h.count++;const d=(e,t)=>{W(e,N),h.status=t,h.passed=[],h.failed=[],l&&(l.onload=null,l.onerror=null,l=null)},u=()=>d(h.passed,2),p=()=>d(h.failed,3);if(s&&h.passed.push(s),a&&h.failed.push(a),1===h.status)return;if(2===h.status)return void u();if(3===h.status)return void p();h.status=1;const f=fr("link",i.dom);var m;Xt(f,{rel:"stylesheet",type:"text/css",id:h.id}),t.contentCssCors&&Yt(f,"crossOrigin","anonymous"),t.referrerPolicy&&Yt(f,"referrerpolicy",t.referrerPolicy),l=f.dom,l.onload=u,l.onerror=p,m=f,pn(Hr(o),m),Yt(f,"href",c)})),a=e=>{const t=Rt._addCacheSuffix(e);Se(n,t).each((e=>{0==--e.count&&(delete n[t],(e=>{const t=Hr(o);Yr(t,"#"+e).each(vn)})(e.id))}))};return{load:s,loadAll:e=>Promise.allSettled(q(e,(e=>s(e).then(T(e))))).then((e=>{const t=Z(e,(e=>"fulfilled"===e.status));return t.fail.length>0?Promise.reject(q(t.fail,(e=>e.reason))):q(t.pass,(e=>e.value))})),unload:a,unloadAll:e=>{W(e,(e=>{a(e)}))},_setReferrerPolicy:e=>{t.referrerPolicy=e},_setContentCssCors:e=>{t.contentCssCors=e}}},Ti=(()=>{const e=new WeakMap;return{forElement:(t,r)=>{const n=zr(t).dom;return L.from(e.get(n)).getOrThunk((()=>{const t=ki(n,r);return e.set(n,t),t}))}}})(),Pi=(e,t)=>x(e)&&(si(e,t)||vo(gr(e))),Mi=e=>(e=>"span"===e.nodeName.toLowerCase())(e)&&"bookmark"===e.getAttribute("data-mce-type"),Di=(e,t,r)=>{var n;const o=r||t;if(Ln(t)&&Mi(t))return t;const i=t.childNodes;for(let t=i.length-1;t>=0;t--)Di(e,i[t],o);if(Ln(t)){const e=t.childNodes;1===e.length&&Mi(e[0])&&(null===(n=t.parentNode)||void 0===n||n.insertBefore(e[0],t))}return(e=>Jn(e)||Xn(e))(t)||si(t,o)||(e=>!!Ln(e)&&e.childNodes.length>0)(t)||((e,t)=>$n(e)&&e.data.length>0&&((e,t)=>{const r=new Nn(e,t).prev(!1),n=new Nn(e,t).next(!1),o=b(r)||Pi(r,t),i=b(n)||Pi(n,t);return o&&i})(e,t))(t,o)||e.remove(t),t},Oi=Rt.makeMap,Ii=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ri=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ni=/[<>&\"\']/g,Fi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Bi={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Li={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Vi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},zi=(e,t)=>{const r={};if(e){const n=e.split(",");t=t||10;for(let e=0;e<n.length;e+=2){const o=String.fromCharCode(parseInt(n[e],t));if(!Li[o]){const t="&"+n[e+1]+";";r[o]=t,r[t]=o}}return r}},Hi=zi("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ji=(e,t)=>e.replace(t?Ii:Ri,(e=>Li[e]||e)),Gi=(e,t)=>e.replace(t?Ii:Ri,(e=>e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Li[e]||"&#"+e.charCodeAt(0)+";")),Ui=(e,t,r)=>{const n=r||Hi;return e.replace(t?Ii:Ri,(e=>Li[e]||n[e]||e))},qi={encodeRaw:ji,encodeAllRaw:e=>(""+e).replace(Ni,(e=>Li[e]||e)),encodeNumeric:Gi,encodeNamed:Ui,getEncodeFunc:(e,t)=>{const r=zi(t)||Hi,n=Oi(e.replace(/\+/g,","));return n.named&&n.numeric?(e,t)=>e.replace(t?Ii:Ri,(e=>void 0!==Li[e]?Li[e]:void 0!==r[e]?r[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";")):n.named?t?(e,t)=>Ui(e,t,r):Ui:n.numeric?Gi:ji},decode:e=>e.replace(Fi,((e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Bi[t]||String.fromCharCode(t):Vi[e]||Hi[e]||(e=>{const t=fr("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e})(e)))},Wi={},$i={},Zi={},Ki=Rt.makeMap,Yi=Rt.each,Xi=Rt.extend,Ji=Rt.explode,Qi=Rt.inArray,es=(e,t)=>(e=Rt.trim(e))?e.split(t||" "):[],ts=(e,t={})=>{const r=Ki(e," ",Ki(e.toUpperCase()," "));return Xi(r,t)},rs=e=>ts("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),ns=(e,t)=>{if(e){const r={};return p(e)&&(e={"*":e}),Yi(e,((e,n)=>{r[n]=r[n.toUpperCase()]="map"===t?Ki(e,/[, ]/):Ji(e,/[, ]/)})),r}},os=(e={})=>{var t;const r={},n={};let o=[];const i={},s={},a=(t,r,n)=>{const o=e[t];if(o)return Ki(o,/[, ]/,Ki(o.toUpperCase(),/[, ]/));{let e=$i[t];return e||(e=ts(r,n),$i[t]=e),e}},l=null!==(t=e.schema)&&void 0!==t?t:"html5",c=(e=>{const t={};let r,n,o,i;const s=(e,n="",o="")=>{const i=es(o),s=es(e);let a=s.length;for(;a--;){const e=es([r,n].join(" "));t[s[a]]={attributes:se(e,(()=>({}))),attributesOrder:e,children:se(i,T(Zi))}}},a=(e,r)=>{const n=es(e),o=es(r);let i=n.length;for(;i--;){const e=t[n[i]];for(let t=0,r=o.length;t<r;t++)e.attributes[o[t]]={},e.attributesOrder.push(o[t])}};if(Wi[e])return Wi[e];if(r="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(r+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",o+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e){r+=" xml:lang";const e="acronym applet basefont big font strike tt";o=[o,e].join(" "),Yi(es(e),(e=>{s(e,"",o)}));const t="center dir isindex noframes";n=[n,t].join(" "),i=[n,o].join(" "),Yi(es(t),(e=>{s(e,"",i)}))}return i=i||[n,o].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),s("address dt dd div caption","",i),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),s("blockquote","cite",i),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",i),s("dl","","dt dd"),s("a","href target rel media hreflang type",i),s("q","cite",o),s("ins del","cite datetime",i),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",i),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),s("param","name value"),s("map","name",[i,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",i),s("th","colspan rowspan headers scope abbr",i),s("form","accept-charset action autocomplete enctype method name novalidate target",i),s("fieldset","disabled form name",[i,"legend"].join(" ")),s("label","form for",o),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?i:o),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[i,"li"].join(" ")),s("noscript","",i),"html4"!==e&&(s("wbr"),s("ruby","",[o,"rt rp"].join(" ")),s("figcaption","",i),s("mark rt rp summary bdi","",o),s("canvas","width height",i),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[o,"option"].join(" ")),s("article section nav aside main header footer","",i),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[i,"figcaption"].join(" ")),s("time","datetime",o),s("dialog","open",i),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",o),s("progress","value max",o),s("meter","value min max low high optimum",o),s("details","open",[i,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(a("script","language xml:space"),a("style","xml:space"),a("object","declare classid code codebase codetype archive standby align border hspace vspace"),a("embed","align name hspace vspace"),a("param","valuetype type"),a("a","charset name rev shape coords"),a("br","clear"),a("applet","codebase archive code object alt name width height align hspace vspace"),a("img","name longdesc align border hspace vspace"),a("iframe","longdesc frameborder marginwidth marginheight scrolling align"),a("font basefont","size color face"),a("input","usemap align"),a("select"),a("textarea"),a("h1 h2 h3 h4 h5 h6 div p legend caption","align"),a("ul","type compact"),a("li","type"),a("ol dl menu dir","compact"),a("pre","width xml:space"),a("hr","align noshade size width"),a("isindex","prompt"),a("table","summary width frame rules cellspacing cellpadding align bgcolor"),a("col","width align char charoff valign"),a("colgroup","width align char charoff valign"),a("thead","align char charoff valign"),a("tr","align char charoff valign bgcolor"),a("th","axis align char charoff valign nowrap bgcolor width height"),a("form","accept"),a("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),a("tfoot","align char charoff valign"),a("tbody","align char charoff valign"),a("area","nohref"),a("body","background bgcolor text link vlink alink")),"html4"!==e&&(a("input button select textarea","autofocus"),a("input textarea","placeholder"),a("a","download"),a("link script img","crossorigin"),a("img","loading"),a("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==e&&W([t.video,t.audio],(e=>{delete e.children.audio,delete e.children.video})),Yi(es("a form meter progress dfn"),(e=>{t[e]&&delete t[e].children[e]})),delete t.caption.children.table,delete t.script,Wi[e]=t,t})(l);!1===e.verify_html&&(e.valid_elements="*[*]");const h=ns(e.valid_styles),d=ns(e.invalid_styles,"map"),u=ns(e.valid_classes,"map"),p=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),m=a("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),v="td th iframe video audio object script code",y=a("non_empty_elements",v+" pre",m),b=a("move_caret_before_on_enter_elements",v+" table",m),w=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),x=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",w),E=a("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),S=a("transparent_elements","a ins del canvas map");Yi("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(e=>{s[e]=new RegExp("</"+e+"[^>]*>","gi")}));const _=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),C=e=>{const t=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/;if(e){const s=es(e,",");let a,l;r["@"]&&(a=r["@"].attributes,l=r["@"].attributesOrder);for(let e=0,c=s.length;e<c;e++){let c=t.exec(s[e]);if(c){const e=c[1],t=c[2],s=c[3],h=c[5],d={},u=[],p={attributes:d,attributesOrder:u};if("#"===e&&(p.paddEmpty=!0),"-"===e&&(p.removeEmpty=!0),"!"===c[4]&&(p.removeEmptyAttrs=!0),a&&(me(a,((e,t)=>{d[t]=e})),l&&u.push(...l)),h){const e=es(h,"|");for(let t=0,r=e.length;t<r;t++)if(c=n.exec(e[t]),c){const e={},t=c[1],r=c[2].replace(/[\\:]:/g,":"),n=c[3],o=c[4];if("!"===t&&(p.attributesRequired=p.attributesRequired||[],p.attributesRequired.push(r),e.required=!0),"-"===t){delete d[r],u.splice(Qi(u,r),1);continue}if(n&&("="===n&&(p.attributesDefault=p.attributesDefault||[],p.attributesDefault.push({name:r,value:o}),e.defaultValue=o),"~"===n&&(p.attributesForced=p.attributesForced||[],p.attributesForced.push({name:r,value:o}),e.forcedValue=o),"<"===n&&(e.validValues=Ki(o,"?"))),i.test(r)){const t=e;p.attributePatterns=p.attributePatterns||[],t.pattern=_(r),p.attributePatterns.push(t)}else d[r]||u.push(r),d[r]=e}}if(a||"@"!==t||(a=d,l=u),s&&(p.outputName=t,r[s]=p),i.test(t)){const e=p;e.pattern=_(t),o.push(e)}else r[t]=p}}}},A=e=>{o=[],W(pe(r),(e=>{delete r[e]})),C(e),Yi(c,((e,t)=>{n[t]=e.children}))},k=e=>{const t=/^(~)?(.+)$/;e&&(delete $i.text_block_elements,delete $i.block_elements,Yi(es(e,","),(e=>{const o=t.exec(e);if(o){const e="~"===o[1],t=e?"span":"div",s=o[2];if(n[s]=n[t],i[s]=t,y[s.toUpperCase()]={},y[s]={},e||(x[s.toUpperCase()]={},x[s]={}),!r[s]){let e=r[t];e=Xi({},e),delete e.removeEmptyAttrs,delete e.removeEmpty,r[s]=e}Yi(n,((e,r)=>{e[t]&&(n[r]=e=Xi({},n[r]),e[s]=e[t])}))}})))},P=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete Wi[l],e&&Yi(es(e,","),(e=>{const r=t.exec(e);if(r){const e=r[1];let t;t=e?n[r[2]]:n[r[2]]={"#comment":{}},t=n[r[2]],Yi(es(r[3],"|"),(r=>{"-"===e?delete t[r]:t[r]={}}))}}))},M=e=>{const t=r[e];if(t)return t;let n=o.length;for(;n--;){const t=o[n];if(t.pattern.test(e))return t}};e.valid_elements?A(e.valid_elements):(Yi(c,((e,t)=>{r[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[t]=e.children})),Yi(es("strong/b em/i"),(e=>{const t=es(e,"/");r[t[1]].outputName=t[0]})),Yi(E,((t,n)=>{r[n]&&(e.padd_empty_block_inline_children&&(r[n].paddInEmptyBlock=!0),r[n].removeEmpty=!0)})),Yi(es("ol ul blockquote a table tbody"),(e=>{r[e]&&(r[e].removeEmpty=!0)})),Yi(es("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(e=>{r[e].paddEmpty=!0})),Yi(es("span"),(e=>{r[e].removeEmptyAttrs=!0}))),k(e.custom_elements),P(e.valid_children),C(e.extended_valid_elements),P("+ol[ul|ol],+ul[ul|ol]"),Yi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},((e,t)=>{r[t]&&(r[t].parentsRequired=es(e))})),e.invalid_elements&&Yi(Ji(e.invalid_elements),(e=>{r[e]&&delete r[e]})),M("span")||C("span[!data-mce-type|*]");const D=T(h),O=T(d),I=T(u),R=T(g),N=T(x),F=T(w),B=T(E),L=T(Object.seal(m)),V=T(f),z=T(y),H=T(b),j=T(p),G=T(S),U=T(Object.seal(s)),q=T(i);return{type:l,children:n,elements:r,getValidStyles:D,getValidClasses:I,getBlockElements:N,getInvalidStyles:O,getVoidElements:L,getTextBlockElements:F,getTextInlineElements:B,getBoolAttrs:R,getElementRule:M,getSelfClosingElements:V,getNonEmptyElements:z,getMoveCaretBeforeOnEnterElements:H,getWhitespaceElements:j,getTransparentElements:G,getSpecialElements:U,isValidChild:(e,t)=>{const r=n[e.toLowerCase()];return!(!r||!r[t.toLowerCase()])},isValid:(e,t)=>{const r=M(e);if(r){if(!t)return!0;{if(r.attributes[t])return!0;const e=r.attributePatterns;if(e){let r=e.length;for(;r--;)if(e[r].pattern.test(t))return!0}}}return!1},getCustomElements:q,addValidElements:C,setValidElements:A,addCustomElements:k,addValidChildren:P}},is=(e={},t)=>{const r=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,n=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,i={};let s,a;t&&(s=t.getValidStyles(),a=t.getInvalidStyles());const l="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let e=0;e<l.length;e++)i[l[e]]="\ufeff"+e,i["\ufeff"+e]=l[e];const c={parse:t=>{const s={};let a=!1;const l=e.url_converter,h=e.url_converter_scope||c,d=(e,t,r)=>{const n=s[e+"-top"+t];if(!n)return;const o=s[e+"-right"+t];if(!o)return;const i=s[e+"-bottom"+t];if(!i)return;const a=s[e+"-left"+t];if(!a)return;const l=[n,o,i,a];let c=l.length-1;for(;c--&&l[c]===l[c+1];);c>-1&&r||(s[e+t]=-1===c?l[0]:l.join(" "),delete s[e+"-top"+t],delete s[e+"-right"+t],delete s[e+"-bottom"+t],delete s[e+"-left"+t])},u=e=>{const t=s[e];if(!t)return;const r=t.split(" ");let n=r.length;for(;n--;)if(r[n]!==r[0])return!1;return s[e]=r[0],!0},p=e=>(a=!0,i[e]),f=(e,t)=>(a&&(e=e.replace(/\uFEFF[0-9]/g,(e=>i[e]))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),m=e=>String.fromCharCode(parseInt(e.slice(1),16)),g=e=>e.replace(/\\[0-9a-f]+/gi,m),v=(t,r,n,o,i,s)=>{if(i=i||s)return"'"+(i=f(i)).replace(/\'/g,"\\'")+"'";if(r=f(r||n||o||""),!e.allow_script_urls){const t=r.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return l&&(r=l.call(h,r,"style")),"url('"+r.replace(/\'/g,"\\'")+"')"};if(t){let i;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,p).replace(/\"[^\"]+\"|\'[^\']+\'/g,(e=>e.replace(/[;:]/g,p)));i=n.exec(t);){n.lastIndex=i.index+i[0].length;let t=i[1].replace(o,"").toLowerCase(),l=i[2].replace(o,"");if(t&&l){if(t=g(t),l=g(l),-1!==t.indexOf("\ufeff")||-1!==t.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===t||/expression\s*\(|\/\*|\*\//.test(l)))continue;"font-weight"===t&&"700"===l?l="bold":"color"!==t&&"background-color"!==t||(l=l.toLowerCase()),l=l.replace(r,v),s[t]=a?f(l,!0):l}}d("border","",!0),d("border","-width"),d("border","-color"),d("border","-style"),d("padding",""),d("margin",""),b="border-style",w="border-color",u(y="border-width")&&u(b)&&u(w)&&(s.border=s[y]+" "+s[b]+" "+s[w],delete s[y],delete s[b],delete s[w]),"medium none"===s.border&&delete s.border,"none"===s["border-image"]&&delete s["border-image"]}var y,b,w;return s},serialize:(e,t)=>{let r="";const n=(t,n)=>{const o=n[t];if(o)for(let t=0,n=o.length;t<n;t++){const n=o[t],i=e[n];i&&(r+=(r.length>0?" ":"")+n+": "+i+";")}};return t&&s?(n("*",s),n(t,s)):me(e,((e,n)=>{e&&((e,t)=>{if(!a||!t)return!0;let r=a["*"];return!(r&&r[e]||(r=a[t],r&&r[e]))})(n,t)&&(r+=(r.length>0?" ":"")+n+": "+e+";")})),r}};return c},ss={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},as=(e,t)=>{const r=null!=t?t:{};for(const t in e)_e(ss,t)||(r[t]=e[t]);return x(e.composedPath)&&(r.composedPath=()=>e.composedPath()),r},ls=(e,t,r,n)=>{var o;const i=as(t,n);return i.type=e,w(i.target)&&(i.target=null!==(o=i.srcElement)&&void 0!==o?o:r),(e=>w(e.preventDefault)||(e=>e instanceof Event||E(e.initEvent))(e))(t)&&(i.preventDefault=()=>{i.defaultPrevented=!0,i.isDefaultPrevented=B,E(t.preventDefault)&&t.preventDefault()},i.stopPropagation=()=>{i.cancelBubble=!0,i.isPropagationStopped=B,E(t.stopPropagation)&&t.stopPropagation()},i.stopImmediatePropagation=()=>{i.isImmediatePropagationStopped=B,i.stopPropagation()},(e=>e.isDefaultPrevented===B||e.isDefaultPrevented===F)(i)||(i.isDefaultPrevented=!0===i.defaultPrevented?B:F,i.isPropagationStopped=!0===i.cancelBubble?B:F,i.isImmediatePropagationStopped=F)),i},cs=/^(?:mouse|contextmenu)|click/,hs=(e,t,r,n)=>{e.addEventListener(t,r,n||!1)},ds=(e,t,r,n)=>{e.removeEventListener(t,r,n||!1)},us=(e,t)=>{const r=ls(e.type,e,document,t);if((e=>x(e)&&cs.test(e.type))(e)&&b(e.pageX)&&!b(e.clientX)){const t=r.target.ownerDocument||document,n=t.documentElement,o=t.body,i=r;i.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),i.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)}return r},ps=(e,t,r)=>{const n=e.document,o={type:"ready"};if(r.domLoaded)return void t(o);const i=()=>{ds(e,"DOMContentLoaded",i),ds(e,"load",i),r.domLoaded||(r.domLoaded=!0,t(o)),e=null};"complete"===n.readyState||"interactive"===n.readyState&&n.body?i():hs(e,"DOMContentLoaded",i),r.domLoaded||hs(e,"load",i)};class fs{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,r,n){const o=this;let i;const s=window,a=e=>{o.executeHandlers(us(e||s.event),l)};if(!e||$n(e)||Yn(e))return r;let l;e[o.expando]?l=e[o.expando]:(l=o.count++,e[o.expando]=l,o.events[l]={}),n=n||e;const c=t.split(" ");let h=c.length;for(;h--;){let t=c[h],d=a,u=!1,p=!1;"DOMContentLoaded"===t&&(t="ready"),o.domLoaded&&"ready"===t&&"complete"===e.readyState?r.call(n,us({type:t})):(o.hasFocusIn||"focusin"!==t&&"focusout"!==t||(u=!0,p="focusin"===t?"focus":"blur",d=e=>{const t=us(e||s.event);t.type="focus"===t.type?"focusin":"focusout",o.executeHandlers(t,l)}),i=o.events[l][t],i?"ready"===t&&o.domLoaded?r(us({type:t})):i.push({func:r,scope:n}):(o.events[l][t]=i=[{func:r,scope:n}],i.fakeName=p,i.capture=u,i.nativeHandler=d,"ready"===t?ps(e,d,o):hs(e,p||t,d,u)))}return e=i=null,r}unbind(e,t,r){if(!e||$n(e)||Yn(e))return this;const n=e[this.expando];if(n){let o=this.events[n];if(t){const n=t.split(" ");let i=n.length;for(;i--;){const t=n[i],s=o[t];if(s){if(r){let e=s.length;for(;e--;)if(s[e].func===r){const r=s.nativeHandler,n=s.fakeName,i=s.capture,a=s.slice(0,e).concat(s.slice(e+1));a.nativeHandler=r,a.fakeName=n,a.capture=i,o[t]=a}}r&&0!==s.length||(delete o[t],ds(e,s.fakeName||t,s.nativeHandler,s.capture))}}}else me(o,((t,r)=>{ds(e,t.fakeName||r,t.nativeHandler,t.capture)})),o={};for(const e in o)if(_e(o,e))return this;delete this.events[n];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,r){return this.dispatch(e,t,r)}dispatch(e,t,r){if(!e||$n(e)||Yn(e))return this;const n=us({type:t,target:e},r);do{const t=e[this.expando];t&&this.executeHandlers(n,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!n.isPropagationStopped());return this}clean(e){if(!e||$n(e)||Yn(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let r=t.length;for(;r--;)(e=t[r])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const r=this.events[t],n=r&&r[e.type];if(n)for(let t=0,r=n.length;t<r;t++){const r=n[t];if(r&&!1===r.func.call(r.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}fs.Event=new fs;const ms=Rt.each,gs=Rt.grep,vs="data-mce-style",ys=Rt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),bs=(e,t,r)=>{w(r)||""===r?tr(e,t):Yt(e,t,r)},ws=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),xs=(e,t)=>{let r=0;if(e)for(let n=e.nodeType,o=e.previousSibling;o;o=o.previousSibling){const e=o.nodeType;(!t||!$n(o)||e!==n&&o.data.length)&&(r++,n=e)}return r},Es=(e,t)=>{const r=Jt(t,"style"),n=e.serialize(e.parse(r),Ht(t));bs(t,vs,n)},Ss=(e,t,r)=>{const n=ws(t);w(r)||""===r?cn(e,n):rn(e,n,((e,t)=>S(e)?_e(ys,t)?e+"":e+"px":e)(r,n))},_s=(e,t={})=>{const r={},n=window,o={};let i=0;const s=Ti.forElement(gr(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),a=[],l=t.schema?t.schema:os({}),c=is({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),h=t.ownEvents?new fs:fs.Event,d=l.getBlockElements(),u=t=>t&&e&&p(t)?e.getElementById(t):t,f=e=>{const t=u(e);return x(t)?gr(t):null},m=(e,t,r="")=>{let n;const o=f(e);if(x(o)&&Ut(o)){const e=K[t];n=e&&e.get?e.get(o.dom,t):Jt(o,t)}return x(n)?n:r},v=e=>{const t=u(e);return w(t)?[]:t.attributes},y=(e,r,n)=>{D(e,(e=>{if(Ln(e)){const o=gr(e),i=""===n?null:n,s=Jt(o,r),a=K[r];a&&a.set?a.set(o.dom,i,r):bs(o,r,i),s!==i&&t.onSetAttrib&&t.onSetAttrib({attrElm:o.dom,attrName:r,attrValue:i})}}))},b=()=>t.root_element||e.body,S=(t,r)=>((e,t,r)=>{let n=0,o=0;const i=e.ownerDocument;if(r=r||e,t){if(r===e&&t.getBoundingClientRect&&"static"===on(gr(e),"position")){const r=t.getBoundingClientRect();return n=r.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft,o=r.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop,{x:n,y:o}}let s=t;for(;s&&s!==r&&s.nodeType&&!Ai(s,r);){const e=s;n+=e.offsetLeft||0,o+=e.offsetTop||0,s=e.offsetParent}for(s=t.parentNode;s&&s!==r&&s.nodeType&&!Ai(s,r);)n-=s.scrollLeft||0,o-=s.scrollTop||0,s=s.parentNode;o+=(e=>_i.isFirefox()&&"table"===Ht(e)?Ci(Or(e)).filter((e=>"caption"===Ht(e))).bind((e=>Ci(Dr(e)).map((t=>{const r=t.dom.offsetTop,n=e.dom.offsetTop,o=e.dom.offsetHeight;return r<=n?-o:0})))).getOr(0):0)(gr(t))}return{x:n,y:o}})(e.body,u(t),r),_=(e,t,r)=>{const n=u(e);if(!w(n)&&Ln(n))return r?on(gr(n),ws(t)):("float"===(t=t.replace(/-(\D)/g,((e,t)=>t.toUpperCase())))&&(t="cssFloat"),n.style?n.style[t]:void 0)},A=e=>{const t=u(e);if(!t)return{w:0,h:0};let r=_(t,"width"),n=_(t,"height");return r&&-1!==r.indexOf("px")||(r="0"),n&&-1!==n.indexOf("px")||(n="0"),{w:parseInt(r,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},k=(e,t)=>{if(!e)return!1;const r=g(e)?e:[e];return U(r,(e=>yr(gr(e),t)))},P=(e,t,r,n)=>{const o=[];let i=u(e);n=void 0===n;const s=r||("BODY"!==b().nodeName?b().parentNode:null);if(p(t))if("*"===t)t=Ln;else{const e=t;t=t=>k(t,e)}for(;i&&!(i===s||w(i.nodeType)||Xn(i)||Jn(i));){if(!t||t(i)){if(!n)return[i];o.push(i)}i=i.parentNode}return n?o:null},M=(e,t,r)=>{let n=t;if(e){p(t)&&(n=e=>k(e,t));for(let t=e[r];t;t=t[r])if(E(n)&&n(t))return t}return null},D=function(e,t,r){const n=null!=r?r:this;if(g(e)){const r=[];return ms(e,((e,o)=>{const i=u(e);i&&r.push(t.call(n,i,o))})),r}{const r=u(e);return!!r&&t.call(n,r)}},O=(e,t)=>{D(e,(e=>{me(t,((t,r)=>{y(e,r,t)}))}))},I=(e,t)=>{D(e,(e=>{const r=gr(e);xn(r,t)}))},R=(t,r,n,o,i)=>D(t,(t=>{const s=p(r)?e.createElement(r):r;return x(n)&&O(s,n),o&&(!p(o)&&o.nodeType?s.appendChild(o):p(o)&&I(s,o)),i?s:t.appendChild(s)})),N=(t,r,n)=>R(e.createElement(t),t,r,n,!0),F=qi.encodeAllRaw,B=(e,t)=>D(e,(e=>{const r=gr(e);return t&&W(Or(r),(e=>{qt(e)&&0===e.dom.length?vn(e):hn(r,e)})),vn(r),r.dom})),L=(e,t,r)=>{D(e,(e=>{if(Ln(e)){const n=gr(e),o=t.split(" ");W(o,(e=>{x(r)?(r?lr:hr)(n,e):((e,t)=>{or(e)?e.dom.classList.toggle(t):((e,t)=>{G(ir(e),t)?ar(e,t):sr(e,t)})(e,t),cr(e)})(n,e)}))}}))},V=(e,t,r)=>D(t,(n=>{var o;const i=g(t)?e.cloneNode(!0):e;return r&&ms(gs(n.childNodes),(e=>{i.appendChild(e)})),null===(o=n.parentNode)||void 0===o||o.replaceChild(i,n),n})),z=e=>{if(Ln(e)){const t="a"===e.nodeName.toLowerCase()&&!m(e,"href")&&m(e,"id");if(m(e,"name")||m(e,"data-mce-bookmark")||t)return!0}return!1},H=()=>e.createRange(),j=(r,o,i,s)=>{if(g(r)){let e=r.length;const t=[];for(;e--;)t[e]=j(r[e],o,i,s);return t}return!t.collect||r!==e&&r!==n||a.push([r,o,i,s]),h.bind(r,o,i,s||Z)},q=(t,r,o)=>{if(g(t)){let e=t.length;const n=[];for(;e--;)n[e]=q(t[e],r,o);return n}if(a.length>0&&(t===e||t===n)){let e=a.length;for(;e--;){const[n,i,s]=a[e];t!==n||r&&r!==i||o&&o!==s||h.unbind(n,i,s)}}return h.unbind(t,r,o)},$=e=>{if(e&&Ln(e)){const t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Z={doc:e,settings:t,win:n,files:o,stdMode:!0,boxModel:!0,styleSheetLoader:s,boundEvents:a,styles:c,schema:l,events:h,isBlock:e=>p(e)?_e(d,e):Ln(e)&&(_e(d,e.nodeName)||xi(l,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:b,getViewPort:e=>{const t=Dn(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:e=>{const t=u(e),r=S(t),n=A(t);return{x:r.x,y:r.y,w:n.w,h:n.h}},getSize:A,getParent:(e,t,r)=>{const n=P(e,t,r,!1);return n&&n.length>0?n[0]:null},getParents:P,get:u,getNext:(e,t)=>M(e,t,"nextSibling"),getPrev:(e,t)=>M(e,t,"previousSibling"),select:(r,n)=>{var o,i;const s=null!==(i=null!==(o=u(n))&&void 0!==o?o:t.root_element)&&void 0!==i?i:e;return E(s.querySelectorAll)?de(s.querySelectorAll(r)):[]},is:k,add:R,create:N,createHTML:(e,t,r="")=>{let n="<"+e;for(const e in t)Ce(t,e)&&(n+=" "+e+'="'+F(t[e])+'"');return Ye(r)&&_e(l.getVoidElements(),e)?n+" />":n+">"+r+"</"+e+">"},createFragment:t=>{const r=e.createElement("div"),n=e.createDocumentFragment();let o;for(n.appendChild(r),t&&(r.innerHTML=t);o=r.firstChild;)n.appendChild(o);return n.removeChild(r),n},remove:B,setStyle:(e,r,n)=>{D(e,(e=>{const o=gr(e);Ss(o,r,n),t.update_styles&&Es(c,o)}))},getStyle:_,setStyles:(e,r)=>{D(e,(e=>{const n=gr(e);me(r,((e,t)=>{Ss(n,t,e)})),t.update_styles&&Es(c,n)}))},removeAllAttribs:e=>D(e,(e=>{const t=e.attributes;for(let r=t.length-1;r>=0;r--)e.removeAttributeNode(t.item(r))})),setAttrib:y,setAttribs:O,getAttrib:m,getPos:S,parseStyle:e=>c.parse(e),serializeStyle:(e,t)=>c.serialize(e,t),addStyle:t=>{if(Z!==_s.DOM&&e===document){if(r[t])return;r[t]=!0}let n=e.getElementById("mceDefaultStyles");if(!n){n=e.createElement("style"),n.id="mceDefaultStyles",n.type="text/css";const t=e.head;t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(e.createTextNode(t))},loadCSS:e=>{e||(e=""),W(e.split(","),(e=>{o[e]=!0,s.load(e).catch(C)}))},addClass:(e,t)=>{L(e,t,!0)},removeClass:(e,t)=>{L(e,t,!1)},hasClass:(e,t)=>{const r=f(e),n=t.split(" ");return x(r)&&ne(n,(e=>dr(r,e)))},toggleClass:L,show:e=>{D(e,(e=>cn(gr(e),"display")))},hide:e=>{D(e,(e=>rn(gr(e),"display","none")))},isHidden:e=>{const t=f(e);return x(t)&&Nt(an(t,"display"),"none")},uniqueId:e=>(e||"mce_")+i++,setHTML:I,getOuterHTML:e=>{const t=f(e);return x(t)?Ln(t.dom)?t.dom.outerHTML:(e=>{const t=fr("div"),r=gr(e.dom.cloneNode(!0));return pn(t,r),wn(t)})(t):""},setOuterHTML:(e,t)=>{D(e,(e=>{Ln(e)&&(e.outerHTML=t)}))},decode:qi.decode,encode:F,insertAfter:(e,t)=>{const r=u(t);return D(e,(e=>{const t=null==r?void 0:r.parentNode,n=null==r?void 0:r.nextSibling;return t&&(n?t.insertBefore(e,n):t.appendChild(e)),e}))},replace:V,rename:(e,t)=>{if(e.nodeName!==t.toUpperCase()){const r=N(t);return ms(v(e),(t=>{y(r,t.nodeName,m(e,t.nodeName))})),V(r,e,!0),r}return e},findCommonAncestor:(e,t)=>{let r=e;for(;r;){let e=t;for(;e&&r!==e;)e=e.parentNode;if(r===e)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},run:D,getAttribs:v,isEmpty:(e,t)=>{let r=0;if(z(e))return!1;const n=e.firstChild;if(n){const o=new Nn(n,e),i=l?l.getWhitespaceElements():{},s=t||(l?l.getNonEmptyElements():null);let a=n;do{if(Ln(a)){const e=a.getAttribute("data-mce-bogus");if(e){a=o.next("all"===e);continue}const t=a.nodeName.toLowerCase();if(s&&s[t]){if("br"===t){r++,a=o.next();continue}return!1}if(z(a))return!1}if(Yn(a))return!1;if($n(a)&&!ni(a.data))return!1;if($n(a)&&a.parentNode&&i[a.parentNode.nodeName]&&ni(a.data))return!1;a=o.next()}while(a)}return r<=1},createRng:H,nodeIndex:xs,split:(e,t,r)=>{let n,o,i=H();if(e&&t&&e.parentNode&&t.parentNode){const s=e.parentNode;return i.setStart(s,xs(e)),i.setEnd(t.parentNode,xs(t)),n=i.extractContents(),i=H(),i.setStart(t.parentNode,xs(t)+1),i.setEnd(s,xs(e)+1),o=i.extractContents(),s.insertBefore(Di(Z,n),e),r?s.insertBefore(r,e):s.insertBefore(t,e),s.insertBefore(Di(Z,o),e),B(e),r||t}},bind:j,unbind:q,fire:(e,t,r)=>h.dispatch(e,t,r),dispatch:(e,t,r)=>h.dispatch(e,t,r),getContentEditable:$,getContentEditableParent:e=>{const t=b();let r=null;for(let n=e;n&&n!==t&&(r=$(n),null===r);n=n.parentNode);return r},isEditable:e=>{if(x(e)){const t=Ln(e)?e:e.parentElement,r="true"===$(b());return x(t)&&Jr(gr(t),r)}return!1},destroy:()=>{if(a.length>0){let e=a.length;for(;e--;){const[t,r,n]=a[e];h.unbind(t,r,n)}}me(o,((e,t)=>{s.unload(t),delete o[t]}))},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},K=((e,t,r)=>{const n=t.keep_values,o={set:(e,n,o)=>{const i=gr(e);E(t.url_converter)&&x(n)&&(n=t.url_converter.call(t.url_converter_scope||r(),String(n),o,e)),bs(i,"data-mce-"+o,n),bs(i,o,n)},get:(e,t)=>{const r=gr(e);return Jt(r,"data-mce-"+t)||Jt(r,t)}},i={style:{set:(t,r)=>{const o=gr(t);n&&bs(o,vs,r),tr(o,"style"),p(r)&&nn(o,e.parse(r))},get:t=>{const r=gr(t),n=Jt(r,vs)||Jt(r,"style");return e.serialize(e.parse(n),Ht(r))}}};return n&&(i.href=i.src=o),i})(c,t,T(Z));return Z};_s.DOM=_s(document),_s.nodeIndex=xs;const Cs=_s.DOM;class As{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,r)=>{const n=Cs;let o;const i=()=>{n.remove(s),o&&(o.onerror=o.onload=o=null)},s=n.uniqueId();o=document.createElement("script"),o.id=s,o.type="text/javascript",o.src=Rt._addCacheSuffix(e),this.settings.referrerPolicy&&n.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=()=>{i(),t()},o.onerror=()=>{i(),r("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(o)}))}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(e){const t=this;return t.queue.push(e),void 0===t.states[e]&&(t.states[e]=0),new Promise(((r,n)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:r,reject:n})}))}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,r=(e,r)=>{Se(t.scriptLoadedCallbacks,r).each((t=>{W(t,(t=>t[e](r)))})),delete t.scriptLoadedCallbacks[r]},n=e=>{const t=K(e,(e=>"rejected"===e.status));return t.length>0?Promise.reject(re(t,(({reason:e})=>g(e)?e:[e]))):Promise.resolve()},o=e=>Promise.allSettled(q(e,(e=>2===t.states[e]?(r("resolve",e),Promise.resolve()):3===t.states[e]?(r("reject",e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then((()=>{t.states[e]=2,r("resolve",e);const i=t.queue;return i.length>0?(t.queue=[],o(i).then(n)):Promise.resolve()}),(()=>(t.states[e]=3,r("reject",e),Promise.reject(e)))))))),i=e=>(t.loading=!0,o(e).then((e=>{t.loading=!1;const r=t.queueLoadedCallbacks.shift();return L.from(r).each(N),n(e)}))),s=Ae(e);return t.loading?new Promise(((e,r)=>{t.queueLoadedCallbacks.push((()=>i(s).then(e,r)))})):i(s)}}As.ScriptLoader=new As;const ks=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Ts={},Ps=ks("en"),Ms=()=>Se(Ts,Ps.get()),Ds={getData:()=>ge(Ts,(e=>({...e}))),setCode:e=>{e&&Ps.set(e)},getCode:()=>Ps.get(),add:(e,t)=>{let r=Ts[e];r||(Ts[e]=r={}),me(t,((e,t)=>{r[t.toLowerCase()]=e}))},translate:e=>{const t=Ms().getOr({}),r=e=>E(e)?Object.prototype.toString.call(e):n(e)?"":""+e,n=e=>""===e||null==e,o=e=>{const n=r(e);return Se(t,n.toLowerCase()).map(r).getOr(n)},i=e=>e.replace(/{context:\w+}$/,"");if(n(e))return"";if(f(s=e)&&_e(s,"raw"))return r(e.raw);var s;if((e=>g(e)&&e.length>1)(e)){const t=e.slice(1);return i(o(e[0]).replace(/\{([0-9]+)\}/g,((e,n)=>_e(t,n)?r(t[n]):e)))}return i(o(e))},isRtl:()=>Ms().bind((e=>Se(e,"_dir"))).exists((e=>"rtl"===e)),hasCode:e=>_e(Ts,e)},Os=()=>{const e=[],t={},r={},n=[],o=(e,t)=>{const r=K(n,(r=>r.name===e&&r.state===t));W(r,(e=>e.resolve()))},i=e=>_e(t,e),s=(e,r)=>{const n=Ds.getCode();!n||r&&-1===(","+(r||"")+",").indexOf(","+n+",")||As.ScriptLoader.add(t[e]+"/langs/"+n+".js")},a=(e,t="added")=>"added"===t&&(e=>_e(r,e))(e)||"loaded"===t&&i(e)?Promise.resolve():new Promise((r=>{n.push({name:e,state:t,resolve:r})}));return{items:e,urls:t,lookup:r,get:e=>{if(r[e])return r[e].instance},requireLangPack:(e,t)=>{!1!==Os.languageLoad&&(i(e)?s(e,t):a(e,"loaded").then((()=>s(e,t))))},add:(t,n)=>(e.push(n),r[t]={instance:n},o(t,"added"),n),remove:e=>{delete t[e],delete r[e]},createUrl:(e,t)=>p(t)?p(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,n)=>{if(t[e])return Promise.resolve();let i=p(n)?n:n.prefix+n.resource+n.suffix;0!==i.indexOf("/")&&-1===i.indexOf("://")&&(i=Os.baseURL+"/"+i),t[e]=i.substring(0,i.lastIndexOf("/"));const s=()=>(o(e,"loaded"),Promise.resolve());return r[e]?s():As.ScriptLoader.add(i).then(s)},waitFor:a}};Os.languageLoad=!0,Os.baseURL="",Os.PluginManager=Os(),Os.ThemeManager=Os(),Os.ModelManager=Os();const Is=e=>{const t=ks(L.none()),r=()=>t.get().each((e=>clearInterval(e)));return{clear:()=>{r(),t.set(L.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:n=>{r(),t.set(L.some(setInterval(n,e)))}}},Rs=()=>{const e=(e=>{const t=ks(L.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(L.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(L.some(e))}}})(C);return{...e,on:t=>e.get().each(t)}},Ns=(e,t)=>{let r=null;return{cancel:()=>{v(r)||(clearTimeout(r),r=null)},throttle:(...n)=>{v(r)&&(r=setTimeout((()=>{r=null,e.apply(null,n)}),t))}}},Fs=(e,t)=>{let r=null;const n=()=>{v(r)||(clearTimeout(r),r=null)};return{cancel:n,throttle:(...o)=>{n(),r=setTimeout((()=>{r=null,e.apply(null,o)}),t)}}},Bs=T("mce-annotation"),Ls=T("data-mce-annotation"),Vs=T("data-mce-annotation-uid"),zs=T("data-mce-annotation-active"),Hs=T("data-mce-annotation-classes"),js=T("data-mce-annotation-attrs"),Gs=e=>t=>wr(t,e),Us=(e,t)=>{const r=e.selection.getRng(),n=gr(r.startContainer),o=gr(e.getBody()),i=t.fold((()=>"."+Bs()),(e=>`[${Ls()}="${e}"]`)),s=Ir(n,r.startOffset).getOr(n);return Xr(s,i,Gs(o)).bind((t=>Qt(t,`${Vs()}`).bind((r=>Qt(t,`${Ls()}`).map((t=>{const n=Ws(e,r);return{uid:r,name:t,elements:n}}))))))},qs=(e,t)=>er(e,"data-mce-bogus")||Rn(e,'[data-mce-bogus="all"]',Gs(t)),Ws=(e,t)=>{const r=gr(e.getBody()),n=In(r,`[${Vs()}="${t}"]`);return K(n,(e=>!qs(e,r)))},$s=(e,t)=>{const r=gr(e.getBody()),n=In(r,`[${Ls()}="${t}"]`),o={};return W(n,(e=>{if(!qs(e,r)){const t=Jt(e,Vs()),r=Se(o,t).getOr([]);o[t]=r.concat([e])}})),o};let Zs=0;const Ks=e=>{const t=(new Date).getTime(),r=Math.floor(1e9*Math.random());return Zs++,e+"_"+r+Zs+String(t)},Ys=(e,t)=>gr(e.dom.cloneNode(t)),Xs=e=>Ys(e,!1),Js=e=>Ys(e,!0),Qs=(e,t,r=F)=>{const n=new Nn(e,t),o=e=>{let t;do{t=n[e]()}while(t&&!$n(t)&&!r(t));return L.from(t).filter($n)};return{current:()=>L.from(n.current()).filter($n),next:()=>o("next"),prev:()=>o("prev"),prev2:()=>o("prev2")}},ea=(e,t)=>{const r=t||(t=>e.isBlock(t)||Qn(t)||ro(t)),n=(e,t,r,o)=>{if($n(e)){const r=o(e,t,e.data);if(-1!==r)return L.some({container:e,offset:r})}return r().bind((e=>n(e.container,e.offset,r,o)))};return{backwards:(t,o,i,s)=>{const a=Qs(t,null!=s?s:e.getRoot(),r);return n(t,o,(()=>a.prev().map((e=>({container:e,offset:e.length})))),i).getOrNull()},forwards:(t,o,i,s)=>{const a=Qs(t,null!=s?s:e.getRoot(),r);return n(t,o,(()=>a.next().map((e=>({container:e,offset:0})))),i).getOrNull()}}},ta=Math.round,ra=e=>e?{left:ta(e.left),top:ta(e.top),bottom:ta(e.bottom),right:ta(e.right),width:ta(e.width),height:ta(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},na=(e,t)=>(e=ra(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),oa=(e,t,r)=>e>=0&&e<=Math.min(t.height,r.height)/2,ia=(e,t)=>{const r=Math.min(t.height/2,e.height/2);return e.bottom-r<t.top||!(e.top>t.bottom)&&oa(t.top-e.bottom,e,t)},sa=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&oa(t.bottom-e.top,e,t),aa=(e,t,r)=>{const n=Math.max(Math.min(t,e.left+e.width),e.left),o=Math.max(Math.min(r,e.top+e.height),e.top);return Math.sqrt((t-n)*(t-n)+(r-o)*(r-o))},la=e=>{const t=e.startContainer,r=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===r+1?t.childNodes[r]:null},ca=(e,t)=>{if(Ln(e)&&e.hasChildNodes()){const r=e.childNodes,n=((e,t,r)=>Math.min(Math.max(e,0),r))(t,0,r.length-1);return r[n]}return e},ha=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),da=e=>p(e)&&e.charCodeAt(0)>=768&&ha.test(e),ua=Ln,pa=Qo,fa=Hn("display","block table"),ma=Hn("float","left right"),ga=((...e)=>t=>{for(let r=0;r<e.length;r++)if(!e[r](t))return!1;return!0})(ua,pa,O(ma)),va=O(Hn("white-space","pre pre-line pre-wrap")),ya=$n,ba=Qn,wa=_s.nodeIndex,xa=(e,t)=>t<0&&Ln(e)&&e.hasChildNodes()?void 0:ca(e,t),Ea=e=>e?e.createRange():_s.DOM.createRng(),Sa=e=>p(e)&&/[\r\n\t ]/.test(e),_a=e=>!!e.setStart&&!!e.setEnd,Ca=e=>{const t=e.startContainer,r=e.startOffset;if(Sa(e.toString())&&va(t.parentNode)&&$n(t)){const e=t.data;if(Sa(e[r-1])||Sa(e[r+1]))return!0}return!1},Aa=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,ka=e=>{var t;let r;const n=e.getClientRects();return r=n.length>0?ra(n[0]):ra(e.getBoundingClientRect()),!_a(e)&&ba(e)&&Aa(r)?(e=>{const t=e.ownerDocument,r=Ea(t),n=t.createTextNode(lo),o=e.parentNode;o.insertBefore(n,e),r.setStart(n,0),r.setEnd(n,1);const i=ra(r.getBoundingClientRect());return o.removeChild(n),i})(e):Aa(r)&&_a(e)&&null!==(t=(e=>{const t=e.startContainer,r=e.endContainer,n=e.startOffset,o=e.endOffset;if(t===r&&$n(r)&&0===n&&1===o){const t=e.cloneRange();return t.setEndAfter(r),ka(t)}return null})(e))&&void 0!==t?t:r},Ta=(e,t)=>{const r=na(e,t);return r.width=1,r.right=r.left+1,r},Pa=(e,t,r)=>{const n=()=>(r||(r=(e=>{const t=[],r=e=>{var r,n;0!==e.height&&(t.length>0&&(r=e,n=t[t.length-1],r.left===n.left&&r.top===n.top&&r.bottom===n.bottom&&r.right===n.right)||t.push(e))},n=(e,t)=>{const n=Ea(e.ownerDocument);if(t<e.data.length){if(da(e.data[t]))return;if(da(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!Ca(n)))return void r(Ta(ka(n),!1))}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),Ca(n)||r(Ta(ka(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),Ca(n)||r(Ta(ka(n),!0)))},o=e.container(),i=e.offset();if(ya(o))return n(o,i),t;if(ua(o))if(e.isAtEnd()){const e=xa(o,i);ya(e)&&n(e,e.data.length),ga(e)&&!ba(e)&&r(Ta(ka(e),!1))}else{const s=xa(o,i);if(ya(s)&&n(s,0),ga(s)&&e.isAtEnd())return r(Ta(ka(s),!1)),t;const a=xa(e.container(),e.offset()-1);ga(a)&&!ba(a)&&(fa(a)||fa(s)||!ga(s))&&r(Ta(ka(a),!1)),ga(s)&&r(Ta(ka(s),!0))}return t})(Pa(e,t))),r);return{container:T(e),offset:T(t),toRange:()=>{const r=Ea(e.ownerDocument);return r.setStart(e,t),r.setEnd(e,t),r},getClientRects:n,isVisible:()=>n().length>0,isAtStart:()=>(ya(e),0===t),isAtEnd:()=>ya(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:r=>r&&e===r.container()&&t===r.offset(),getNode:r=>xa(e,r?t-1:t)}};Pa.fromRangeStart=e=>Pa(e.startContainer,e.startOffset),Pa.fromRangeEnd=e=>Pa(e.endContainer,e.endOffset),Pa.after=e=>Pa(e.parentNode,wa(e)+1),Pa.before=e=>Pa(e.parentNode,wa(e)),Pa.isAbove=(e,t)=>Ft(ce(t.getClientRects()),he(e.getClientRects()),ia).getOr(!1),Pa.isBelow=(e,t)=>Ft(he(t.getClientRects()),ce(e.getClientRects()),sa).getOr(!1),Pa.isAtStart=e=>!!e&&e.isAtStart(),Pa.isAtEnd=e=>!!e&&e.isAtEnd(),Pa.isTextPosition=e=>!!e&&$n(e.container()),Pa.isElementPosition=e=>!Pa.isTextPosition(e);const Ma=(e,t)=>{$n(t)&&0===t.data.length&&e.remove(t)},Da=(e,t,r)=>{Jn(r)?((e,t,r)=>{const n=L.from(r.firstChild),o=L.from(r.lastChild);t.insertNode(r),n.each((t=>Ma(e,t.previousSibling))),o.each((t=>Ma(e,t.nextSibling)))})(e,t,r):((e,t,r)=>{t.insertNode(r),Ma(e,r.previousSibling),Ma(e,r.nextSibling)})(e,t,r)},Oa=$n,Ia=Gn,Ra=_s.nodeIndex,Na=e=>{const t=e.parentNode;return Ia(t)?Na(t):t},Fa=e=>e?Oe(e.childNodes,((e,t)=>(Ia(t)&&"BR"!==t.nodeName?e=e.concat(Fa(t)):e.push(t),e)),[]):[],Ba=e=>t=>e===t,La=e=>(Oa(e)?"text()":e.nodeName.toLowerCase())+"["+(e=>{let t,r;t=Fa(Na(e)),r=Ie(t,Ba(e),e),t=t.slice(0,r+1);const n=Oe(t,((e,r,n)=>(Oa(r)&&Oa(t[n-1])&&e++,e)),0);return t=De(t,zn([e.nodeName])),r=Ie(t,Ba(e),e),r-n})(e)+"]",Va=(e,t)=>{let r,n=[],o=t.container(),i=t.offset();if(Oa(o))r=((e,t)=>{let r=e;for(;(r=r.previousSibling)&&Oa(r);)t+=r.data.length;return t})(o,i);else{const e=o.childNodes;i>=e.length?(r="after",i=e.length-1):r="before",o=e[i]}n.push(La(o));let s=((e,t,r)=>{const n=[];for(let r=t.parentNode;r&&r!==e;r=r.parentNode)n.push(r);return n})(e,o);return s=De(s,O(Gn)),n=n.concat(Me(s,(e=>La(e)))),n.reverse().join("/")+","+r},za=(e,t)=>{if(!t)return null;const r=t.split(","),n=r[0].split("/"),o=r.length>1?r[1]:"before",i=Oe(n,((e,t)=>{const r=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return r?("text()"===r[1]&&(r[1]="#text"),((e,t,r)=>{let n=Fa(e);return n=De(n,((e,t)=>!Oa(e)||!Oa(n[t-1]))),n=De(n,zn([t])),n[r]})(e,r[1],parseInt(r[2],10))):null}),e);if(!i)return null;if(!Oa(i)&&i.parentNode){let e;return e="after"===o?Ra(i)+1:Ra(i),Pa(i.parentNode,e)}return((e,t)=>{let r=e,n=0;for(;Oa(r);){const o=r.data.length;if(t>=n&&t<=n+o){e=r,t-=n;break}if(!Oa(r.nextSibling)){e=r,t=o;break}n+=o,r=r.nextSibling}return Oa(e)&&t>e.data.length&&(t=e.data.length),Pa(e,t)})(i,parseInt(o,10))},Ha=ro,ja=(e,t,r,n,o)=>{const i=o?n.startContainer:n.endContainer;let s=o?n.startOffset:n.endOffset;const a=[],l=e.getRoot();if($n(i))a.push(r?((e,t,r)=>{let n=e(t.data.slice(0,r)).length;for(let r=t.previousSibling;r&&$n(r);r=r.previousSibling)n+=e(r.data).length;return n})(t,i,s):s);else{let t=0;const n=i.childNodes;s>=n.length&&n.length&&(t=1,s=Math.max(0,n.length-1)),a.push(e.nodeIndex(n[s],r)+t)}for(let t=i;t&&t!==l;t=t.parentNode)a.push(e.nodeIndex(t,r));return a},Ga=(e,t,r)=>{let n=0;return Rt.each(e.select(t),(e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==r&&void n++)),n},Ua=(e,t)=>{let r=t?e.startContainer:e.endContainer,n=t?e.startOffset:e.endOffset;if(Ln(r)&&"TR"===r.nodeName){const o=r.childNodes;r=o[Math.min(t?n:n-1,o.length-1)],r&&(n=t?0:r.childNodes.length,t?e.setStart(r,n):e.setEnd(r,n))}},qa=e=>(Ua(e,!0),Ua(e,!1),e),Wa=(e,t)=>{if(Ln(e)&&(e=ca(e,t),Ha(e)))return e;if(Bo(e)){$n(e)&&No(e)&&(e=e.parentNode);let t=e.previousSibling;if(Ha(t))return t;if(t=e.nextSibling,Ha(t))return t}},$a=(e,t,r)=>{const n=r.getNode(),o=r.getRng();if("IMG"===n.nodeName||Ha(n)){const e=n.nodeName;return{name:e,index:Ga(r.dom,e,n)}}const i=(e=>Wa(e.startContainer,e.startOffset)||Wa(e.endContainer,e.endOffset))(o);if(i){const e=i.tagName;return{name:e,index:Ga(r.dom,e,i)}}return((e,t,r,n)=>{const o=t.dom,i=ja(o,e,r,n,!0),s=t.isForward(),a=Uo(n)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:i,forward:s,...a}:{start:i,end:ja(o,e,r,n,!1),forward:s,...a}})(e,r,t,o)},Za=(e,t,r)=>{const n={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return r?e.create("span",n,"&#xFEFF;"):e.create("span",n)},Ka=(e,t)=>{const r=e.dom;let n=e.getRng();const o=r.uniqueId(),i=e.isCollapsed(),s=e.getNode(),a=s.nodeName,l=e.isForward();if("IMG"===a)return{name:a,index:Ga(r,a,s)};const c=qa(n.cloneRange());if(!i){c.collapse(!1);const e=Za(r,o+"_end",t);Da(r,c,e)}n=qa(n),n.collapse(!0);const h=Za(r,o+"_start",t);return Da(r,n,h),e.moveToBookmark({id:o,keep:!0,forward:l}),{id:o,forward:l}},Ya=D($a,P,!0),Xa=e=>{const t=t=>t(e),r=T(e),n=()=>o,o={tag:!0,inner:e,fold:(t,r)=>r(e),isValue:B,isError:F,map:t=>Qa.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:r,or:n,getOrThunk:r,orThunk:n,getOrDie:r,each:t=>{t(e)},toOptional:()=>L.some(e)};return o},Ja=e=>{const t=()=>r,r={tag:!1,inner:e,fold:(t,r)=>t(e),isValue:F,isError:B,map:t,mapError:t=>Qa.error(t(e)),bind:t,exists:F,forall:B,getOr:P,or:P,getOrThunk:R,orThunk:R,getOrDie:I(String(e)),each:C,toOptional:L.none};return r},Qa={value:Xa,error:Ja,fromOption:(e,t)=>e.fold((()=>Ja(t)),Xa)},el=e=>{if(!g(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],r={};return W(e,((n,o)=>{const i=pe(n);if(1!==i.length)throw new Error("one and only one name per case");const s=i[0],a=n[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!g(a))throw new Error("case arguments must be an array");t.push(s),r[s]=(...r)=>{const n=r.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+n);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,r)},match:e=>{const n=pe(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!ne(t,(e=>G(n,e))))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,r)},log:e=>{console.log(e,{constructors:t,constructor:s,params:r})}}}})),r};el([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const tl=e=>"inline-command"===e.type||"inline-format"===e.type,rl=e=>"block-command"===e.type||"block-format"===e.type,nl=e=>{const t=t=>Qa.error({message:t,pattern:e}),r=(r,n,o)=>{if(void 0!==e.format){let o;if(g(e.format)){if(!ne(e.format,p))return t(r+" pattern has non-string items in the `format` array");o=e.format}else{if(!p(e.format))return t(r+" pattern has non-string `format` parameter");o=[e.format]}return Qa.value(n(o))}return void 0!==e.cmd?p(e.cmd)?Qa.value(o(e.cmd,e.value)):t(r+" pattern has non-string `cmd` parameter"):t(r+" pattern is missing both `format` and `cmd` parameters")};if(!f(e))return t("Raw pattern is not an object");if(!p(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!p(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let n=e.start,o=e.end;return 0===o.length&&(o=n,n=""),r("Inline",(e=>({type:"inline-format",start:n,end:o,format:e})),((e,t)=>({type:"inline-command",start:n,end:o,cmd:e,value:t})))}return void 0!==e.replacement?p(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):Qa.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):r("Block",(t=>({type:"block-format",start:e.start,format:t[0]})),((t,r)=>({type:"block-command",start:e.start,cmd:t,value:r})))},ol=e=>K(e,rl),il=e=>K(e,tl),sl=e=>{const t=(e=>{const t=[],r=[];return W(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{r.push(e)}))})),{errors:t,values:r}})(q(e,nl));return W(t.errors,(e=>console.error(e.message,e.pattern))),t.values},al=St().deviceType,ll=al.isTouch(),cl=_s.DOM,hl=e=>u(e,RegExp),dl=e=>t=>t.options.get(e),ul=e=>p(e)||f(e),pl=(e,t="")=>r=>{const n=p(r);if(n){if(-1!==r.indexOf("=")){const o=(e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return X(t,((e,t)=>{const r=t.split("="),n=r[0],o=r.length>1?r[1]:n;return e[We(n)]=We(o),e}),{})})(r);return{value:Se(o,e.id).getOr(t),valid:n}}return{value:r,valid:n}}return{valid:!1,message:"Must be a string."}},fl=dl("iframe_attrs"),ml=dl("doctype"),gl=dl("document_base_url"),vl=dl("body_id"),yl=dl("body_class"),bl=dl("content_security_policy"),wl=dl("br_in_pre"),xl=dl("forced_root_block"),El=dl("forced_root_block_attrs"),Sl=dl("newline_behavior"),_l=dl("br_newline_selector"),Cl=dl("no_newline_selector"),Al=dl("keep_styles"),kl=dl("end_container_on_empty_block"),Tl=dl("automatic_uploads"),Pl=dl("images_reuse_filename"),Ml=dl("images_replace_blob_uris"),Dl=dl("icons"),Ol=dl("icons_url"),Il=dl("images_upload_url"),Rl=dl("images_upload_base_path"),Nl=dl("images_upload_credentials"),Fl=dl("images_upload_handler"),Bl=dl("content_css_cors"),Ll=dl("referrer_policy"),Vl=dl("language"),zl=dl("language_url"),Hl=dl("indent_use_margin"),jl=dl("indentation"),Gl=dl("content_css"),Ul=dl("content_style"),ql=dl("font_css"),Wl=dl("directionality"),$l=dl("inline_boundaries_selector"),Zl=dl("object_resizing"),Kl=dl("resize_img_proportional"),Yl=dl("placeholder"),Xl=dl("event_root"),Jl=dl("service_message"),Ql=dl("theme"),ec=dl("theme_url"),tc=dl("model"),rc=dl("model_url"),nc=dl("inline_boundaries"),oc=dl("formats"),ic=dl("preview_styles"),sc=dl("format_empty_lines"),ac=dl("format_noneditable_selector"),lc=dl("custom_ui_selector"),cc=dl("inline"),hc=dl("hidden_input"),dc=dl("submit_patch"),uc=dl("add_form_submit_trigger"),pc=dl("add_unload_trigger"),fc=dl("custom_undo_redo_levels"),mc=dl("disable_nodechange"),gc=dl("readonly"),vc=dl("content_css_cors"),yc=dl("plugins"),bc=dl("external_plugins"),wc=dl("block_unsupported_drop"),xc=dl("visual"),Ec=dl("visual_table_class"),Sc=dl("visual_anchor_class"),_c=dl("iframe_aria_text"),Cc=dl("setup"),Ac=dl("init_instance_callback"),kc=dl("urlconverter_callback"),Tc=dl("auto_focus"),Pc=dl("browser_spellcheck"),Mc=dl("protect"),Dc=dl("paste_block_drop"),Oc=dl("paste_data_images"),Ic=dl("paste_preprocess"),Rc=dl("paste_postprocess"),Nc=dl("paste_webkit_styles"),Fc=dl("paste_remove_styles_if_webkit"),Bc=dl("paste_merge_formats"),Lc=dl("smart_paste"),Vc=dl("paste_as_text"),zc=dl("paste_tab_spaces"),Hc=dl("allow_html_data_urls"),jc=dl("text_patterns"),Gc=dl("text_patterns_lookup"),Uc=dl("noneditable_class"),qc=dl("editable_class"),Wc=dl("noneditable_regexp"),$c=dl("preserve_cdata"),Zc=dl("highlight_on_focus"),Kc=dl("xss_sanitization"),Yc=e=>Rt.explode(e.options.get("images_file_types")),Xc=dl("table_tab_navigation"),Jc=Ln,Qc=$n,eh=e=>{const t=e.parentNode;t&&t.removeChild(e)},th=e=>{const t=Oo(e);return{count:e.length-t.length,text:t}},rh=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(Mo));)e.deleteData(t,1)},nh=(e,t)=>(oh(e),t),oh=e=>{Jc(e)&&Bo(e)&&(Lo(e)?e.removeAttribute("data-mce-caret"):eh(e)),Qc(e)&&(rh(e),0===e.data.length&&eh(e))},ih=ro,sh=io,ah=no,lh=(e,t,r)=>{const n=na(t.getBoundingClientRect(),r);let o,i;if("BODY"===e.tagName){const t=e.ownerDocument.documentElement;o=e.scrollLeft||t.scrollLeft,i=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();o=e.scrollLeft-t.left,i=e.scrollTop-t.top}n.left+=o,n.right+=o,n.top+=i,n.bottom+=i,n.width=1;let s=t.offsetWidth-t.clientWidth;return s>0&&(r&&(s*=-1),n.left+=s,n.right+=s),n},ch=()=>Mt.browser.isFirefox(),hh=e=>ih(e)||sh(e),dh=e=>(hh(e)||Un(e)&&ch())&&Ar(gr(e)).exists(Jr),uh=to,ph=ro,fh=io,mh=Hn("display","block table table-cell table-caption list-item"),gh=Bo,vh=No,yh=Ln,bh=$n,wh=Qo,xh=e=>e>0,Eh=e=>e<0,Sh=(e,t)=>{let r;for(;r=e(t);)if(!vh(r))return r;return null},_h=(e,t,r,n,o)=>{const i=new Nn(e,n),s=ph(e)||vh(e);let a;if(Eh(t)){if(s&&(a=Sh(i.prev.bind(i),!0),r(a)))return a;for(;a=Sh(i.prev.bind(i),o);)if(r(a))return a}if(xh(t)){if(s&&(a=Sh(i.next.bind(i),!0),r(a)))return a;for(;a=Sh(i.next.bind(i),o);)if(r(a))return a}return null},Ch=(e,t)=>{for(;e&&e!==t;){if(mh(e))return e;e=e.parentNode}return null},Ah=(e,t,r)=>Ch(e.container(),r)===Ch(t.container(),r),kh=(e,t)=>{if(!t)return L.none();const r=t.container(),n=t.offset();return yh(r)?L.from(r.childNodes[n+e]):L.none()},Th=(e,t)=>{var r;const n=(null!==(r=t.ownerDocument)&&void 0!==r?r:document).createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Ph=(e,t,r)=>Ch(t,e)===Ch(r,e),Mh=(e,t,r)=>{const n=e?"previousSibling":"nextSibling";let o=r;for(;o&&o!==t;){let e=o[n];if(e&&gh(e)&&(e=e[n]),ph(e)||fh(e)){if(Ph(t,e,o))return e;break}if(wh(e))break;o=o.parentNode}return null},Dh=D(Th,!0),Oh=D(Th,!1),Ih=(e,t,r)=>{let n;const o=D(Mh,!0,t),i=D(Mh,!1,t),s=r.startContainer,a=r.startOffset;if(No(s)){const e=bh(s)?s.parentNode:s,t=e.getAttribute("data-mce-caret");if("before"===t&&(n=e.nextSibling,dh(n)))return Dh(n);if("after"===t&&(n=e.previousSibling,dh(n)))return Oh(n)}if(!r.collapsed)return r;if($n(s)){if(gh(s)){if(1===e){if(n=i(s),n)return Dh(n);if(n=o(s),n)return Oh(n)}if(-1===e){if(n=o(s),n)return Oh(n);if(n=i(s),n)return Dh(n)}return r}if(jo(s)&&a>=s.data.length-1)return 1===e&&(n=i(s),n)?Dh(n):r;if(Ho(s)&&a<=1)return-1===e&&(n=o(s),n)?Oh(n):r;if(a===s.data.length)return n=i(s),n?Dh(n):r;if(0===a)return n=o(s),n?Oh(n):r}return r},Rh=(e,t)=>kh(e?0:-1,t).filter(ph),Nh=(e,t,r)=>{const n=Ih(e,t,r);return-1===e?Pa.fromRangeStart(n):Pa.fromRangeEnd(n)},Fh=e=>L.from(e.getNode()).map(gr),Bh=(e,t)=>{let r=t;for(;r=e(r);)if(r.isVisible())return r;return r},Lh=(e,t)=>{const r=Ah(e,t);return!(r||!Qn(e.getNode()))||r};var Vh;!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Vh||(Vh={}));const zh=ro,Hh=$n,jh=Ln,Gh=Qn,Uh=Qo,qh=e=>Yo(e)||(e=>!!ei(e)&&!X(de(e.getElementsByTagName("*")),((e,t)=>e||qo(t)),!1))(e),Wh=ti,$h=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Zh=(e,t)=>{if(xh(e)){if(Uh(t.previousSibling)&&!Hh(t.previousSibling))return Pa.before(t);if(Hh(t))return Pa(t,0)}if(Eh(e)){if(Uh(t.nextSibling)&&!Hh(t.nextSibling))return Pa.after(t);if(Hh(t))return Pa(t,t.data.length)}return Eh(e)?Gh(t)?Pa.before(t):Pa.after(t):Pa.before(t)},Kh=(e,t,r)=>{let n,o,i,s;if(!jh(r)||!t)return null;if(t.isEqual(Pa.after(r))&&r.lastChild){if(s=Pa.after(r.lastChild),Eh(e)&&Uh(r.lastChild)&&jh(r.lastChild))return Gh(r.lastChild)?Pa.before(r.lastChild):s}else s=t;const a=s.container();let l=s.offset();if(Hh(a)){if(Eh(e)&&l>0)return Pa(a,--l);if(xh(e)&&l<a.length)return Pa(a,++l);n=a}else{if(Eh(e)&&l>0&&(o=$h(a,l-1),Uh(o)))return!qh(o)&&(i=_h(o,e,Wh,o),i)?Hh(i)?Pa(i,i.data.length):Pa.after(i):Hh(o)?Pa(o,o.data.length):Pa.before(o);if(xh(e)&&l<a.childNodes.length&&(o=$h(a,l),Uh(o)))return Gh(o)?((e,t)=>{const r=t.nextSibling;return r&&Uh(r)?Hh(r)?Pa(r,0):Pa.before(r):Kh(Vh.Forwards,Pa.after(t),e)})(r,o):!qh(o)&&(i=_h(o,e,Wh,o),i)?Hh(i)?Pa(i,0):Pa.before(i):Hh(o)?Pa(o,0):Pa.after(o);n=o||s.getNode()}if(n&&(xh(e)&&s.isAtEnd()||Eh(e)&&s.isAtStart())&&(n=_h(n,e,B,r,!0),Wh(n,r)))return Zh(e,n);o=n?_h(n,e,Wh,r):n;const c=Re(K(((e,t)=>{const r=[];let n=e;for(;n&&n!==t;)r.push(n),n=n.parentNode;return r})(a,r),zh));return!c||o&&c.contains(o)?o?Zh(e,o):null:(s=xh(e)?Pa.after(c):Pa.before(c),s)},Yh=e=>({next:t=>Kh(Vh.Forwards,t,e),prev:t=>Kh(Vh.Backwards,t,e)}),Xh=e=>Pa.isTextPosition(e)?0===e.offset():Qo(e.getNode()),Jh=e=>{if(Pa.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return Qo(e.getNode(!0))},Qh=(e,t)=>!Pa.isTextPosition(e)&&!Pa.isTextPosition(t)&&e.getNode()===t.getNode(!0),ed=(e,t,r)=>{const n=Yh(t);return L.from(e?n.next(r):n.prev(r))},td=(e,t,r)=>ed(e,t,r).bind((n=>Ah(r,n,t)&&((e,t,r)=>{return e?!Qh(t,r)&&(n=t,!(!Pa.isTextPosition(n)&&Qn(n.getNode())))&&Jh(t)&&Xh(r):!Qh(r,t)&&Xh(t)&&Jh(r);var n})(e,r,n)?ed(e,t,n):L.some(n))),rd=(e,t,r,n)=>td(e,t,r).bind((r=>n(r)?rd(e,t,r,n):L.some(r))),nd=(e,t)=>{const r=e?t.firstChild:t.lastChild;return $n(r)?L.some(Pa(r,e?0:r.data.length)):r?Qo(r)?L.some(e?Pa.before(r):Qn(n=r)?Pa.before(n):Pa.after(n)):((e,t,r)=>{const n=e?Pa.before(r):Pa.after(r);return ed(e,t,n)})(e,t,r):L.none();var n},od=D(ed,!0),id=D(ed,!1),sd=D(nd,!0),ad=D(nd,!1),ld="_mce_caret",cd=e=>Ln(e)&&e.id===ld,hd=(e,t)=>{let r=t;for(;r&&r!==e;){if(cd(r))return r;r=r.parentNode}return null},dd=e=>_e(e,"name"),ud=e=>Rt.isArray(e.start),pd=e=>!(!dd(e)&&y(e.forward))||e.forward,fd=(e,t)=>(Ln(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),md=(e,t)=>ad(e).fold(F,(e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0))),gd=(e,t,r)=>!(!(e=>!e.hasChildNodes())(t)||!hd(e,t)||(((e,t)=>{var r;const n=(null!==(r=e.ownerDocument)&&void 0!==r?r:document).createTextNode(Mo);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)})(t,r),0)),vd=(e,t,r,n)=>{const o=r[t?"start":"end"],i=e.getRoot();if(o){let e=i,r=o[0];for(let t=o.length-1;e&&t>=1;t--){const r=e.childNodes;if(gd(i,e,n))return!0;if(o[t]>r.length-1)return!!gd(i,e,n)||md(e,n);e=r[o[t]]}$n(e)&&(r=Math.min(o[0],e.data.length)),Ln(e)&&(r=Math.min(o[0],e.childNodes.length)),t?n.setStart(e,r):n.setEnd(e,r)}return!0},yd=e=>$n(e)&&e.data.length>0,bd=(e,t,r)=>{const n=e.get(r.id+"_"+t),o=null==n?void 0:n.parentNode,i=r.keep;if(n&&o){let s,a;if("start"===t?i?n.hasChildNodes()?(s=n.firstChild,a=1):yd(n.nextSibling)?(s=n.nextSibling,a=0):yd(n.previousSibling)?(s=n.previousSibling,a=n.previousSibling.data.length):(s=o,a=e.nodeIndex(n)+1):(s=o,a=e.nodeIndex(n)):i?n.hasChildNodes()?(s=n.firstChild,a=1):yd(n.previousSibling)?(s=n.previousSibling,a=n.previousSibling.data.length):(s=o,a=e.nodeIndex(n)):(s=o,a=e.nodeIndex(n)),!i){const o=n.previousSibling,i=n.nextSibling;let l;for(Rt.each(Rt.grep(n.childNodes),(e=>{$n(e)&&(e.data=e.data.replace(/\uFEFF/g,""))}));l=e.get(r.id+"_"+t);)e.remove(l,!0);if($n(i)&&$n(o)&&!Mt.browser.isOpera()){const t=o.data.length;o.appendData(i.data),e.remove(i),s=o,a=t}}return L.some(Pa(s,a))}return L.none()},wd=(e,t,r)=>((e,t,r=!1)=>2===t?$a(Oo,r,e):3===t?(e=>{const t=e.getRng();return{start:Va(e.dom.getRoot(),Pa.fromRangeStart(t)),end:Va(e.dom.getRoot(),Pa.fromRangeEnd(t)),forward:e.isForward()}})(e):t?(e=>({rng:e.getRng(),forward:e.isForward()}))(e):Ka(e,!1))(e,t,r),xd=(e,t)=>{((e,t)=>{const r=e.dom;if(t){if(ud(t))return((e,t)=>{const r=e.createRng();return vd(e,!0,t,r)&&vd(e,!1,t,r)?L.some({range:r,forward:pd(t)}):L.none()})(r,t);if((e=>p(e.start))(t))return((e,t)=>{const r=L.from(za(e.getRoot(),t.start)),n=L.from(za(e.getRoot(),t.end));return Ft(r,n,((r,n)=>{const o=e.createRng();return o.setStart(r.container(),r.offset()),o.setEnd(n.container(),n.offset()),{range:o,forward:pd(t)}}))})(r,t);if((e=>_e(e,"id"))(t))return((e,t)=>{const r=bd(e,"start",t),n=bd(e,"end",t);return Ft(r,n.or(r),((r,n)=>{const o=e.createRng();return o.setStart(fd(e,r.container()),r.offset()),o.setEnd(fd(e,n.container()),n.offset()),{range:o,forward:pd(t)}}))})(r,t);if(dd(t))return((e,t)=>L.from(e.select(t.name)[t.index]).map((t=>{const r=e.createRng();return r.selectNode(t),{range:r,forward:!0}})))(r,t);if((e=>_e(e,"rng"))(t))return L.some({range:t.rng,forward:pd(t)})}return L.none()})(e,t).each((({range:t,forward:r})=>{e.setRng(t,r)}))},Ed=e=>Ln(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),Sd=e=>""===e,_d=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),Cd=e=>!_d(e)&&!Sd(e)&&!co(e),Ad=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},kd=e=>(e=>{return{value:(t=e,He(t,"#").toUpperCase())};var t})(Ad(e.red)+Ad(e.green)+Ad(e.blue)),Td=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Pd=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Md=(e,t,r,n)=>({red:e,green:t,blue:r,alpha:n}),Dd=(e,t,r,n)=>{const o=parseInt(e,10),i=parseInt(t,10),s=parseInt(r,10),a=parseFloat(n);return Md(o,i,s,a)},Od=e=>(e=>{if("transparent"===e)return L.some(Md(0,0,0,0));const t=Td.exec(e);if(null!==t)return L.some(Dd(t[1],t[2],t[3],"1"));const r=Pd.exec(e);return null!==r?L.some(Dd(r[1],r[2],r[3],r[4])):L.none()})(e).map(kd).map((e=>"#"+e.value)).getOr(e),Id=e=>{const t=[];if(e)for(let r=0;r<e.rangeCount;r++)t.push(e.getRangeAt(r));return t},Rd=(e,t)=>{const r=In(t,"td[data-mce-selected],th[data-mce-selected]");return r.length>0?r:(e=>K((e=>re(e,(e=>{const t=la(e);return t?[gr(t)]:[]})))(e),So))(e)},Nd=e=>Rd(Id(e.selection.getSel()),gr(e.getBody())),Fd=(e,t)=>Kr(e,"table",t),Bd=e=>Rr(e).fold(T([e]),(t=>[e].concat(Bd(t)))),Ld=e=>Nr(e).fold(T([e]),(t=>"br"===Ht(t)?Tr(t).map((t=>[e].concat(Ld(t)))).getOr([]):[e].concat(Ld(t)))),Vd=(e,t)=>Ft((e=>{const t=e.startContainer,r=e.startOffset;return $n(t)?0===r?L.some(gr(t)):L.none():L.from(t.childNodes[r]).map(gr)})(t),(e=>{const t=e.endContainer,r=e.endOffset;return $n(t)?r===t.data.length?L.some(gr(t)):L.none():L.from(t.childNodes[r-1]).map(gr)})(t),((t,r)=>{const n=Q(Bd(e),D(wr,t)),o=Q(Ld(e),D(wr,r));return n.isSome()&&o.isSome()})).getOr(!1),zd=(e,t,r,n)=>{const o=r,i=new Nn(r,o),s=we(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!G(["td","th","table"],t.toLowerCase())));let a=r;do{if($n(a)&&0!==Rt.trim(a.data).length)return void(n?t.setStart(a,0):t.setEnd(a,a.data.length));if(s[a.nodeName])return void(n?t.setStartBefore(a):"BR"===a.nodeName?t.setEndBefore(a):t.setEndAfter(a))}while(a=n?i.next():i.prev());"BODY"===o.nodeName&&(n?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Hd=e=>{const t=e.selection.getSel();return x(t)&&t.rangeCount>0},jd=(e,t)=>{const r=Nd(e);r.length>0?W(r,(r=>{const n=r.dom,o=e.dom.createRng();o.setStartBefore(n),o.setEndAfter(n),t(o,!0)})):t(e.selection.getRng(),!1)},Gd=(e,t,r)=>{const n=Ka(e,t);r(n),e.moveToBookmark(n)},Ud=e=>S(null==e?void 0:e.nodeType),qd=e=>Ln(e)&&!Ed(e)&&!cd(e)&&!Gn(e),Wd=e=>!0===e.isContentEditable,$d=(e,t,r)=>{const{selection:n,dom:o}=e,i=n.getNode(),s=ro(i);Gd(n,!0,(()=>{t()})),s&&ro(i)&&o.isChildOf(i,e.getBody())?e.selection.select(i):r(n.getStart())&&Zd(o,n)},Zd=(e,t)=>{var r,n;const o=t.getRng(),{startContainer:i,startOffset:s}=o;if(!((e,t)=>{if(qd(t)&&!/^(TD|TH)$/.test(t.nodeName)){const r=e.getAttrib(t,"data-mce-selected"),n=parseInt(r,10);return!isNaN(n)&&n>0}return!1})(e,t.getNode())&&Ln(i)){const a=i.childNodes,l=e.getRoot();let c;if(s<a.length){const t=a[s];c=new Nn(t,null!==(r=e.getParent(t,e.isBlock))&&void 0!==r?r:l)}else{const t=a[a.length-1];c=new Nn(t,null!==(n=e.getParent(t,e.isBlock))&&void 0!==n?n:l),c.next(!0)}for(let r=c.current();r;r=c.next()){if("false"===e.getContentEditable(r))return;if($n(r)&&!Jd(r))return o.setStart(r,0),void t.setRng(o)}}},Kd=(e,t,r)=>{if(e){const n=t?"nextSibling":"previousSibling";for(e=r?e:e[n];e;e=e[n])if(Ln(e)||!Jd(e))return e}},Yd=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||xi(e,t),Xd=(e,t,r)=>e.schema.isValidChild(t,r),Jd=(e,t=!1)=>{if(x(e)&&$n(e)){const r=t?e.data.replace(/ /g,""):e.data;return ni(r)}return!1},Qd=(e,t)=>{const r=e.dom;return qd(t)&&"false"===r.getContentEditable(t)&&((e,t)=>{const r="[data-mce-cef-wrappable]",n=ac(e),o=Ye(n)?r:`${r},${n}`;return yr(gr(t),o)})(e,t)&&0===r.select('[contenteditable="true"]',t).length},eu=(e,t)=>E(e)?e(t):(x(t)&&(e=e.replace(/%(\w+)/g,((e,r)=>t[r]||e))),e),tu=(e,t)=>(t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),ru=(e,t)=>{if(w(e))return null;{let r=String(e);return"color"!==t&&"backgroundColor"!==t||(r=Od(r)),"fontWeight"===t&&700===e&&(r="bold"),"fontFamily"===t&&(r=r.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),r}},nu=(e,t,r)=>{const n=e.getStyle(t,r);return ru(n,r)},ou=(e,t)=>{let r;return e.getParent(t,(t=>!!Ln(t)&&(r=e.getStyle(t,"text-decoration"),!!r&&"none"!==r))),r},iu=(e,t,r)=>e.getParents(t,r,e.getRoot()),su=(e,t,r)=>{const n=e.formatter.get(t);return x(n)&&U(n,r)},au=e=>Ce(e,"block"),lu=e=>Ce(e,"selector"),cu=e=>Ce(e,"inline"),hu=e=>lu(e)&&!1!==e.expand&&!cu(e),du=Ed,uu=iu,pu=Jd,fu=Yd,mu=(e,t)=>{let r=t;for(;r;){if(Ln(r)&&e.getContentEditable(r))return"false"===e.getContentEditable(r)?r:t;r=r.parentNode}return t},gu=(e,t,r,n)=>{const o=t.data;if(e){for(let e=r;e>0;e--)if(n(o.charAt(e-1)))return e}else for(let e=r;e<o.length;e++)if(n(o.charAt(e)))return e;return-1},vu=(e,t,r)=>gu(e,t,r,(e=>Sd(e)||_d(e))),yu=(e,t,r)=>gu(e,t,r,Cd),bu=(e,t,r,n,o,i)=>{let s;const a=e.getParent(r,e.isBlock)||t,l=(t,r,n)=>{const i=ea(e),l=o?i.backwards:i.forwards;return L.from(l(t,r,((e,t)=>du(e.parentNode)?-1:(s=e,n(o,e,t))),a))};return l(r,n,vu).bind((e=>i?l(e.container,e.offset+(o?-1:0),yu):L.some(e))).orThunk((()=>s?L.some({container:s,offset:o?0:s.length}):L.none()))},wu=(e,t,r,n,o)=>{const i=n[o];$n(n)&&Ye(n.data)&&i&&(n=i);const s=uu(e,n);for(let n=0;n<s.length;n++)for(let o=0;o<t.length;o++){const i=t[o];if((!x(i.collapsed)||i.collapsed===r.collapsed)&&lu(i)&&e.is(s[n],i.selector))return s[n]}return n},xu=(e,t,r,n)=>{var o;let i=r;const s=e.getRoot(),a=t[0];if(au(a)&&(i=a.wrapper?null:e.getParent(r,a.block,s)),!i){const t=null!==(o=e.getParent(r,"LI,TD,TH"))&&void 0!==o?o:s;i=e.getParent($n(r)?r.parentNode:r,(t=>t!==s&&fu(e.schema,t)),t)}if(i&&au(a)&&a.wrapper&&(i=uu(e,i,"ul,ol").reverse()[0]||i),!i)for(i=r;i&&i[n]&&!e.isBlock(i[n])&&(i=i[n],!tu(i,"br")););return i||r},Eu=(e,t,r,n)=>{const o=r.parentNode;return!x(r[n])&&(!(o!==t&&!w(o)&&!e.isBlock(o))||Eu(e,t,o,n))},Su=(e,t,r,n,o)=>{let i=r;const s=o?"previousSibling":"nextSibling",a=e.getRoot();if($n(r)&&!pu(r)&&(o?n>0:n<r.data.length))return r;for(;i;){if(!t[0].block_expand&&e.isBlock(i))return i;for(let t=i[s];t;t=t[s]){const r=$n(t)&&!Eu(e,a,t,s);if(!du(t)&&(!Qn(l=t)||!l.getAttribute("data-mce-bogus")||l.nextSibling)&&!pu(t,r))return i}if(i===a||i.parentNode===a){r=i;break}i=i.parentNode}var l;return r},_u=e=>du(e.parentNode)||du(e),Cu=(e,t,r,n=!1)=>{let{startContainer:o,startOffset:i,endContainer:s,endOffset:a}=t;const l=r[0];return Ln(o)&&o.hasChildNodes()&&(o=ca(o,i),$n(o)&&(i=0)),Ln(s)&&s.hasChildNodes()&&(s=ca(s,t.collapsed?a:a-1),$n(s)&&(a=s.data.length)),o=mu(e,o),s=mu(e,s),_u(o)&&(o=du(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,$n(o)&&(i=t.collapsed?o.length:0)),_u(s)&&(s=du(s)?s:s.parentNode,s=t.collapsed?s.nextSibling||s:s.previousSibling||s,$n(s)&&(a=t.collapsed?0:s.length)),t.collapsed&&(bu(e,e.getRoot(),o,i,!0,n).each((({container:e,offset:t})=>{o=e,i=t})),bu(e,e.getRoot(),s,a,!1,n).each((({container:e,offset:t})=>{s=e,a=t}))),(cu(l)||l.block_expand)&&(cu(l)&&$n(o)&&0!==i||(o=Su(e,r,o,i,!0)),cu(l)&&$n(s)&&a!==s.data.length||(s=Su(e,r,s,a,!1))),hu(l)&&(o=wu(e,r,t,o,"previousSibling"),s=wu(e,r,t,s,"nextSibling")),(au(l)||lu(l))&&(o=xu(e,r,o,"previousSibling"),s=xu(e,r,s,"nextSibling"),au(l)&&(e.isBlock(o)||(o=Su(e,r,o,i,!0)),e.isBlock(s)||(s=Su(e,r,s,a,!1)))),Ln(o)&&o.parentNode&&(i=e.nodeIndex(o),o=o.parentNode),Ln(s)&&s.parentNode&&(a=e.nodeIndex(s)+1,s=s.parentNode),{startContainer:o,startOffset:i,endContainer:s,endOffset:a}},Au=(e,t,r)=>{var n;const o=t.startOffset,i=ca(t.startContainer,o),s=t.endOffset,a=ca(t.endContainer,s-1),l=e=>{const t=e[0];$n(t)&&t===i&&o>=t.data.length&&e.splice(0,1);const r=e[e.length-1];return 0===s&&e.length>0&&r===a&&$n(r)&&e.splice(e.length-1,1),e},c=(e,t,r)=>{const n=[];for(;e&&e!==r;e=e[t])n.push(e);return n},h=(t,r)=>e.getParent(t,(e=>e.parentNode===r),r),d=(e,t,n)=>{const o=n?"nextSibling":"previousSibling";for(let i=e,s=i.parentNode;i&&i!==t;i=s){s=i.parentNode;const t=c(i===e?i:i[o],o);t.length&&(n||t.reverse(),r(l(t)))}};if(i===a)return r(l([i]));const u=null!==(n=e.findCommonAncestor(i,a))&&void 0!==n?n:e.getRoot();if(e.isChildOf(i,a))return d(i,u,!0);if(e.isChildOf(a,i))return d(a,u);const p=h(i,u)||i,f=h(a,u)||a;d(i,p,!0);const m=c(p===i?p:p.nextSibling,"nextSibling",f===a?f.nextSibling:f);m.length&&r(l(m)),d(a,f)},ku=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Tu=(e,t,r,n,o,i)=>{const{uid:s=t,...a}=r;lr(e,Bs()),Yt(e,`${Vs()}`,s),Yt(e,`${Ls()}`,n);const{attributes:l={},classes:c=[]}=o(s,a);if(Xt(e,l),((e,t)=>{W(t,(t=>{lr(e,t)}))})(e,c),i){c.length>0&&Yt(e,`${Hs()}`,c.join(","));const t=pe(l);t.length>0&&Yt(e,`${js()}`,t.join(","))}},Pu=(e,t,r,n,o)=>{const i=fr("span",e);return Tu(i,t,r,n,o,!1),i},Mu=e=>{const t=(()=>{const e={};return{register:(t,r)=>{e[t]={name:t,settings:r}},lookup:t=>Se(e,t).map((e=>e.settings)),getNames:()=>pe(e)}})();((e,t)=>{const r=Ls(),n=e=>L.from(e.attr(r)).bind(t.lookup),o=e=>{var t,r;e.attr(Vs(),null),e.attr(Ls(),null),e.attr(zs(),null);const n=L.from(e.attr(js())).map((e=>e.split(","))).getOr([]),o=L.from(e.attr(Hs())).map((e=>e.split(","))).getOr([]);W(n,(t=>e.attr(t,null)));const i=null!==(r=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==r?r:[],s=ie(i,[Bs()].concat(o));e.attr("class",s.length>0?s.join(" "):null),e.attr(Hs(),null),e.attr(js(),null)};e.serializer.addTempAttr(zs()),e.serializer.addAttributeFilter(r,(e=>{for(const t of e)n(t).each((e=>{!1===e.persistent&&("span"===t.name?t.unwrap():o(t))}))}))})(e,t);const r=((e,t)=>{const r=ks({}),n=()=>({listeners:[],previous:Rs()}),o=(e,t)=>{i(e,(e=>(t(e),e)))},i=(e,t)=>{const o=r.get(),i=t(Se(o,e).getOrThunk(n));o[e]=i,r.set(o)},s=(t,r)=>{W(Ws(e,t),(e=>{r?Yt(e,zs(),"true"):tr(e,zs())}))},a=Fs((()=>{const r=ae(t.getNames());W(r,(t=>{i(t,(r=>{const n=r.previous.get();return Us(e,L.some(t)).fold((()=>{n.each((e=>{(e=>{o(e,(t=>{W(t.listeners,(t=>t(!1,e)))}))})(t),r.previous.clear(),s(e,!1)}))}),(({uid:e,name:t,elements:i})=>{Nt(n,e)||(n.each((e=>s(e,!1))),((e,t,r)=>{o(e,(n=>{W(n.listeners,(n=>n(!0,e,{uid:t,nodes:q(r,(e=>e.dom))})))}))})(t,e,i),r.previous.set(e),s(e,!0))})),{previous:r.previous,listeners:r.listeners}}))}))}),30);return e.on("remove",(()=>{a.cancel()})),e.on("NodeChange",(()=>{a.throttle()})),{addListener:(e,t)=>{i(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))}}})(e,t),n=Zt("span"),o=e=>{W(e,(e=>{n(e)?yn(e):(e=>{hr(e,Bs()),tr(e,`${Vs()}`),tr(e,`${Ls()}`),tr(e,`${zs()}`);const t=Qt(e,`${js()}`).map((e=>e.split(","))).getOr([]),r=Qt(e,`${Hs()}`).map((e=>e.split(","))).getOr([]);var n;W(t,(t=>tr(e,t))),n=e,W(r,(e=>{hr(n,e)})),tr(e,`${Hs()}`),tr(e,`${js()}`)})(e)}))};return{register:(e,r)=>{t.register(e,r)},annotate:(r,n)=>{t.lookup(r).each((t=>{((e,t,r,n)=>{e.undoManager.transact((()=>{const o=e.selection,i=o.getRng(),s=Nd(e).length>0,a=Ks("mce-annotation");if(i.collapsed&&!s&&((e,t)=>{const r=Cu(e.dom,t,[{inline:"span"}]);t.setStart(r.startContainer,r.startOffset),t.setEnd(r.endContainer,r.endOffset),e.selection.setRng(t)})(e,i),o.getRng().collapsed&&!s){const i=Pu(e.getDoc(),a,n,t,r.decorate);xn(i,lo),o.getRng().insertNode(i.dom),o.select(i.dom)}else Gd(o,!1,(()=>{jd(e,(o=>{((e,t,r,n,o,i)=>{const s=[],a=Pu(e.getDoc(),r,i,n,o),l=Rs(),c=()=>{l.clear()},h=e=>{W(e,d)},d=t=>{switch(((e,t,r,n)=>Cr(t).fold((()=>"skipping"),(o=>"br"===n||(e=>qt(e)&&uo(e)===Mo)(t)?"valid":(e=>Ut(e)&&dr(e,Bs()))(t)?"existing":cd(t.dom)?"caret":U(ku,(e=>yr(t,e)))?"valid-block":Xd(e,r,n)&&Xd(e,Ht(o),r)?"valid":"invalid-child")))(e,t,"span",Ht(t))){case"invalid-child":{c();const e=Or(t);h(e),c();break}case"valid-block":c(),Tu(t,r,i,n,o,!0);break;case"valid":{const e=l.get().getOrThunk((()=>{const e=Xs(a);return s.push(e),l.set(e),e}));fn(t,e);break}}};Au(e.dom,t,(e=>{c(),(e=>{const t=q(e,gr);h(t)})(e)}))})(e,o,a,t,r.decorate,n)}))}))}))})(e,r,t,n)}))},annotationChanged:(e,t)=>{r.addListener(e,t)},remove:t=>{Us(e,L.some(t)).each((({elements:t})=>{const r=e.selection.getBookmark();o(t),e.selection.moveToBookmark(r)}))},removeAll:t=>{const r=e.selection.getBookmark();me($s(e,t),((e,t)=>{o(e)})),e.selection.moveToBookmark(r)},getAll:t=>{const r=$s(e,t);return ge(r,(e=>q(e,(e=>e.dom))))}}},Du=e=>({getBookmark:D(wd,e),moveToBookmark:D(xd,e)});Du.isBookmarkNode=Ed;const Ou=(e,t,r)=>!r.collapsed&&U(r.getClientRects(),(r=>((e,t,r)=>t>=e.left&&t<=e.right&&r>=e.top&&r<=e.bottom)(r,e,t))),Iu=(e,t,r)=>{e.dispatch(t,r)},Ru=(e,t,r,n)=>{e.dispatch("FormatApply",{format:t,node:r,vars:n})},Nu=(e,t,r,n)=>{e.dispatch("FormatRemove",{format:t,node:r,vars:n})},Fu=(e,t)=>e.dispatch("SetContent",t),Bu=(e,t)=>e.dispatch("GetContent",t),Lu=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),Vu={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Vu.metaKeyPressed(e),metaKeyPressed:e=>Mt.os.isMacOS()||Mt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},zu="data-mce-selected",Hu=Math.abs,ju=Math.round,Gu={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Uu=(e,t)=>{const r=t.dom,n=t.getDoc(),o=document,i=t.getBody();let s,a,l,c,h,d,u,p,f,m,g,v,y,b,w;const E=e=>x(e)&&(eo(e)||r.is(e,"figure.image")),S=e=>io(e)||r.hasClass(e,"mce-preview-object"),_=e=>{const r=e.target;((e,t)=>{if((e=>"longpress"===e.type||0===e.type.indexOf("touch"))(e)){const r=e.touches[0];return E(e.target)&&!Ou(r.clientX,r.clientY,t)}return E(e.target)&&!Ou(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(r)},C=e=>r.hasClass(e,"mce-preview-object")&&x(e.firstElementChild)?[e,e.firstElementChild]:r.is(e,"figure.image")?[e.querySelector("img")]:[e],A=e=>{const n=Zl(t);return!!n&&"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&(r.hasClass(e,"mce-preview-object")&&x(e.firstElementChild)?yr(gr(e.firstElementChild),n):yr(gr(e),n))},k=(e,n,o)=>{if(x(o)){const i=C(e);W(i,(e=>{e.style[n]||!t.schema.isValid(e.nodeName.toLowerCase(),n)?r.setStyle(e,n,o):r.setAttrib(e,n,""+o)}))}},T=(e,t,r)=>{k(e,"width",t),k(e,"height",r)},P=e=>{let n,o,h,x,_;n=e.screenX-d,o=e.screenY-u,v=n*c[2]+p,y=o*c[3]+f,v=v<5?5:v,y=y<5?5:y,h=(E(s)||S(s))&&!1!==Kl(t)?!Vu.modifierPressed(e):Vu.modifierPressed(e),h&&(Hu(n)>Hu(o)?(y=ju(v*m),v=ju(y/m)):(v=ju(y/m),y=ju(v*m))),T(a,v,y),x=c.startPos.x+n,_=c.startPos.y+o,x=x>0?x:0,_=_>0?_:0,r.setStyles(l,{left:x,top:_,display:"block"}),l.innerHTML=v+" &times; "+y,c[2]<0&&a.clientWidth<=v&&r.setStyle(a,"left",void 0+(p-v)),c[3]<0&&a.clientHeight<=y&&r.setStyle(a,"top",void 0+(f-y)),n=i.scrollWidth-b,o=i.scrollHeight-w,n+o!==0&&r.setStyles(l,{left:x-n,top:_-o}),g||(((e,t,r,n,o)=>{e.dispatch("ObjectResizeStart",{target:t,width:r,height:n,origin:o})})(t,s,p,f,"corner-"+c.name),g=!0)},M=()=>{const e=g;g=!1,e&&(k(s,"width",v),k(s,"height",y)),r.unbind(n,"mousemove",P),r.unbind(n,"mouseup",M),o!==n&&(r.unbind(o,"mousemove",P),r.unbind(o,"mouseup",M)),r.remove(a),r.remove(l),r.remove(h),D(s),e&&(((e,t,r,n,o)=>{e.dispatch("ObjectResized",{target:t,width:r,height:n,origin:o})})(t,s,v,y,"corner-"+c.name),r.setAttrib(s,"style",r.getAttrib(s,"style"))),t.nodeChanged()},D=e=>{F();const g=r.getPos(e,i),x=g.x,E=g.y,_=e.getBoundingClientRect(),k=_.width||_.right-_.left,D=_.height||_.bottom-_.top;s!==e&&(I(),s=e,v=y=0);const O=t.dispatch("ObjectSelected",{target:e});A(e)&&!O.isDefaultPrevented()?me(Gu,((e,t)=>{let g=r.get("mceResizeHandle"+t);g&&r.remove(g),g=r.add(i,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),r.bind(g,"mousedown",(g=>{g.stopImmediatePropagation(),g.preventDefault(),(g=>{const v=C(s)[0];var y;d=g.screenX,u=g.screenY,p=v.clientWidth,f=v.clientHeight,m=f/p,c=e,c.name=t,c.startPos={x:k*e[0]+x,y:D*e[1]+E},b=i.scrollWidth,w=i.scrollHeight,h=r.add(i,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),r.setStyles(h,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),a=S(y=s)?r.create("img",{src:Mt.transparentSrc}):y.cloneNode(!0),r.addClass(a,"mce-clonedresizable"),r.setAttrib(a,"data-mce-bogus","all"),a.contentEditable="false",r.setStyles(a,{left:x,top:E,margin:0}),T(a,k,D),a.removeAttribute(zu),i.appendChild(a),r.bind(n,"mousemove",P),r.bind(n,"mouseup",M),o!==n&&(r.bind(o,"mousemove",P),r.bind(o,"mouseup",M)),l=r.add(i,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},p+" &times; "+f)})(g)})),e.elm=g,r.setStyles(g,{left:k*e[0]+x-g.offsetWidth/2,top:D*e[1]+E-g.offsetHeight/2})})):I(!1)},O=Ns(D,0),I=(e=!0)=>{O.cancel(),F(),s&&e&&s.removeAttribute(zu),me(Gu,((e,t)=>{const n=r.get("mceResizeHandle"+t);n&&(r.unbind(n),r.remove(n))}))},R=(e,t)=>r.isChildOf(e,t),N=n=>{if(g||t.removed||t.composing)return;const o="mousedown"===n.type?n.target:e.getNode(),s=Xr(gr(o),"table,img,figure.image,hr,video,span.mce-preview-object").map((e=>e.dom)).filter((e=>r.isEditable(e.parentElement))).getOrUndefined(),a=x(s)?r.getAttrib(s,zu,"1"):"1";if(W(r.select("img[data-mce-selected],hr[data-mce-selected]"),(e=>{e.removeAttribute(zu)})),x(s)&&R(s,i)){B();const t=e.getStart(!0);if(R(t,s)&&R(e.getEnd(!0),s))return r.setAttrib(s,zu,a),void O.throttle(s)}I()},F=()=>{me(Gu,(e=>{e.elm&&(r.unbind(e.elm),delete e.elm)}))},B=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};return t.on("init",(()=>{B(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",N),t.on("keyup compositionend",(e=>{s&&"TABLE"===s.nodeName&&N(e)})),t.on("hide blur",I),t.on("contextmenu longpress",_,!0)})),t.on("remove",F),{isResizable:A,showResizeRect:D,hideResizeRect:I,updateResizeRect:N,destroy:()=>{O.cancel(),s=a=h=null}}},qu=(e,t,r)=>{const n=e.document.createRange();var o;return o=n,t.fold((e=>{o.setStartBefore(e.dom)}),((e,t)=>{o.setStart(e.dom,t)}),(e=>{o.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,r)=>{e.setEnd(t.dom,r)}),(t=>{e.setEndAfter(t.dom)}))})(n,r),n},Wu=(e,t,r,n,o)=>{const i=e.document.createRange();return i.setStart(t.dom,r),i.setEnd(n.dom,o),i},$u=el([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Zu=(e,t,r)=>t(gr(r.startContainer),r.startOffset,gr(r.endContainer),r.endOffset);$u.ltr,$u.rtl;const Ku=(e,t,r,n)=>({start:e,soffset:t,finish:r,foffset:n}),Yu=document.caretPositionFromPoint?(e,t,r)=>{var n,o;return L.from(null===(o=(n=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(n,t,r)).bind((t=>{if(null===t.offsetNode)return L.none();const r=e.dom.createRange();return r.setStart(t.offsetNode,t.offset),r.collapse(),L.some(r)}))}:document.caretRangeFromPoint?(e,t,r)=>{var n,o;return L.from(null===(o=(n=e.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(n,t,r))}:L.none,Xu=el([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ju={before:Xu.before,on:Xu.on,after:Xu.after,cata:(e,t,r,n)=>e.fold(t,r,n),getStart:e=>e.fold(P,P,P)},Qu=el([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ep={domRange:Qu.domRange,relative:Qu.relative,exact:Qu.exact,exactFromRange:e=>Qu.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>gr(e.startContainer),relative:(e,t)=>Ju.getStart(e),exact:(e,t,r,n)=>e}))(e);return _r(t)},range:Ku},tp=(e,t)=>{const r=Ht(e);return"input"===r?Ju.after(e):G(["br","img"],r)?0===t?Ju.before(e):Ju.after(e):Ju.on(e,t)},rp=(e,t)=>{const r=e.fold(Ju.before,tp,Ju.after),n=t.fold(Ju.before,tp,Ju.after);return ep.relative(r,n)},np=(e,t,r,n)=>{const o=tp(e,t),i=tp(r,n);return ep.relative(o,i)},op=(e,t)=>{const r=(t||document).createDocumentFragment();return W(e,(e=>{r.appendChild(e.dom)})),gr(r)},ip=(e,t,r)=>((e,t,r)=>((e,t,r)=>{const n=gr(e.document);return Yu(n,t,r).map((e=>Ku(gr(e.startContainer),e.startOffset,gr(e.endContainer),e.endOffset)))})(e,t,r))(_r(gr(r)).dom,e,t).map((e=>{const t=r.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t})).getOrUndefined(),sp=(e,t)=>x(e)&&x(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,ap=(e,t,r)=>null!==((e,t,r)=>{let n=e;for(;n&&n!==t;){if(r(n))return n;n=n.parentNode}return null})(e,t,r),lp=(e,t,r)=>ap(e,t,(e=>e.nodeName===r)),cp=(e,t)=>Bo(e)&&!ap(e,t,cd),hp=(e,t,r)=>{const n=t.parentNode;if(n){const o=new Nn(t,e.getParent(n,e.isBlock)||e.getRoot());let i;for(;i=o[r?"prev":"next"]();)if(Qn(i))return!0}return!1},dp=(e,t,r,n,o)=>{const i=e.getRoot(),s=e.schema.getNonEmptyElements(),a=o.parentNode;let l,c;if(!a)return L.none();const h=e.getParent(a,e.isBlock)||i;if(n&&Qn(o)&&t&&e.isEmpty(h))return L.some(Pa(a,e.nodeIndex(o)));const d=new Nn(o,h);for(;c=d[n?"prev":"next"]();){if("false"===e.getContentEditableParent(c)||cp(c,i))return L.none();if($n(c)&&c.data.length>0)return lp(c,i,"A")?L.none():L.some(Pa(c,n?c.data.length:0));if(e.isBlock(c)||s[c.nodeName.toLowerCase()])return L.none();l=c}return Yn(l)?L.none():r&&l?L.some(Pa(l,0)):L.none()},up=(e,t,r,n)=>{const o=e.getRoot();let i,s=!1,a=r?n.startContainer:n.endContainer,l=r?n.startOffset:n.endOffset;const c=Ln(a)&&l===a.childNodes.length,h=e.schema.getNonEmptyElements();let d=r;if(Bo(a))return L.none();if(Ln(a)&&l>a.childNodes.length-1&&(d=!1),Xn(a)&&(a=o,l=0),a===o){if(d&&(i=a.childNodes[l>0?l-1:0],i)){if(Bo(i))return L.none();if(h[i.nodeName]||Un(i))return L.none()}if(a.hasChildNodes()){if(l=Math.min(!d&&l>0?l-1:l,a.childNodes.length-1),a=a.childNodes[l],l=$n(a)&&c?a.data.length:0,!t&&a===o.lastChild&&Un(a))return L.none();if(((e,t)=>{let r=t;for(;r&&r!==e;){if(ro(r))return!0;r=r.parentNode}return!1})(o,a)||Bo(a))return L.none();if(a.hasChildNodes()&&!Un(a)){i=a;const t=new Nn(a,o);do{if(ro(i)||Bo(i)){s=!1;break}if($n(i)&&i.data.length>0){l=d?0:i.data.length,a=i,s=!0;break}if(h[i.nodeName.toLowerCase()]&&!oo(i)){l=e.nodeIndex(i),a=i.parentNode,d||l++,s=!0;break}}while(i=d?t.next():t.prev())}}}return t&&($n(a)&&0===l&&dp(e,c,t,!0,a).each((e=>{a=e.container(),l=e.offset(),s=!0})),Ln(a)&&(i=a.childNodes[l],i||(i=a.childNodes[l-1]),!i||!Qn(i)||((e,t)=>{var r;return"A"===(null===(r=e.previousSibling)||void 0===r?void 0:r.nodeName)})(i)||hp(e,i,!1)||hp(e,i,!0)||dp(e,c,t,!0,i).each((e=>{a=e.container(),l=e.offset(),s=!0})))),d&&!t&&$n(a)&&l===a.data.length&&dp(e,c,t,!1,a).each((e=>{a=e.container(),l=e.offset(),s=!0})),s&&a?L.some(Pa(a,l)):L.none()},pp=(e,t)=>{const r=t.collapsed,n=t.cloneRange(),o=Pa.fromRangeStart(t);return up(e,r,!0,n).each((e=>{r&&Pa.isAbove(o,e)||n.setStart(e.container(),e.offset())})),r||up(e,r,!1,n).each((e=>{n.setEnd(e.container(),e.offset())})),r&&n.collapse(!0),sp(t,n)?L.none():L.some(n)},fp=(e,t)=>e.splitText(t),mp=e=>{let t=e.startContainer,r=e.startOffset,n=e.endContainer,o=e.endOffset;if(t===n&&$n(t)){if(r>0&&r<t.data.length)if(n=fp(t,r),t=n.previousSibling,o>r){o-=r;const e=fp(n,o).previousSibling;t=n=e,o=e.data.length,r=0}else o=0}else if($n(t)&&r>0&&r<t.data.length&&(t=fp(t,r),r=0),$n(n)&&o>0&&o<n.data.length){const e=fp(n,o).previousSibling;n=e,o=e.data.length}return{startContainer:t,startOffset:r,endContainer:n,endOffset:o}},gp=e=>({walk:(t,r)=>Au(e,t,r),split:mp,expand:(t,r={type:"word"})=>{if("word"===r.type){const r=Cu(e,t,[{inline:"span"}]),n=e.createRng();return n.setStart(r.startContainer,r.startOffset),n.setEnd(r.endContainer,r.endOffset),n}return t},normalize:t=>pp(e,t).fold(F,(e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0)))});gp.compareRanges=sp,gp.getCaretRangeFromPoint=ip,gp.getSelectedNode=la,gp.getNode=ca;const vp=((e,t)=>{const r=t=>{const r=(e=>{const t=e.dom;return qr(e)?t.getBoundingClientRect().height:t.offsetHeight})(t);if(r<=0||null===r){const r=on(t,e);return parseFloat(r)||0}return r},n=(e,t)=>X(t,((t,r)=>{const n=on(e,r),o=void 0===n?0:parseInt(n,10);return isNaN(o)?t:t+o}),0);return{set:(t,r)=>{if(!S(r)&&!r.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+r);const n=t.dom;en(n)&&(n.style[e]=r+"px")},get:r,getOuter:r,aggregate:n,max:(e,t,r)=>{const o=n(e,r);return t>o?t-o:0}}})("height"),yp=()=>gr(document),bp=(e,t)=>e.view(t).fold(T([]),(t=>{const r=e.owner(t),n=bp(e,r);return[t].concat(n)}));var wp=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?L.none():L.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(gr)},owner:e=>Sr(e)});const xp=e=>"textarea"===Ht(e),Ep=(e,t)=>{const r=(e=>{const t=e.dom.ownerDocument,r=t.body,n=t.defaultView,o=t.documentElement;if(r===e.dom)return _n(r.offsetLeft,r.offsetTop);const i=Cn(null==n?void 0:n.pageYOffset,o.scrollTop),s=Cn(null==n?void 0:n.pageXOffset,o.scrollLeft),a=Cn(o.clientTop,r.clientTop),l=Cn(o.clientLeft,r.clientLeft);return An(e).translate(s-l,i-a)})(e),n=(e=>vp.get(e))(e);return{element:e,bottom:r.top+n,height:n,pos:r,cleanup:t}},Sp=(e,t,r,n)=>{kp(e,((o,i)=>Cp(e,t,r,n)),r)},_p=(e,t,r,n,o)=>{const i={elm:n.element.dom,alignToTop:o};((e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented())(e,i)||(r(t,kn(t).top,n,o),((e,t)=>{e.dispatch("AfterScrollIntoView",t)})(e,i))},Cp=(e,t,r,n)=>{const o=gr(e.getBody()),i=gr(e.getDoc());o.dom.offsetWidth;const s=((e,t)=>{const r=((e,t)=>{const r=Or(e);if(0===r.length||xp(e))return{element:e,offset:t};if(t<r.length&&!xp(r[t]))return{element:r[t],offset:0};{const n=r[r.length-1];return xp(n)?{element:e,offset:t}:"img"===Ht(n)?{element:n,offset:1}:qt(n)?{element:n,offset:uo(n).length}:{element:n,offset:Or(n).length}}})(e,t),n=pr('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return hn(r.element,n),Ep(n,(()=>vn(n)))})(gr(r.startContainer),r.startOffset);_p(e,i,t,s,n),s.cleanup()},Ap=(e,t,r,n)=>{const o=gr(e.getDoc());_p(e,o,r,(e=>Ep(gr(e),C))(t),n)},kp=(e,t,r)=>{const n=r.startContainer,o=r.startOffset,i=r.endContainer,s=r.endOffset;t(gr(n),gr(i));const a=e.dom.createRng();a.setStart(n,o),a.setEnd(i,s),e.selection.setRng(r)},Tp=(e,t,r,n)=>{const o=e.pos;if(r)Tn(o.left,o.top,n);else{const r=o.top-t+e.height;Tn(o.left,r,n)}},Pp=(e,t,r,n,o)=>{const i=r+t,s=n.pos.top,a=n.bottom,l=a-s>=r;s<t?Tp(n,r,!1!==o,e):s>i?Tp(n,r,l?!1!==o:!0===o,e):a>i&&!l&&Tp(n,r,!0===o,e)},Mp=(e,t,r,n)=>{const o=_r(e).dom.innerHeight;Pp(e,t,o,r,n)},Dp=(e,t,r,n)=>{const o=_r(e).dom.innerHeight;Pp(e,t,o,r,n);const i=(e=>{const t=yp(),r=kn(t),n=((e,t)=>{const r=t.owner(e);return bp(t,r)})(e,wp),o=An(e),i=Y(n,((e,t)=>{const r=An(t);return{left:e.left+r.left,top:e.top+r.top}}),{left:0,top:0});return _n(i.left+o.left+r.left,i.top+o.top+r.top)})(r.element),s=Dn(window);i.top<s.y?Pn(r.element,!1!==n):i.top>s.bottom&&Pn(r.element,!0===n)},Op=(e,t,r)=>Sp(e,Mp,t,r),Ip=(e,t,r)=>Ap(e,t,Mp,r),Rp=(e,t,r)=>Sp(e,Dp,t,r),Np=(e,t,r)=>Ap(e,t,Dp,r),Fp=(e,t,r)=>{(e.inline?Op:Rp)(e,t,r)},Bp=e=>e.dom.focus(),Lp=e=>{const t=zr(e).dom;return e.dom===t.activeElement},Vp=(e=yp())=>L.from(e.dom.activeElement).map(gr),zp=(e,t)=>{const r=qt(t)?uo(t).length:Or(t).length+1;return e>r?r:e<0?0:e},Hp=e=>ep.range(e.start,zp(e.soffset,e.start),e.finish,zp(e.foffset,e.finish)),jp=(e,t)=>!Bn(t.dom)&&(xr(e,t)||wr(e,t)),Gp=e=>t=>jp(e,t.start)&&jp(e,t.finish),Up=e=>ep.range(gr(e.startContainer),e.startOffset,gr(e.endContainer),e.endOffset),qp=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),L.some(t)}catch(e){return L.none()}},Wp=e=>{const t=(e=>e.inline||Mt.browser.isFirefox())(e)?(r=gr(e.getBody()),(e=>{const t=e.getSelection();return(t&&0!==t.rangeCount?L.from(t.getRangeAt(0)):L.none()).map(Up)})(_r(r).dom).filter(Gp(r))):L.none();var r;e.bookmark=t.isSome()?t:e.bookmark},$p=e=>(e.bookmark?e.bookmark:L.none()).bind((t=>{return r=gr(e.getBody()),n=t,L.from(n).filter(Gp(r)).map(Hp);var r,n})).bind(qp),Zp={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},Kp={setEditorTimeout:(e,t,r)=>((e,t)=>(S(t)||(t=0),setTimeout(e,t)))((()=>{e.removed||t()}),r),setEditorInterval:(e,t,r)=>{const n=((e,t)=>(S(t)||(t=0),setInterval(e,t)))((()=>{e.removed?clearInterval(n):t()}),r);return n}};let Yp;const Xp=_s.DOM,Jp=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},Qp=(e,t)=>{const r=lc(e),n=Xp.getParent(t,(t=>(e=>Ln(e)&&Zp.isEditorUIElement(e))(t)||!!r&&e.dom.is(t,r)));return null!==n},ef=e=>{try{const t=zr(gr(e.getElement()));return Vp(t).fold((()=>document.body),(e=>e.dom))}catch(e){return document.body}},tf=(e,t)=>{const r=t.editor;(e=>{const t=Ns((()=>{Wp(e)}),0);e.on("init",(()=>{e.inline&&((e,t)=>{const r=()=>{t.throttle()};_s.DOM.bind(document,"mouseup",r),e.on("remove",(()=>{_s.DOM.unbind(document,"mouseup",r)}))})(e,t),((e,t)=>{((e,t)=>{e.on("mouseup touchend",(e=>{t.throttle()}))})(e,t),e.on("keyup NodeChange AfterSetSelectionRange",(t=>{(e=>"nodechange"===e.type&&e.selectionChange)(t)||Wp(e)}))})(e,t)})),e.on("remove",(()=>{t.cancel()}))})(r);const n=(e,t)=>{Zc(e)&&!0!==e.inline&&t(gr(e.getContainer()),"tox-edit-focus")};r.on("focusin",(()=>{const t=e.focusedEditor;Jp(ef(r))&&n(r,lr),t!==r&&(t&&t.dispatch("blur",{focusedEditor:r}),e.setActive(r),e.focusedEditor=r,r.dispatch("focus",{blurredEditor:t}),r.focus(!0))})),r.on("focusout",(()=>{Kp.setEditorTimeout(r,(()=>{const t=e.focusedEditor;Jp(ef(r))&&t===r||n(r,hr),Qp(r,ef(r))||t!==r||(r.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Yp||(Yp=t=>{const r=e.activeEditor;r&&Gr(t).each((t=>{const n=t;n.ownerDocument===document&&(n===document.body||Qp(r,n)||e.focusedEditor!==r||(r.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))}))},Xp.bind(document,"focusin",Yp))},rf=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Yp&&(Xp.unbind(document,"focusin",Yp),Yp=null)},nf=(e,t)=>{((e,t)=>(e=>e.collapsed?L.from(ca(e.startContainer,e.startOffset)).map(gr):L.none())(t).bind((t=>Eo(t)?L.some(t):xr(e,t)?L.none():L.some(e))))(gr(e.getBody()),t).bind((e=>sd(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))},of=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},sf=e=>e.inline?(e=>{const t=e.getBody();return t&&(r=gr(t),Lp(r)||(n=r,Vp(zr(n)).filter((e=>n.dom.contains(e.dom)))).isSome());var r,n})(e):(e=>x(e.iframeElement)&&Lp(gr(e.iframeElement)))(e),af=e=>e.editorManager.setActive(e),lf=(e,t,r,n,o)=>{const i=r?t.startContainer:t.endContainer,s=r?t.startOffset:t.endOffset;return L.from(i).map(gr).map((e=>n&&t.collapsed?e:Ir(e,o(e,s)).getOr(e))).bind((e=>Ut(e)?L.some(e):Cr(e).filter(Ut))).map((e=>e.dom)).getOr(e)},cf=(e,t,r=!1)=>lf(e,t,!0,r,((e,t)=>Math.min(Fr(e),t))),hf=(e,t,r=!1)=>lf(e,t,!1,r,((e,t)=>t>0?t-1:t)),df=(e,t)=>{const r=e;for(;e&&$n(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||r},uf=(e,t)=>q(t,(t=>{const r=e.dispatch("GetSelectionRange",{range:t});return r.range!==t?r.range:t})),pf=["img","br"],ff=e=>{const t=po(e).filter((e=>0!==e.trim().length||e.indexOf(lo)>-1)).isSome();return t||G(pf,Ht(e))||(e=>{return Ut(t=e)&&(e=>{const t=Vt("ownerDocument.defaultView",e);return f(e)&&((e=>((e,t)=>{const r=((e,t)=>Vt(e,t))(e,t);if(null==r)throw new Error(e+" not available on this browser");return r})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(zt(e).constructor.name))})(t.dom)&&"false"===Jt(e,"contenteditable");var t})(e)},mf="[data-mce-autocompleter]",gf=e=>Yr(e,mf),vf={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},yf=(e,t,r)=>{const n=r?"lastChild":"firstChild",o=r?"prev":"next";if(e[n])return e[n];if(e!==t){let r=e[o];if(r)return r;for(let n=e.parent;n&&n!==t;n=n.parent)if(r=n[o],r)return r}},bf=e=>{var t;const r=null!==(t=e.value)&&void 0!==t?t:"";if(!ni(r))return!1;const n=e.parent;return!n||"span"===n.name&&!n.attr("style")||!/^[ ]+$/.test(r)},wf=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class xf{constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}static create(e,t){const r=new xf(e,vf[e]||1);return t&&me(t,((e,t)=>{r.attr(t,e)})),r}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const r=this;if(!p(e))return x(e)&&me(e,((e,t)=>{r.attr(t,e)})),r;const n=r.attributes;if(n){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];let t=n.length;for(;t--;)if(n[t].name===e)return n.splice(t,1),r}return r}if(e in n.map){let r=n.length;for(;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}}clone(){const e=this,t=new xf(e.name,e.type),r=e.attributes;if(r){const e=[];e.map={};for(let t=0,n=r.length;t<n;t++){const n=r[t];"id"!==n.name&&(e[e.length]={name:n.name,value:n.value},e.map[n.name]=n.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const r=t.next;e.insert(t,e,!0),t=r}e.remove()}remove(){const e=this,t=e.parent,r=e.next,n=e.prev;return t&&(t.firstChild===e?(t.firstChild=r,r&&(r.prev=null)):n&&(n.next=r),t.lastChild===e?(t.lastChild=n,n&&(n.next=null)):r&&(r.prev=n),e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const r=t.lastChild;return r?(r.next=e,e.prev=r,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,r){e.parent&&e.remove();const n=t.parent||this;return r?(t===n.firstChild?n.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===n.lastChild?n.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=n,e}getAll(e){const t=this,r=[];for(let n=t.firstChild;n;n=yf(n,t))n.name===e&&r.push(n);return r}children(){const e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){const e=this;if(e.firstChild){const t=[];for(let r=e.firstChild;r;r=yf(r,e))t.push(r);let r=t.length;for(;r--;){const e=t[r];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},r){var n;const o=this;let i=o.firstChild;if(wf(o))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(e[i.name])return!1;if(wf(i))return!1}if(8===i.type)return!1;if(3===i.type&&!bf(i))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&ni(null!==(n=i.value)&&void 0!==n?n:""))return!1;if(r&&r(i))return!1}while(i=yf(i,o));return!0}walk(e){return yf(this,null,e)}}const Ef=(e,t,r=0)=>{const n=e.toLowerCase();if(-1!==n.indexOf("[if ",r)&&((e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)))(n,r)){const e=n.indexOf("[endif]",r);return n.indexOf(">",e)}if(t){const e=n.indexOf(">",r);return-1!==e?e:n.length}{const t=/--!?>/g;t.lastIndex=r;const o=t.exec(e);return o?o.index+o[0].length:n.length}},Sf=(e,t,r)=>{const n=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getVoidElements();let s=1,a=r;for(;0!==s;)for(n.lastIndex=a;;){const e=n.exec(t);if(null===e)return a;if("!"===e[1]){a=Ge(e[2],"--")?Ef(t,!1,e.index+"!--".length):Ef(t,!0,e.index+1);break}{o.lastIndex=n.lastIndex;const r=o.exec(t);if(v(r)||r.index!==n.lastIndex)continue;"/"===e[1]?s-=1:_e(i,e[2])||(s+=1),a=n.lastIndex+r[0].length;break}}return a},_f=(e,t)=>{const r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,n=e.schema;let o=((e,t)=>{const r=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(r,"")})(e.getTempAttrs(),t);const i=n.getVoidElements();let s;for(;s=r.exec(o);){const e=r.lastIndex,t=s[0].length;let a;a=i[s[1]]?e:Sf(n,o,e),o=o.substring(0,e-t)+o.substring(a),r.lastIndex=e-t}return Oo(o)},Cf=_f,Af=e=>{const t=In(e,"[data-mce-bogus]");W(t,(e=>{"all"===Jt(e,"data-mce-bogus")?vn(e):yo(e)?(hn(e,mr(ao)),vn(e)):yn(e)}))},kf=e=>{const t=In(e,"input");W(t,(e=>{tr(e,"name")}))},Tf=Rt.makeMap,Pf=e=>{const t=[],r=(e=e||{}).indent,n=Tf(e.indent_before||""),o=Tf(e.indent_after||""),i=qi.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="xhtml"!==e.element_format;return{start:(e,a,l)=>{if(r&&n[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}if(t.push("<",e),a)for(let e=0,r=a.length;e<r;e++){const r=a[e];t.push(" ",r.name,'="',i(r.value,!0),'"')}if(t[t.length]=!l||s?">":" />",l&&r&&o[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}},end:e=>{let n;t.push("</",e,">"),r&&o[e]&&t.length>0&&(n=t[t.length-1],n.length>0&&"\n"!==n&&t.push("\n"))},text:(e,r)=>{e.length>0&&(t[t.length]=r?e:i(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,n)=>{n?t.push("<?",e," ",i(n),"?>"):t.push("<?",e,"?>"),r&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",r?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Mf=(e={},t=os())=>{const r=Pf(e);return e.validate=!("validate"in e)||e.validate,{serialize:n=>{const o=e.validate,i={3:e=>{var t;r.text(null!==(t=e.value)&&void 0!==t?t:"",e.raw)},8:e=>{var t;r.comment(null!==(t=e.value)&&void 0!==t?t:"")},7:e=>{r.pi(e.name,e.value)},10:e=>{var t;r.doctype(null!==(t=e.value)&&void 0!==t?t:"")},4:e=>{var t;r.cdata(null!==(t=e.value)&&void 0!==t?t:"")},11:e=>{let t=e;if(t=t.firstChild)do{s(t)}while(t=t.next)}};r.reset();const s=e=>{var n;const a=i[e.type];if(a)a(e);else{const i=e.name,a=i in t.getVoidElements();let l=e.attributes;if(o&&l&&l.length>1){const r=[];r.map={};const n=t.getElementRule(e.name);if(n){for(let e=0,t=n.attributesOrder.length;e<t;e++){const t=n.attributesOrder[e];if(t in l.map){const e=l.map[t];r.map[t]=e,r.push({name:t,value:e})}}for(let e=0,t=l.length;e<t;e++){const t=l[e].name;if(!(t in r.map)){const e=l.map[t];r.map[t]=e,r.push({name:t,value:e})}}l=r}}if(r.start(i,l,a),!a){let t=e.firstChild;if(t){"pre"!==i&&"textarea"!==i||3!==t.type||"\n"!==(null===(n=t.value)||void 0===n?void 0:n[0])||r.text("\n",!0);do{s(t)}while(t=t.next)}r.end(i)}}};return 1!==n.type||e.inner?3===n.type?i[3](n):i[11](n):s(n),r.getContent()}}},Df=new Set;W(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(e=>{Df.add(e)}));const Of=["font","text-decoration","text-emphasis"],If=(e,t)=>pe(e.parseStyle(e.getAttrib(t,"style"))),Rf=(e,t,r)=>{const n=If(e,t),o=If(e,r),i=n=>{var o,i;const s=null!==(o=e.getStyle(t,n))&&void 0!==o?o:"",a=null!==(i=e.getStyle(r,n))&&void 0!==i?i:"";return Ke(s)&&Ke(a)&&s!==a};return U(n,(e=>{const t=t=>U(t,(t=>t===e));if(!t(o)&&t(Of)){const e=K(o,(e=>U(Of,(t=>Ge(e,t)))));return U(e,i)}return i(e)}))},Nf=(e,t,r)=>L.from(r.container()).filter($n).exists((n=>{const o=e?0:-1;return t(n.data.charAt(r.offset()+o))})),Ff=D(Nf,!0,_d),Bf=D(Nf,!1,_d),Lf=e=>{const t=e.container();return $n(t)&&(0===t.data.length||Do(t.data)&&Du.isBookmarkNode(t.parentNode))},Vf=(e,t)=>r=>kh(e?0:-1,r).filter(t).isSome(),zf=e=>eo(e)&&"block"===on(gr(e),"display"),Hf=e=>ro(e)&&!(e=>Ln(e)&&"all"===e.getAttribute("data-mce-bogus"))(e),jf=Vf(!0,zf),Gf=Vf(!1,zf),Uf=Vf(!0,io),qf=Vf(!1,io),Wf=Vf(!0,Un),$f=Vf(!1,Un),Zf=Vf(!0,Hf),Kf=Vf(!1,Hf),Yf=(e,t)=>((e,t,r)=>xr(t,e)?kr(e,(e=>r(e)||wr(e,t))).slice(0,-1):[])(e,t,F),Xf=(e,t)=>[e].concat(Yf(e,t)),Jf=(e,t,r)=>rd(e,t,r,Lf),Qf=(e,t)=>Q(Xf(gr(t.container()),e),go),em=(e,t,r)=>Jf(e,t.dom,r).forall((e=>Qf(t,r).fold((()=>!Ah(e,r,t.dom)),(n=>!Ah(e,r,t.dom)&&xr(n,gr(e.container())))))),tm=(e,t,r)=>Qf(t,r).fold((()=>Jf(e,t.dom,r).forall((e=>!Ah(e,r,t.dom)))),(t=>Jf(e,t.dom,r).isNone())),rm=D(tm,!1),nm=D(tm,!0),om=D(em,!1),im=D(em,!0),sm=e=>Fh(e).exists(yo),am=(e,t,r)=>{const n=K(Xf(gr(r.container()),t),go),o=ce(n).getOr(t);return ed(e,o.dom,r).filter(sm)},lm=(e,t)=>Fh(t).exists(yo)||am(!0,e,t).isSome(),cm=(e,t)=>(e=>L.from(e.getNode(!0)).map(gr))(t).exists(yo)||am(!1,e,t).isSome(),hm=D(am,!1),dm=D(am,!0),um=e=>Pa.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),pm=(e,t)=>{const r=K(Xf(gr(t.container()),e),go);return ce(r).getOr(e)},fm=(e,t)=>um(t)?Bf(t):Bf(t)||id(pm(e,t).dom,t).exists(Bf),mm=(e,t)=>um(t)?Ff(t):Ff(t)||od(pm(e,t).dom,t).exists(Ff),gm=e=>Fh(e).bind((e=>Zr(e,Ut))).exists((e=>(e=>G(["pre","pre-wrap"],e))(on(e,"white-space")))),vm=(e,t)=>r=>{return n=new Nn(r,e)[t](),x(n)&&ro(n)&&mh(n);var n},ym=(e,t)=>!gm(t)&&(rm(e,t)||om(e,t)||cm(e,t)||fm(e,t)||((e,t)=>{const r=id(e.dom,t).getOr(t),n=vm(e.dom,"prev");return t.isAtStart()&&(n(t.container())||n(r.container()))})(e,t)),bm=(e,t)=>!gm(t)&&(nm(e,t)||im(e,t)||lm(e,t)||mm(e,t)||((e,t)=>{const r=od(e.dom,t).getOr(t),n=vm(e.dom,"next");return t.isAtEnd()&&(n(t.container())||n(r.container()))})(e,t)),wm=(e,t)=>ym(e,t)||bm(e,(e=>{const t=e.container(),r=e.offset();return $n(t)&&r<t.data.length?Pa(t,r+1):e})(t)),xm=(e,t)=>Sd(e.charAt(t)),Em=(e,t)=>_d(e.charAt(t)),Sm=(e,t,r)=>{const n=t.data,o=Pa(t,0);return r||!xm(n,0)||wm(e,o)?!!(r&&Em(n,0)&&ym(e,o))&&(t.data=lo+n.slice(1),!0):(t.data=" "+n.slice(1),!0)},_m=(e,t,r)=>{const n=t.data,o=Pa(t,n.length-1);return r||!xm(n,n.length-1)||wm(e,o)?!!(r&&Em(n,n.length-1)&&bm(e,o))&&(t.data=n.slice(0,-1)+lo,!0):(t.data=n.slice(0,-1)+" ",!0)},Cm=(e,t,r)=>{if(0===r)return;const n=gr(e),o=$r(n,go).getOr(n),i=e.data.slice(t,t+r),s=t+r>=e.data.length&&bm(o,Pa(e,e.data.length)),a=0===t&&ym(o,Pa(e,0));e.replaceData(t,r,ii(i,4,a,s))},Am=(e,t)=>{const r=e.data.slice(t),n=r.length-$e(r).length;Cm(e,t,n)},km=(e,t)=>{const r=e.data.slice(0,t),n=r.length-Ze(r).length;Cm(e,t-n,n)},Tm=(e,t,r,n=!0)=>{const o=Ze(e.data).length,i=n?e:t,s=n?t:e;return n?i.appendData(s.data):i.insertData(0,s.data),vn(gr(s)),r&&Am(i,o),i},Pm=(e,t)=>((e,t)=>{const r=e.container(),n=e.offset();return!Pa.isTextPosition(e)&&r===t.parentNode&&n>Pa.before(t).offset()})(t,e)?Pa(t.container(),t.offset()-1):t,Mm=e=>{return Qo(e.previousSibling)?L.some((t=e.previousSibling,$n(t)?Pa(t,t.data.length):Pa.after(t))):e.previousSibling?ad(e.previousSibling):L.none();var t},Dm=e=>{return Qo(e.nextSibling)?L.some((t=e.nextSibling,$n(t)?Pa(t,0):Pa.before(t))):e.nextSibling?sd(e.nextSibling):L.none();var t},Om=(e,t,r)=>{r.fold((()=>{e.focus()}),(r=>{e.selection.setRng(r.toRange(),t)}))},Im=(e,t)=>t&&_e(e.schema.getBlockElements(),Ht(t)),Rm=e=>{if(hi(e)){const t=pr('<br data-mce-bogus="1">');return gn(e),pn(e,t),L.some(Pa.before(t.dom))}return L.none()},Nm=(e,t,r,n=!0)=>{const o=((e,t,r)=>((e,t,r)=>e?((e,t)=>Dm(t).orThunk((()=>Mm(t))).orThunk((()=>((e,t)=>od(e,Pa.after(t)).orThunk((()=>id(e,Pa.before(t)))))(e,t))))(t,r):((e,t)=>Mm(t).orThunk((()=>Dm(t))).orThunk((()=>((e,t)=>L.from(t.previousSibling?t.previousSibling:t.parentNode).bind((t=>id(e,Pa.before(t)))).orThunk((()=>od(e,Pa.after(t)))))(e,t))))(t,r))(e,t,r).map(D(Pm,r)))(t,e.getBody(),r.dom),i=$r(r,D(Im,e),(s=e.getBody(),e=>e.dom===s));var s;const a=((e,t,r)=>{const n=Tr(e).filter(qt),o=Pr(e).filter(qt);return vn(e),(i=n,s=o,a=t,l=(e,t,n)=>{const o=e.dom,i=t.dom,s=o.data.length;return Tm(o,i,r),n.container()===i?Pa(o,s):n},i.isSome()&&s.isSome()&&a.isSome()?L.some(l(i.getOrDie(),s.getOrDie(),a.getOrDie())):L.none()).orThunk((()=>(r&&(n.each((e=>km(e.dom,e.dom.length))),o.each((e=>Am(e.dom,0)))),t)));var i,s,a,l})(r,o,((e,t)=>_e(e.schema.getTextInlineElements(),Ht(t)))(e,r));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(Rm).fold((()=>{n&&Om(e,t,a)}),(r=>{n&&Om(e,t,L.some(r))}))},Fm=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Bm=(e,t)=>yr(gr(t),$l(e))&&!xi(e.schema,t)&&e.dom.isEditable(t),Lm=(e,t,r)=>{const n=((e,t,r)=>K(_s.DOM.getParents(r.container(),"*",t),e))(e,t,r);return L.from(n[n.length-1])},Vm=(e,t)=>{const r=t.container(),n=t.offset();return e?Fo(r)?$n(r.nextSibling)?Pa(r.nextSibling,0):Pa.after(r):Vo(t)?Pa(r,n+1):t:Fo(r)?$n(r.previousSibling)?Pa(r.previousSibling,r.previousSibling.data.length):Pa.before(r):zo(t)?Pa(r,n-1):t},zm=D(Vm,!0),Hm=D(Vm,!1),jm=(e,t)=>{const r=e=>e.stopImmediatePropagation();e.on("beforeinput input",r,!0),e.getDoc().execCommand(t),e.off("beforeinput input",r)},Gm=e=>jm(e,"Delete"),Um=e=>bo(e)||xo(e),qm=(e,t)=>xr(e,t)?Zr(t,Um,(e=>t=>Nt(Cr(t),e,wr))(e)):L.none(),Wm=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},$m=e=>{var t;return(8===jt(t=e)||"#comment"===Ht(t)?Tr(e):Nr(e)).bind($m).orThunk((()=>L.some(e)))},Zm=(e,t,r,n=!0)=>{var o;t.deleteContents();const i=$m(r).getOr(r),s=gr(null!==(o=e.dom.getParent(i.dom,e.dom.isBlock))&&void 0!==o?o:r.dom);if(s.dom===e.getBody()?Wm(e,n):hi(s)&&(To(s),n&&e.selection.setCursorLocation(s.dom,0)),!wr(r,s)){const e=Nt(Cr(s),r)?[]:Cr(a=s).map(Or).map((e=>K(e,(e=>!wr(a,e))))).getOr([]);W(e.concat(Or(r)),(e=>{wr(e,s)||xr(e,s)||!hi(e)||vn(e)}))}var a},Km=e=>In(e,"td,th"),Ym=(e,t)=>({start:e,end:t}),Xm=el([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Jm=(e,t)=>Xr(gr(e),"td,th",t),Qm=e=>!wr(e.start,e.end),eg=(e,t)=>Fd(e.start,t).bind((r=>Fd(e.end,t).bind((e=>Bt(wr(r,e),r))))),tg=e=>t=>eg(t,e).map((e=>((e,t,r)=>({rng:e,table:t,cells:r}))(t,e,Km(e)))),rg=(e,t,r,n)=>{if(r.collapsed||!e.forall(Qm))return L.none();if(t.isSameTable){const t=e.bind(tg(n));return L.some({start:t,end:t})}{const e=Jm(r.startContainer,n),t=Jm(r.endContainer,n),o=e.bind((e=>t=>Fd(t,e).bind((e=>he(Km(e)).map((e=>Ym(t,e))))))(n)).bind(tg(n)),i=t.bind((e=>t=>Fd(t,e).bind((e=>ce(Km(e)).map((e=>Ym(e,t))))))(n)).bind(tg(n));return L.some({start:o,end:i})}},ng=(e,t)=>ee(e,(e=>wr(e,t))),og=e=>Ft(ng(e.cells,e.rng.start),ng(e.cells,e.rng.end),((t,r)=>e.cells.slice(t,r+1))),ig=(e,t)=>{const{startTable:r,endTable:n}=t,o=e.cloneRange();return r.each((e=>o.setStartAfter(e.dom))),n.each((e=>o.setEndBefore(e.dom))),o},sg=e=>W(e,(e=>{tr(e,"contenteditable"),To(e)})),ag=(e,t,r,n)=>{const o=r.cloneRange();n?(o.setStart(r.startContainer,r.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(r.endContainer,r.endOffset)),dg(e,o,t,!1).each((e=>e()))},lg=e=>{const t=Nd(e),r=gr(e.selection.getNode());no(r.dom)&&hi(r)?e.selection.setCursorLocation(r.dom,0):e.selection.collapse(!0),t.length>1&&U(t,(e=>wr(e,r)))&&Yt(r,"data-mce-selected","1")},cg=(e,t,r)=>L.some((()=>{const n=e.selection.getRng(),o=r.bind((({rng:r,isStartInTable:o})=>{const i=((e,t)=>L.from(e.dom.getParent(t,e.dom.isBlock)).map(gr))(e,o?r.endContainer:r.startContainer);r.deleteContents(),((e,t,r)=>{r.each((r=>{t?vn(r):(To(r),e.selection.setCursorLocation(r.dom,0))}))})(e,o,i.filter(hi));const s=o?t[0]:t[t.length-1];return ag(e,s,n,o),hi(s)?L.none():L.some(o?t.slice(1):t.slice(0,-1))})).getOr(t);sg(o),lg(e)})),hg=(e,t,r,n)=>L.some((()=>{const o=e.selection.getRng(),i=t[0],s=r[r.length-1];ag(e,i,o,!0),ag(e,s,o,!1);const a=hi(i)?t:t.slice(1),l=hi(s)?r:r.slice(0,-1);sg(a.concat(l)),n.deleteContents(),lg(e)})),dg=(e,t,r,n=!0)=>L.some((()=>{Zm(e,t,r,n)})),ug=(e,t)=>L.some((()=>Nm(e,!1,t))),pg=(e,t)=>Q(Xf(t,e),So),fg=(e,t)=>Q(Xf(t,e),Zt("caption")),mg=(e,t)=>L.some((()=>{To(t),e.selection.setCursorLocation(t.dom,0)})),gg=(e,t)=>e?Wf(t):$f(t),vg=(e,t)=>{const r=gr(e.selection.getStart(!0)),n=Nd(e);return e.selection.isCollapsed()&&0===n.length?((e,t,r)=>{const n=gr(e.getBody());return fg(n,r).fold((()=>((e,t,r,n)=>{const o=Pa.fromRangeStart(e.selection.getRng());return pg(r,n).bind((n=>hi(n)?mg(e,n):((e,t,r,n,o)=>td(r,e.getBody(),o).bind((e=>pg(t,gr(e.getNode())).bind((e=>wr(e,n)?L.none():L.some(C))))))(e,r,t,n,o)))})(e,t,n,r).orThunk((()=>Bt(((e,t)=>{const r=Pa.fromRangeStart(e.selection.getRng());return gg(t,r)||ed(t,e.getBody(),r).exists((e=>gg(t,e)))})(e,t),C)))),(r=>((e,t,r,n)=>{const o=Pa.fromRangeStart(e.selection.getRng());return hi(n)?mg(e,n):((e,t,r,n,o)=>td(r,e.getBody(),o).fold((()=>L.some(C)),(i=>((e,t,r,n)=>sd(e.dom).bind((o=>ad(e.dom).map((e=>t?r.isEqual(o)&&n.isEqual(e):r.isEqual(e)&&n.isEqual(o))))).getOr(!0))(n,r,o,i)?((e,t)=>mg(e,t))(e,n):((e,t,r)=>fg(e,gr(r.getNode())).fold((()=>L.some(C)),(e=>Bt(!wr(e,t),C))))(t,n,i))))(e,r,t,n,o)})(e,t,n,r)))})(e,t,r):((e,t,r)=>{const n=gr(e.getBody()),o=e.selection.getRng();return 0!==r.length?cg(e,r,L.none()):((e,t,r,n)=>fg(t,n).fold((()=>((e,t,r)=>((e,t)=>{const r=(e=>t=>wr(e,t))(e),n=((e,t)=>{const r=Jm(e.startContainer,t),n=Jm(e.endContainer,t);return Ft(r,n,Ym)})(t,r),o=((e,t)=>{const r=e=>Fd(gr(e),t),n=r(e.startContainer),o=r(e.endContainer),i=n.isSome(),s=o.isSome(),a=Ft(n,o,wr).getOr(!1);return{startTable:n,endTable:o,isStartInTable:i,isEndInTable:s,isSameTable:a,isMultiTable:!a&&i&&s}})(t,r);return((e,t,r)=>e.exists((e=>((e,t)=>!Qm(e)&&eg(e,t).exists((e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})))(e,r)&&Vd(e.start,t))))(n,t,r)?n.map((e=>Xm.singleCellTable(t,e.start))):o.isMultiTable?((e,t,r,n)=>rg(e,t,r,n).bind((({start:e,end:n})=>{const o=e.bind(og).getOr([]),i=n.bind(og).getOr([]);if(o.length>0&&i.length>0){const e=ig(r,t);return L.some(Xm.multiTable(o,i,e))}return L.none()})))(n,o,t,r):((e,t,r,n)=>rg(e,t,r,n).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:n}=t,o=og(e).getOr([]);if(n&&e.cells.length===o.length)return L.some(Xm.fullTable(e.table));if(o.length>0){if(n)return L.some(Xm.partialTable(o,L.none()));{const e=ig(r,t);return L.some(Xm.partialTable(o,L.some({...t,rng:e})))}}return L.none()})))(n,o,t,r)})(t,r).bind((t=>t.fold(D(dg,e),D(ug,e),D(cg,e),D(hg,e)))))(e,t,r)),(t=>((e,t)=>mg(e,t))(e,t))))(e,n,o,t)})(e,r,n)},yg=(e,t)=>{let r=t;for(;r&&r!==e;){if(to(r)||ro(r))return r;r=r.parentNode}return null},bg=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],wg=Rt.each,xg=e=>{const t=e.dom,r=new Set(e.serializer.getTempAttrs()),n=e=>U(bg,(t=>Ge(e,t)))||r.has(e);return{compare:(e,r)=>{if(e.nodeName!==r.nodeName||e.nodeType!==r.nodeType)return!1;const o=e=>{const r={};return wg(t.getAttribs(e),(o=>{const i=o.nodeName.toLowerCase();"style"===i||n(i)||(r[i]=t.getAttrib(e,i))})),r},i=(e,t)=>{for(const r in e)if(_e(e,r)){const n=t[r];if(b(n))return!1;if(e[r]!==n)return!1;delete t[r]}for(const e in t)if(_e(t,e))return!1;return!0};if(Ln(e)&&Ln(r)){if(!i(o(e),o(r)))return!1;if(!i(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(r,"style"))))return!1}return!Ed(e)&&!Ed(r)},isAttributeInternal:n}},Eg=(e,t,r,n)=>{const o=r.name;for(let t=0,i=e.length;t<i;t++){const i=e[t];if(i.name===o){const e=n.nodes[o];e?e.nodes.push(r):n.nodes[o]={filter:i,nodes:[r]}}}if(r.attributes)for(let e=0,o=t.length;e<o;e++){const o=t[e],i=o.name;if(i in r.attributes.map){const e=n.attributes[i];e?e.nodes.push(r):n.attributes[i]={filter:o,nodes:[r]}}}},Sg=(e,t)=>{const r=(e,r)=>{me(e,(e=>{const n=de(e.nodes);W(e.filter.callbacks,(o=>{for(let t=n.length-1;t>=0;t--){const o=n[t];(r?void 0!==o.attr(e.filter.name):o.name===e.filter.name)&&!w(o.parent)||n.splice(t,1)}n.length>0&&o(n,e.filter.name,t)}))}))};r(e.nodes,!1),r(e.attributes,!0)},_g=(e,t,r,n={})=>{const o=((e,t,r)=>{const n={nodes:{},attributes:{}};return r.firstChild&&((r,o)=>{let i=r;for(;i=i.walk();)Eg(e,t,i,n)})(r),n})(e,t,r);Sg(o,n)},Cg=(e,t,r)=>{if(e.insert&&t(r)){const e=new xf("br",1);e.attr("data-mce-bogus","1"),r.empty().append(e)}else r.empty().append(new xf("#text",3)).value=lo},Ag=(e,t)=>{const r=null==e?void 0:e.firstChild;return x(r)&&r===e.lastChild&&r.name===t},kg=(e,t,r,n)=>n.isEmpty(t,r,(t=>((e,t)=>{const r=e.getElementRule(t.name);return!0===(null==r?void 0:r.paddEmpty)})(e,t))),Tg=e=>{let t;for(let r=e;r;r=r.parent){const e=r.attr("contenteditable");if("false"===e)break;"true"===e&&(t=r)}return L.from(t)},Pg=(e,t,r=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const n=e.children();for(const e of n)r&&!t.isValidChild(r.name,e.name)&&Pg(e,t,r);e.unwrap()}},Mg=(e,t,r,n=C)=>{const o=t.getTextBlockElements(),i=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=Rt.makeMap("tr,td,th,tbody,thead,tfoot,table"),l=new Set,c=e=>e!==r&&!a[e.name];for(let r=0;r<e.length;r++){const a=e[r];let h,d,u;if(!a.parent||l.has(a))continue;if(o[a.name]&&"li"===a.parent.name){let e=a.next;for(;e&&o[e.name];)e.name="li",l.add(e),a.parent.insert(e,a.parent),e=e.next;a.unwrap();continue}const p=[a];for(h=a.parent;h&&!t.isValidChild(h.name,a.name)&&c(h);h=h.parent)p.push(h);if(h&&p.length>1)if(t.isValidChild(h.name,a.name)){p.reverse(),d=p[0].clone(),n(d);let e=d;for(let r=0;r<p.length-1;r++){t.isValidChild(e.name,p[r].name)&&r>0?(u=p[r].clone(),n(u),e.append(u)):u=e;for(let e=p[r].firstChild;e&&e!==p[r+1];){const t=e.next;u.append(e),e=t}e=u}kg(t,i,s,d)?h.insert(a,p[0],!0):(h.insert(d,p[0],!0),h.insert(a,d)),h=p[0],(kg(t,i,s,h)||Ag(h,"br"))&&h.empty().remove()}else Pg(a,t);else if(a.parent){if("li"===a.name){let e=a.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(a);continue}if(e=a.next,e&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(a,e.firstChild,!0);continue}const t=new xf("ul",1);n(t),a.wrap(t);continue}if(t.isValidChild(a.parent.name,"div")&&t.isValidChild("div",a.name)){const e=new xf("div",1);n(e),a.wrap(e)}else Pg(a,t)}}},Dg=(e,t,r=t.parent)=>!(!r||!e.children[t.name]||e.isValidChild(r.name,t.name))||!(!r||"a"!==t.name||!((e,t)=>{let r=e;for(;r;){if("a"===r.name)return!0;r=r.parent}return!1})(r)),Og=e=>e.collapsed?e:(e=>{const t=Pa.fromRangeStart(e),r=Pa.fromRangeEnd(e),n=e.commonAncestorContainer;return ed(!1,n,r).map((o=>!Ah(t,r,n)&&Ah(t,o,n)?((e,t,r,n)=>{const o=document.createRange();return o.setStart(e,t),o.setEnd(r,n),o})(t.container(),t.offset(),o.container(),o.offset()):e)).getOr(e)})(e),Ig=(e,t)=>{const r=e.getParent(t,e.isBlock);return r&&"LI"===r.nodeName?r:null},Rg=(e,t)=>{const r=Pa.after(e),n=Yh(t).prev(r);return n?n.toRange():null},Ng=["pre"],Fg=no,Bg=(e,t,r)=>{var n,o;const i=e.selection,s=e.dom,a=e.parser,l=r.merge,c=Mf({validate:!0},e.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,h);let d=i.getRng();const u=d.startContainer,p=e.getBody();u===p&&i.isCollapsed()&&s.isBlock(p.firstChild)&&((e,t)=>x(t)&&!e.schema.getVoidElements()[t.nodeName])(e,p.firstChild)&&s.isEmpty(p.firstChild)&&(d=s.createRng(),d.setStart(p.firstChild,0),d.setEnd(p.firstChild,0),i.setRng(d)),i.isCollapsed()||(e=>{const t=e.dom,r=Og(e.selection.getRng());e.selection.setRng(r);const n=t.getParent(r.startContainer,Fg);((e,t,r)=>!!x(r)&&r===e.getParent(t.endContainer,Fg)&&Vd(gr(r),t))(t,r,n)?dg(e,r,gr(n)):r.startContainer===r.endContainer&&r.endOffset-r.startOffset==1&&$n(r.startContainer.childNodes[r.startOffset])?r.deleteContents():e.getDoc().execCommand("Delete",!1)})(e);const f=i.getNode(),m={context:f.nodeName.toLowerCase(),data:r.data,insert:!0},g=a.parse(t,m);if(!0===r.paste&&((e,t)=>{let r=t.firstChild,n=t.lastChild;return r&&"meta"===r.name&&(r=r.next),n&&"mce_marker"===n.attr("id")&&(n=n.prev),((e,t)=>{const r=e.getNonEmptyElements();return x(t)&&(t.isEmpty(r)||((e,t)=>e.getBlockElements()[t.name]&&(e=>x(e.firstChild)&&e.firstChild===e.lastChild)(t)&&(e=>"br"===e.name||e.value===lo)(t.firstChild))(e,t))})(e,n)&&(n=null==n?void 0:n.prev),!(!r||r!==n||"ul"!==r.name&&"ol"!==r.name)})(e.schema,g)&&((e,t)=>!!Ig(e,t))(s,f))return d=((e,t,r,n)=>{const o=((e,t,r)=>{const n=t.serialize(r);return(e=>{var t,r;const n=e.firstChild,o=e.lastChild;return n&&"META"===n.nodeName&&(null===(t=n.parentNode)||void 0===t||t.removeChild(n)),o&&"mce_marker"===o.id&&(null===(r=o.parentNode)||void 0===r||r.removeChild(o)),e})(e.createFragment(n))})(t,e,n),i=Ig(t,r.startContainer),s=(e=>{return e.length>0&&(!(r=e[e.length-1]).firstChild||x(null==(t=r)?void 0:t.firstChild)&&t.firstChild===t.lastChild&&(e=>e.data===lo||Qn(e))(t.firstChild))?e.slice(0,-1):e;var t,r})((a=o.firstChild,K(null!==(l=null==a?void 0:a.childNodes)&&void 0!==l?l:[],(e=>"LI"===e.nodeName))));var a,l;const c=t.getRoot(),h=e=>{const n=Pa.fromRangeStart(r),o=Yh(t.getRoot()),s=1===e?o.prev(n):o.next(n),a=null==s?void 0:s.getNode();return!a||Ig(t,a)!==i};return i?h(1)?((e,t,r)=>{const n=e.parentNode;return n&&Rt.each(t,(t=>{n.insertBefore(t,e)})),((e,t)=>{const r=Pa.before(e),n=Yh(t).next(r);return n?n.toRange():null})(e,r)})(i,s,c):h(2)?((e,t,r,n)=>(n.insertAfter(t.reverse(),e),Rg(t[0],r)))(i,s,c,t):((e,t,r,n)=>{const o=((e,t)=>{const r=t.cloneRange(),n=t.cloneRange();return r.setStartBefore(e),n.setEndAfter(e),[r.cloneContents(),n.cloneContents()]})(e,n),i=e.parentNode;return i&&(i.insertBefore(o[0],e),Rt.each(t,(t=>{i.insertBefore(t,e)})),i.insertBefore(o[1],e),i.removeChild(e)),Rg(t[t.length-1],r)})(i,s,c,r):null})(c,s,i.getRng(),g),d&&i.setRng(d),t;!0===r.paste&&((e,t,r,n)=>{var o;const i=t.firstChild,s=t.lastChild,a=i===("bookmark"===s.attr("data-mce-type")?s.prev:s),l=G(Ng,i.name);if(a&&l){const t="false"!==i.attr("contenteditable"),s=(null===(o=e.getParent(r,e.isBlock))||void 0===o?void 0:o.nodeName.toLowerCase())===i.name,a=L.from(yg(n,r)).forall(to);return t&&s&&a}return!1})(s,g,f,e.getBody())&&(null===(n=g.firstChild)||void 0===n||n.unwrap()),(e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")})(g);let v=g.lastChild;if(v&&"mce_marker"===v.attr("id")){const t=v;for(v=v.prev;v;v=v.walk(!0))if(3===v.type||!s.isBlock(v.name)){v.parent&&e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(t,v,"br"===v.name);break}}if(e._selectionOverrides.showBlockCaretContainer(f),m.invalid){e.selection.setContent(h);let r,n=i.getNode();const l=e.getBody();for(Xn(n)?n=r=l:r=n;r&&r!==l;)n=r,r=r.parentNode;t=n===l?l.innerHTML:s.getOuterHTML(n);const d=a.parse(t),u=(e=>{for(let t=e;t;t=t.walk())if("mce_marker"===t.attr("id"))return L.some(t);return L.none()})(d),p=u.bind(Tg).getOr(d);u.each((e=>e.replace(g)));const f=g.children(),m=null!==(o=g.parent)&&void 0!==o?o:d;g.unwrap();const v=K(f,(t=>Dg(e.schema,t,m)));Mg(v,e.schema,p),_g(a.getNodeFilters(),a.getAttributeFilters(),d),t=c.serialize(d),n===l?s.setHTML(l,t):s.setOuterHTML(n,t)}else t=c.serialize(g),((e,t,r)=>{var n;if("all"===r.getAttribute("data-mce-bogus"))null===(n=r.parentNode)||void 0===n||n.insertBefore(e.dom.createFragment(t),r);else{const n=r.firstChild,o=r.lastChild;!n||n===o&&"BR"===n.nodeName?e.dom.setHTML(r,t):e.selection.setContent(t,{no_events:!0})}})(e,t,f);var y;return((e,t)=>{const r=e.schema.getTextInlineElements(),n=e.dom;if(t){const t=e.getBody(),o=xg(e);Rt.each(n.select("*[data-mce-fragment]"),(e=>{if(x(r[e.nodeName.toLowerCase()])&&((e,t)=>ne(If(e,t),(e=>!(e=>Df.has(e))(e))))(n,e))for(let r=e.parentElement;x(r)&&r!==t&&!Rf(n,e,r);r=r.parentElement)if(o.compare(r,e)){n.remove(e,!0);break}}))}})(e,l),((e,t)=>{var r,n,o;let i;const s=e.dom,a=e.selection;if(!t)return;a.scrollIntoView(t);const l=yg(e.getBody(),t);if(l&&"false"===s.getContentEditable(l))return s.remove(t),void a.select(l);let c=s.createRng();const h=t.previousSibling;if($n(h)){c.setStart(h,null!==(n=null===(r=h.nodeValue)||void 0===r?void 0:r.length)&&void 0!==n?n:0);const e=t.nextSibling;$n(e)&&(h.appendData(e.data),null===(o=e.parentNode)||void 0===o||o.removeChild(e))}else c.setStartBefore(t),c.setEndBefore(t);const d=s.getParent(t,s.isBlock);s.remove(t),d&&s.isEmpty(d)&&(gn(gr(d)),c.setStart(d,0),c.setEnd(d,0),Fg(d)||(e=>!!e.getAttribute("data-mce-fragment"))(d)||!(i=(t=>{let r=Pa.fromRangeStart(t);return r=Yh(e.getBody()).next(r),null==r?void 0:r.toRange()})(c))?s.add(d,s.create("br",{"data-mce-bogus":"1"})):(c=i,s.remove(d))),a.setRng(c)})(e,s.get("mce_marker")),y=e.getBody(),Rt.each(y.getElementsByTagName("*"),(e=>{e.removeAttribute("data-mce-fragment")})),((e,t)=>{L.from(e.getParent(t,"td,th")).map(gr).each(Po)})(s,i.getStart()),((e,t,r)=>{const n=kr(gr(r),(e=>wr(e,gr(t))));le(n,n.length-2).filter(Ut).fold((()=>gi(e,t)),(t=>gi(e,t.dom)))})(e.schema,e.getBody(),i.getStart()),t},Lg=e=>e instanceof xf,Vg=(e,t,r)=>{e.dom.setHTML(e.getBody(),t),!0!==r&&(e=>{sf(e)&&sd(e.getBody()).each((t=>{const r=t.getNode(),n=Un(r)?sd(r).getOr(t):t;e.selection.setRng(n.toRange())}))})(e)},zg=e=>E(e)?e:F,Hg=(e,t,r)=>{const n=t(e),o=zg(r);return n.orThunk((()=>o(e)?L.none():((e,t,r)=>{let n=e.dom;const o=zg(r);for(;n.parentNode;){n=n.parentNode;const e=gr(n),r=t(e);if(r.isSome())return r;if(o(e))break}return L.none()})(e,t,o)))},jg=tu,Gg=(e,t,r)=>{const n=e.formatter.get(r);if(n)for(let r=0;r<n.length;r++){const o=n[r];if(lu(o)&&!1===o.inherit&&e.dom.is(t,o.selector))return!0}return!1},Ug=(e,t,r,n,o)=>{const i=e.dom.getRoot();if(t===i)return!1;const s=e.dom.getParent(t,(t=>!!Gg(e,t,r)||t.parentNode===i||!!$g(e,t,r,n,!0)));return!!$g(e,s,r,n,o)},qg=(e,t,r)=>!(!cu(r)||!jg(t,r.inline))||!(!au(r)||!jg(t,r.block))||!!lu(r)&&Ln(t)&&e.is(t,r.selector),Wg=(e,t,r,n,o,i)=>{const s=r[n],a="attributes"===n;if(E(r.onmatch))return r.onmatch(t,r,n);if(s)if(ke(s)){for(let r=0;r<s.length;r++)if(a?e.getAttrib(t,s[r]):nu(e,t,s[r]))return!0}else for(const n in s)if(_e(s,n)){const l=a?e.getAttrib(t,n):nu(e,t,n),c=eu(s[n],i),h=w(l)||Ye(l);if(h&&w(c))continue;if(o&&h&&!r.exact)return!1;if((!o||r.exact)&&!jg(l,ru(c,n)))return!1}return!0},$g=(e,t,r,n,o)=>{const i=e.formatter.get(r),s=e.dom;if(i&&Ln(t))for(let r=0;r<i.length;r++){const a=i[r];if(qg(e.dom,t,a)&&Wg(s,t,a,"attributes",o,n)&&Wg(s,t,a,"styles",o,n)){const r=a.classes;if(r)for(let o=0;o<r.length;o++)if(!e.dom.hasClass(t,eu(r[o],n)))return;return a}}},Zg=(e,t,r,n,o)=>{if(n)return Ug(e,n,t,r,o);if(n=e.selection.getNode(),Ug(e,n,t,r,o))return!0;const i=e.selection.getStart();return!(i===n||!Ug(e,i,t,r,o))},Kg=Mo,Yg=e=>(e=>{const t=[];let r=e;for(;r;){if($n(r)&&r.data!==Kg||r.childNodes.length>1)return[];Ln(r)&&t.push(r),r=r.firstChild}return t})(e).length>0,Xg=e=>{if(e){const t=new Nn(e,e);for(let e=t.current();e;e=t.next())if($n(e))return e}return null},Jg=e=>{const t=fr("span");return Xt(t,{id:ld,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&pn(t,mr(Kg)),t},Qg=(e,t,r=!0)=>{const n=e.dom,o=e.selection;if(Yg(t))Nm(e,!1,gr(t),r);else{const e=o.getRng(),r=n.getParent(t,n.isBlock),i=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset,c=(e=>{const t=Xg(e);return t&&t.data.charAt(0)===Kg&&t.deleteData(0,1),t})(t);n.remove(t,!0),i===c&&s>0&&e.setStart(c,s-1),a===c&&l>0&&e.setEnd(c,l-1),r&&n.isEmpty(r)&&To(gr(r)),o.setRng(e)}},ev=(e,t,r=!0)=>{const n=e.dom,o=e.selection;if(t)Qg(e,t,r);else if(!(t=hd(e.getBody(),o.getStart())))for(;t=n.get(ld);)Qg(e,t,!1)},tv=(e,t)=>(e.appendChild(t),t),rv=(e,t)=>{var r;const n=Y(e,((e,t)=>tv(e,t.cloneNode(!1))),t),o=null!==(r=n.ownerDocument)&&void 0!==r?r:document;return tv(n,o.createTextNode(Kg))},nv=(e,t,r,n)=>{const o=e.dom,a=e.selection;let l=!1;const c=e.formatter.get(t);if(!c)return;const h=a.getRng(),d=h.startContainer,u=h.startOffset;let p=d;$n(d)&&(u!==d.data.length&&(l=!0),p=p.parentNode);const f=[];let m;for(;p;){if($g(e,p,t,r,n)){m=p;break}p.nextSibling&&(l=!0),f.push(p),p=p.parentNode}if(m)if(l){const i=a.getBookmark();h.collapse(!0);let s=Cu(o,h,c,!0);s=mp(s),e.formatter.remove(t,r,s,n),a.moveToBookmark(i)}else{const l=hd(e.getBody(),m),c=Jg(!1).dom;((e,t,r)=>{var n,o;const i=e.dom,s=i.getParent(r,D(Yd,e.schema));s&&i.isEmpty(s)?null===(n=r.parentNode)||void 0===n||n.replaceChild(t,r):((e=>{const t=In(e,"br"),r=K((e=>{const t=[];let r=e.dom;for(;r;)t.push(gr(r)),r=r.lastChild;return t})(e).slice(-1),yo);t.length===r.length&&W(r,vn)})(gr(r)),i.isEmpty(r)?null===(o=r.parentNode)||void 0===o||o.replaceChild(t,r):i.insertAfter(t,r))})(e,c,null!=l?l:m);const h=((e,t,r,n,o,a)=>{const l=e.formatter,c=e.dom,h=K(pe(l.get()),(e=>e!==n&&!je(e,"removeformat"))),d=((e,t,r)=>X(r,((r,n)=>{const o=((e,t)=>su(e,t,(e=>{const t=e=>E(e)||e.length>1&&"%"===e.charAt(0);return U(["styles","attributes"],(r=>Se(e,r).exists((e=>{const r=g(e)?e:Ee(e);return U(r,t)}))))})))(e,n);return e.formatter.matchNode(t,n,{},o)?r.concat([n]):r}),[]))(e,r,h);if(K(d,(t=>!((e,t,r)=>{const n=["inline","block","selector","attributes","styles","classes"],o=e=>we(e,((e,t)=>U(n,(e=>e===t))));return su(e,t,(t=>{const n=o(t);return su(e,r,(e=>{const t=o(e);return((e,t,r=s)=>i(r).eq(e,t))(n,t)}))}))})(e,t,n))).length>0){const e=r.cloneNode(!1);return c.add(t,e),l.remove(n,o,e,a),c.remove(e),L.some(e)}return L.none()})(e,c,m,t,r,n),d=rv(f.concat(h.toArray()),c);l&&Qg(e,l,!1),a.setCursorLocation(d,1),o.isEmpty(m)&&o.remove(m)}},ov=e=>{const t=Jg(!1),r=rv(e,t.dom);return{caretContainer:t,caretPosition:Pa(r,0)}},iv=(e,t)=>{const{caretContainer:r,caretPosition:n}=ov(t);return hn(gr(e),r),vn(gr(e)),n},sv=(e,t)=>{const r=e.schema.getTextInlineElements();return _e(r,Ht(t))&&!cd(t.dom)&&!Gn(t.dom)},av=e=>cd(e.dom)&&Yg(e.dom),lv={},cv=zn(["pre"]);lv.pre||(lv.pre=[]),lv.pre.push((e=>{if(!e.selection.getRng().collapsed){const t=e.selection.getSelectedBlocks(),r=K(K(t,cv),(e=>t=>{const r=t.previousSibling;return cv(r)&&G(e,r)})(t));W(r,(e=>{((e,t)=>{const r=gr(t),n=Sr(r).dom;vn(r),mn(gr(e),[fr("br",n),fr("br",n),...Or(r)])})(e.previousSibling,e)}))}}));const hv=["fontWeight","fontStyle","color","fontSize","fontFamily"],dv=(e,t)=>{const r=e.get(t);return g(r)?Q(r,(e=>cu(e)&&"span"===e.inline&&(e=>f(e.styles)&&U(pe(e.styles),(e=>G(hv,e))))(e))):L.none()},uv=(e,t)=>id(t,Pa.fromRangeStart(e)).isNone(),pv=(e,t)=>!1===od(t,Pa.fromRangeEnd(e)).exists((e=>!Qn(e.getNode())||od(t,e).isSome())),fv=e=>t=>so(t)&&e.isEditable(t),mv=e=>K(e.getSelectedBlocks(),fv(e.dom)),gv=Rt.each,vv=e=>Ln(e)&&!Ed(e)&&!cd(e)&&!Gn(e),yv=(e,t)=>{for(let r=e;r;r=r[t]){if($n(r)&&Ke(r.data))return e;if(Ln(r)&&!Ed(r))return r}return e},bv=(e,t,r)=>{const n=xg(e),o=Ln(t)&&Wd(t),i=Ln(r)&&Wd(r);if(o&&i){const o=yv(t,"previousSibling"),i=yv(r,"nextSibling");if(n.compare(o,i)){for(let e=o.nextSibling;e&&e!==i;){const t=e;e=e.nextSibling,o.appendChild(t)}return e.dom.remove(i),Rt.each(Rt.grep(i.childNodes),(e=>{o.appendChild(e)})),o}}return r},wv=(e,t,r,n)=>{var o;if(n&&!1!==t.merge_siblings){const t=null!==(o=bv(e,Kd(n),n))&&void 0!==o?o:n;bv(e,t,Kd(t,!0))}},xv=(e,t,r)=>{gv(e.childNodes,(e=>{vv(e)&&(t(e)&&r(e),e.hasChildNodes()&&xv(e,t,r))}))},Ev=(e,t)=>r=>!(!r||!nu(e,r,t)),Sv=(e,t,r)=>n=>{e.setStyle(n,t,r),""===n.getAttribute("style")&&n.removeAttribute("style"),((e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)})(e,n)},_v=el([{keep:[]},{rename:["name"]},{removed:[]}]),Cv=/^(src|href|style)$/,Av=Rt.each,kv=tu,Tv=(e,t,r)=>e.isChildOf(t,r)&&t!==r&&!e.isBlock(r),Pv=(e,t,r)=>{let n=t[r?"startContainer":"endContainer"],o=t[r?"startOffset":"endOffset"];if(Ln(n)){const e=n.childNodes.length-1;!r&&o&&o--,n=n.childNodes[o>e?e:o]}return $n(n)&&r&&o>=n.data.length&&(n=new Nn(n,e.getBody()).next()||n),$n(n)&&!r&&0===o&&(n=new Nn(n,e.getBody()).prev()||n),n},Mv=(e,t)=>{const r=t?"firstChild":"lastChild",n=e[r];return(e=>/^(TR|TH|TD)$/.test(e.nodeName))(e)&&n?"TR"===e.nodeName&&n[r]||n:e},Dv=(e,t,r,n)=>{var o;const i=e.create(r,n);return null===(o=t.parentNode)||void 0===o||o.insertBefore(i,t),i.appendChild(t),i},Ov=(e,t,r,n,o)=>{const i=gr(t),s=gr(e.create(n,o)),a=r?Dr(i):Mr(i);return mn(s,a),r?(hn(i,s),un(s,i)):(dn(i,s),pn(s,i)),s.dom},Iv=(e,t,r)=>{const n=t.parentNode;let o;const i=e.dom,s=xl(e);au(r)&&n===i.getRoot()&&(r.list_block&&kv(t,r.list_block)||W(de(t.childNodes),(t=>{Xd(e,s,t.nodeName.toLowerCase())?o?o.appendChild(t):(o=Dv(i,t,s),i.setAttribs(o,El(e))):o=null}))),(e=>lu(e)&&cu(e)&&Nt(Se(e,"mixed"),!0))(r)&&!kv(r.inline,t)||i.remove(t,!0)},Rv=(e,t,r)=>S(e)?{name:t,value:null}:{name:e,value:eu(t,r)},Nv=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Fv=(e,t,r,n,o)=>{let i=!1;Av(r.styles,((s,a)=>{const{name:l,value:c}=Rv(a,s,n),h=ru(c,l);(r.remove_similar||v(c)||!Ln(o)||kv(nu(e,o,l),h))&&e.setStyle(t,l,""),i=!0})),i&&Nv(e,t)},Bv=(e,t,r,n,o)=>{const i=e.dom,s=xg(e),a=e.schema;if(cu(t)&&bi(a,t.inline)&&xi(a,n)&&n.parentElement===e.getBody())return Iv(e,n,t),_v.removed();if(!t.ceFalseOverride&&n&&"false"===i.getContentEditableParent(n))return _v.keep();if(n&&!qg(i,n,t)&&!((e,t)=>t.links&&"A"===e.nodeName)(n,t))return _v.keep();const l=n,c=t.preserve_attributes;if(cu(t)&&"all"===t.remove&&g(c)){const e=K(i.getAttribs(l),(e=>G(c,e.name.toLowerCase())));if(i.removeAllAttribs(l),W(e,(e=>i.setAttrib(l,e.name,e.value))),e.length>0)return _v.rename("span")}if("all"!==t.remove){Fv(i,l,t,r,o),Av(t.attributes,((e,n)=>{const{name:s,value:a}=Rv(n,e,r);if(t.remove_similar||v(a)||!Ln(o)||kv(i.getAttrib(o,s),a)){if("class"===s){const e=i.getAttrib(l,s);if(e){let t="";if(W(e.split(/\s+/),(e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)})),t)return void i.setAttrib(l,s,t)}}if(Cv.test(s)&&l.removeAttribute("data-mce-"+s),"style"===s&&zn(["li"])(l)&&"none"===i.getStyle(l,"list-style-type"))return l.removeAttribute(s),void i.setStyle(l,"list-style-type","none");"class"===s&&l.removeAttribute("className"),l.removeAttribute(s)}})),Av(t.classes,(e=>{e=eu(e,r),Ln(o)&&!i.hasClass(o,e)||i.removeClass(l,e)}));const e=i.getAttribs(l);for(let t=0;t<e.length;t++){const r=e[t].nodeName;if(!s.isAttributeInternal(r))return _v.keep()}}return"none"!==t.remove?(Iv(e,l,t),_v.removed()):_v.keep()},Lv=(e,t,r,n,o)=>Bv(e,t,r,n,o).fold(F,(t=>(e.dom.rename(n,t),!0)),B),Vv=(e,t,r,n)=>Bv(e,t,r,n,n).fold(T(n),(t=>(e.dom.createFragment().appendChild(n),e.dom.rename(n,t))),T(null)),zv=(e,t,r,n,o)=>{const i=e.formatter.get(t),s=i[0],a=e.dom,l=e.selection,c=n=>{const a=((e,t,r,n,o)=>{let i;return t.parentNode&&W(iu(e.dom,t.parentNode).reverse(),(t=>{if(!i&&Ln(t)&&"_start"!==t.id&&"_end"!==t.id){const s=$g(e,t,r,n,o);s&&!1!==s.split&&(i=t)}})),i})(e,n,t,r,o);return((e,t,r,n,o,i,s,a)=>{var l,c;let h,d;const u=e.dom;if(r){const i=r.parentNode;for(let r=n.parentNode;r&&r!==i;r=r.parentNode){let n=u.clone(r,!1);for(let r=0;r<t.length&&(n=Vv(e,t[r],a,n),null!==n);r++);n&&(h&&n.appendChild(h),d||(d=n),h=n)}s.mixed&&u.isBlock(r)||(n=null!==(l=u.split(r,n))&&void 0!==l?l:n),h&&d&&(null===(c=o.parentNode)||void 0===c||c.insertBefore(h,o),d.appendChild(o),cu(s)&&wv(e,s,0,h))}return n})(e,i,a,n,n,0,s,r)},h=t=>U(i,(n=>Lv(e,n,r,t,t))),d=t=>{const r=de(t.childNodes),n=h(t)||U(i,(e=>qg(a,t,e))),o=t.parentNode;if(!n&&x(o)&&hu(s)&&h(o),s.deep&&r.length)for(let e=0;e<r.length;e++)d(r[e]);W(["underline","line-through","overline"],(r=>{Ln(t)&&e.dom.getStyle(t,"text-decoration")===r&&t.parentNode&&ou(a,t.parentNode)===r&&Lv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:r}},void 0,t)}))},u=e=>{const t=a.get(e?"_start":"_end");if(t){let r=t[e?"firstChild":"lastChild"];return(e=>Ed(e)&&Ln(e)&&("_start"===e.id||"_end"===e.id))(r)&&(r=r[e?"firstChild":"lastChild"]),$n(r)&&0===r.data.length&&(r=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),a.remove(t,!0),r}return null},p=t=>{let r,n,o=Cu(a,t,i,t.collapsed);if(s.split){if(o=mp(o),r=Pv(e,o,!0),n=Pv(e,o),r!==n){if(r=Mv(r,!0),n=Mv(n,!1),Tv(a,r,n)){const e=L.from(r.firstChild).getOr(r);return c(Ov(a,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void u(!0)}if(Tv(a,n,r)){const e=L.from(n.lastChild).getOr(n);return c(Ov(a,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void u(!1)}r=Dv(a,r,"span",{id:"_start","data-mce-type":"bookmark"}),n=Dv(a,n,"span",{id:"_end","data-mce-type":"bookmark"});const e=a.createRng();e.setStartAfter(r),e.setEndBefore(n),Au(a,e,(e=>{W(e,(e=>{Ed(e)||Ed(e.parentNode)||c(e)}))})),c(r),c(n),r=u(!0),n=u()}else r=n=c(r);o.startContainer=r.parentNode?r.parentNode:r,o.startOffset=a.nodeIndex(r),o.endContainer=n.parentNode?n.parentNode:n,o.endOffset=a.nodeIndex(n)+1}Au(a,o,(e=>{W(e,d)}))};if(n){if(Ud(n)){const e=a.createRng();e.setStartBefore(n),e.setEndAfter(n),p(e)}else p(n);Nu(e,t,n,r)}else l.isCollapsed()&&cu(s)&&!Nd(e).length?nv(e,t,r,o):($d(e,(()=>jd(e,p)),(n=>cu(s)&&Zg(e,t,r,n))),e.nodeChanged()),((e,t,r)=>{"removeformat"===t?W(mv(e.selection),(t=>{W(hv,(r=>e.dom.setStyle(t,r,""))),Nv(e.dom,t)})):dv(e.formatter,t).each((t=>{W(mv(e.selection),(n=>Fv(e.dom,n,t,r,null)))}))})(e,t,r),Nu(e,t,n,r)},Hv=Rt.each,jv=Rt.each,Gv=(e,t,r,n)=>{if(jv(r.styles,((r,o)=>{e.setStyle(t,o,eu(r,n))})),r.styles){const r=e.getAttrib(t,"style");r&&e.setAttrib(t,"data-mce-style",r)}},Uv=(e,t,r,n)=>{const o=e.formatter.get(t),i=o[0],s=!n&&e.selection.isCollapsed(),a=e.dom,l=e.selection,c=(e,t=i)=>{E(t.onformat)&&t.onformat(e,t,r,n),Gv(a,e,t,r),jv(t.attributes,((t,n)=>{a.setAttrib(e,n,eu(t,r))})),jv(t.classes,(t=>{const n=eu(t,r);a.hasClass(e,n)||a.addClass(e,n)}))},h=(e,t)=>{let r=!1;return jv(e,(e=>!(!lu(e)||("false"!==a.getContentEditable(t)||e.ceFalseOverride)&&(!x(e.collapsed)||e.collapsed===s)&&a.is(t,e.selector)&&!cd(t)&&(c(t,e),r=!0,1)))),r},d=e=>{if(p(e)){const t=a.create(e);return c(t),t}return null},u=(n,s,a)=>{const l=[];let u=!0;const p=i.inline||i.block,f=d(p);Au(n,s,(s=>{let d;const m=s=>{let g=!1,v=u,y=!1;const b=s.parentNode,w=b.nodeName.toLowerCase(),E=n.getContentEditable(s);x(E)&&(v=u,u="true"===E,g=!0,y=Qd(e,s));const S=u&&!g;if(Qn(s)&&!((e,t,r,n)=>{if(sc(e)&&cu(t)&&r.parentNode){const t=rs(e.schema),o=((e,t)=>((e,t)=>{const r=e.dom;return r.parentNode?((e,t)=>Q(e.dom.childNodes,(e=>t(gr(e)))).map(gr))(gr(r.parentNode),(r=>!wr(e,r)&&t(r))):L.none()})(e,(e=>cd(e.dom))).isSome())(gr(r));return Ce(t,n)&&hi(gr(r.parentNode),!1)&&!o}return!1})(e,i,s,w))return d=null,void(au(i)&&n.remove(s));if((n=>(e=>au(e)&&!0===e.wrapper)(i)&&$g(e,n,t,r))(s))d=null;else{if(((t,r,n)=>{const o=(e=>au(e)&&!0!==e.wrapper)(i)&&Yd(e.schema,t)&&Xd(e,r,p);return n&&o})(s,w,S)){const e=n.rename(s,p);return c(e),l.push(e),void(d=null)}if(lu(i)){let e=h(o,s);if(!e&&x(b)&&hu(i)&&(e=h(o,b)),!cu(i)||e)return void(d=null)}x(f)&&((t,r,o,s)=>{const l=t.nodeName.toLowerCase(),c=Xd(e,p,l)&&Xd(e,r,p),h=!a&&$n(t)&&Do(t.data),d=cd(t),u=!cu(i)||!n.isBlock(t);return(o||s)&&c&&!h&&!d&&u})(s,w,S,y)?(d||(d=n.clone(f,!1),b.insertBefore(d,s),l.push(d)),y&&g&&(u=v),d.appendChild(s)):(d=null,W(de(s.childNodes),m),g&&(u=v),d=null)}};W(s,m)})),!0===i.links&&W(l,(e=>{const t=e=>{"A"===e.nodeName&&c(e,i),W(de(e.childNodes),t)};t(e)})),W(l,(s=>{const a=(e=>{let t=0;return W(e.childNodes,(e=>{(e=>x(e)&&$n(e)&&0===e.length)(e)||Ed(e)||t++})),t})(s);!(l.length>1)&&n.isBlock(s)||0!==a?(cu(i)||au(i)&&i.wrapper)&&(i.exact||1!==a||(s=(e=>Q(e.childNodes,qd).filter((e=>"false"!==n.getContentEditable(e)&&qg(n,e,i))).map((t=>{const r=n.clone(t,!1);return c(r),n.replace(r,e,!0),n.remove(t,!0),r})).getOr(e))(s)),((e,t,r,n)=>{Hv(t,(t=>{cu(t)&&Hv(e.dom.select(t.inline,n),(n=>{vv(n)&&Lv(e,t,r,n,t.exact?n:null)})),((e,t,r)=>{if(t.clear_child_styles){const n=t.links?"*:not(a)":"*";gv(e.select(n,r),(r=>{vv(r)&&Wd(r)&&gv(t.styles,((t,n)=>{e.setStyle(r,n,"")}))}))}})(e.dom,t,n)}))})(e,o,r,s),((e,t,r,n,o)=>{const i=o.parentNode;$g(e,i,r,n)&&Lv(e,t,n,o)||t.merge_with_parents&&i&&e.dom.getParent(i,(i=>!!$g(e,i,r,n)&&(Lv(e,t,n,o),!0)))})(e,i,t,r,s),((e,t,r,n)=>{if(t.styles&&t.styles.backgroundColor){const o=Ev(e,"fontSize");xv(n,(e=>o(e)&&Wd(e)),Sv(e,"backgroundColor",eu(t.styles.backgroundColor,r)))}})(n,i,r,s),((e,t,r,n)=>{const o=t=>{if(Ln(t)&&Ln(t.parentNode)&&Wd(t)){const r=ou(e,t.parentNode);e.getStyle(t,"color")&&r?e.setStyle(t,"text-decoration",r):e.getStyle(t,"text-decoration")===r&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Rt.walk(n,o,"childNodes"),o(n))})(n,i,0,s),((e,t,r,n)=>{if(cu(t)&&("sub"===t.inline||"sup"===t.inline)){const r=Ev(e,"fontSize");xv(n,(e=>r(e)&&Wd(e)),Sv(e,"fontSize",""));const o=K(e.select("sup"===t.inline?"sub":"sup",n),Wd);e.remove(o,!0)}})(n,i,0,s),wv(e,i,0,s)):n.remove(s,!0)}))},f=Ud(n)?n:l.getNode();if("false"===a.getContentEditable(f)&&!Qd(e,f))return h(o,n=f),void Ru(e,t,n,r);if(i){if(n)if(Ud(n)){if(!h(o,n)){const e=a.createRng();e.setStartBefore(n),e.setEndAfter(n),u(a,Cu(a,e,o),!0)}}else u(a,n,!0);else s&&cu(i)&&!Nd(e).length?((e,t,r)=>{let n;const o=e.selection,i=e.formatter.get(t);if(!i)return;const s=o.getRng();let a=s.startOffset;const l=s.startContainer.nodeValue;n=hd(e.getBody(),o.getStart());const c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&a>0&&a<l.length&&c.test(l.charAt(a))&&c.test(l.charAt(a-1))){const n=o.getBookmark();s.collapse(!0);let a=Cu(e.dom,s,i);a=mp(a),e.formatter.apply(t,r,a),o.moveToBookmark(n)}else{let i=n?Xg(n):null;n&&(null==i?void 0:i.data)===Kg||(h=e.getDoc(),d=Jg(!0).dom,n=h.importNode(d,!0),i=n.firstChild,s.insertNode(n),a=1),e.formatter.apply(t,r,n),o.setCursorLocation(i,a)}var h,d})(e,t,r):(l.setRng(Og(l.getRng())),$d(e,(()=>{jd(e,((e,t)=>{const r=t?e:Cu(a,e,o);u(a,r,!1)}))}),B),e.nodeChanged()),dv(e.formatter,t).each((t=>{W((e=>K((e=>{const t=e.getSelectedBlocks(),r=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return uv(r,t[0])&&pv(r,t[0])?t:[];{const e=ce(t).filter((e=>uv(r,e))).toArray(),n=he(t).filter((e=>pv(r,e))).toArray(),o=t.slice(1,-1);return e.concat(o).concat(n)}})(e),fv(e.dom)))(e.selection),(e=>Gv(a,e,t,r)))}));((e,t)=>{_e(lv,e)&&W(lv[e],(e=>{e(t)}))})(t,e)}Ru(e,t,n,r)},qv=e=>_e(e,"vars"),Wv=e=>e.selection.getStart(),$v=(e,t,r,n,o)=>J(t,(t=>{const i=e.formatter.matchNode(t,r,null!=o?o:{},n);return!b(i)}),(t=>!!Gg(e,t,r)||!n&&x(e.formatter.matchNode(t,r,o,!0)))),Zv=(e,t)=>{const r=null!=t?t:Wv(e);return K(iu(e.dom,r),(e=>Ln(e)&&!Gn(e)))},Kv=(e,t,r)=>{const n=Zv(e,t);me(r,((r,o)=>{const i=r=>{const i=$v(e,n,o,r.similar,qv(r)?r.vars:void 0),s=i.isSome();if(r.state.get()!==s){r.state.set(s);const e=i.getOr(t);qv(r)?r.callback(s,{node:e,format:o,parents:n}):W(r.callbacks,(t=>t(s,{node:e,format:o,parents:n})))}};W([r.withSimilar,r.withoutSimilar],i),W(r.withVars,i)}))},Yv=Rt.explode,Xv=()=>{const e={};return{addFilter:(t,r)=>{W(Yv(t),(t=>{_e(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(r)}))},getFilters:()=>Ee(e),removeFilter:(t,r)=>{W(Yv(t),(t=>{if(_e(e,t))if(x(r)){const n=e[t],o=K(n.callbacks,(e=>e!==r));o.length>0?n.callbacks=o:delete e[t]}else delete e[t]}))}}},Jv=e=>{const[t,...r]=e.split(","),n=r.join(","),o=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(o){const e=";base64"===o[2],t=e?(e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""})(n):decodeURIComponent(n);return L.some({type:o[1],data:t,base64Encoded:e})}return L.none()},Qv=(e,t,r=!0)=>{let n=t;if(r)try{n=atob(t)}catch(e){return L.none()}const o=new Uint8Array(n.length);for(let e=0;e<o.length;e++)o[e]=n.charCodeAt(e);return L.some(new Blob([o],{type:e}))},ey=e=>new Promise(((t,r)=>{const n=new FileReader;n.onloadend=()=>{t(n.result)},n.onerror=()=>{var e;r(null===(e=n.error)||void 0===e?void 0:e.message)},n.readAsDataURL(e)}));let ty=0;const ry=(e,t,r)=>Jv(e).bind((({data:e,type:n,base64Encoded:o})=>{if(t&&!o)return L.none();{const t=o?e:btoa(e);return r(t,n)}})),ny=(e,t,r)=>{const n=e.create("blobid"+ty++,t,r);return e.add(n),n},oy=(e,t,r=!1)=>ry(t,r,((t,r)=>L.from(e.getByData(t,r)).orThunk((()=>Qv(r,t).map((r=>ny(e,r,t)))))));function iy(e){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(e)}function sy(e,t){return sy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sy(e,t)}function ay(e,t,r){return ay=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&sy(o,r.prototype),o},ay.apply(null,arguments)}function ly(e){return function(e){if(Array.isArray(e))return cy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return cy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cy(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hy=Object.hasOwnProperty,dy=Object.setPrototypeOf,uy=Object.isFrozen,py=Object.getPrototypeOf,fy=Object.getOwnPropertyDescriptor,my=Object.freeze,gy=Object.seal,vy=Object.create,yy="undefined"!=typeof Reflect&&Reflect,by=yy.apply,wy=yy.construct;by||(by=function(e,t,r){return e.apply(t,r)}),my||(my=function(e){return e}),gy||(gy=function(e){return e}),wy||(wy=function(e,t){return ay(e,ly(t))});var xy,Ey=Oy(Array.prototype.forEach),Sy=Oy(Array.prototype.pop),_y=Oy(Array.prototype.push),Cy=Oy(String.prototype.toLowerCase),Ay=Oy(String.prototype.match),ky=Oy(String.prototype.replace),Ty=Oy(String.prototype.indexOf),Py=Oy(String.prototype.trim),My=Oy(RegExp.prototype.test),Dy=(xy=TypeError,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return wy(xy,t)});function Oy(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return by(e,t,n)}}function Iy(e,t){dy&&dy(e,null);for(var r=t.length;r--;){var n=t[r];if("string"==typeof n){var o=Cy(n);o!==n&&(uy(t)||(t[r]=o),n=o)}e[n]=!0}return e}function Ry(e){var t,r=vy(null);for(t in e)by(hy,e,[t])&&(r[t]=e[t]);return r}function Ny(e,t){for(;null!==e;){var r=fy(e,t);if(r){if(r.get)return Oy(r.get);if("function"==typeof r.value)return Oy(r.value)}e=py(e)}return function(e){return console.warn("fallback value for",e),null}}var Fy=my(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),By=my(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ly=my(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Vy=my(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),zy=my(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Hy=my(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),jy=my(["#text"]),Gy=my(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Uy=my(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qy=my(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Wy=my(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$y=gy(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Zy=gy(/<%[\w\W]*|[\w\W]*%>/gm),Ky=gy(/^data-[\-\w.\u00B7-\uFFFF]/),Yy=gy(/^aria-[\-\w]+$/),Xy=gy(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Jy=gy(/^(?:\w+script|data):/i),Qy=gy(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),eb=gy(/^html$/i),tb=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,r=function(t){return e(t)};if(r.version="2.3.8",r.removed=[],!t||!t.document||9!==t.document.nodeType)return r.isSupported=!1,r;var n=t.document,o=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,l=t.Element,c=t.NodeFilter,h=t.NamedNodeMap,d=void 0===h?t.NamedNodeMap||t.MozNamedAttrMap:h,u=t.HTMLFormElement,p=t.DOMParser,f=t.trustedTypes,m=l.prototype,g=Ny(m,"cloneNode"),v=Ny(m,"nextSibling"),y=Ny(m,"childNodes"),b=Ny(m,"parentNode");if("function"==typeof s){var w=o.createElement("template");w.content&&w.content.ownerDocument&&(o=w.content.ownerDocument)}var x=function(e,t){if("object"!==iy(e)||"function"!=typeof e.createPolicy)return null;var r=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(r=t.currentScript.getAttribute(n));var o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(f,n),E=x?x.createHTML(""):"",S=o,_=S.implementation,C=S.createNodeIterator,A=S.createDocumentFragment,k=S.getElementsByTagName,T=n.importNode,P={};try{P=Ry(o).documentMode?o.documentMode:{}}catch(e){}var M={};r.isSupported="function"==typeof b&&_&&void 0!==_.createHTMLDocument&&9!==P;var D,O,I=$y,R=Zy,N=Ky,F=Yy,B=Jy,L=Qy,V=Xy,z=null,H=Iy({},[].concat(ly(Fy),ly(By),ly(Ly),ly(zy),ly(jy))),j=null,G=Iy({},[].concat(ly(Gy),ly(Uy),ly(qy),ly(Wy))),U=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,W=null,$=!0,Z=!0,K=!1,Y=!1,X=!1,J=!1,Q=!1,ee=!1,te=!1,re=!1,ne=!0,oe=!0,ie=!1,se={},ae=null,le=Iy({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ce=null,he=Iy({},["audio","video","img","source","image","track"]),de=null,ue=Iy({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml",ge=me,ve=!1,ye=["application/xhtml+xml","text/html"],be=null,we=o.createElement("form"),xe=function(e){return e instanceof RegExp||e instanceof Function},Ee=function(e){be&&be===e||(e&&"object"===iy(e)||(e={}),e=Ry(e),z="ALLOWED_TAGS"in e?Iy({},e.ALLOWED_TAGS):H,j="ALLOWED_ATTR"in e?Iy({},e.ALLOWED_ATTR):G,de="ADD_URI_SAFE_ATTR"in e?Iy(Ry(ue),e.ADD_URI_SAFE_ATTR):ue,ce="ADD_DATA_URI_TAGS"in e?Iy(Ry(he),e.ADD_DATA_URI_TAGS):he,ae="FORBID_CONTENTS"in e?Iy({},e.FORBID_CONTENTS):le,q="FORBID_TAGS"in e?Iy({},e.FORBID_TAGS):{},W="FORBID_ATTR"in e?Iy({},e.FORBID_ATTR):{},se="USE_PROFILES"in e&&e.USE_PROFILES,$=!1!==e.ALLOW_ARIA_ATTR,Z=!1!==e.ALLOW_DATA_ATTR,K=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=e.SAFE_FOR_TEMPLATES||!1,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,re=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,oe=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,V=e.ALLOWED_URI_REGEXP||V,ge=e.NAMESPACE||me,e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(U.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),D=D=-1===ye.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,O="application/xhtml+xml"===D?function(e){return e}:Cy,Y&&(Z=!1),te&&(ee=!0),se&&(z=Iy({},ly(jy)),j=[],!0===se.html&&(Iy(z,Fy),Iy(j,Gy)),!0===se.svg&&(Iy(z,By),Iy(j,Uy),Iy(j,Wy)),!0===se.svgFilters&&(Iy(z,Ly),Iy(j,Uy),Iy(j,Wy)),!0===se.mathMl&&(Iy(z,zy),Iy(j,qy),Iy(j,Wy))),e.ADD_TAGS&&(z===H&&(z=Ry(z)),Iy(z,e.ADD_TAGS)),e.ADD_ATTR&&(j===G&&(j=Ry(j)),Iy(j,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&Iy(de,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ae===le&&(ae=Ry(ae)),Iy(ae,e.FORBID_CONTENTS)),oe&&(z["#text"]=!0),X&&Iy(z,["html","head","body"]),z.table&&(Iy(z,["tbody"]),delete q.tbody),my&&my(e),be=e)},Se=Iy({},["mi","mo","mn","ms","mtext"]),_e=Iy({},["foreignobject","desc","title","annotation-xml"]),Ce=Iy({},["title","style","font","a","script"]),Ae=Iy({},By);Iy(Ae,Ly),Iy(Ae,Vy);var ke=Iy({},zy);Iy(ke,Hy);var Te=function(e){_y(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=E}catch(t){e.remove()}}},Pe=function(e,t){try{_y(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){_y(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!j[e])if(ee||te)try{Te(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Me=function(e){var t,r;if(Q)e="<remove></remove>"+e;else{var n=Ay(e,/^[\r\n\t ]+/);r=n&&n[0]}"application/xhtml+xml"===D&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=x?x.createHTML(e):e;if(ge===me)try{t=(new p).parseFromString(i,D)}catch(e){}if(!t||!t.documentElement){t=_.createDocument(ge,"template",null);try{t.documentElement.innerHTML=ve?"":i}catch(e){}}var s=t.body||t.documentElement;return e&&r&&s.insertBefore(o.createTextNode(r),s.childNodes[0]||null),ge===me?k.call(t,X?"html":"body")[0]:X?t.documentElement:s},De=function(e){return C.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Oe=function(e){return"object"===iy(a)?e instanceof a:e&&"object"===iy(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ie=function(e,t,n){M[e]&&Ey(M[e],(function(e){e.call(r,t,n,be)}))},Re=function(e){var t;if(Ie("beforeSanitizeElements",e,null),function(e){return e instanceof u&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)}(e))return Te(e),!0;if(My(/[\u0080-\uFFFF]/,e.nodeName))return Te(e),!0;var n=O(e.nodeName);if(Ie("uponSanitizeElement",e,{tagName:n,allowedTags:z}),e.hasChildNodes()&&!Oe(e.firstElementChild)&&(!Oe(e.content)||!Oe(e.content.firstElementChild))&&My(/<[/\w]/g,e.innerHTML)&&My(/<[/\w]/g,e.textContent))return Te(e),!0;if("select"===n&&My(/<template/i,e.innerHTML))return Te(e),!0;if(!z[n]||q[n]){if(!q[n]&&Fe(n)){if(U.tagNameCheck instanceof RegExp&&My(U.tagNameCheck,n))return!1;if(U.tagNameCheck instanceof Function&&U.tagNameCheck(n))return!1}if(oe&&!ae[n]){var o=b(e)||e.parentNode,i=y(e)||e.childNodes;if(i&&o)for(var s=i.length-1;s>=0;--s)o.insertBefore(g(i[s],!0),v(e))}return Te(e),!0}return e instanceof l&&!function(e){var t=b(e);t&&t.tagName||(t={namespaceURI:me,tagName:"template"});var r=Cy(e.tagName),n=Cy(t.tagName);return e.namespaceURI===fe?t.namespaceURI===me?"svg"===r:t.namespaceURI===pe?"svg"===r&&("annotation-xml"===n||Se[n]):Boolean(Ae[r]):e.namespaceURI===pe?t.namespaceURI===me?"math"===r:t.namespaceURI===fe?"math"===r&&_e[n]:Boolean(ke[r]):e.namespaceURI===me&&!(t.namespaceURI===fe&&!_e[n])&&!(t.namespaceURI===pe&&!Se[n])&&!ke[r]&&(Ce[r]||!Ae[r])}(e)?(Te(e),!0):"noscript"!==n&&"noembed"!==n||!My(/<\/no(script|embed)/i,e.innerHTML)?(Y&&3===e.nodeType&&(t=e.textContent,t=ky(t,I," "),t=ky(t,R," "),e.textContent!==t&&(_y(r.removed,{element:e.cloneNode()}),e.textContent=t)),Ie("afterSanitizeElements",e,null),!1):(Te(e),!0)},Ne=function(e,t,r){if(ne&&("id"===t||"name"===t)&&(r in o||r in we))return!1;if(Z&&!W[t]&&My(N,t));else if($&&My(F,t));else if(!j[t]||W[t]){if(!(Fe(e)&&(U.tagNameCheck instanceof RegExp&&My(U.tagNameCheck,e)||U.tagNameCheck instanceof Function&&U.tagNameCheck(e))&&(U.attributeNameCheck instanceof RegExp&&My(U.attributeNameCheck,t)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(t))||"is"===t&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&My(U.tagNameCheck,r)||U.tagNameCheck instanceof Function&&U.tagNameCheck(r))))return!1}else if(de[t]);else if(My(V,ky(r,L,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Ty(r,"data:")||!ce[e])if(K&&!My(B,ky(r,L,"")));else if(r)return!1;return!0},Fe=function(e){return e.indexOf("-")>0},Be=function(e){var t,r,n,o;Ie("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j};for(o=i.length;o--;){var a=t=i[o],l=a.name,c=a.namespaceURI;r="value"===l?t.value:Py(t.value),n=O(l);var h=r;if(s.attrName=n,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,Ie("uponSanitizeAttribute",e,s),r=s.attrValue,!s.forceKeepAttr)if(s.keepAttr)if(My(/\/>/i,r))Pe(l,e);else{Y&&(r=ky(r,I," "),r=ky(r,R," "));var d=O(e.nodeName);if(Ne(d,n,r)){if(r!==h)try{c?e.setAttributeNS(c,l,r):e.setAttribute(l,r)}catch(t){Pe(l,e)}}else Pe(l,e)}else Pe(l,e)}Ie("afterSanitizeAttributes",e,null)}},Le=function e(t){var r,n=De(t);for(Ie("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)Ie("uponSanitizeShadowNode",r,null),Re(r)||(r.content instanceof i&&e(r.content),Be(r));Ie("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(e,o){var s,l,c,h,d;if((ve=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Oe(e)){if("function"!=typeof e.toString)throw Dy("toString is not a function");if("string"!=typeof(e=e.toString()))throw Dy("dirty is not a string, aborting")}if(!r.isSupported){if("object"===iy(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Oe(e))return t.toStaticHTML(e.outerHTML)}return e}if(J||Ee(o),r.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){var u=O(e.nodeName);if(!z[u]||q[u])throw Dy("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof a)1===(l=(s=Me("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!ee&&!Y&&!X&&-1===e.indexOf("<"))return x&&re?x.createHTML(e):e;if(!(s=Me(e)))return ee?null:re?E:""}s&&Q&&Te(s.firstChild);for(var p=De(ie?e:s);c=p.nextNode();)3===c.nodeType&&c===h||Re(c)||(c.content instanceof i&&Le(c.content),Be(c),h=c);if(h=null,ie)return e;if(ee){if(te)for(d=A.call(s.ownerDocument);s.firstChild;)d.appendChild(s.firstChild);else d=s;return j.shadowroot&&(d=T.call(n,d,!0)),d}var f=X?s.outerHTML:s.innerHTML;return X&&z["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&My(eb,s.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+f),Y&&(f=ky(f,I," "),f=ky(f,R," ")),x&&re?x.createHTML(f):f},r.setConfig=function(e){Ee(e),J=!0},r.clearConfig=function(){be=null,J=!1},r.isValidAttribute=function(e,t,r){be||Ee({});var n=O(e),o=O(t);return Ne(n,o,r)},r.addHook=function(e,t){"function"==typeof t&&(M[e]=M[e]||[],_y(M[e],t))},r.removeHook=function(e){if(M[e])return Sy(M[e])},r.removeHooks=function(e){M[e]&&(M[e]=[])},r.removeAllHooks=function(){M={}},r}();const rb=Rt.each,nb=Rt.trim,ob=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ib={ftp:21,http:80,https:443,mailto:25},sb=["img","video"],ab=(e,t,r)=>{const n=(e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}})(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(n)||!e.allow_html_data_urls&&(/^data:image\//i.test(n)?((e,t)=>x(e)?!e:!x(t)||!G(sb,t))(e.allow_svg_data_urls,r)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)))};class lb{constructor(e,t={}){this.path="",this.directory="",e=nb(e),this.settings=t;const r=t.base_uri,n=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(n.source=e);const o=0===e.indexOf("//");if(0!==e.indexOf("/")||o||(e=(r&&r.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const t=r?r.path:new lb(document.location.href).directory;if(""===(null==r?void 0:r.protocol))e="//mce_host"+n.toAbsPath(t,e);else{const o=/([^#?]*)([#?]?.*)/.exec(e);o&&(e=(r&&r.protocol||"http")+"://mce_host"+n.toAbsPath(t,o[1])+o[2])}}e=e.replace(/@@/g,"(mce_at)");const i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);i&&rb(ob,((e,t)=>{let r=i[t];r&&(r=r.replace(/\(mce_at\)/g,"@@")),n[e]=r})),r&&(n.protocol||(n.protocol=r.protocol),n.userInfo||(n.userInfo=r.userInfo),n.port||"mce_host"!==n.host||(n.port=r.port),n.host&&"mce_host"!==n.host||(n.host=r.host),n.source=""),o&&(n.protocol="")}static parseDataUri(e){let t;const r=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(r[0]);return n&&(t=n[1]),{type:t,data:r[1]}}static isDomSafe(e,t,r={}){if(r.allow_script_urls)return!0;{const n=qi.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!ab(r,n,t)}}static getDocumentBaseUrl(e){var t;let r;return r=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!==(t=e.href)&&void 0!==t?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;const t=new lb(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();const r=this.getURI(),n=t.getURI();if(r===n||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===n)return r;let o=this.toRelPath(this.path,t.path);return t.query&&(o+="?"+t.query),t.anchor&&(o+="#"+t.anchor),o}toAbsolute(e,t){const r=new lb(e,{base_uri:this});return r.getURI(t&&this.isSameOrigin(r))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=this.protocol?ib[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let r,n,o=0,i="";const s=e.substring(0,e.lastIndexOf("/")).split("/"),a=t.split("/");if(s.length>=a.length)for(r=0,n=s.length;r<n;r++)if(r>=a.length||s[r]!==a[r]){o=r+1;break}if(s.length<a.length)for(r=0,n=a.length;r<n;r++)if(r>=s.length||s[r]!==a[r]){o=r+1;break}if(1===o)return t;for(r=0,n=s.length-(o-1);r<n;r++)i+="../";for(r=o-1,n=a.length;r<n;r++)i+=r!==o-1?"/"+a[r]:a[r];return i}toAbsPath(e,t){let r=0;const n=/\/$/.test(t)?"/":"",o=e.split("/"),i=t.split("/"),s=[];rb(o,(e=>{e&&s.push(e)}));const a=[];for(let e=i.length-1;e>=0;e--)0!==i[e].length&&"."!==i[e]&&(".."!==i[e]?r>0?r--:a.push(i[e]):r++);const l=s.length-r;let c;return c=l<=0?oe(a).join("/"):s.slice(0,l).join("/")+"/"+oe(a).join("/"),0!==c.indexOf("/")&&(c="/"+c),n&&c.lastIndexOf("/")!==c.length-1&&(c+=n),c}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const cb=Rt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),hb="data-mce-type";let db=0;const ub=(e,t,r,n)=>{var o,i,s,a;const l=t.validate,c=r.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!==(o=e.nodeValue)&&void 0!==o?o:"")&&(e.nodeValue=" "+e.nodeValue);const h=null!==(i=null==n?void 0:n.tagName)&&void 0!==i?i:e.nodeName.toLowerCase();if(1!==e.nodeType||"body"===h)return;const d=gr(e),u=er(d,hb),f=Jt(d,"data-mce-bogus");if(!u&&p(f))return void("all"===f?vn(d):yn(d));const m=r.getElementRule(h);if(!l||m){if(x(n)&&(n.allowedTags[h]=!0),l&&m&&!u){if(W(null!==(s=m.attributesForced)&&void 0!==s?s:[],(e=>{Yt(d,e.name,"{$uid}"===e.value?"mce_"+db++:e.value)})),W(null!==(a=m.attributesDefault)&&void 0!==a?a:[],(e=>{er(d,e.name)||Yt(d,e.name,"{$uid}"===e.value?"mce_"+db++:e.value)})),m.attributesRequired&&!U(m.attributesRequired,(e=>er(d,e))))return void yn(d);if(m.removeEmptyAttrs&&(e=>{const t=e.dom.attributes;return null==t||0===t.length})(d))return void yn(d);m.outputName&&m.outputName!==h&&((e,t)=>{const r=((e,t)=>{const r=fr(t),n=rr(e);return Xt(r,n),r})(e,t);dn(e,r);const n=Or(e);mn(r,n),vn(e)})(d,m.outputName)}}else _e(c,h)?vn(d):yn(d)},pb=(e,t,r,n,o)=>!(n in cb&&ab(e,o,r))&&(!e.validate||t.isValid(r,n)||Ge(n,"data-")||Ge(n,"aria-")),fb=(e,t)=>e.hasAttribute(hb)&&("id"===t||"class"===t||"style"===t),mb=(e,t)=>e in t.getBoolAttrs(),gb=(e,t,r)=>{const{attributes:n}=e;for(let o=n.length-1;o>=0;o--){const i=n[o],s=i.name,a=i.value;pb(t,r,e.tagName.toLowerCase(),s,a)||fb(e,s)?mb(s,r)&&e.setAttribute(s,s):e.removeAttribute(s)}},vb=Rt.makeMap,yb=Rt.extend,bb=(e,t,r)=>{const n=e.name,o=n in r&&"title"!==n&&"textarea"!==n,i=t.childNodes;for(let t=0,n=i.length;t<n;t++){const n=i[t],s=new xf(n.nodeName.toLowerCase(),n.nodeType);if(Ln(n)){const e=n.attributes;for(let t=0,r=e.length;t<r;t++){const r=e[t];s.attr(r.name,r.value)}}else $n(n)?(s.value=n.data,o&&(s.raw=!0)):(Yn(n)||Zn(n)||Kn(n))&&(s.value=n.data);bb(s,n,r),e.append(s)}},wb=(e={},t=os())=>{const r=Xv(),n=Xv(),o={validate:!0,root_name:"body",sanitize:!0,...e},i=new DOMParser,s=((e,t)=>{if(e.sanitize){const r=((e,t)=>{const r=tb();return r.addHook("uponSanitizeElement",((r,n)=>{ub(r,e,t,n)})),r.addHook("uponSanitizeAttribute",((r,n)=>{const o=r.tagName.toLowerCase(),{attrName:i,attrValue:s}=n;n.keepAttr=pb(e,t,o,i,s),n.keepAttr?(n.allowedAttributes[i]=!0,mb(i,t)&&(n.attrValue=i),e.allow_svg_data_urls&&Ge(s,"data:image/svg+xml")&&(n.forceKeepAttr=!0)):fb(r,i)&&(n.forceKeepAttr=!0)})),r})(e,t);return(t,n)=>{r.sanitize(t,((e,t)=>{const r={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r})(e,n)),r.removed=[]}}return(r,n)=>{const o=document.createNodeIterator(r,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let i;for(;i=o.nextNode();)ub(i,e,t),Ln(i)&&gb(i,e,t)}})(o,t),a=r.addFilter,l=r.getFilters,c=r.removeFilter,h=n.addFilter,d=n.getFilters,u=n.removeFilter,f=(e,r)=>{const n=p(r.attr(hb)),o=1===r.type&&!_e(e,r.name)&&!((e,t)=>1===t.type&&bi(e,t.name)&&p(t.attr(di)))(t,r);return 3===r.type||o&&!n},m={schema:t,addAttributeFilter:h,getAttributeFilters:d,removeAttributeFilter:u,addNodeFilter:a,getNodeFilters:l,removeNodeFilter:c,parse:(e,r={})=>{var n;const a=o.validate,c=null!==(n=r.context)&&void 0!==n?n:o.root_name,h=((e,r,n="html")=>{const o="xhtml"===n?"application/xhtml+xml":"text/html",a=_e(t.getSpecialElements(),r.toLowerCase()),l=a?`<${r}>${e}</${r}>`:e,c="xhtml"===n?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${l}</body></html>`:`<body>${l}</body>`,h=i.parseFromString(c,o).body;return s(h,o),a?h.firstChild:h})(e,c,r.format);gi(t,h);const u=new xf(c,11);bb(u,h,t.getSpecialElements()),h.innerHTML="";const[p,m]=((e,t,r,n)=>{const o=r.validate,i=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=yb(vb("script,style,head,html,body,title,meta,param"),t.getBlockElements()),l=rs(t),c=/[ \t\r\n]+/g,h=/^[ \t\r\n]+/,d=/[ \t\r\n]+$/,u=e=>{let t=e.parent;for(;x(t);){if(t.name in s)return!0;t=t.parent}return!1},p=e=>e.name in a&&!Si(t,e),f=(t,r)=>{const o=r?t.prev:t.next;return!x(o)&&!w(t.parent)&&p(t.parent)&&(t.parent!==e||!0===n.isRootContent)};return[e=>{var t;if(3===e.type&&!u(e)){let r=null!==(t=e.value)&&void 0!==t?t:"";r=r.replace(c," "),(((e,t)=>x(e)&&(t(e)||"br"===e.name))(e.prev,p)||f(e,!0))&&(r=r.replace(h,"")),0===r.length?e.remove():e.value=r}},e=>{var r;if(1===e.type){const r=t.getElementRule(e.name);if(o&&r){const o=kg(t,i,s,e);r.paddInEmptyBlock&&o&&(e=>{let r=e;for(;x(r);){if(r.name in l)return kg(t,i,s,r);r=r.parent}return!1})(e)?Cg(n,p,e):r.removeEmpty&&o?p(e)?e.remove():e.unwrap():r.paddEmpty&&(o||(e=>{var t;return Ag(e,"#text")&&(null===(t=null==e?void 0:e.firstChild)||void 0===t?void 0:t.value)===lo})(e))&&Cg(n,p,e)}}else if(3===e.type&&!u(e)){let t=null!==(r=e.value)&&void 0!==r?r:"";(e.next&&p(e.next)||f(e,!1))&&(t=t.replace(d,"")),0===t.length?e.remove():e.value=t}}]})(u,t,o,r),g=[],v=a?e=>((e,r)=>{Dg(t,e)&&r.push(e)})(e,g):C,y={nodes:{},attributes:{}},b=e=>Eg(l(),d(),e,y);if(((e,t,r)=>{const n=[];for(let r=e,o=r;r;o=r,r=r.walk()){const i=r;W(t,(e=>e(i))),w(i.parent)&&i!==e?r=o:n.push(i)}for(let e=n.length-1;e>=0;e--){const t=n[e];W(r,(e=>e(t)))}})(u,[p,b],[m,v]),g.reverse(),a&&g.length>0)if(r.context){const{pass:e,fail:n}=Z(g,(e=>e.parent===u));Mg(n,t,u,b),r.invalid=e.length>0}else Mg(g,t,u,b);const E=((e,t)=>{var r;const n=null!==(r=t.forced_root_block)&&void 0!==r?r:e.forced_root_block;return!1===n?"":!0===n?"p":n})(o,r);return E&&("body"===u.name||r.isRootContent)&&((e,r)=>{const n=yb(vb("script,style,head,html,body,title,meta,param"),t.getBlockElements()),i=/^[ \t\r\n]+/,s=/[ \t\r\n]+$/;let a=e.firstChild,l=null;const c=e=>{var t,r;e&&(a=e.firstChild,a&&3===a.type&&(a.value=null===(t=a.value)||void 0===t?void 0:t.replace(i,"")),a=e.lastChild,a&&3===a.type&&(a.value=null===(r=a.value)||void 0===r?void 0:r.replace(s,"")))};if(t.isValidChild(e.name,r.toLowerCase())){for(;a;){const t=a.next;f(n,a)?(l||(l=new xf(r,1),l.attr(o.forced_root_block_attrs),e.insert(l,a)),l.append(a)):(c(l),l=null),a=t}c(l)}})(u,E),r.invalid||Sg(y,r),u}};return((e,t)=>{const r=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",((e,t,n)=>{const o=Rt.extend({},r.getBlockElements()),i=r.getNonEmptyElements(),s=r.getWhitespaceElements();o.body=1;const a=e=>e.name in o&&Si(r,e);for(let t=0,l=e.length;t<l;t++){let l=e[t],c=l.parent;if(c&&o[c.name]&&l===c.lastChild){let e=l.prev;for(;e;){const t=e.name;if("span"!==t||"bookmark"!==e.attr("data-mce-type")){"br"===t&&(l=null);break}e=e.prev}if(l&&(l.remove(),kg(r,i,s,c))){const e=r.getElementRule(c.name);e&&(e.removeEmpty?c.remove():e.paddEmpty&&Cg(n,a,c))}}else{let e=l;for(;c&&c.firstChild===e&&c.lastChild===e&&(e=c,!o[c.name]);)c=c.parent;if(e===c){const e=new xf("#text",3);e.value=lo,l.replace(e)}}}})),e.addAttributeFilter("href",(e=>{let r=e.length;const n=e=>{const t=e?Rt.trim(e):"";return/\b(noopener)\b/g.test(t)?t:(e=>e.split(" ").filter((e=>e.length>0)).concat(["noopener"]).sort().join(" "))(t)};if(!t.allow_unsafe_link_target)for(;r--;){const t=e[r];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",n(t.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(e=>{let t,r,n,o,i=e.length;for(;i--;)if(o=e[i],"a"===o.name&&o.firstChild&&!o.attr("href"))for(n=o.parent,t=o.lastChild;t&&n;)r=t.prev,n.insert(t,o),t=r})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(e=>{let t,r,n=e.length;for(;n--;)if(t=e[n],r=t.parent,r&&("ul"===r.name||"ol"===r.name))if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{const e=new xf("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}}));const n=r.getValidClasses();t.validate&&n&&e.addAttributeFilter("class",(e=>{var t;let r=e.length;for(;r--;){const o=e[r],i=null!==(t=o.attr("class"))&&void 0!==t?t:"",s=Rt.explode(i," ");let a="";for(let e=0;e<s.length;e++){const t=s[e];let r=!1,i=n["*"];i&&i[t]&&(r=!0),i=n[o.name],!r&&i&&i[t]&&(r=!0),r&&(a&&(a+=" "),a+=t)}a.length||(a=null),o.attr("class",a)}})),((e,t)=>{const{blob_cache:r}=t;if(r){const t=e=>{const t=e.attr("src");(e=>e.attr("src")===Mt.transparentSrc||x(e.attr("data-mce-placeholder")))(e)||(e=>x(e.attr("data-mce-bogus")))(e)||w(t)||oy(r,t,!0).each((t=>{e.attr("src",t.blobUri())}))};e.addAttributeFilter("src",(e=>W(e,t)))}})(e,t)})(m,o),((e,t,r)=>{t.inline_styles&&((e,t,r)=>{var n;const o=is();t.convert_fonts_to_spans&&((e,t,r)=>{e.addNodeFilter("font",(e=>{W(e,(e=>{const n=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),s=e.attr("size");o&&(n.color=o),i&&(n["font-family"]=i),s&&Xe(s).each((e=>{n["font-size"]=r[e-1]})),e.name="span",e.attr("style",t.serialize(n)),((e,t)=>{W(["color","face","size"],(t=>{e.attr(t,null)}))})(e)}))}))})(e,o,Rt.explode(null!==(n=t.font_size_legacy_values)&&void 0!==n?n:"")),((e,t,r)=>{e.addNodeFilter("strike",(e=>{const n="html4"!==t.type;W(e,(e=>{if(n)e.name="s";else{const t=r.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",r.serialize(t))}}))}))})(e,r,o)})(e,t,r)})(m,o,t),m},xb=(e,t,r)=>{const n=(e=>Lg(e)?Mf({validate:!1}).serialize(e):e)(e),o=t(n);if(o.isDefaultPrevented())return o;if(Lg(e)){if(o.content!==n){const t=wb({validate:!1,forced_root_block:!1,sanitize:r}).parse(o.content,{context:e.name});return{...o,content:t}}return{...o,content:e}}return o},Eb=(e,t)=>{if(t.no_events)return Qa.value(t);{const r=((e,t)=>e.dispatch("BeforeGetContent",t))(e,t);return r.isDefaultPrevented()?Qa.error(Bu(e,{content:"",...r}).content):Qa.value(r)}},Sb=(e,t,r)=>{if(r.no_events)return t;{const n=xb(t,(t=>Bu(e,{...r,content:t})),Kc(e));return n.content}},_b=(e,t)=>{if(t.no_events)return Qa.value(t);{const r=xb(t.content,(r=>((e,t)=>e.dispatch("BeforeSetContent",t))(e,{...t,content:r})),Kc(e));return r.isDefaultPrevented()?(Fu(e,r),Qa.error(void 0)):Qa.value(r)}},Cb=(e,t,r)=>{r.no_events||Fu(e,{...r,content:t})},Ab=(e,t,r)=>({element:e,width:t,rows:r}),kb=(e,t)=>({element:e,cells:t}),Tb=(e,t)=>({x:e,y:t}),Pb=(e,t)=>Qt(e,t).bind(Xe).getOr(1),Mb=(e,t,r)=>{const n=e.rows;return!!(n[r]?n[r].cells:[])[t]},Db=e=>X(e,((e,t)=>t.cells.length>e?t.cells.length:e),0),Ob=(e,t)=>{const r=e.rows;for(let e=0;e<r.length;e++){const n=r[e].cells;for(let r=0;r<n.length;r++)if(wr(n[r],t))return L.some(Tb(r,e))}return L.none()},Ib=(e,t,r,n,o)=>{const i=[],s=e.rows;for(let e=r;e<=o;e++){const r=s[e].cells,o=t<n?r.slice(t,n+1):r.slice(n,t+1);i.push(kb(s[e].element,o))}return i},Rb=e=>((e,t)=>{const r=Xs(e.element),n=fr("tbody");return mn(n,t),pn(r,n),r})(e,(e=>q(e.rows,(e=>{const t=q(e.cells,(e=>{const t=Js(e);return tr(t,"colspan"),tr(t,"rowspan"),t})),r=Xs(e.element);return mn(r,t),r})))(e)),Nb=()=>op([]),Fb=(e,t)=>t>=0&&t<e.length&&_d(e.charAt(t)),Bb=e=>Oo(e.innerText),Lb=e=>Ln(e)?e.outerHTML:$n(e)?qi.encodeRaw(e.data,!1):Yn(e)?"\x3c!--"+e.data+"--\x3e":"",Vb=Ne((()=>document.implementation.createHTMLDocument("undo"))),zb=e=>{const t=(r=e.getBody(),K(q(de(r.childNodes),Lb),(e=>e.length>0)));var r;const n=re(t,(t=>{const r=_f(e.serializer,t);return r.length>0?[r]:[]})),o=n.join("");return(e=>-1!==e.indexOf("</iframe>"))(o)?(e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}))(n):(e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}))(o)},Hb=(e,t,r)=>{const n=r?t.beforeBookmark:t.bookmark;"fragmented"===t.type?((e,t)=>{((e,t)=>{let r=0;W(e,(e=>{0===e[0]?r++:1===e[0]?(((e,t,r)=>{const n=(e=>{let t;const r=document.createElement("div"),n=document.createDocumentFragment();for(e&&(r.innerHTML=e);t=r.firstChild;)n.appendChild(t);return n})(t);if(e.hasChildNodes()&&r<e.childNodes.length){const t=e.childNodes[r];e.insertBefore(n,t)}else e.appendChild(n)})(t,e[1],r),r++):2===e[0]&&((e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const r=e.childNodes[t];e.removeChild(r)}})(t,r)}))})(((e,t)=>{const r=e.length+t.length+2,n=new Array(r),o=new Array(r),i=(r,n,o,s,l)=>{const c=a(r,n,o,s);if(null===c||c.start===n&&c.diag===n-s||c.end===r&&c.diag===r-o){let i=r,a=o;for(;i<n||a<s;)i<n&&a<s&&e[i]===t[a]?(l.push([0,e[i]]),++i,++a):n-r>s-o?(l.push([2,e[i]]),++i):(l.push([1,t[a]]),++a)}else{i(r,c.start,o,c.start-c.diag,l);for(let t=c.start;t<c.end;++t)l.push([0,e[t]]);i(c.end,n,c.end-c.diag,s,l)}},s=(r,n,o,i)=>{let s=r;for(;s-n<i&&s<o&&e[s]===t[s-n];)++s;return((e,t,r)=>({start:e,end:t,diag:r}))(r,s,n)},a=(r,i,a,l)=>{const c=i-r,h=l-a;if(0===c||0===h)return null;const d=c-h,u=h+c,p=(u%2==0?u:u+1)/2;let f,m,g,v,y;for(n[1+p]=r,o[1+p]=i+1,f=0;f<=p;++f){for(m=-f;m<=f;m+=2){for(g=m+p,m===-f||m!==f&&n[g-1]<n[g+1]?n[g]=n[g+1]:n[g]=n[g-1]+1,v=n[g],y=v-r+a-m;v<i&&y<l&&e[v]===t[y];)n[g]=++v,++y;if(d%2!=0&&d-f<=m&&m<=d+f&&o[g-d]<=n[g])return s(o[g-d],m+r-a,i,l)}for(m=d-f;m<=d+f;m+=2){for(g=m+p-d,m===d-f||m!==d+f&&o[g+1]<=o[g-1]?o[g]=o[g+1]-1:o[g]=o[g-1],v=o[g]-1,y=v-r+a-m;v>=r&&y>=a&&e[v]===t[y];)o[g]=v--,y--;if(d%2==0&&-f<=m&&m<=f&&o[g]<=n[g+d])return s(o[g],m+r-a,i,l)}}return null},l=[];return i(0,e.length,0,t.length,l),l})(q(de(t.childNodes),Lb),e),t)})(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!x(n)||!ud(n)||!n.isFakeCaret}),n&&(e.selection.moveToBookmark(n),e.selection.scrollIntoView())},jb=e=>"fragmented"===e.type?e.fragments.join(""):e.content,Gb=e=>{const t=fr("body",Vb());return xn(t,jb(e)),W(In(t,"*[data-mce-bogus]"),yn),wn(t)},Ub=(e,t)=>!(!e||!t)&&(!!((e,t)=>jb(e)===jb(t))(e,t)||((e,t)=>Gb(e)===Gb(t))(e,t)),qb=e=>0===e.get(),Wb=(e,t,r)=>{qb(r)&&(e.typing=t)},$b=(e,t)=>{e.typing&&(Wb(e,!1,t),e.add())},Zb=e=>({init:{bindEvents:C},undoManager:{beforeChange:(t,r)=>((e,t,r)=>{qb(t)&&r.set(Ya(e.selection))})(e,t,r),add:(t,r,n,o,i,s)=>((e,t,r,n,o,i,s)=>{const a=zb(e),l=Rt.extend(i||{},a);if(!qb(n)||e.removed)return null;const c=t.data[r.get()];if(e.dispatch("BeforeAddUndo",{level:l,lastLevel:c,originalEvent:s}).isDefaultPrevented())return null;if(c&&Ub(c,l))return null;t.data[r.get()]&&o.get().each((e=>{t.data[r.get()].beforeBookmark=e}));const h=fc(e);if(h&&t.data.length>h){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,r.set(t.data.length)}l.bookmark=Ya(e.selection),r.get()<t.data.length-1&&(t.data.length=r.get()+1),t.data.push(l),r.set(t.data.length-1);const d={level:l,lastLevel:c,originalEvent:s};return r.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",d),e.dispatch("change",d)):e.dispatch("AddUndo",d),l})(e,t,r,n,o,i,s),undo:(t,r,n)=>((e,t,r,n)=>{let o;return t.typing&&(t.add(),t.typing=!1,Wb(t,!1,r)),n.get()>0&&(n.set(n.get()-1),o=t.data[n.get()],Hb(e,o,!0),e.setDirty(!0),e.dispatch("Undo",{level:o})),o})(e,t,r,n),redo:(t,r)=>((e,t,r)=>{let n;return t.get()<r.length-1&&(t.set(t.get()+1),n=r[t.get()],Hb(e,n,!1),e.setDirty(!0),e.dispatch("Redo",{level:n})),n})(e,t,r),clear:(t,r)=>((e,t,r)=>{t.data=[],r.set(0),t.typing=!1,e.dispatch("ClearUndos")})(e,t,r),reset:e=>(e=>{e.clear(),e.add()})(e),hasUndo:(t,r)=>((e,t,r)=>r.get()>0||t.typing&&t.data[0]&&!Ub(zb(e),t.data[0]))(e,t,r),hasRedo:(e,t)=>((e,t)=>t.get()<e.data.length-1&&!e.typing)(e,t),transact:(e,t,r)=>((e,t,r)=>($b(e,t),e.beforeChange(),e.ignore(r),e.add()))(e,t,r),ignore:(e,t)=>((e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}})(e,t),extra:(t,r,n,o)=>((e,t,r,n,o)=>{if(t.transact(n)){const n=t.data[r.get()].bookmark,i=t.data[r.get()-1];Hb(e,i,!0),t.transact(o)&&(t.data[r.get()-1].beforeBookmark=n)}})(e,t,r,n,o)},formatter:{match:(t,r,n,o)=>Zg(e,t,r,n,o),matchAll:(t,r)=>((e,t,r)=>{const n=[],o={},i=e.selection.getStart();return e.dom.getParent(i,(i=>{for(let s=0;s<t.length;s++){const a=t[s];!o[a]&&$g(e,i,a,r)&&(o[a]=!0,n.push(a))}}),e.dom.getRoot()),n})(e,t,r),matchNode:(t,r,n,o)=>$g(e,t,r,n,o),canApply:t=>((e,t)=>{const r=e.formatter.get(t),n=e.dom;if(r){const t=e.selection.getStart(),o=iu(n,t);for(let e=r.length-1;e>=0;e--){const t=r[e];if(!lu(t))return!0;for(let e=o.length-1;e>=0;e--)if(n.is(o[e],t.selector))return!0}}return!1})(e,t),closest:t=>((e,t)=>{const r=t=>wr(t,gr(e.getBody()));return L.from(e.selection.getStart(!0)).bind((n=>Hg(gr(n),(r=>ue(t,(t=>((t,r)=>$g(e,t.dom,r)?L.some(r):L.none())(r,t)))),r))).getOrNull()})(e,t),apply:(t,r,n)=>Uv(e,t,r,n),remove:(t,r,n,o)=>zv(e,t,r,n,o),toggle:(t,r,n)=>((e,t,r,n)=>{const o=e.formatter.get(t);o&&(!Zg(e,t,r,n)||"toggle"in o[0]&&!o[0].toggle?Uv(e,t,r,n):zv(e,t,r,n))})(e,t,r,n),formatChanged:(t,r,n,o,i)=>((e,t,r,n,o,i)=>(((e,t,r,n,o,i)=>{const s=t.get();W(r.split(","),(t=>{const r=Se(s,t).getOrThunk((()=>{const e={withSimilar:{state:ks(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ks(!1),similar:!1,callbacks:[]},withVars:[]};return s[t]=e,e})),a=()=>{const r=Zv(e);return $v(e,r,t,o,i).isSome()};if(b(i)){const e=o?r.withSimilar:r.withoutSimilar;e.callbacks.push(n),1===e.callbacks.length&&e.state.set(a())}else r.withVars.push({state:ks(a()),similar:o,vars:i,callback:n})})),t.set(s)})(e,t,r,n,o,i),{unbind:()=>((e,t,r)=>{const n=e.get();W(t.split(","),(e=>Se(n,e).each((t=>{n[e]={withSimilar:{...t.withSimilar,callbacks:K(t.withSimilar.callbacks,(e=>e!==r))},withoutSimilar:{...t.withoutSimilar,callbacks:K(t.withoutSimilar.callbacks,(e=>e!==r))},withVars:K(t.withVars,(e=>e.callback!==r))}})))),e.set(n)})(t,r,n)}))(e,t,r,n,o,i)},editor:{getContent:t=>((e,t)=>L.from(e.getBody()).fold(T("tree"===t.format?new xf("body",11):""),(r=>((e,t,r)=>{let n;return n="raw"===t.format?Rt.trim(Cf(e.serializer,r.innerHTML)):"text"===t.format?((e,t)=>{const r=e.getDoc(),n=zr(gr(e.getBody())),o=fr("div",r);Yt(o,"data-mce-bogus","all"),nn(o,{position:"fixed",left:"-9999999px",top:"0"}),xn(o,t.innerHTML),Af(o),kf(o);const i=(e=>Br(e)?e:gr(Sr(e).dom.body))(n);pn(i,o);const s=Oo(o.dom.innerText);return vn(o),s})(e,r):"tree"===t.format?e.serializer.serialize(r,t):((e,t)=>{const r=xl(e),n=new RegExp(`^(<${r}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${r}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(n,"")})(e,e.serializer.serialize(r,t)),"text"!==t.format&&!_o(gr(r))&&p(n)?Rt.trim(n):n})(e,t,r))))(e,t),setContent:(t,r)=>((e,t,r)=>L.from(e.getBody()).map((n=>Lg(t)?((e,t,r,n)=>{_g(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),r);const o=Mf({validate:!1},e.schema).serialize(r),i=_o(gr(t))?o:Rt.trim(o);return Vg(e,i,n.no_selection),{content:r,html:i}})(e,n,t,r):((e,t,r,n)=>{if(0===r.length||/^\s+$/.test(r)){const o='<br data-mce-bogus="1">';"TABLE"===t.nodeName?r="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(r="<li>"+o+"</li>");const i=xl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(r=o,r=e.dom.createHTML(i,El(e),r)):r||(r=o),Vg(e,r,n.no_selection),{content:r,html:r}}{"raw"!==n.format&&(r=Mf({validate:!1},e.schema).serialize(e.parser.parse(r,{isRootContent:!0,insert:!0})));const o=_o(gr(t))?r:Rt.trim(r);return Vg(e,o,n.no_selection),{content:o,html:o}}})(e,n,t,r))).getOr({content:t,html:Lg(r.content)?"":r.content}))(e,t,r),insertContent:(t,r)=>Bg(e,t,r),addVisual:t=>((e,t)=>{const r=e.dom,n=x(t)?t:e.getBody();W(r.select("table,a",n),(t=>{switch(t.nodeName){case"TABLE":const n=Ec(e),o=r.getAttrib(t,"border");o&&"0"!==o||!e.hasVisual?r.removeClass(t,n):r.addClass(t,n);break;case"A":if(!r.getAttrib(t,"href")){const n=r.getAttrib(t,"name")||t.id,o=Sc(e);n&&e.hasVisual?r.addClass(t,o):r.removeClass(t,o)}}})),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})})(e,t)},selection:{getContent:(t,r)=>((e,t,r={})=>{const n=((e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}))(r,t);return Eb(e,n).fold(P,(t=>{const r=((e,t)=>{if("text"===t.format)return(e=>L.from(e.selection.getRng()).map((t=>{var r;const n=L.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),o=e.getBody(),i=(e=>e.map((e=>e.nodeName)).getOr("div").toLowerCase())(n),s=gr(t.cloneContents());Af(s),kf(s);const a=e.dom.add(o,i,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},s.dom),l=Bb(a),c=Oo(null!==(r=a.textContent)&&void 0!==r?r:"");if(e.dom.remove(a),Fb(c,0)||Fb(c,c.length-1)){const e=n.getOr(o),t=Bb(e),r=t.indexOf(l);return-1===r?l:(Fb(t,r-1)?" ":"")+l+(Fb(t,r+l.length)?" ":"")}return l})).getOr(""))(e);{const r=((e,t)=>{const r=e.selection.getRng(),n=e.dom.create("body"),o=e.selection.getSel(),i=uf(e,Id(o)),s=t.contextual?((e,t)=>{const r=Rd(t,e);return r.length>0?((e,t)=>((e,t)=>Kr(t,"table",D(wr,e)))(e,t[0]).bind((e=>{const r=t[0],n=t[t.length-1],o=(e=>{const t=Ab(Xs(e),0,[]);return W(In(e,"tr"),((e,r)=>{W(In(e,"td,th"),((n,o)=>{((e,t,r,n,o)=>{const i=Pb(o,"rowspan"),s=Pb(o,"colspan"),a=e.rows;for(let e=r;e<r+i;e++){a[e]||(a[e]=kb(Js(n),[]));for(let n=t;n<t+s;n++)a[e].cells[n]=e===r&&n===t?o:Xs(o)}})(t,((e,t,r)=>{for(;Mb(e,t,r);)t++;return t})(t,o,r),r,e,n)}))})),Ab(t.element,Db(t.rows),t.rows)})(e);return((e,t,r)=>Ob(e,t).bind((t=>Ob(e,r).map((r=>((e,t,r)=>{const n=t.x,o=t.y,i=r.x,s=r.y,a=o<s?Ib(e,n,o,i,s):Ib(e,n,s,i,o);return Ab(e.element,Db(a),a)})(e,t,r))))))(o,r,n).map((e=>op([Rb(e)])))})).getOrThunk(Nb))(e,r):((e,t)=>t.length>0&&t[0].collapsed?Nb():((e,t)=>((e,t)=>{const r=X(t,((e,t)=>(pn(t,e),t)),e);return t.length>0?op([r]):r})(gr(t.cloneContents()),((e,t)=>{const r=gr(t.commonAncestorContainer),n=Xf(r,e),o=K(n,Ao),i=((e,t)=>Q(e,(e=>"li"===Ht(e)&&Vd(e,t))).fold(T([]),(t=>(e=>Q(e,(e=>"ul"===Ht(e)||"ol"===Ht(e))))(e).map((e=>{const t=fr(Ht(e)),r=we(ln(e),((e,t)=>Ge(t,"list-style")));return nn(t,r),[fr("li"),t]})).getOr([]))))(n,t),s=o.concat(i.length?i:(e=>xo(e)?Cr(e).filter(wo).fold(T([]),(t=>[e,t])):wo(e)?[e]:[])(r));return q(s,Xs)})(e,t)))(e,t[0]))(e,t)})(gr(e.getBody()),i).dom:r.cloneContents();return s&&n.appendChild(s),e.selection.serializer.serialize(n,t)})(e,t);return"tree"===t.format?r:e.selection.isCollapsed()?"":r}})(e,t);return Sb(e,r,t)}))})(e,t,r)},autocompleter:{addDecoration:t=>((e,t)=>{if(gf(gr(e.getBody())).isNone()){const n=pr('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());pn(n,gr(t.extractContents())),t.insertNode(n.dom),Cr(n).each((e=>e.dom.normalize())),(r=n,((e,t)=>{const r=e=>{const n=Or(e);for(let e=n.length-1;e>=0;e--){const o=n[e];if(t(o))return L.some(o);const i=r(o);if(i.isSome())return i}return L.none()};return r(e)})(r,ff)).map((t=>{e.selection.setCursorLocation(t.dom,(e=>"img"===Ht(e)?1:po(e).fold((()=>Or(e).length),(e=>e.length)))(t))}))}var r})(e,t),removeDecoration:()=>((e,t)=>gf(t).each((t=>{const r=e.selection.getBookmark();yn(t),e.selection.moveToBookmark(r)})))(e,gr(e.getBody()))},raw:{getModel:()=>L.none()}}),Kb=e=>_e(e.plugins,"rtc"),Yb=e=>e.rtcInstance?e.rtcInstance:Zb(e),Xb=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Jb=e=>Xb(e).init.bindEvents(),Qb=e=>0===e.dom.length?(vn(e),L.none()):L.some(e),ew=(e,t,r,n)=>{e.bind((e=>((n?km:Am)(e.dom,n?e.dom.length:0),t.filter(qt).map((t=>((e,t,r,n)=>{const o=e.dom,i=t.dom,s=n?o.length:i.length;n?(Tm(o,i,!1,!n),r.setStart(i,s)):(Tm(i,o,!1,!n),r.setEnd(i,s))})(e,t,r,n)))))).orThunk((()=>{const e=((e,t)=>e.filter((e=>Du.isBookmarkNode(e.dom))).bind(t?Pr:Tr))(t,n).or(t).filter(qt);return e.map((e=>((e,t)=>{Cr(e).each((r=>{const n=e.dom;t&&ym(r,Pa(n,0))?Am(n,0):!t&&bm(r,Pa(n,n.length))&&km(n,n.length)}))})(e,n)))}))},tw=(e,t,r)=>{if(_e(e,t)){const n=K(e[t],(e=>e!==r));0===n.length?delete e[t]:e[t]=n}},rw=e=>!(!e||!e.ownerDocument)&&xr(gr(e.ownerDocument),gr(e)),nw=(e,t,r,n)=>{let o,i;const{selectorChangedWithUnbind:s}=((e,t)=>{let r,n;const o=(t,r)=>Q(r,(r=>e.is(r,t))),i=t=>e.getParents(t,void 0,e.getRoot());return{selectorChangedWithUnbind:(e,s)=>(r||(r={},n={},t.on("NodeChange",(e=>{const t=e.element,s=i(t),a={};me(r,((e,t)=>{o(t,s).each((r=>{n[t]||(W(e,(e=>{e(!0,{node:r,selector:t,parents:s})})),n[t]=e),a[t]=e}))})),me(n,((e,r)=>{a[r]||(delete n[r],W(e,(e=>{e(!1,{node:t,selector:r,parents:s})})))}))}))),r[e]||(r[e]=[]),r[e].push(s),o(e,i(t.selection.getStart())).each((()=>{n[e]=r[e]})),{unbind:()=>{tw(r,e,s),tw(n,e,s)}})}})(e,n),a=(e,t)=>((e,t,r={})=>{const n=((e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}))(r,t);_b(e,n).each((t=>{const r=((e,t)=>{if("raw"!==t.format){const r=e.selection.getRng(),n=e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock),o=n?{context:n.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,{forced_root_block:!1,...o,...t});return Mf({validate:!1},e.schema).serialize(i)}return t.content})(e,t),n=e.selection.getRng();((e,t)=>{const r=L.from(t.firstChild).map(gr),n=L.from(t.lastChild).map(gr);e.deleteContents(),e.insertNode(t);const o=r.bind(Tr).filter(qt).bind(Qb),i=n.bind(Pr).filter(qt).bind(Qb);ew(o,r,e,!0),ew(i,n,e,!1),e.collapse(!1)})(n,n.createContextualFragment(r)),e.selection.setRng(n),Fp(e,n),Cb(e,r,t)}))})(n,e,t),l=e=>{const t=h();t.collapse(!!e),d(t)},c=()=>t.getSelection?t.getSelection():t.document.selection,h=()=>{let r;const s=(e,t,r)=>{try{return t.compareBoundaryPoints(e,r)}catch(e){return-1}},a=t.document;if(x(n.bookmark)&&!sf(n)){const e=$p(n);if(e.isSome())return e.map((e=>uf(n,[e])[0])).getOr(a.createRange())}try{const e=c();e&&!Bn(e.anchorNode)&&(r=e.rangeCount>0?e.getRangeAt(0):a.createRange(),r=uf(n,[r])[0])}catch(e){}if(r||(r=a.createRange()),Xn(r.startContainer)&&r.collapsed){const t=e.getRoot();r.setStart(t,0),r.setEnd(t,0)}return o&&i&&(0===s(r.START_TO_START,r,o)&&0===s(r.END_TO_END,r,o)?r=i:(o=null,i=null)),r},d=(e,t)=>{if(!(e=>!!e&&rw(e.startContainer)&&rw(e.endContainer))(e))return;const r=c();if(e=n.dispatch("SetSelectionRange",{range:e,forward:t}).range,r){i=e;try{r.removeAllRanges(),r.addRange(e)}catch(e){}!1===t&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),o=r.rangeCount>0?r.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null==r?void 0:r.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];t&&"IMG"===t.nodeName&&(r.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),r.anchorNode===e.startContainer&&r.focusNode===e.endContainer||r.setBaseAndExtent(t,0,t,1))}n.dispatch("AfterSetSelectionRange",{range:e,forward:t})},u=()=>{const t=c(),r=null==t?void 0:t.anchorNode,n=null==t?void 0:t.focusNode;if(!t||!r||!n||Bn(r)||Bn(n))return!0;const o=e.createRng(),i=e.createRng();try{o.setStart(r,t.anchorOffset),o.collapse(!0),i.setStart(n,t.focusOffset),i.collapse(!0)}catch(e){return!0}return o.compareBoundaryPoints(o.START_TO_START,i)<=0},p={dom:e,win:t,serializer:r,editor:n,expand:(t={type:"word"})=>d(gp(e).expand(h(),t)),collapse:l,setCursorLocation:(t,r)=>{const o=e.createRng();x(t)&&x(r)?(o.setStart(t,r),o.setEnd(t,r),d(o),l(!1)):(zd(e,o,n.getBody(),!0),d(o))},getContent:e=>((e,t={})=>((e,t,r)=>Xb(e).selection.getContent(t,r))(e,t.format?t.format:"html",t))(n,e),setContent:a,getBookmark:(e,t)=>f.getBookmark(e,t),moveToBookmark:e=>f.moveToBookmark(e),select:(t,r)=>(((e,t,r)=>L.from(t).bind((t=>L.from(t.parentNode).map((n=>{const o=e.nodeIndex(t),i=e.createRng();return i.setStart(n,o),i.setEnd(n,o+1),r&&(zd(e,i,t,!0),zd(e,i,t,!1)),i})))))(e,t,r).each(d),t),isCollapsed:()=>{const e=h(),t=c();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isEditable:()=>{const t=h(),r=n.getBody().querySelectorAll('[data-mce-selected="1"]');return r.length>0?ne(r,(t=>e.isEditable(t.parentElement))):t.startContainer===t.endContainer?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer)},isForward:u,setNode:t=>(a(e.getOuterHTML(t)),t),getNode:()=>((e,t)=>{if(!t)return e;let r=t.startContainer,n=t.endContainer;const o=t.startOffset,i=t.endOffset;let s=t.commonAncestorContainer;t.collapsed||(r===n&&i-o<2&&r.hasChildNodes()&&(s=r.childNodes[o]),$n(r)&&$n(n)&&(r=r.length===o?df(r.nextSibling,!0):r.parentNode,n=0===i?df(n.previousSibling,!1):n.parentNode,r&&r===n&&(s=r)));const a=$n(s)?s.parentNode:s;return Ln(a)?a:e})(n.getBody(),h()),getSel:c,setRng:d,getRng:h,getStart:e=>cf(n.getBody(),h(),e),getEnd:e=>hf(n.getBody(),h(),e),getSelectedBlocks:(t,r)=>((e,t,r,n)=>{const o=[],i=e.getRoot(),s=e.getParent(r||cf(i,t,t.collapsed),e.isBlock),a=e.getParent(n||hf(i,t,t.collapsed),e.isBlock);if(s&&s!==i&&o.push(s),s&&a&&s!==a){let t;const r=new Nn(s,i);for(;(t=r.next())&&t!==a;)e.isBlock(t)&&o.push(t)}return a&&s!==a&&a!==i&&o.push(a),o})(e,h(),t,r),normalize:()=>{const t=h(),r=c();if(!(Id(r).length>1)&&Hd(n)){const r=pp(e,t);return r.each((e=>{d(e,u())})),r.getOr(t)}return t},selectorChanged:(e,t)=>(s(e,t),p),selectorChangedWithUnbind:s,getScrollContainer:()=>{let t,r=e.getRoot();for(;r&&"BODY"!==r.nodeName;){if(r.scrollHeight>r.clientHeight){t=r;break}r=r.parentNode}return t},scrollIntoView:(e,t)=>{x(e)?((e,t,r)=>{(e.inline?Ip:Np)(e,t,r)})(n,e,t):Fp(n,h(),t)},placeCaretAt:(e,t)=>d(ip(e,t,n.getDoc())),getBoundingClientRect:()=>{const e=h();return e.collapsed?Pa.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=o=i=null,m.destroy()}},f=Du(p),m=Uu(p,n);return p.bookmarkManager=f,p.controlSelection=m,p},ow=(e,t,r)=>{-1===Rt.inArray(t,r)&&(e.addAttributeFilter(r,((e,t)=>{let r=e.length;for(;r--;)e[r].attr(t,null)})),t.push(r))},iw=(e,t)=>{const r=((e,t)=>{const r=["data-mce-selected"],n=t&&t.dom?t.dom:_s.DOM,o=t&&t.schema?t.schema:os(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;const i=wb(e,o);return((e,t,r)=>{e.addAttributeFilter("data-mce-tabindex",((e,t)=>{let r=e.length;for(;r--;){const n=e[r];n.attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)}})),e.addAttributeFilter("src,href,style",((e,n)=>{const o="data-mce-"+n,i=t.url_converter,s=t.url_converter_scope;let a=e.length;for(;a--;){const t=e[a];let l=t.attr(o);void 0!==l?(t.attr(n,l.length>0?l:null),t.attr(o,null)):(l=t.attr(n),"style"===n?l=r.serializeStyle(r.parseStyle(l),t.name):i&&(l=i.call(s,l,n,t.name)),t.attr(n,l.length>0?l:null))}})),e.addAttributeFilter("class",(e=>{let t=e.length;for(;t--;){const r=e[t];let n=r.attr("class");n&&(n=n.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),r.attr("class",n.length>0?n:null))}})),e.addAttributeFilter("data-mce-type",((e,t,r)=>{let n=e.length;for(;n--;){const t=e[n];if("bookmark"===t.attr("data-mce-type")&&!r.cleanup){const e=L.from(t.firstChild).exists((e=>{var t;return!Do(null!==(t=e.value)&&void 0!==t?t:"")}));e?t.unwrap():t.remove()}}})),e.addNodeFilter("noscript",(e=>{var t;let r=e.length;for(;r--;){const n=e[r].firstChild;n&&(n.value=qi.decode(null!==(t=n.value)&&void 0!==t?t:""))}})),e.addNodeFilter("script,style",((e,r)=>{var n;const o=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let i=e.length;for(;i--;){const s=e[i],a=s.firstChild,l=null!==(n=null==a?void 0:a.value)&&void 0!==n?n:"";if("script"===r){const e=s.attr("type");e&&s.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&a&&l.length>0&&(a.value="// <![CDATA[\n"+o(l)+"\n// ]]>")}else"xhtml"===t.element_format&&a&&l.length>0&&(a.value="\x3c!--\n"+o(l)+"\n--\x3e")}})),e.addNodeFilter("#comment",(e=>{let n=e.length;for(;n--;){const o=e[n],i=o.value;t.preserve_cdata&&0===(null==i?void 0:i.indexOf("[CDATA["))?(o.name="#cdata",o.type=4,o.value=r.decode(i.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==i?void 0:i.indexOf("mce:protected "))&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(i).substr(14))}})),e.addNodeFilter("xml:namespace,input",((e,t)=>{let r=e.length;for(;r--;){const n=e[r];7===n.type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(t=>{W(t,(t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",((e,t)=>{let r=e.length;for(;r--;)e[r].attr(t,null)}))})(i,e,n),{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:(r,s={})=>{const a={format:"html",...s},l=((e,t,r)=>((e,t)=>x(e)&&e.hasEventListeners("PreProcess")&&!t.no_events)(e,r)?((e,t,r)=>{let n;const o=e.dom;let i=t.cloneNode(!0);const s=document.implementation;if(s.createHTMLDocument){const e=s.createHTMLDocument("");Rt.each("BODY"===i.nodeName?i.childNodes:[i],(t=>{e.body.appendChild(e.importNode(t,!0))})),i="BODY"!==i.nodeName?e.body.firstChild:e.body,n=o.doc,o.doc=e}return((e,t)=>{e.dispatch("PreProcess",t)})(e,{...r,node:i}),n&&(o.doc=n),i})(e,t,r):t)(t,r,a),c=((e,t,r)=>{const n=Oo(r.getInner?t.innerHTML:e.getOuterHTML(t));return r.selection||_o(gr(t))?n:Rt.trim(n)})(n,l,a),h=((e,t,r)=>{const n=r.selection?{forced_root_block:!1,...r}:r,o=e.parse(t,n);return(e=>{const t=e=>"br"===(null==e?void 0:e.name),r=e.lastChild;if(t(r)){const e=r.prev;t(e)&&(r.remove(),e.remove())}})(o),o})(i,c,a);return"tree"===a.format?h:((e,t,r,n,o)=>{const i=((e,t,r)=>Mf(e,t).serialize(r))(t,r,n);return((e,t,r)=>{if(!t.no_events&&e){const n=((e,t)=>e.dispatch("PostProcess",t))(e,{...t,content:r});return n.content}return r})(e,o,i)})(t,e,o,h,a)},addRules:o.addValidElements,setRules:o.setValidElements,addTempAttr:D(ow,i,r),getTempAttrs:T(r),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters,removeNodeFilter:i.removeNodeFilter,removeAttributeFilter:i.removeAttributeFilter}})(e,t);return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs,getNodeFilters:r.getNodeFilters,getAttributeFilters:r.getAttributeFilters,removeNodeFilter:r.removeNodeFilter,removeAttributeFilter:r.removeAttributeFilter}},sw=(e,t,r={})=>{const n=((e,t)=>({format:"html",...e,set:!0,content:t}))(r,t);return _b(e,n).map((t=>{const r=((e,t,r)=>Yb(e).editor.setContent(t,r))(e,t.content,t);return Cb(e,r.html,t),r.content})).getOr(t)},aw="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),lw="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),cw="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),hw=[{name:"template",replacedWith:"Advanced Template"}],dw=(e,t)=>{const r=K(t,(t=>_e(e,t)));return ae(r)},uw=(e,t)=>{const r=Rt.makeMap(e.plugins," "),n=K(t,(e=>_e(r,e)));return ae(n)},pw=e=>Q(hw,(t=>t.name===e)).fold((()=>e),(t=>`${e}, replaced by ${t.replacedWith}`)),fw=_s.DOM,mw=e=>L.from(e).each((e=>e.destroy())),gw=(()=>{const e={};return{add:(t,r)=>{e[t]=r},get:t=>e[t]?e[t]:{icons:{}},has:t=>_e(e,t)}})(),vw=Os.ModelManager,yw=(e,t)=>t.dom[e],bw=(e,t)=>parseInt(on(t,e),10),ww=D(yw,"clientWidth"),xw=D(yw,"clientHeight"),Ew=D(bw,"margin-top"),Sw=D(bw,"margin-left"),_w=e=>{const t=[],r=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}})()},n=()=>L.from(t[0]),o=()=>{W(t,(e=>{e.reposition()}))},i=e=>{ee(t,(t=>t===e)).each((e=>{t.splice(e,1)}))},s=(s,a=!0)=>e.removed||!(e=>{return(t=e.inline?e.getBody():e.getContentAreaContainer(),L.from(t).map(gr)).map(qr).getOr(!1);var t})(e)?{}:(a&&e.dispatch("BeforeOpenNotification",{notification:s}),Q(t,(e=>{return t=r().getArgs(e),n=s,!(t.type!==n.type||t.text!==n.text||t.progressBar||t.timeout||n.progressBar||n.timeout);var t,n})).getOrThunk((()=>{e.editorManager.setActive(e);const a=r().open(s,(()=>{i(a),o(),n().fold((()=>e.focus()),(e=>Bp(gr(e.getEl()))))}));return(e=>{t.push(e)})(a),o(),e.dispatch("OpenNotification",{notification:{...a}}),a}))),a=T(t);return(e=>{e.on("SkinLoaded",(()=>{const t=Jl(e);t&&s({text:t,type:"warning",timeout:0},!1),o()})),e.on("show ResizeEditor ResizeWindow NodeChange",(()=>{requestAnimationFrame(o)})),e.on("remove",(()=>{W(t.slice(),(e=>{r().close(e)}))}))})(e),{open:s,close:()=>{n().each((e=>{r().close(e),i(e),o()}))},getNotifications:a}},Cw=Os.PluginManager,Aw=Os.ThemeManager,kw=e=>{let t=[];const r=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}})()},n=(e,t)=>(...r)=>t?t.apply(e,r):void 0,o=r=>{(t=>{e.dispatch("CloseWindow",{dialog:t})})(r),t=K(t,(e=>e!==r)),0===t.length&&e.focus()},i=r=>{e.editorManager.setActive(e),Wp(e),e.ui.show();const n=r();return(r=>{t.push(r),(t=>{e.dispatch("OpenWindow",{dialog:t})})(r)})(n),n};return e.on("remove",(()=>{W(t,(e=>{r().close(e)}))})),{open:(e,t)=>i((()=>r().open(e,t,o))),openUrl:e=>i((()=>r().openUrl(e,o))),alert:(e,t,o)=>{const i=r();i.alert(e,n(o||i,t))},confirm:(e,t,o)=>{const i=r();i.confirm(e,n(o||i,t))},close:()=>{L.from(t[t.length-1]).each((e=>{r().close(e),o(e)}))}}},Tw=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Pw=(e,t)=>{e._skinLoaded?Tw(e,t):e.on("SkinLoaded",(()=>{Tw(e,t)}))},Mw=(e,t,r)=>{Iu(e,t,{message:r}),console.error(r)},Dw=(e,t,r)=>r?`Failed to load ${e}: ${r} from url ${t}`:`Failed to load ${e} url: ${t}`,Ow=(e,...t)=>{const r=window.console;r&&(r.error?r.error(e,...t):r.log(e,...t))},Iw=(e,t)=>{const r=e.editorManager.baseURL+"/skins/content",n=`content${e.editorManager.suffix}.css`;return q(t,(t=>(e=>/^[a-z0-9\-]+$/i.test(e))(t)&&!e.inline?`${r}/${t}/${n}`:e.documentBaseURI.toAbsolute(t)))},Rw=()=>{let e={};const t=(e,t)=>({status:e,resultUri:t}),r=t=>t in e;return{hasBlobUri:r,getResultUri:t=>{const r=e[t];return r?r.resultUri:null},isPending:t=>!!r(t)&&1===e[t].status,isUploaded:t=>!!r(t)&&2===e[t].status,markPending:r=>{e[r]=t(1,null)},markUploaded:(r,n)=>{e[r]=t(2,n)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}};let Nw=0;const Fw=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),Bw=(e,t)=>((e,t)=>{const r={},n=(e,r)=>new Promise(((n,o)=>{const i=new XMLHttpRequest;i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=e=>{r(e.loaded/e.total*100)},i.onerror=()=>{o("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=()=>{if(i.status<200||i.status>=300)return void o("HTTP Error: "+i.status);const e=JSON.parse(i.responseText);var r,s;e&&p(e.location)?n((r=t.basePath,s=e.location,r?r.replace(/\/$/,"")+"/"+s.replace(/^\//,""):s)):o("Invalid JSON: "+i.responseText)};const s=new FormData;s.append("file",e.blob(),e.filename()),i.send(s)})),o=E(t.handler)?t.handler:n,i=(e,t)=>({url:t,blobInfo:e,status:!0}),s=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),a=(e,t)=>{Rt.each(r[e],(e=>{e(t)})),delete r[e]};return{upload:(l,c)=>t.url||o!==n?((t,n)=>(t=Rt.grep(t,(t=>!e.isUploaded(t.blobUri()))),Promise.all(Rt.map(t,(t=>e.isPending(t.blobUri())?(e=>{const t=e.blobUri();return new Promise((e=>{r[t]=r[t]||[],r[t].push(e)}))})(t):((t,r,n)=>(e.markPending(t.blobUri()),new Promise((o=>{let l,c;try{const h=()=>{l&&(l.close(),c=C)},d=r=>{h(),e.markUploaded(t.blobUri(),r),a(t.blobUri(),i(t,r)),o(i(t,r))},u=r=>{h(),e.removeFailed(t.blobUri()),a(t.blobUri(),s(t,r)),o(s(t,r))};c=e=>{e<0||e>100||L.from(l).orThunk((()=>L.from(n).map(R))).each((t=>{l=t,t.progressBar.value(e)}))},r(t,c).then(d,(e=>{u(p(e)?{message:e}:e)}))}catch(e){o(s(t,e))}}))))(t,o,n))))))(l,c):new Promise((e=>{e([])}))}})(t,{url:Il(e),basePath:Rl(e),credentials:Nl(e),handler:Fl(e)}),Lw={remove_similar:!0,inherit:!1},Vw={selector:"td,th",...Lw},zw={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Vw},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Vw},tablecellbordercolor:{styles:{borderColor:"%value"},...Vw},tablecellclass:{classes:["%value"],...Vw},tableclass:{selector:"table",classes:["%value"],...Lw},tablecellborderstyle:{styles:{borderStyle:"%value"},...Vw},tablecellborderwidth:{styles:{borderWidth:"%value"},...Vw}},Hw=T(zw),jw=Rt.each,Gw=_s.DOM,Uw=e=>x(e)&&f(e),qw=(e,t)=>{const r=t&&t.schema||os({}),n=e=>{const t=p(e)?{name:e,classes:[],attrs:{}}:e,r=Gw.create(t.name);return((e,t)=>{t.classes.length>0&&Gw.addClass(e,t.classes.join(" ")),Gw.setAttribs(e,t.attrs)})(r,t),r},o=(e,t,i)=>{let s;const a=t[0],l=Uw(a)?a.name:void 0,c=((e,t)=>{const n=r.getElementRule(e.nodeName.toLowerCase()),o=null==n?void 0:n.parentsRequired;return!(!o||!o.length)&&(t&&G(o,t)?t:o[0])})(e,l);if(c)l===c?(s=a,t=t.slice(1)):s=c;else if(a)s=a,t=t.slice(1);else if(!i)return e;const h=s?n(s):Gw.create("div");h.appendChild(e),i&&Rt.each(i,(t=>{const r=n(t);h.insertBefore(r,e)}));const d=Uw(s)?s.siblings:void 0;return o(h,t,d)},i=Gw.create("div");if(e.length>0){const t=e[0],r=n(t),s=Uw(t)?t.siblings:void 0;i.appendChild(o(r,e.slice(1),s))}return i},Ww=e=>{let t="div";const r={name:t,classes:[],attrs:{},selector:e=Rt.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,((e,t,n,o,i)=>{switch(t){case"#":r.attrs.id=n;break;case".":r.classes.push(n);break;case":":-1!==Rt.inArray("checked disabled enabled read-only required".split(" "),n)&&(r.attrs[n]=n)}if("["===o){const e=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(r.attrs[e[1]]=e[2])}return""}))),r.name=t||"div",r},$w=(e,t)=>{let r="",n=ic(e);if(""===n)return"";const o=e=>p(e)?e.replace(/%(\w+)/g,""):"",i=(t,r)=>Gw.getStyle(null!=r?r:e.getBody(),t,!0);if(p(t)){const r=e.formatter.get(t);if(!r)return"";t=r[0]}if("preview"in t){const e=t.preview;if(!1===e)return"";n=e||n}let s,a=t.block||t.inline||"span";const l=(c=t.selector,p(c)?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Rt.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),(e=>{const t=Rt.map(e.split(/(?:~\+|~|\+)/),Ww),r=t.pop();return t.length&&(r.siblings=t),r})).reverse()):[]);var c;l.length>0?(l[0].name||(l[0].name=a),a=t.selector,s=qw(l,e)):s=qw([a],e);const h=Gw.select(a,s)[0]||s.firstChild;jw(t.styles,((e,t)=>{const r=o(e);r&&Gw.setStyle(h,t,r)})),jw(t.attributes,((e,t)=>{const r=o(e);r&&Gw.setAttrib(h,t,r)})),jw(t.classes,(e=>{const t=o(e);Gw.hasClass(h,t)||Gw.addClass(h,t)})),e.dispatch("PreviewFormats"),Gw.setStyles(s,{position:"absolute",left:-65535}),e.getBody().appendChild(s);const d=i("fontSize"),u=/px$/.test(d)?parseInt(d,10):0;return jw(n.split(" "),(e=>{let t=i(e,h);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=i(e),"#ffffff"===Od(t).toLowerCase())||"color"===e&&"#000000"===Od(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===u)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*u+"px"}"border"===e&&t&&(r+="padding:0 2px;"),r+=e+":"+t+";"}})),e.dispatch("AfterPreviewFormats"),Gw.remove(s),r},Zw=e=>{const t=(e=>{const t={},r=(e,n)=>{e&&(p(e)?(g(n)||(n=[n]),W(n,(e=>{b(e.deep)&&(e.deep=!lu(e)),b(e.split)&&(e.split=!lu(e)||cu(e)),b(e.remove)&&lu(e)&&!cu(e)&&(e.remove="none"),lu(e)&&cu(e)&&(e.mixed=!0,e.block_expand=!0),p(e.classes)&&(e.classes=e.classes.split(/\s+/))})),t[e]=n):me(e,((e,t)=>{r(t,e)})))};return r((e=>{const t=e.dom,r=e.schema.type,n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},n={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==r?[n,e,t]:[e,n,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,r)=>Ln(e)&&e.hasAttribute("href"),onformat:(e,r,n)=>{Rt.each(n,((r,n)=>{t.setAttrib(e,n,r)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Rt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(e=>{n[e]={block:e,remove:"all"}})),n})(e)),r(Hw()),r(oc(e)),{get:e=>x(e)?t[e]:t,has:e=>_e(t,e),register:r,unregister:e=>(e&&t[e]&&delete t[e],t)}})(e),r=ks({});return(e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])})(e),(e=>{e.on("mouseup keydown",(t=>{((e,t)=>{const r=e.selection,n=e.getBody();ev(e,null,!1),8!==t&&46!==t||!r.isCollapsed()||r.getStart().innerHTML!==Kg||ev(e,hd(n,r.getStart())),37!==t&&39!==t||ev(e,hd(n,r.getStart()))})(e,t.keyCode)}))})(e),Kb(e)||((e,t)=>{e.set({}),t.on("NodeChange",(r=>{Kv(t,r.element,e.get())})),t.on("FormatApply FormatRemove",(r=>{const n=L.from(r.node).map((e=>Ud(e)?e:e.startContainer)).bind((e=>Ln(e)?L.some(e):L.from(e.parentElement))).getOrThunk((()=>Wv(t)));Kv(t,n,e.get())}))})(r,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,r,n)=>{((e,t,r,n)=>{Xb(e).formatter.apply(t,r,n)})(e,t,r,n)},remove:(t,r,n,o)=>{((e,t,r,n,o)=>{Xb(e).formatter.remove(t,r,n,o)})(e,t,r,n,o)},toggle:(t,r,n)=>{((e,t,r,n)=>{Xb(e).formatter.toggle(t,r,n)})(e,t,r,n)},match:(t,r,n,o)=>((e,t,r,n,o)=>Xb(e).formatter.match(t,r,n,o))(e,t,r,n,o),closest:t=>((e,t)=>Xb(e).formatter.closest(t))(e,t),matchAll:(t,r)=>((e,t,r)=>Xb(e).formatter.matchAll(t,r))(e,t,r),matchNode:(t,r,n,o)=>((e,t,r,n,o)=>Xb(e).formatter.matchNode(t,r,n,o))(e,t,r,n,o),canApply:t=>((e,t)=>Xb(e).formatter.canApply(t))(e,t),formatChanged:(t,n,o,i)=>((e,t,r,n,o,i)=>Xb(e).formatter.formatChanged(t,r,n,o,i))(e,r,t,n,o,i),getCssText:D($w,e)}},Kw=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Yw=e=>{const t=Rs(),r=ks(0),n=ks(0),o={data:[],typing:!1,beforeChange:()=>{((e,t,r)=>{Xb(e).undoManager.beforeChange(t,r)})(e,r,t)},add:(i,s)=>((e,t,r,n,o,i,s)=>Xb(e).undoManager.add(t,r,n,o,i,s))(e,o,n,r,t,i,s),dispatchChange:()=>{e.setDirty(!0);const t=zb(e);t.bookmark=Ya(e.selection),e.dispatch("change",{level:t,lastLevel:le(o.data,n.get()).getOrUndefined()})},undo:()=>((e,t,r,n)=>Xb(e).undoManager.undo(t,r,n))(e,o,r,n),redo:()=>((e,t,r)=>Xb(e).undoManager.redo(t,r))(e,n,o.data),clear:()=>{((e,t,r)=>{Xb(e).undoManager.clear(t,r)})(e,o,n)},reset:()=>{((e,t)=>{Xb(e).undoManager.reset(t)})(e,o)},hasUndo:()=>((e,t,r)=>Xb(e).undoManager.hasUndo(t,r))(e,o,n),hasRedo:()=>((e,t,r)=>Xb(e).undoManager.hasRedo(t,r))(e,o,n),transact:t=>((e,t,r,n)=>Xb(e).undoManager.transact(t,r,n))(e,o,r,t),ignore:t=>{((e,t,r)=>{Xb(e).undoManager.ignore(t,r)})(e,r,t)},extra:(t,r)=>{((e,t,r,n,o)=>{Xb(e).undoManager.extra(t,r,n,o)})(e,o,n,t,r)}};return Kb(e)||((e,t,r)=>{const n=ks(!1),o=e=>{Wb(t,!1,r),t.add({},e)};e.on("init",(()=>{t.add()})),e.on("BeforeExecCommand",(e=>{const n=e.command;Kw(n)||($b(t,r),t.beforeChange())})),e.on("ExecCommand",(e=>{const t=e.command;Kw(t)||o(e)})),e.on("ObjectResizeStart cut",(()=>{t.beforeChange()})),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",(r=>{const i=r.keyCode;r.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||r.ctrlKey)&&(o(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),n.get()&&t.typing&&!Ub(zb(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),n.set(!1),e.nodeChanged()))})),e.on("keydown",(e=>{const i=e.keyCode;if(e.isDefaultPrevented())return;if(i>=33&&i<=36||i>=37&&i<=40||45===i)return void(t.typing&&o(e));const s=e.ctrlKey&&!e.altKey||e.metaKey;!(i<16||i>20)||224===i||91===i||t.typing||s||(t.beforeChange(),Wb(t,!0,r),t.add({},e),n.set(!0))})),e.on("mousedown",(e=>{t.typing&&o(e)})),e.on("input",(e=>{var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||(e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType)(e))&&o(e)})),e.on("AddUndo Undo Redo ClearUndos",(t=>{t.isDefaultPrevented()||e.nodeChanged()}))})(e,o,r),(e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")})(e),o},Xw=[9,27,Vu.HOME,Vu.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Vu.DOWN,Vu.UP,Vu.LEFT,Vu.RIGHT].concat(Mt.browser.isFirefox()?[224]:[]),Jw="data-mce-placeholder",Qw=e=>"keydown"===e.type||"keyup"===e.type,ex=e=>{const t=e.keyCode;return t===Vu.BACKSPACE||t===Vu.DELETE},tx=(e,t)=>({from:e,to:t}),rx=(e,t)=>{const r=gr(e),n=gr(t.container());return qm(r,n).map((e=>((e,t)=>({block:e,position:t}))(e,t)))},nx=(e,t)=>Zr(t,(e=>So(e)||to(e.dom)),(t=>wr(t,e))).filter(Ut).getOr(e),ox=e=>{const t=(e=>{const t=Or(e);return ee(t,go).fold(T(t),(e=>t.slice(0,e)))})(e);return W(t,vn),t},ix=(e,t)=>{const r=Xf(t,e);return Q(r.reverse(),(e=>hi(e))).each(vn)},sx=(e,t,r,n)=>{if(hi(r))return To(r),sd(r.dom);0===K(Mr(n),(e=>!hi(e))).length&&hi(t)&&hn(n,fr("br"));const o=id(r.dom,Pa.before(n.dom));return W(ox(t),(e=>{hn(n,e)})),ix(e,t),o},ax=(e,t,r)=>{if(hi(r)){if(hi(t)){const e=e=>{const t=(e,r)=>Rr(e).fold((()=>r),(e=>vo(e)?t(e,r.concat(Xs(e))):r));return t(e,[])},n=Y(e(r),((e,t)=>(fn(e,t),t)),ko());gn(t),pn(t,n)}return vn(r),sd(t.dom)}const n=ad(r.dom);return W(ox(t),(e=>{pn(r,e)})),ix(e,t),n},lx=(e,t)=>{nd(e,t.dom).bind((e=>L.from(e.getNode()))).map(gr).filter(yo).each(vn)},cx=(e,t,r)=>(lx(!0,t),lx(!1,r),((e,t)=>xr(t,e)?((e,t)=>{const r=Xf(t,e);return L.from(r[r.length-1])})(t,e):L.none())(t,r).fold(D(ax,e,t,r),D(sx,e,t,r))),hx=(e,t,r,n)=>t?cx(e,n,r):cx(e,r,n),dx=(e,t)=>{const r=gr(e.getBody()),n=((e,t,r)=>r.collapsed?((e,t,r)=>{const n=rx(e,Pa.fromRangeStart(r)),o=n.bind((r=>ed(t,e,r.position).bind((r=>rx(e,r).map((r=>((e,t,r)=>Qn(r.position.getNode())&&!hi(r.block)?nd(!1,r.block.dom).bind((n=>n.isEqual(r.position)?ed(t,e,n).bind((t=>rx(e,t))):L.some(r))).getOr(r):r)(e,t,r)))))));return Ft(n,o,tx).filter((t=>(e=>!wr(e.from.block,e.to.block))(t)&&((e,t)=>{const r=gr(e);return wr(nx(r,t.from.block),nx(r,t.to.block))})(e,t)&&(e=>!1===ro(e.from.block.dom)&&!1===ro(e.to.block.dom))(t)&&(e=>{const t=e=>bo(e)||yi(e.dom);return t(e.from.block)&&t(e.to.block)})(t)))})(e,t,r):L.none())(r.dom,t,e.selection.getRng()).map((n=>()=>{hx(r,t,n.from.block,n.to.block).each((t=>{e.selection.setRng(t.toRange())}))}));return n},ux=(e,t)=>{const r=gr(t),n=D(wr,e);return $r(r,So,n).isSome()},px=(e,t)=>e.selection.isCollapsed()?L.none():(e=>{const t=gr(e.getBody());return((e,t)=>{const r=id(e.dom,Pa.fromRangeStart(t)).isNone(),n=od(e.dom,Pa.fromRangeEnd(t)).isNone();return!((e,t)=>ux(e,t.startContainer)||ux(e,t.endContainer))(e,t)&&r&&n})(t,e.selection.getRng())?(e=>L.some((()=>{e.setContent(""),e.selection.setCursorLocation()})))(e):((e,t)=>{const r=t.getRng();return Ft(qm(e,gr(r.startContainer)),qm(e,gr(r.endContainer)),((n,o)=>wr(n,o)?L.none():L.some((()=>{r.deleteContents(),hx(e,!0,n,o).each((e=>{t.setRng(e.toRange())}))})))).getOr(L.none())})(t,e.selection)})(e),fx=(e,t,r,n,o)=>L.from(t._selectionOverrides.showCaret(e,r,n,o)),mx=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?L.none():L.some((e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t})(t)),gx=(e,t,r)=>t.collapsed?((e,t,r)=>{const n=Ih(1,e.getBody(),t),o=Pa.fromRangeStart(n),i=o.getNode();if(hh(i))return fx(1,e,i,!o.isAtEnd(),!1);const s=o.getNode(!0);if(hh(s))return fx(1,e,s,!1,!1);const a=yg(e.dom.getRoot(),o.getNode());return hh(a)?fx(1,e,a,!1,r):L.none()})(e,t,r).getOr(t):t,vx=e=>Zf(e)||Uf(e),yx=e=>Kf(e)||qf(e),bx=(e,t,r,n,o,i)=>{fx(n,e,i.getNode(!o),o,!0).each((r=>{if(t.collapsed){const e=t.cloneRange();o?e.setEnd(r.startContainer,r.startOffset):e.setStart(r.endContainer,r.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(r)})),((e,t)=>{$n(t)&&0===t.data.length&&e.remove(t)})(e.dom,r)},wx=(e,t)=>((e,t)=>{const r=e.selection.getRng();if(!$n(r.commonAncestorContainer))return L.none();const n=t?Vh.Forwards:Vh.Backwards,o=Yh(e.getBody()),i=D(Bh,t?o.next:o.prev),s=t?vx:yx,a=Nh(n,e.getBody(),r),l=i(a),c=l?Vm(t,l):l;if(!c||!Lh(a,c))return L.none();if(s(c))return L.some((()=>bx(e,r,a.getNode(),n,t,c)));const h=i(c);return h&&s(h)&&Lh(c,h)?L.some((()=>bx(e,r,a.getNode(),n,t,h))):L.none()})(e,t),xx=(e,t)=>{const r=e.getBody();return t?sd(r).filter(Zf):ad(r).filter(Kf)},Ex=e=>{const t=e.selection.getRng();return!t.collapsed&&(xx(e,!0).exists((e=>e.isEqual(Pa.fromRangeStart(t))))||xx(e,!1).exists((e=>e.isEqual(Pa.fromRangeEnd(t)))))},Sx=el([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),_x=(e,t,r)=>ed(t,e,r).bind((n=>{return o=n.getNode(),x(o)&&(So(gr(o))||xo(gr(o)))||((e,t,r,n)=>{const o=t=>vo(gr(t))&&!Ah(r,n,e);return Rh(!t,r).fold((()=>Rh(t,n).fold(F,o)),o)})(e,t,r,n)?L.none():t&&ro(n.getNode())||!t&&ro(n.getNode(!0))?((e,t,r,n)=>{const o=n.getNode(!t);return qm(gr(e),gr(r.getNode())).map((e=>hi(e)?Sx.remove(e.dom):Sx.moveToElement(o))).orThunk((()=>L.some(Sx.moveToElement(o))))})(e,t,r,n):t&&Kf(r)||!t&&Zf(r)?L.some(Sx.moveToPosition(n)):L.none();var o})),Cx=(e,t)=>L.from(yg(e.getBody(),t)),Ax=e=>{const t=e.dom,r=e.selection,n=yg(e.getBody(),r.getNode());if(to(n)&&t.isBlock(n)&&t.isEmpty(n)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(n,""),n.appendChild(e),r.setRng(Pa.before(e).toRange())}return!0},kx=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const r=e.selection.getNode();return Cx(e,r).filter(ro).fold((()=>((e,t,r)=>{const n=Ih(t?1:-1,e,r),o=Pa.fromRangeStart(n),i=gr(e);return!t&&Kf(o)?L.some(Sx.remove(o.getNode(!0))):t&&Zf(o)?L.some(Sx.remove(o.getNode())):!t&&Zf(o)&&cm(i,o)?hm(i,o).map((e=>Sx.remove(e.getNode()))):t&&Kf(o)&&lm(i,o)?dm(i,o).map((e=>Sx.remove(e.getNode()))):((e,t,r)=>((e,t)=>{const r=t.getNode(!e),n=e?"after":"before";return Ln(r)&&r.getAttribute("data-mce-caret")===n})(t,r)?((e,t)=>w(t)?L.none():e&&ro(t.nextSibling)?L.some(Sx.moveToElement(t.nextSibling)):!e&&ro(t.previousSibling)?L.some(Sx.moveToElement(t.previousSibling)):L.none())(t,r.getNode(!t)).orThunk((()=>_x(e,t,r))):_x(e,t,r).bind((t=>((e,t,r)=>r.fold((e=>L.some(Sx.remove(e))),(e=>L.some(Sx.moveToElement(e))),(r=>Ah(t,r,e)?L.none():L.some(Sx.moveToPosition(r)))))(e,r,t))))(e,t,o)})(e.getBody(),t,e.selection.getRng()).map((r=>()=>r.fold(((e,t)=>r=>(e._selectionOverrides.hideFakeCaret(),Nm(e,t,gr(r)),!0))(e,t),((e,t)=>r=>{const n=t?Pa.before(r):Pa.after(r);return e.selection.setRng(n.toRange()),!0})(e,t),(e=>t=>(e.selection.setRng(t.toRange()),!0))(e))))),(()=>L.some(C)))})(e,t):((e,t)=>{const r=e.selection.getNode();return ro(r)&&!no(r)?Cx(e,r.parentNode).filter(ro).fold((()=>L.some((()=>{var r;r=gr(e.getBody()),W(In(r,".mce-offscreen-selection"),vn),Nm(e,t,gr(e.selection.getNode())),Wm(e)}))),(()=>L.some(C))):Ex(e)?L.some((()=>{Zm(e,e.selection.getRng(),gr(e.getBody()))})):L.none()})(e,t),Tx=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const r=Pa.fromRangeStart(e.selection.getRng());return ed(t,e.getBody(),r).filter((e=>t?jf(e):Gf(e))).bind((e=>kh(t?0:-1,e))).map((t=>()=>e.selection.select(t)))})(e,t):L.none(),Px=$n,Mx=e=>Px(e)&&e.data[0]===Mo,Dx=e=>Px(e)&&e.data[e.data.length-1]===Mo,Ox=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(Mo)},Ix=(e,t)=>e?(e=>{var t;if(Px(e.previousSibling))return Dx(e.previousSibling)||e.previousSibling.appendData(Mo),e.previousSibling;if(Px(e))return Mx(e)||e.insertData(0,Mo),e;{const r=Ox(e);return null===(t=e.parentNode)||void 0===t||t.insertBefore(r,e),r}})(t):(e=>{var t,r;if(Px(e.nextSibling))return Mx(e.nextSibling)||e.nextSibling.insertData(0,Mo),e.nextSibling;if(Px(e))return Dx(e)||e.appendData(Mo),e;{const n=Ox(e);return e.nextSibling?null===(t=e.parentNode)||void 0===t||t.insertBefore(n,e.nextSibling):null===(r=e.parentNode)||void 0===r||r.appendChild(n),n}})(t),Rx=D(Ix,!0),Nx=D(Ix,!1),Fx=(e,t)=>$n(e.container())?Ix(t,e.container()):Ix(t,e.getNode()),Bx=(e,t)=>{const r=t.get();return r&&e.container()===r&&Fo(r)},Lx=(e,t)=>t.fold((t=>{oh(e.get());const r=Rx(t);return e.set(r),L.some(Pa(r,r.length-1))}),(t=>sd(t).map((t=>{if(Bx(t,e)){const t=e.get();return Pa(t,1)}{oh(e.get());const r=Fx(t,!0);return e.set(r),Pa(r,1)}}))),(t=>ad(t).map((t=>{if(Bx(t,e)){const t=e.get();return Pa(t,t.length-1)}{oh(e.get());const r=Fx(t,!1);return e.set(r),Pa(r,r.length-1)}}))),(t=>{oh(e.get());const r=Nx(t);return e.set(r),L.some(Pa(r,1))})),Vx=(e,t)=>{for(let r=0;r<e.length;r++){const n=e[r].apply(null,t);if(n.isSome())return n}return L.none()},zx=el([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Hx=(e,t)=>Ch(t,e)||e,jx=(e,t,r)=>{const n=zm(r),o=Hx(t,n.container());return Lm(e,o,n).fold((()=>od(o,n).bind(D(Lm,e,o)).map((e=>zx.before(e)))),L.none)},Gx=(e,t)=>null===hd(e,t),Ux=(e,t,r)=>Lm(e,t,r).filter(D(Gx,t)),qx=(e,t,r)=>{const n=Hm(r);return Ux(e,t,n).bind((e=>id(e,n).isNone()?L.some(zx.start(e)):L.none()))},Wx=(e,t,r)=>{const n=zm(r);return Ux(e,t,n).bind((e=>od(e,n).isNone()?L.some(zx.end(e)):L.none()))},$x=(e,t,r)=>{const n=Hm(r),o=Hx(t,n.container());return Lm(e,o,n).fold((()=>id(o,n).bind(D(Lm,e,o)).map((e=>zx.after(e)))),L.none)},Zx=e=>{return t=Yx(e),!("rtl"===_s.DOM.getStyle(t,"direction",!0)||(e=>Fm.test(e))(null!==(r=t.textContent)&&void 0!==r?r:""));var t,r},Kx=(e,t,r)=>Vx([jx,qx,Wx,$x],[e,t,r]).filter(Zx),Yx=e=>e.fold(P,P,P,P),Xx=e=>e.fold(T("before"),T("start"),T("end"),T("after")),Jx=e=>e.fold(zx.before,zx.before,zx.after,zx.after),Qx=e=>e.fold(zx.start,zx.start,zx.end,zx.end),eE=(e,t,r,n,o,i)=>Ft(Lm(t,r,n),Lm(t,r,o),((t,n)=>t!==n&&((e,t,r)=>{const n=Ch(t,e),o=Ch(r,e);return x(n)&&n===o})(r,t,n)?zx.after(e?t:n):i)).getOr(i),tE=(e,t)=>e.fold(B,(e=>{return n=t,!(Xx(r=e)===Xx(n)&&Yx(r)===Yx(n));var r,n})),rE=(e,t)=>e?t.fold(A(L.some,zx.start),L.none,A(L.some,zx.after),L.none):t.fold(L.none,A(L.some,zx.before),L.none,A(L.some,zx.end)),nE=(e,t,r)=>{const n=e?1:-1;return t.setRng(Pa(r.container(),r.offset()+n).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0};var oE;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(oE||(oE={}));const iE=(e,t)=>e===Vh.Backwards?oe(t):t,sE=(e,t,r)=>e===Vh.Forwards?t.next(r):t.prev(r),aE=(e,t,r,n)=>Qn(n.getNode(t===Vh.Forwards))?oE.Br:!1===Ah(r,n)?oE.Block:oE.Wrap,lE=(e,t,r,n)=>{const o=Yh(r);let i=n;const s=[];for(;i;){const r=sE(t,o,i);if(!r)break;if(Qn(r.getNode(!1)))return t===Vh.Forwards?{positions:iE(t,s).concat([r]),breakType:oE.Br,breakAt:L.some(r)}:{positions:iE(t,s),breakType:oE.Br,breakAt:L.some(r)};if(r.isVisible()){if(e(i,r)){const e=aE(0,t,i,r);return{positions:iE(t,s),breakType:e,breakAt:L.some(r)}}s.push(r),i=r}else i=r}return{positions:iE(t,s),breakType:oE.Eol,breakAt:L.none()}},cE=(e,t,r,n)=>t(r,n).breakAt.map((n=>{const o=t(r,n).positions;return e===Vh.Backwards?o.concat(n):[n].concat(o)})).getOr([]),hE=(e,t)=>X(e,((e,r)=>e.fold((()=>L.some(r)),(n=>Ft(ce(n.getClientRects()),ce(r.getClientRects()),((e,o)=>{const i=Math.abs(t-e.left);return Math.abs(t-o.left)<=i?r:n})).or(e)))),L.none()),dE=(e,t)=>ce(t.getClientRects()).bind((t=>hE(e,t.left))),uE=D(lE,Pa.isAbove,-1),pE=D(lE,Pa.isBelow,1),fE=D(cE,-1,uE),mE=D(cE,1,pE),gE=(e,t)=>dE(fE(e,t),t),vE=(e,t)=>dE(mE(e,t),t),yE=ro,bE=(e,t)=>Math.abs(e.left-t),wE=(e,t)=>Math.abs(e.right-t),xE=(e,t)=>Oe(e,((e,r)=>{const n=Math.min(bE(e,t),wE(e,t)),o=Math.min(bE(r,t),wE(r,t));return o===n&&Ce(r,"node")&&yE(r.node)||o<n?r:e})),EE=e=>{const t=t=>q(t,(t=>{const r=ra(t);return r.node=e,r}));if(Ln(e))return t(e.getClientRects());if($n(e)){const r=e.ownerDocument.createRange();return r.setStart(e,0),r.setEnd(e,e.data.length),t(r.getClientRects())}return[]},SE=e=>re(e,EE);var _E;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(_E||(_E={}));const CE=(e,t,r,n,o,i)=>{let s=0;const a=[],l=n=>{let i=SE([n]);-1===e&&(i=i.reverse());for(let e=0;e<i.length;e++){const n=i[e];if(!r(n,c)){if(a.length>0&&t(n,Re(a))&&s++,n.line=s,o(n))return!0;a.push(n)}}return!1},c=Re(i.getClientRects());if(!c)return a;const h=i.getNode();return h&&(l(h),((e,t,r,n)=>{let o=n;for(;o=_h(o,e,ti,t);)if(r(o))return})(e,n,l,h)),a},AE=D(CE,_E.Up,ia,sa),kE=D(CE,_E.Down,sa,ia),TE=e=>Re(e.getClientRects()),PE=e=>t=>((e,t)=>t.line>e)(e,t),ME=e=>t=>((e,t)=>t.line===e)(e,t),DE=(e,t)=>{e.selection.setRng(t),Fp(e,e.selection.getRng())},OE=(e,t,r)=>L.some(gx(e,t,r)),IE=(e,t,r,n,o,i)=>{const s=t===Vh.Forwards,a=Yh(e.getBody()),l=D(Bh,s?a.next:a.prev),c=s?n:o;if(!r.collapsed){const n=la(r);if(i(n))return fx(t,e,n,t===Vh.Backwards,!1);if(Ex(e)){const e=r.cloneRange();return e.collapse(t===Vh.Backwards),L.from(e)}}const h=Nh(t,e.getBody(),r);if(c(h))return mx(e,h.getNode(!s));let d=l(h);const u=Uo(r);if(!d)return u?L.some(r):L.none();if(d=Vm(s,d),c(d))return fx(t,e,d.getNode(!s),s,!1);const p=l(d);return p&&c(p)&&Lh(d,p)?fx(t,e,p.getNode(!s),s,!1):u?OE(e,d.toRange(),!1):L.none()},RE=(e,t,r,n,o,i)=>{const s=Nh(t,e.getBody(),r),a=Re(s.getClientRects()),l=t===_E.Down,c=e.getBody();if(!a)return L.none();if(Ex(e)){const e=l?Pa.fromRangeEnd(r):Pa.fromRangeStart(r);return(l?vE:gE)(c,e).orThunk((()=>L.from(e))).map((e=>e.toRange()))}const h=(l?kE:AE)(c,PE(1),s),d=K(h,ME(1)),u=a.left,p=xE(d,u);if(p&&i(p.node)){const r=Math.abs(u-p.left),n=Math.abs(u-p.right);return fx(t,e,p.node,r<n,!1)}let f;if(f=n(s)?s.getNode():o(s)?s.getNode(!0):la(r),f){const r=((e,t,r,n)=>{const o=Yh(t);let i,s,a,l;const c=[];let h=0;1===e?(i=o.next,s=sa,a=ia,l=Pa.after(n)):(i=o.prev,s=ia,a=sa,l=Pa.before(n));const d=TE(l);do{if(!l.isVisible())continue;const e=TE(l);if(a(e,d))continue;c.length>0&&s(e,Re(c))&&h++;const t=ra(e);if(t.position=l,t.line=h,r(t))return c;c.push(t)}while(l=i(l));return c})(t,c,PE(1),f);let n=xE(K(r,ME(1)),u);if(n)return OE(e,n.position.toRange(),!1);if(n=Re(K(r,ME(0))),n)return OE(e,n.position.toRange(),!1)}return 0===d.length?NE(e,l).filter(l?o:n).map((t=>gx(e,t.toRange(),!1))):L.none()},NE=(e,t)=>{const r=e.selection.getRng(),n=t?Pa.fromRangeEnd(r):Pa.fromRangeStart(r),o=(i=n.container(),s=e.getBody(),$r(gr(i),(e=>uh(e.dom)),(e=>e.dom===s)).map((e=>e.dom)).getOr(s));var i,s;if(t){const e=pE(o,n);return he(e.positions)}{const e=uE(o,n);return ce(e.positions)}},FE=(e,t,r)=>NE(e,t).filter(r).exists((t=>(e.selection.setRng(t.toRange()),!0))),BE=(e,t)=>{const r=e.dom.createRng();r.setStart(t.container(),t.offset()),r.setEnd(t.container(),t.offset()),e.selection.setRng(r)},LE=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},VE=(e,t,r)=>Lx(t,r).map((t=>(BE(e,t),r))),zE=(e,t,r)=>!!nc(e)&&((e,t,r)=>{const n=e.getBody(),o=((e,t,r)=>{const n=Pa.fromRangeStart(e);if(e.collapsed)return n;{const o=Pa.fromRangeEnd(e);return r?id(t,o).getOr(o):od(t,n).getOr(n)}})(e.selection.getRng(),n,r);return((e,t,r,n)=>{const o=Vm(e,n),i=Kx(t,r,o);return Kx(t,r,o).bind(D(rE,e)).orThunk((()=>((e,t,r,n,o)=>{const i=Vm(e,o);return ed(e,r,i).map(D(Vm,e)).fold((()=>n.map(Jx)),(o=>Kx(t,r,o).map(D(eE,e,t,r,i,o)).filter(D(tE,n)))).filter(Zx)})(e,t,r,i,n)))})(r,D(Bm,e),n,o).bind((r=>VE(e,t,r)))})(e,t,r).isSome(),HE=(e,t,r)=>!!nc(t)&&((e,t)=>{const r=t.selection.getRng(),n=e?Pa.fromRangeEnd(r):Pa.fromRangeStart(r);return!!(e=>E(e.selection.getSel().modify))(t)&&(e&&Vo(n)?nE(!0,t.selection,n):!(e||!zo(n))&&nE(!1,t.selection,n))})(e,t),jE=D(HE,!0),GE=D(HE,!1),UE=(e,t,r)=>{if(nc(e)){const n=NE(e,t).getOrThunk((()=>{const r=e.selection.getRng();return t?Pa.fromRangeEnd(r):Pa.fromRangeStart(r)}));return Kx(D(Bm,e),e.getBody(),n).exists((t=>{const n=Jx(t);return Lx(r,n).exists((t=>(BE(e,t),!0)))}))}return!1},qE=(e,t)=>r=>Lx(t,r).map((t=>()=>BE(e,t))),WE=(e,t,r,n)=>{const o=e.getBody(),i=D(Bm,e);e.undoManager.ignore((()=>{e.selection.setRng(((e,t)=>{const r=document.createRange();return r.setStart(e.container(),e.offset()),r.setEnd(t.container(),t.offset()),r})(r,n)),Gm(e),Kx(i,o,Pa.fromRangeStart(e.selection.getRng())).map(Qx).bind(qE(e,t)).each(N)})),e.nodeChanged()},$E=(e,t,r)=>{if(e.selection.isCollapsed()&&nc(e)){const n=Pa.fromRangeStart(e.selection.getRng());return((e,t,r,n)=>{const o=((e,t)=>Ch(t,e)||e)(e.getBody(),n.container()),i=D(Bm,e),s=Kx(i,o,n);return s.bind((e=>r?e.fold(T(L.some(Qx(e))),L.none,T(L.some(Jx(e))),L.none):e.fold(L.none,T(L.some(Jx(e))),L.none,T(L.some(Qx(e)))))).map(qE(e,t)).getOrThunk((()=>{const a=td(r,o,n),l=a.bind((e=>Kx(i,o,e)));return Ft(s,l,(()=>Lm(i,o,n).bind((t=>(e=>Ft(sd(e),ad(e),((t,r)=>{const n=Vm(!0,t),o=Vm(!1,r);return od(e,n).forall((e=>e.isEqual(o)))})).getOr(!0))(t)?L.some((()=>{Nm(e,r,gr(t))})):L.none())))).getOrThunk((()=>l.bind((()=>a.map((o=>()=>{r?WE(e,t,n,o):WE(e,t,o,n)}))))))}))})(e,t,r,n)}return L.none()},ZE=(e,t)=>{const r=gr(e.getBody()),n=gr(e.selection.getStart()),o=Xf(n,r);return ee(o,t).fold(T(o),(e=>o.slice(0,e)))},KE=(e,t)=>{const r=D(sv,e);return re(t,(e=>r(e)?[e.dom]:[]))},YE=e=>{const t=(e=>ZE(e,go))(e);return KE(e,t)},XE=(e,t)=>{const r=e.selection.getStart(),n=((e,t)=>{const r=t.parentElement;return Qn(t)&&!v(r)&&e.dom.isEmpty(r)})(e,r)||av(gr(r))?iv(r,t):((e,t)=>{const{caretContainer:r,caretPosition:n}=ov(t);return e.selection.getRng().insertNode(r.dom),n})(e,t);e.selection.setRng(n.toRange())},JE=e=>$n(e.startContainer),QE=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const r=(e=>ZE(e,(e=>go(e)||(e=>Fr(e)>1)(e))))(e);return he(r).bind((n=>{const o=Pa.fromRangeStart(e.selection.getRng());return((e,t,r)=>Ft(sd(r),ad(r),((n,o)=>{const i=Vm(!0,n),s=Vm(!1,o),a=Vm(!1,t);return e?od(r,a).exists((e=>e.isEqual(s)&&t.isEqual(i))):id(r,a).exists((e=>e.isEqual(i)&&t.isEqual(s)))})).getOr(!0))(t,o,n.dom)&&!av(n)?L.some((()=>((e,t,r,n)=>{const o=KE(t,n);if(0===o.length)Nm(t,e,r);else{const e=iv(r.dom,o);t.selection.setRng(e.toRange())}})(t,e,n,r))):L.none()}))})(e,t):(e=>{if((e=>{const t=e.selection.getRng();return(e=>0===e.startOffset&&JE(e))(t)&&((e,t)=>{const r=t.startContainer.parentElement;return!v(r)&&sv(e,gr(r))})(e,t)&&(e=>(e=>(e=>{const t=e.startContainer.parentNode,r=e.endContainer.parentNode;return!v(t)&&!v(r)&&t.isEqualNode(r)})(e)&&(e=>{const t=e.endContainer;return e.endOffset===($n(t)?t.length:t.childNodes.length)})(e))(e)||(e=>!e.endContainer.isEqualNode(e.commonAncestorContainer))(e))(t)})(e)){const t=YE(e);return L.some((()=>{Gm(e),((e,t)=>{const r=ie(t,YE(e));r.length>0&&XE(e,r)})(e,t)}))}return L.none()})(e),eS=e=>((e=>{const t=e.selection.getRng();return t.collapsed&&(JE(t)||e.dom.isEmpty(t.startContainer))&&!(e=>(e=>((e,t,r)=>$r(e,(e=>cd(e.dom)),r).isSome())(e,0,go))(gr(e.selection.getStart())))(e)})(e)&&XE(e,[]),!0),tS=(e,t,r)=>x(r)?L.some((()=>{e._selectionOverrides.hideFakeCaret(),Nm(e,t,gr(r))})):L.none(),rS=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const r=t?Uf:qf,n=t?Vh.Forwards:Vh.Backwards,o=Nh(n,e.getBody(),e.selection.getRng());return r(o)?tS(e,t,o.getNode(!t)):L.from(Vm(t,o)).filter((e=>r(e)&&Lh(o,e))).bind((r=>tS(e,t,r.getNode(!t))))})(e,t):((e,t)=>{const r=e.selection.getNode();return io(r)?tS(e,t,r):L.none()})(e,t),nS=e=>Xe(null!=e?e:"").getOr(0),oS=(e,t)=>(e||"table"===Ht(t)?"margin":"padding")+("rtl"===on(t,"direction")?"-right":"-left"),iS=e=>{const t=aS(e);return!e.mode.isReadOnly()&&(t.length>1||((e,t)=>ne(t,(t=>{const r=oS(Hl(e),t),n=an(t,r).map(nS).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&n>0})))(e,t))},sS=e=>wo(e)||xo(e),aS=e=>K(bn(e.selection.getSelectedBlocks()),(e=>!sS(e)&&!(e=>Cr(e).exists(sS))(e)&&Zr(e,(e=>to(e.dom)||ro(e.dom))).exists((e=>to(e.dom))))),lS=(e,t)=>{var r,n;const{dom:o}=e,i=jl(e),s=null!==(n=null===(r=/[a-z%]+$/i.exec(i))||void 0===r?void 0:r[0])&&void 0!==n?n:"px",a=nS(i),l=Hl(e);W(aS(e),(e=>{((e,t,r,n,o,i)=>{const s=oS(r,gr(i)),a=nS(e.getStyle(i,s));if("outdent"===t){const t=Math.max(0,a-n);e.setStyle(i,s,t?t+o:"")}else{const t=a+n+o;e.setStyle(i,s,t)}})(o,t,l,a,s,e.dom)}))},cS=e=>lS(e,"outdent"),hS=e=>{if(e.selection.isCollapsed()&&iS(e)){const t=e.dom,r=e.selection.getRng(),n=Pa.fromRangeStart(r),o=t.getParent(r.startContainer,t.isBlock);if(null!==o&&rm(gr(o),n))return L.some((()=>cS(e)))}return L.none()},dS=(e,t,r)=>ue([hS,kx,wx,(e,r)=>$E(e,t,r),dx,vg,Tx,rS,px,QE],(t=>t(e,r))).filter((t=>e.selection.isEditable())),uS=e=>void 0===e.touches||1!==e.touches.length?L.none():L.some(e.touches[0]),pS=(e,t)=>_e(e,t.nodeName),fS=(e,t)=>!!$n(t)||!!Ln(t)&&!pS(e.getBlockElements(),t)&&!Ed(t)&&!xi(e,t),mS=(e,t)=>{if($n(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data)&&(!t.nextSibling||pS(e,t.nextSibling)))return!0}return!1},gS=e=>e.dom.create(xl(e),El(e)),vS=e=>{const t=e.dom,r=e.selection,n=e.schema,o=n.getBlockElements(),i=r.getStart(),s=e.getBody();let a,l,c=!1;const h=xl(e);if(!i||!Ln(i))return;const d=s.nodeName.toLowerCase();if(!n.isValidChild(d,h.toLowerCase())||((e,t,r)=>U(Yf(gr(r),gr(t)),(t=>pS(e,t.dom))))(o,s,i))return;const u=r.getRng(),{startContainer:p,startOffset:f,endContainer:m,endOffset:g}=u,v=sf(e);let y=s.firstChild;for(;y;)if(Ln(y)&&vi(n,y),fS(n,y)){if(mS(o,y)){l=y,y=y.nextSibling,t.remove(l);continue}a||(a=gS(e),s.insertBefore(a,y),c=!0),l=y,y=y.nextSibling,a.appendChild(l)}else a=null,y=y.nextSibling;c&&v&&(u.setStart(p,f),u.setEnd(m,g),r.setRng(u),e.nodeChanged())},yS=(e,t,r)=>{const n=gr(gS(e)),o=ko();pn(n,o),r(t,n);const i=document.createRange();return i.setStartBefore(o.dom),i.setEndBefore(o.dom),i},bS=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),wS=(e,t,r)=>function(n){const o=arguments,i=o[o.length-2],s=i>0?t.charAt(i-1):"";if('"'===s)return n;if(">"===s){const e=t.lastIndexOf("<",i);if(-1!==e&&-1!==t.substring(e,i).indexOf('contenteditable="false"'))return n}return'<span class="'+r+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode("string"==typeof o[1]?o[1]:o[0])+"</span>"},xS=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Go(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},ES=(e,t)=>{const r=(e=>Yr(gr(e.getBody()),"*[data-mce-caret]").map((e=>e.dom)).getOrNull())(e);if(r)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void xS(e,r)):void(Lo(r)&&(xS(e,r),e.undoManager.add()))},SS=ro,_S=(e,t,r)=>{const n=Yh(e.getBody()),o=D(Bh,1===t?n.next:n.prev);if(r.collapsed){const n=e.dom.getParent(r.startContainer,"PRE");if(!n)return;if(!o(Pa.fromRangeStart(r))){const r=gr((e=>{const t=e.dom.create(xl(e));return t.innerHTML='<br data-mce-bogus="1">',t})(e));1===t?dn(gr(n),r):hn(gr(n),r),e.selection.select(r.dom,!0),e.selection.collapse()}}},CS=(e,t)=>((e,t)=>{const r=t?Vh.Forwards:Vh.Backwards,n=e.selection.getRng();return((e,t,r)=>IE(t,e,r,Zf,Kf,SS))(r,e,n).orThunk((()=>(_S(e,r,n),L.none())))})(e,t).exists((t=>(DE(e,t),!0))),AS=(e,t)=>((e,t)=>{const r=t?1:-1,n=e.selection.getRng();return((e,t,r)=>RE(t,e,r,(e=>Zf(e)||Wf(e)),(e=>Kf(e)||$f(e)),SS))(r,e,n).orThunk((()=>(_S(e,r,n),L.none())))})(e,t).exists((t=>(DE(e,t),!0))),kS=(e,t)=>FE(e,t,t?Kf:Zf),TS=(e,t)=>xx(e,!t).map((r=>{const n=r.toRange(),o=e.selection.getRng();return t?n.setStart(o.startContainer,o.startOffset):n.setEnd(o.endContainer,o.endOffset),n})).exists((t=>(DE(e,t),!0))),PS=e=>G(["figcaption"],Ht(e)),MS=(e,t)=>!!e.selection.isCollapsed()&&((e,t)=>{const r=gr(e.getBody()),n=Pa.fromRangeStart(e.selection.getRng());return((e,t)=>{const r=D(wr,t);return Zr(gr(e.container()),go,r).filter(PS)})(n,r).exists((()=>{if(((e,t,r)=>t?((e,t)=>pE(e,t).breakAt.isNone())(e.dom,r):((e,t)=>uE(e,t).breakAt.isNone())(e.dom,r))(r,t,n)){const n=yS(e,r,t?pn:un);return e.selection.setRng(n),!0}return!1}))})(e,t),DS={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},OS=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,IS=(e,...t)=>()=>e.apply(null,t),RS=(e,t)=>Q(((e,t)=>re((e=>q(e,(e=>({...DS,...e}))))(e),(e=>OS(e,t)?[e]:[])))(e,t),(e=>e.action())),NS=(e,t)=>ue(((e,t)=>re((e=>q(e,(e=>({...DS,...e}))))(e),(e=>OS(e,t)?[e]:[])))(e,t),(e=>e.action())),FS=(e,t)=>{const r=t?Vh.Forwards:Vh.Backwards,n=e.selection.getRng();return IE(e,r,n,Uf,qf,io).exists((t=>(DE(e,t),!0)))},BS=(e,t)=>{const r=t?1:-1,n=e.selection.getRng();return RE(e,r,n,Uf,qf,io).exists((t=>(DE(e,t),!0)))},LS=(e,t)=>FE(e,t,t?qf:Uf),VS=el([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),zS={...VS,none:e=>VS.none(e)},HS=(e,t,r)=>re(Or(e),(e=>yr(e,t)?r(e)?[e]:[]:HS(e,t,r))),jS=(e,t)=>Xr(e,"table",t),GS=(e,t,r,n,o=B)=>{const i=1===n;if(!i&&r<=0)return zS.first(e[0]);if(i&&r>=e.length-1)return zS.last(e[e.length-1]);{const i=r+n,s=e[i];return o(s)?zS.middle(t,s):GS(e,t,i,n,o)}},US=(e,t)=>jS(e,t).bind((t=>{const r=HS(t,"th,td",B);return ee(r,(t=>wr(e,t))).map((e=>({index:e,all:r})))})),qS=(e,t,r,n,o)=>{const i=In(gr(r),"td,th,caption").map((e=>e.dom)),s=K(((e,t)=>re(t,(t=>{const r=((e,t)=>({left:e.left- -1,top:e.top- -1,right:e.right+-2,bottom:e.bottom+-2,width:e.width+-1,height:e.height+-1}))(ra(t.getBoundingClientRect()));return[{x:r.left,y:e(r),cell:t},{x:r.right,y:e(r),cell:t}]})))(e,i),(e=>t(e,o)));return((e,t,r)=>X(e,((e,n)=>e.fold((()=>L.some(n)),(e=>{const o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-r)),i=Math.sqrt(Math.abs(n.x-t)+Math.abs(n.y-r));return L.some(i<o?n:e)}))),L.none()))(s,n,o).map((e=>e.cell))},WS=D(qS,(e=>e.bottom),((e,t)=>e.y<t)),$S=D(qS,(e=>e.top),((e,t)=>e.y>t)),ZS=(e,t,r)=>{const n=e(t,r);return(e=>e.breakType===oE.Wrap&&0===e.positions.length)(n)||!Qn(r.getNode())&&(e=>e.breakType===oE.Br&&1===e.positions.length)(n)?!((e,t,r)=>r.breakAt.exists((r=>e(t,r).breakAt.isSome())))(e,t,n):n.breakAt.isNone()},KS=D(ZS,uE),YS=D(ZS,pE),XS=(e,t,r,n)=>{const o=e.selection.getRng(),i=t?1:-1;return!(!ch()||!((e,t,r)=>{const n=Pa.fromRangeStart(t);return nd(!e,r).exists((e=>e.isEqual(n)))})(t,o,r)||(fx(i,e,r,!t,!1).each((t=>{DE(e,t)})),0))},JS=(e,t,r)=>{const n=((e,t)=>{const r=t.getNode(e);return Un(r)?L.some(r):L.none()})(!!t,r),o=!1===t;n.fold((()=>DE(e,r.toRange())),(n=>nd(o,e.getBody()).filter((e=>e.isEqual(r))).fold((()=>DE(e,r.toRange())),(r=>((e,t,r)=>{t.undoManager.transact((()=>{const n=e?dn:hn,o=yS(t,gr(r),n);DE(t,o)}))})(t,e,n)))))},QS=(e,t,r,n)=>{const o=e.selection.getRng(),i=Pa.fromRangeStart(o),s=e.getBody();if(!t&&KS(n,i)){const n=((e,t,r)=>((e,t)=>ce(t.getClientRects()).bind((t=>WS(e,t.left,t.top))).bind((e=>{return dE(ad(r=e).map((e=>uE(r,e).positions.concat(e))).getOr([]),t);var r})))(t,r).orThunk((()=>ce(r.getClientRects()).bind((r=>hE(fE(e,Pa.before(t)),r.left))))).getOr(Pa.before(t)))(s,r,i);return JS(e,t,n),!0}if(t&&YS(n,i)){const n=((e,t,r)=>((e,t)=>he(t.getClientRects()).bind((t=>$S(e,t.left,t.top))).bind((e=>{return dE(sd(r=e).map((e=>[e].concat(pE(r,e).positions))).getOr([]),t);var r})))(t,r).orThunk((()=>ce(r.getClientRects()).bind((r=>hE(mE(e,Pa.after(t)),r.left))))).getOr(Pa.after(t)))(s,r,i);return JS(e,t,n),!0}return!1},e_=(e,t,r)=>L.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((n=>L.from(e.dom.getParent(n,"table")).map((o=>r(e,t,o,n))))).getOr(!1),t_=(e,t)=>e_(e,t,XS),r_=(e,t)=>e_(e,t,QS),n_=(e,t,r)=>r.fold(L.none,L.none,((e,t)=>{return(r=t,((e,t)=>{const r=e=>{for(let n=0;n<e.childNodes.length;n++){const o=gr(e.childNodes[n]);if(t(o))return L.some(o);const i=r(e.childNodes[n]);if(i.isSome())return i}return L.none()};return r(e.dom)})(r,ff)).map((e=>(e=>(e=>{const t=ep.getWin(e).dom,r=(e,r,n,o)=>Wu(t,e,r,n,o),n=(e=>e.match({domRange:e=>{const t=gr(e.startContainer),r=gr(e.endContainer);return np(t,e.startOffset,r,e.endOffset)},relative:rp,exact:np}))(e);return((e,t)=>{const r=((e,t)=>t.match({domRange:e=>({ltr:T(e),rtl:L.none}),relative:(t,r)=>({ltr:Ne((()=>qu(e,t,r))),rtl:Ne((()=>L.some(qu(e,r,t))))}),exact:(t,r,n,o)=>({ltr:Ne((()=>Wu(e,t,r,n,o))),rtl:Ne((()=>L.some(Wu(e,n,o,t,r))))})}))(e,t);return((e,t)=>{const r=t.ltr();return r.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>$u.rtl(gr(e.endContainer),e.endOffset,gr(e.startContainer),e.startOffset))).getOrThunk((()=>Zu(0,$u.ltr,r))):Zu(0,$u.ltr,r)})(0,r)})(t,n).match({ltr:r,rtl:r})})(ep.exact(e,0,e,0)))(e)));var r}),(r=>(e.execCommand("mceTableInsertRowAfter"),o_(e,t,r)))),o_=(e,t,r)=>{return n_(e,t,(o=Jr,US(n=r,void 0).fold((()=>zS.none(n)),(e=>GS(e.all,n,e.index,1,o)))));var n,o},i_=(e,t,r)=>{return n_(e,t,(o=Jr,US(n=r,void 0).fold((()=>zS.none()),(e=>GS(e.all,n,e.index,-1,o)))));var n,o},s_=(e,t)=>{const r=["table","li","dl"],n=gr(e.getBody()),o=e=>{const t=Ht(e);return wr(e,n)||G(r,t)},i=e.selection.getRng();return((e,t)=>((e,t,r=F)=>r(t)?L.none():G(e,Ht(t))?L.some(t):Kr(t,e.join(","),(e=>yr(e,"table")||r(e))))(["td","th"],e,t))(gr(t?i.endContainer:i.startContainer),o).map((r=>(jS(r,o).each((t=>{e.model.table.clearSelectedCells(t.dom)})),e.selection.collapse(!t),(t?o_:i_)(e,o,r).each((t=>{e.selection.setRng(t)})),!0))).getOr(!1)},a_=(e,t)=>({container:e,offset:t}),l_=_s.DOM,c_=e=>t=>e===t?-1:0,h_=(e,t,r)=>{if($n(e)&&t>=0)return L.some(a_(e,t));{const n=ea(l_);return L.from(n.backwards(e,t,c_(e),r)).map((e=>a_(e.container,e.container.data.length)))}},d_=(e,t,r)=>{if(!$n(e))return L.none();const n=e.data;if(t>=0&&t<=n.length)return L.some(a_(e,t));{const n=ea(l_);return L.from(n.backwards(e,t,c_(e),r)).bind((e=>{const n=e.container.data;return d_(e.container,t+n.length,r)}))}},u_=(e,t,r)=>{if(!$n(e))return L.none();const n=e.data;if(t<=n.length)return L.some(a_(e,t));{const o=ea(l_);return L.from(o.forwards(e,t,c_(e),r)).bind((e=>u_(e.container,t-n.length,r)))}},p_=(e,t,r,n,o)=>{const i=ea(e,(e=>t=>e.isBlock(t)||G(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t))(e));return L.from(i.backwards(t,r,n,o))},f_=e=>Oo(e.toString().replace(/\u00A0/g," ")),m_=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),g_=(e,t)=>e.substring(t.length),v_=(e,t,r,n=0)=>{return(o=gr(t.startContainer),Xr(o,mf)).fold((()=>((e,t,r,n=0)=>{if(!(o=t).collapsed||!$n(o.startContainer))return L.none();var o;const i={text:"",offset:0},s=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return p_(e,t.startContainer,t.startOffset,((e,t,n)=>(i.text=n+i.text,i.offset+=t,((e,t,r)=>{let n;const o=r.charAt(0);for(n=t-1;n>=0;n--){const i=e.charAt(n);if(m_(i))return L.none();if(o===i&&je(e,r,n,t))break}return L.some(n)})(i.text,i.offset,r).getOr(t))),s).bind((e=>{const o=t.cloneRange();if(o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed)return L.none();const i=f_(o);return 0!==i.lastIndexOf(r)||g_(i,r).length<n?L.none():L.some({text:g_(i,r),range:o,trigger:r})}))})(e,t,r,n)),(t=>{const n=e.createRng();n.selectNode(t.dom);const o=f_(n);return L.some({range:n,text:g_(o,r),trigger:r})}));var o},y_=e=>{if((e=>3===e.nodeType)(e))return a_(e,e.data.length);{const t=e.childNodes;return t.length>0?y_(t[t.length-1]):a_(e,t.length)}},b_=(e,t)=>{const r=e.childNodes;return r.length>0&&t<r.length?b_(r[t],0):r.length>0&&(e=>1===e.nodeType)(e)&&r.length===t?y_(r[r.length-1]):a_(e,t)},w_=(e,t,r,n={})=>{var o;const i=t(),s=null!==(o=e.selection.getRng().startContainer.nodeValue)&&void 0!==o?o:"",a=K(i.lookupByTrigger(r.trigger),(t=>r.text.length>=t.minChars&&t.matches.getOrThunk((()=>(e=>t=>{const r=b_(t.startContainer,t.startOffset);return!((e,t)=>{var r;const n=null!==(r=e.getParent(t.container,e.isBlock))&&void 0!==r?r:e.getRoot();return p_(e,t.container,t.offset,((e,t)=>0===t?-1:t),n).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!m_(t)})).isSome()})(e,r)})(e.dom)))(r.range,s,r.text)));if(0===a.length)return L.none();const l=Promise.all(q(a,(e=>e.fetch(r.text,e.maxResults,n).then((t=>({matchText:r.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))))));return L.some({lookupData:l,context:r})};var x_;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(x_||(x_={}));const E_=(e,t,r)=>e.stype===x_.Error?t(e.serror):r(e.svalue),S_=e=>({stype:x_.Value,svalue:e}),__=e=>({stype:x_.Error,serror:e}),C_=E_,A_=e=>f(e)&&pe(e).length>100?" removed due to size":JSON.stringify(e,null,2),k_=(e,t)=>__([{path:e,getErrorInfo:t}]),T_=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const r={};for(let n=0;n<t.length;n++){const o=t[n];for(const t in o)_e(o,t)&&(r[t]=e(r[t],o[t]))}return r},P_=T_(((e,t)=>m(e)&&m(t)?P_(e,t):t)),M_=(T_(((e,t)=>t)),e=>({tag:"defaultedThunk",process:T(e)})),D_=(e,t,r)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return r(e.newKey,e.instantiator)}},O_=e=>({extract:(t,r)=>{return o=e=>((e,t)=>k_(e,T(t)))(t,e),(n=e(r)).stype===x_.Error?o(n.serror):n;var n,o},toString:T("val")}),I_=O_(S_),R_=(e,t,r,n)=>n(Se(e,t).getOrThunk((()=>r(e)))),N_=(e,t,r,n,o)=>{const i=e=>o.extract(t.concat([n]),e),s=e=>e.fold((()=>S_(L.none())),(e=>{return r=o.extract(t.concat([n]),e),i=L.some,r.stype===x_.Value?{stype:x_.Value,svalue:i(r.svalue)}:r;var r,i}));switch(e.tag){case"required":return((e,t,r,n)=>Se(t,r).fold((()=>((e,t,r)=>k_(e,(()=>'Could not find valid *required* value for "'+t+'" in '+A_(r))))(e,r,t)),n))(t,r,n,i);case"defaultedThunk":return R_(r,n,e.process,i);case"option":return((e,t,r)=>r(Se(e,t)))(r,n,s);case"defaultedOptionThunk":return((e,t,r,n)=>n(Se(e,t).map((t=>!0===t?r(e):t))))(r,n,e.process,s);case"mergeWithThunk":return R_(r,n,T({}),(t=>{const n=P_(e.process(r),t);return i(n)}))}},F_=e=>({extract:(t,r)=>((e,t,r)=>{const n={},o=[];for(const i of r)D_(i,((r,i,s,a)=>{const l=N_(s,e,t,r,a);C_(l,(e=>{o.push(...e)}),(e=>{n[i]=e}))}),((e,r)=>{n[e]=r(t)}));return o.length>0?__(o):S_(n)})(t,r,e),toString:()=>{const t=q(e,(e=>D_(e,((e,t,r,n)=>e+" -> "+n.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),B_=e=>({extract:(t,r)=>{const n=q(r,((r,n)=>e.extract(t.concat(["["+n+"]"]),r)));return(e=>{const t=(e=>{const t=[],r=[];return W(e,(e=>{E_(e,(e=>r.push(e)),(e=>t.push(e)))})),{values:t,errors:r}})(e);return t.errors.length>0?(r=t.errors,A(__,te)(r)):S_(t.values);var r})(n)},toString:()=>"array("+e.toString()+")"}),L_=(e,t)=>((e,t)=>({extract:(r,n)=>Se(n,e).fold((()=>((e,t)=>k_(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(r,e)),(e=>((e,t,r,n)=>Se(r,n).fold((()=>((e,t,r)=>k_(e,(()=>'The chosen schema: "'+r+'" did not exist in branches: '+A_(t))))(e,r,n)),(r=>r.extract(e.concat(["branch: "+n]),t))))(r,n,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+pe(t)}))(e,ge(t,F_)),V_=T(I_),z_=(e,t)=>O_((r=>{const n=typeof r;return e(r)?S_(r):__(`Expected type: ${t} but got: ${n}`)})),H_=z_(S,"number"),j_=z_(p,"string"),G_=z_(y,"boolean"),U_=z_(E,"function"),q_=(e,t,r,n)=>({tag:"field",key:e,newKey:t,presence:r,prop:n}),W_=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),$_=(e,t)=>q_(e,e,{tag:"required",process:{}},t),Z_=e=>$_(e,j_),K_=e=>$_(e,U_),Y_=(e,t)=>q_(e,e,{tag:"option",process:{}},t),X_=e=>Y_(e,j_),J_=(e,t,r)=>q_(e,e,M_(t),r),Q_=(e,t)=>J_(e,t,H_),eC=(e,t,r)=>J_(e,t,(e=>{return t=t=>G(e,t)?Qa.value(t):Qa.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`),O_((e=>t(e).fold(__,S_)));var t})(r)),tC=(e,t)=>J_(e,t,G_),rC=(e,t)=>J_(e,t,U_),nC=Z_("type"),oC=K_("fetch"),iC=K_("onAction"),sC=rC("onSetup",(()=>C)),aC=X_("text"),lC=X_("icon"),cC=X_("tooltip"),hC=X_("label"),dC=tC("active",!1),uC=tC("enabled",!0),pC=tC("primary",!1),fC=e=>((e,t)=>J_("type",t,j_))(0,e),mC=F_([nC,Z_("trigger"),Q_("minChars",1),((e,t)=>q_(e,e,M_(1),V_()))("columns"),Q_("maxResults",10),Y_("matches",U_),oC,iC,(gC=j_,J_("highlightOn",[],B_(gC)))]);var gC;const vC=[uC,cC,lC,aC,sC],yC=[dC].concat(vC),bC=[rC("predicate",F),eC("scope","node",["node","editor"]),eC("position","selection",["node","selection","line"])],wC=vC.concat([fC("contextformbutton"),pC,iC,W_("original",P)]),xC=yC.concat([fC("contextformbutton"),pC,iC,W_("original",P)]),EC=vC.concat([fC("contextformbutton")]),SC=yC.concat([fC("contextformtogglebutton")]),_C=L_("type",{contextformbutton:wC,contextformtogglebutton:xC});F_([fC("contextform"),rC("initValue",T("")),hC,((e,t)=>q_(e,e,{tag:"required",process:{}},B_(t)))("commands",_C),Y_("launch",L_("type",{contextformbutton:EC,contextformtogglebutton:SC}))].concat(bC));const CC=e=>{const t=Rs(),r=ks(!1),n=t.isSet,o=()=>{n()&&((e=>{Xb(e).autocompleter.removeDecoration()})(e),(e=>{e.dispatch("AutocompleterEnd")})(e),r.set(!1),t.clear())},i=Ne((()=>(e=>{const t=e.ui.registry.getAll().popups,r=ge(t,(e=>{return(t=e,((e,t,r)=>{return n=((e,t,r)=>((e,t)=>e.stype===x_.Error?{stype:x_.Error,serror:(e=>({input:r,errors:e}))(e.serror)}:e)(t.extract([e],r)))(e,t,r),E_(n,Qa.error,Qa.value);var n})("Autocompleter",mC,{trigger:t.ch,...t})).fold((e=>{throw new Error("Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:T("... (only showing first ten failures)")}]):e;return q(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})((t=e).errors).join("\n")+"\n\nInput object: "+A_(t.input));var t}),P);var t})),n=Ae(xe(r,(e=>e.trigger))),o=Ee(r);return{dataset:r,triggers:n,lookupByTrigger:e=>K(o,(t=>t.trigger===e))}})(e))),s=s=>{(r=>t.get().map((t=>v_(e.dom,e.selection.getRng(),t.trigger).bind((t=>w_(e,i,t,r))))).getOrThunk((()=>((e,t)=>{const r=t(),n=e.selection.getRng();return((e,t,r)=>ue(r.triggers,(r=>v_(e,t,r))))(e.dom,n,r).bind((r=>w_(e,t,r)))})(e,i))))(s).fold(o,(i=>{(r=>{n()||(((e,t)=>{Xb(e).autocompleter.addDecoration(t)})(e,r.range),t.set({trigger:r.trigger,matchLength:r.text.length}))})(i.context),i.lookupData.then((n=>{t.get().map((s=>{const a=i.context;s.trigger===a.trigger&&(a.text.length-s.matchLength>=10?o():(t.set({...s,matchLength:a.text.length}),r.get()?((e,t)=>{e.dispatch("AutocompleterUpdate",t)})(e,{lookupData:n}):(r.set(!0),((e,t)=>{e.dispatch("AutocompleterStart",t)})(e,{lookupData:n}))))}))}))}))};e.addCommand("mceAutocompleterReload",((e,t)=>{const r=f(t)?t.fetchOptions:{};s(r)})),e.addCommand("mceAutocompleterClose",o),((e,t)=>{const r=Fs(t.load,50);e.on("keypress compositionend",(e=>{27!==e.which&&r.throttle()})),e.on("keydown",(e=>{const n=e.which;8===n?r.throttle():27===n&&t.cancelIfNecessary()})),e.on("remove",r.cancel)})(e,{cancelIfNecessary:o,load:s})},AC=e=>(t,r,n={})=>{const o=t.getBody(),i={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:o,currentTarget:o,eventPhase:Event.AT_TARGET,originalTarget:o,explicitOriginalTarget:o,isTrusted:!1,srcElement:o,cancelable:!1,preventDefault:C,inputType:r},s=as(new InputEvent(e));return t.dispatch(e,{...s,...i,...n})},kC=AC("input"),TC=AC("beforeinput"),PC=(e,t)=>{const r=e.dom,n=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=(e=>{for(;e;){if(Ln(e)||$n(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null})(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(r.doc.createTextNode(lo),t.firstChild)}const o=r.createRng();if(t.normalize(),t.hasChildNodes()){const e=new Nn(t,t);let r,i=t;for(;r=e.current();){if($n(r)){o.setStart(r,0),o.setEnd(r,0);break}if(n[r.nodeName.toLowerCase()]){o.setStartBefore(r),o.setEndBefore(r);break}i=r,r=e.next()}r||(o.setStart(i,0),o.setEnd(i,0))}else Qn(t)?t.nextSibling&&r.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),Fp(e,o)},MC=(e,t)=>{const r=e.getRoot();let n,o=t;for(;o!==r&&o&&"false"!==e.getContentEditable(o);)"true"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r},DC=e=>L.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),OC=(e,t)=>{const r=null==e?void 0:e.parentNode;return x(r)&&r.nodeName===t},IC=e=>x(e)&&/^(OL|UL|LI)$/.test(e.nodeName),RC=e=>{const t=e.parentNode;return x(r=t)&&/^(LI|DT|DD)$/.test(r.nodeName)?t:e;var r},NC=(e,t,r)=>{let n=e[r?"firstChild":"lastChild"];for(;n&&!Ln(n);)n=n[r?"nextSibling":"previousSibling"];return n===t},FC=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),BC=e=>{e.innerHTML='<br data-mce-bogus="1">'},LC=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,VC=(e,t)=>x(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),zC=(e,t,r)=>$n(t)?e?1===r&&t.data.charAt(r-1)===Mo?0:r:r===t.data.length-1&&t.data.charAt(r)===Mo?t.data.length:r:r,HC=(e,t)=>{xl(e).toLowerCase()===t.tagName.toLowerCase()&&((e,t,r)=>{const n=e.dom;L.from(r.style).map(n.parseStyle).each((e=>{const r={...ln(gr(t)),...e};n.setStyles(t,r)}));const o=L.from(r.class).map((e=>e.split(/\s+/))),i=L.from(t.className).map((e=>K(e.split(/\s+/),(e=>""!==e))));Ft(o,i,((e,r)=>{const o=K(r,(t=>!G(e,t))),i=[...e,...o];n.setAttrib(t,"class",i.join(" "))}));const s=["style","class"],a=we(r,((e,t)=>!G(s,t)));n.setAttribs(t,a)})(e,t,El(e))},jC={insert:(e,t)=>{let r,n,o,i,s=!1;const a=e.dom,l=e.schema,c=l.getNonEmptyElements(),h=e.selection.getRng(),d=xl(e),u=t=>{let n=r;const i=l.getTextInlineElements();let s;s=t||"TABLE"===o||"HR"===o?a.create(t||d):b.cloneNode(!1);let c=s;if(!1===Al(e))a.setAttrib(s,"style",null),a.setAttrib(s,"class",null);else do{if(i[n.nodeName]){if(cd(n)||Ed(n))continue;const e=n.cloneNode(!1);a.setAttrib(e,"id",""),s.hasChildNodes()?(e.appendChild(s.firstChild),s.appendChild(e)):(c=e,s.appendChild(e))}}while((n=n.parentNode)&&n!==y);return HC(e,s),BC(c),s},f=e=>{const t=zC(e,r,n);if($n(r)&&(e?t>0:t<r.data.length))return!1;if(r.parentNode===b&&s&&!e)return!0;if(e&&Ln(r)&&r===b.firstChild)return!0;if(LC(r,"TABLE")||LC(r,"HR"))return s&&!e||!s&&e;const o=new Nn(r,b);let i;for($n(r)&&(e&&0===t?o.prev():e||t!==r.data.length||o.next());i=o.current();){if(Ln(i)){if(!i.getAttribute("data-mce-bogus")){const e=i.nodeName.toLowerCase();if(c[e]&&"br"!==e)return!1}}else if($n(i)&&!ni(i.data))return!1;e?o.prev():o.next()}return!0},m=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(o)&&"HGROUP"!==E?u(d):u(),((e,t)=>{const r=kl(e);return!w(t)&&(p(r)?G(Rt.explode(r),t.nodeName.toLowerCase()):r)})(e,i)&&VC(a,i)&&a.isEmpty(b)?t=a.split(i,b):a.insertAfter(t,b),PC(e,t),t};pp(a,h).each((e=>{h.setStart(e.startContainer,e.startOffset),h.setEnd(e.endContainer,e.endOffset)})),r=h.startContainer,n=h.startOffset;const g=!(!t||!t.shiftKey),v=!(!t||!t.ctrlKey);Ln(r)&&r.hasChildNodes()&&(s=n>r.childNodes.length-1,r=r.childNodes[Math.min(n,r.childNodes.length-1)]||r,n=s&&$n(r)?r.data.length:0);const y=MC(a,r);if(!y||((e,t)=>{const r=e.dom.getParent(t,"ol,ul,dl");return null!==r&&"false"===e.dom.getContentEditableParent(r)})(e,r))return;g||(r=((e,t,r,n,o)=>{var i,s;const a=e.dom,l=null!==(i=MC(a,n))&&void 0!==i?i:a.getRoot();let c=a.getParent(n,a.isBlock);if(!c||!VC(a,c)){if(c=c||l,!c.hasChildNodes()){const n=a.create(t);return HC(e,n),c.appendChild(n),r.setStart(n,0),r.setEnd(n,0),n}let i,h=n;for(;h&&h.parentNode!==c;)h=h.parentNode;for(;h&&!a.isBlock(h);)i=h,h=h.previousSibling;const d=null===(s=null==i?void 0:i.parentElement)||void 0===s?void 0:s.nodeName;if(i&&d&&e.schema.isValidChild(d,t.toLowerCase())){const s=i.parentNode,l=a.create(t);for(HC(e,l),s.insertBefore(l,i),h=i;h&&!a.isBlock(h);){const e=h.nextSibling;l.appendChild(h),h=e}r.setStart(n,o),r.setEnd(n,o)}}return n})(e,d,h,r,n));let b=a.getParent(r,a.isBlock)||a.getRoot();i=x(null==b?void 0:b.parentNode)?a.getParent(b.parentNode,a.isBlock):null,o=b?b.nodeName.toUpperCase():"";const E=i?i.nodeName.toUpperCase():"";if("LI"!==E||v||(b=i,i=i.parentNode,o=E),/^(LI|DT|DD)$/.test(o)&&Ln(i)&&a.isEmpty(b))return void((e,t,r,n,o)=>{const i=e.dom,s=e.selection.getRng(),a=r.parentNode;if(r===e.getBody()||!a)return;var l;IC(l=r)&&IC(l.parentNode)&&(o="LI");let c=t(o);if(NC(r,n,!0)&&NC(r,n,!1))if(OC(r,"LI")){const e=RC(r);i.insertAfter(c,e),(e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e})(r)?i.remove(e):i.remove(r)}else i.replace(c,r);else if(NC(r,n,!0))OC(r,"LI")?(i.insertAfter(c,RC(r)),c.appendChild(i.doc.createTextNode(" ")),c.appendChild(r)):a.insertBefore(c,r),i.remove(n);else if(NC(r,n,!1))i.insertAfter(c,RC(r)),i.remove(n);else{r=RC(r);const e=s.cloneRange();e.setStartAfter(n),e.setEndAfter(r);const t=e.extractContents();"LI"===o&&((e,t)=>e.firstChild&&"LI"===e.firstChild.nodeName)(t)?(c=t.firstChild,i.insertAfter(t,r)):(i.insertAfter(t,r),i.insertAfter(c,r)),i.remove(n)}PC(e,c)})(e,u,i,b,d);if(b===e.getBody()||!VC(a,b))return;const S=b.parentNode;let _;if(No(b))_=Go(b),a.isEmpty(b)&&BC(b),HC(e,_),PC(e,_);else if(f(!1))_=m();else if(f(!0)&&S)_=S.insertBefore(u(),b),PC(e,LC(b,"HR")?_:b);else{const t=(e=>{const t=e.cloneRange();return t.setStart(e.startContainer,zC(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,zC(!1,e.endContainer,e.endOffset)),t})(h).cloneRange();t.setEndAfter(b);const r=t.extractContents();(e=>{W(On(gr(e),qt),(e=>{const t=e.dom;t.nodeValue=Oo(t.data)}))})(r),(e=>{let t=e;do{$n(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)})(r),_=r.firstChild,a.insertAfter(r,b),((e,t,r)=>{var n;const o=[];if(!r)return;let i=r;for(;i=i.firstChild;){if(e.isBlock(i))return;Ln(i)&&!t[i.nodeName.toLowerCase()]&&o.push(i)}let s=o.length;for(;s--;)i=o[s],(!i.hasChildNodes()||i.firstChild===i.lastChild&&""===(null===(n=i.firstChild)||void 0===n?void 0:n.nodeValue)||FC(e,i))&&e.remove(i)})(a,c,_),((e,t)=>{t.normalize();const r=t.lastChild;(!r||Ln(r)&&/^(left|right)$/gi.test(e.getStyle(r,"float",!0)))&&e.add(t,"br")})(a,b),a.isEmpty(b)&&BC(b),_.normalize(),a.isEmpty(_)?(a.remove(_),m()):(HC(e,_),PC(e,_))}a.setAttrib(_,"id",""),e.dispatch("NewBlock",{newBlock:_})},fakeEventName:"insertParagraph"},GC=(e,t,r)=>{const n=e.dom.createRng();r?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),e.selection.setRng(n),Fp(e,n)},UC=(e,t)=>{const r=fr("br");hn(gr(t),r),e.undoManager.add()},qC=(e,t)=>{WC(e.getBody(),t)||dn(gr(t),fr("br"));const r=fr("br");dn(gr(t),r),GC(e,r.dom,!1),e.undoManager.add()},WC=(e,t)=>{return r=Pa.after(t),!!Qn(r.getNode())||od(e,Pa.after(t)).map((e=>Qn(e.getNode()))).getOr(!1);var r},$C=e=>e&&"A"===e.nodeName&&"href"in e,ZC=e=>e.fold(F,$C,$C,F),KC=(e,t)=>{t.fold(C,D(UC,e),D(qC,e),C)},YC={insert:(e,t)=>{const r=(e=>{const t=D(Bm,e),r=Pa.fromRangeStart(e.selection.getRng());return Kx(t,e.getBody(),r).filter(ZC)})(e);r.isSome()?r.each(D(KC,e)):((e,t)=>{const r=e.selection,n=e.dom,o=r.getRng();let i,s=!1;pp(n,o).each((e=>{o.setStart(e.startContainer,e.startOffset),o.setEnd(e.endContainer,e.endOffset)}));let a=o.startOffset,l=o.startContainer;if(Ln(l)&&l.hasChildNodes()){const e=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=e&&$n(l)?l.data.length:0}let c=n.getParent(l,n.isBlock);const h=c&&c.parentNode?n.getParent(c.parentNode,n.isBlock):null,d=h?h.nodeName.toUpperCase():"",u=!(!t||!t.ctrlKey);"LI"!==d||u||(c=h),$n(l)&&a>=l.data.length&&(((e,t,r)=>{const n=new Nn(t,r);let o;const i=e.getNonEmptyElements();for(;o=n.next();)if(i[o.nodeName.toLowerCase()]||$n(o)&&o.length>0)return!0;return!1})(e.schema,l,c||n.getRoot())||(i=n.create("br"),o.insertNode(i),o.setStartAfter(i),o.setEndAfter(i),s=!0)),i=n.create("br"),Da(n,o,i),GC(e,i,s),e.undoManager.add()})(e,t)},fakeEventName:"insertLineBreak"},XC=(e,t)=>DC(e).filter((e=>t.length>0&&yr(gr(e),t))).isSome(),JC=el([{br:[]},{block:[]},{none:[]}]),QC=(e,t)=>(e=>XC(e,Cl(e)))(e),eA=e=>(t,r)=>(e=>DC(e).filter((e=>xo(gr(e)))).isSome())(t)===e,tA=(e,t)=>(r,n)=>{const o=(e=>DC(e).fold(T(""),(e=>e.nodeName.toUpperCase())))(r)===e.toUpperCase();return o===t},rA=e=>{const t=MC(e.dom,e.selection.getStart());return w(t)},nA=e=>tA("pre",e),oA=e=>(t,r)=>wl(t)===e,iA=(e,t)=>(e=>XC(e,_l(e)))(e),sA=(e,t)=>t,aA=e=>{const t=xl(e),r=MC(e.dom,e.selection.getStart());return x(r)&&e.schema.isValidChild(r.nodeName,t)},lA=(e,t)=>(r,n)=>X(e,((e,t)=>e&&t(r,n)),!0)?L.some(t):L.none(),cA=(e,t,r)=>{t.selection.isCollapsed()||(e=>{e.execCommand("delete")})(t),x(r)&&TC(t,e.fakeEventName).isDefaultPrevented()||(e.insert(t,r),x(r)&&kC(t,e.fakeEventName))},hA=(e,t)=>{const r=()=>cA(YC,e,t),n=()=>cA(jC,e,t),o=((e,t)=>Vx([lA([QC],JC.none()),lA([nA(!0),rA],JC.none()),lA([tA("summary",!0)],JC.br()),lA([nA(!0),oA(!1),sA],JC.br()),lA([nA(!0),oA(!1)],JC.block()),lA([nA(!0),oA(!0),sA],JC.block()),lA([nA(!0),oA(!0)],JC.br()),lA([eA(!0),sA],JC.br()),lA([eA(!0)],JC.block()),lA([iA],JC.br()),lA([sA],JC.br()),lA([aA],JC.block())],[e,!(!t||!t.shiftKey)]).getOr(JC.none()))(e,t);switch(Sl(e)){case"linebreak":o.fold(r,r,C);break;case"block":o.fold(n,n,C);break;case"invert":o.fold(n,r,C);break;default:o.fold(r,n,C)}},dA=St(),uA=e=>e.stopImmediatePropagation(),pA=e=>e.keyCode===Vu.PAGE_UP||e.keyCode===Vu.PAGE_DOWN,fA=(e,t,r)=>{r&&!e.get()?t.on("NodeChange",uA,!0):!r&&e.get()&&t.off("NodeChange",uA),e.set(r)},mA=(e,t)=>{const r=t.container(),n=t.offset();return $n(r)?(r.insertData(n,e),L.some(Pa(r,n+e.length))):Fh(t).map((r=>{const n=mr(e);return t.isAtEnd()?dn(r,n):hn(r,n),Pa(n.dom,e.length)}))},gA=D(mA,lo),vA=D(mA," "),yA=e=>{const t=Pa.fromRangeStart(e.selection.getRng()),r=gr(e.getBody());if(e.selection.isCollapsed()){const n=D(Bm,e),o=Pa.fromRangeStart(e.selection.getRng());return Kx(n,e.getBody(),o).bind((e=>t=>t.fold((t=>id(e.dom,Pa.before(t))),(e=>sd(e)),(e=>ad(e)),(t=>od(e.dom,Pa.after(t)))))(r)).map((n=>()=>((e,t)=>r=>((e,t)=>!gm(t)&&(((e,t)=>((e,t)=>id(e.dom,t).isNone())(e,t)||((e,t)=>od(e.dom,t).isNone())(e,t)||rm(e,t)||nm(e,t)||cm(e,t)||lm(e,t))(e,t)||fm(e,t)||mm(e,t)))(e,r)?gA(t):vA(t))(r,t)(n).each((e=>t=>(e.selection.setRng(t.toRange()),e.nodeChanged(),!0))(e))))}return L.none()},bA=e=>Xc(e)?[{keyCode:Vu.TAB,action:IS(s_,e,!0)},{keyCode:Vu.TAB,shiftKey:!0,action:IS(s_,e,!1)}]:[],wA=e=>{if(e.addShortcut("Meta+P","","mcePrint"),CC(e),Kb(e))return ks(null);{const t=(e=>{const t=ks(null),r=D(Bm,e);return e.on("NodeChange",(n=>{nc(e)&&(((e,t,r)=>{const n=q(In(gr(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(e=>e.dom)),o=K(n,e),i=K(r,e);W(ie(o,i),D(LE,!1)),W(ie(i,o),D(LE,!0))})(r,e.dom,n.parents),((e,t)=>{const r=t.get();if(e.selection.isCollapsed()&&!e.composing&&r){const n=Pa.fromRangeStart(e.selection.getRng());Pa.isTextPosition(n)&&!(e=>Vo(e)||zo(e))(n)&&(BE(e,((e,t)=>Pa.isTextPosition(t)?((e,t)=>Qc(e)&&t.container()===e?((e,t)=>{const r=th(e.data.substr(0,t.offset())),n=th(e.data.substr(t.offset()));return(r.text+n.text).length>0?(rh(e),Pa(e,t.offset()-r.count)):t})(e,t):nh(e,t))(e,t):((e,t)=>t.container()===e.parentNode?((e,t)=>{const r=t.container(),n=((e,t)=>{const r=j(e,t);return-1===r?L.none():L.some(r)})(de(r.childNodes),e).map((e=>e<t.offset()?Pa(r,t.offset()-1):t)).getOr(t);return oh(e),n})(e,t):nh(e,t))(e,t))(r,n)),t.set(null))}})(e,t),((e,t,r,n)=>{if(t.selection.isCollapsed()){const o=K(n,e);W(o,(n=>{const o=Pa.fromRangeStart(t.selection.getRng());Kx(e,t.getBody(),o).bind((e=>VE(t,r,e)))}))}})(r,e,t,n.parents))})),t})(e);return(e=>{e.on("keyup compositionstart",D(ES,e))})(e),((e,t)=>{e.on("keydown",(r=>{r.isDefaultPrevented()||((e,t,r)=>{const n=Mt.os.isMacOS()||Mt.os.isiOS();RS([{keyCode:Vu.RIGHT,action:IS(CS,e,!0)},{keyCode:Vu.LEFT,action:IS(CS,e,!1)},{keyCode:Vu.UP,action:IS(AS,e,!1)},{keyCode:Vu.DOWN,action:IS(AS,e,!0)},...n?[{keyCode:Vu.UP,action:IS(TS,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Vu.DOWN,action:IS(TS,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Vu.RIGHT,action:IS(t_,e,!0)},{keyCode:Vu.LEFT,action:IS(t_,e,!1)},{keyCode:Vu.UP,action:IS(r_,e,!1)},{keyCode:Vu.DOWN,action:IS(r_,e,!0)},{keyCode:Vu.RIGHT,action:IS(FS,e,!0)},{keyCode:Vu.LEFT,action:IS(FS,e,!1)},{keyCode:Vu.UP,action:IS(BS,e,!1)},{keyCode:Vu.DOWN,action:IS(BS,e,!0)},{keyCode:Vu.RIGHT,action:IS(zE,e,t,!0)},{keyCode:Vu.LEFT,action:IS(zE,e,t,!1)},{keyCode:Vu.RIGHT,ctrlKey:!n,altKey:n,action:IS(jE,e,t)},{keyCode:Vu.LEFT,ctrlKey:!n,altKey:n,action:IS(GE,e,t)},{keyCode:Vu.UP,action:IS(MS,e,!1)},{keyCode:Vu.DOWN,action:IS(MS,e,!0)}],r).each((e=>{r.preventDefault()}))})(e,t,r)}))})(e,t),((e,t)=>{let r=!1;e.on("keydown",(n=>{r=n.keyCode===Vu.BACKSPACE,n.isDefaultPrevented()||((e,t,r)=>{const n=r.keyCode===Vu.BACKSPACE?"deleteContentBackward":"deleteContentForward";NS([{keyCode:Vu.BACKSPACE,action:IS(hS,e)},{keyCode:Vu.BACKSPACE,action:IS(kx,e,!1)},{keyCode:Vu.DELETE,action:IS(kx,e,!0)},{keyCode:Vu.BACKSPACE,action:IS(wx,e,!1)},{keyCode:Vu.DELETE,action:IS(wx,e,!0)},{keyCode:Vu.BACKSPACE,action:IS($E,e,t,!1)},{keyCode:Vu.DELETE,action:IS($E,e,t,!0)},{keyCode:Vu.BACKSPACE,action:IS(vg,e,!1)},{keyCode:Vu.DELETE,action:IS(vg,e,!0)},{keyCode:Vu.BACKSPACE,action:IS(Tx,e,!1)},{keyCode:Vu.DELETE,action:IS(Tx,e,!0)},{keyCode:Vu.BACKSPACE,action:IS(rS,e,!1)},{keyCode:Vu.DELETE,action:IS(rS,e,!0)},{keyCode:Vu.BACKSPACE,action:IS(px,e,!1)},{keyCode:Vu.DELETE,action:IS(px,e,!0)},{keyCode:Vu.BACKSPACE,action:IS(dx,e,!1)},{keyCode:Vu.DELETE,action:IS(dx,e,!0)},{keyCode:Vu.BACKSPACE,action:IS(QE,e,!1)},{keyCode:Vu.DELETE,action:IS(QE,e,!0)}],r).filter((t=>e.selection.isEditable())).each((t=>{r.preventDefault(),TC(e,n).isDefaultPrevented()||(t(),kC(e,n))}))})(e,t,n)})),e.on("keyup",(t=>{t.isDefaultPrevented()||((e,t,r)=>{const n=St(),o=n.os,i=n.browser,s=o.isMacOS()?[{keyCode:Vu.BACKSPACE,altKey:!0,action:IS(eS,e)},{keyCode:Vu.DELETE,altKey:!0,action:IS(eS,e)}]:[{keyCode:Vu.BACKSPACE,ctrlKey:!0,action:IS(eS,e)},{keyCode:Vu.DELETE,ctrlKey:!0,action:IS(eS,e)}];o.isMacOS()&&r&&s.push({keyCode:i.isFirefox()?224:91,action:IS(eS,e)}),RS([{keyCode:Vu.BACKSPACE,action:IS(Ax,e)},{keyCode:Vu.DELETE,action:IS(Ax,e)},...s],t)})(e,t,r),r=!1}))})(e,t),(e=>{e.on("keydown",(t=>{t.keyCode===Vu.ENTER&&((e,t)=>{var r;t.isDefaultPrevented()||(t.preventDefault(),(r=e.undoManager).typing&&(r.typing=!1,r.add()),e.undoManager.transact((()=>{hA(e,t)})))})(e,t)}))})(e),(e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{NS([{keyCode:Vu.SPACEBAR,action:IS(yA,e)}],t).each((r=>{t.preventDefault(),TC(e,"insertText",{data:" "}).isDefaultPrevented()||(r(),kC(e,"insertText",{data:" "}))}))})(e,t)}))})(e),(e=>{e.on("input",(t=>{t.isComposing||(e=>{const t=gr(e.getBody());e.selection.isCollapsed()&&((e,t)=>{const r=t.container();if(!$n(r))return L.none();if((e=>{const t=e.container();return $n(t)&&je(t.data,lo)})(t)){const n=Sm(e,r,!1)||(e=>{const t=e.data,r=(e=>{const t=e.split("");return q(t,((e,r)=>Sd(e)&&r>0&&r<t.length-1&&Cd(t[r-1])&&Cd(t[r+1])?" ":e)).join("")})(t);return r!==t&&(e.data=r,!0)})(r)||_m(e,r,!1);return Bt(n,t)}if(wm(e,t)){const n=Sm(e,r,!0)||_m(e,r,!0);return Bt(n,t)}return L.none()})(t,Pa.fromRangeStart(e.selection.getRng())).each((t=>{e.selection.setRng(t.toRange())}))})(e)}))})(e),(e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{RS([...bA(e)],t).each((e=>{t.preventDefault()}))})(e,t)}))})(e),((e,t)=>{e.on("keydown",(r=>{r.isDefaultPrevented()||((e,t,r)=>{const n=Mt.os.isMacOS()||Mt.os.isiOS();RS([{keyCode:Vu.END,action:IS(kS,e,!0)},{keyCode:Vu.HOME,action:IS(kS,e,!1)},...n?[]:[{keyCode:Vu.HOME,action:IS(TS,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Vu.END,action:IS(TS,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Vu.END,action:IS(LS,e,!0)},{keyCode:Vu.HOME,action:IS(LS,e,!1)},{keyCode:Vu.END,action:IS(UE,e,!0,t)},{keyCode:Vu.HOME,action:IS(UE,e,!1,t)}],r).each((e=>{r.preventDefault()}))})(e,t,r)}))})(e,t),((e,t)=>{if(dA.os.isMacOS())return;const r=ks(!1);e.on("keydown",(t=>{pA(t)&&fA(r,e,!0)})),e.on("keyup",(n=>{n.isDefaultPrevented()||((e,t,r)=>{RS([{keyCode:Vu.PAGE_UP,action:IS(UE,e,!1,t)},{keyCode:Vu.PAGE_DOWN,action:IS(UE,e,!0,t)}],r)})(e,t,n),pA(n)&&r.get()&&(fA(r,e,!1),e.nodeChanged())}))})(e,t),t}};class xA{constructor(e){let t;this.lastPath=[],this.editor=e;const r=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(r=>{const n=e.selection.getRng(),o={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset};"nodechange"!==r.type&&sp(o,t)||e.dispatch("SelectionChange"),t=o})),e.on("contextmenu",(()=>{e.dispatch("SelectionChange")})),e.on("SelectionChange",(()=>{const t=e.selection.getStart(!0);t&&Hd(e)&&!r.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(t=>{!t.isDefaultPrevented()&&Hd(e)&&("IMG"===e.selection.getNode().nodeName?Kp.setEditorTimeout(e,(()=>{e.nodeChanged()})):e.nodeChanged())}))}nodeChanged(e={}){const t=this.editor.selection;let r;if(this.editor.initialized&&t&&!mc(this.editor)&&!this.editor.mode.isReadOnly()){const n=this.editor.getBody();r=t.getStart(!0)||n,r.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(r,n)||(r=n);const o=[];this.editor.dom.getParent(r,(e=>e===n||(o.push(e),!1))),this.editor.dispatch("NodeChange",{...e,element:r,parents:o})}}isSameElementPath(e){let t;const r=this.editor,n=oe(r.dom.getParents(e,B,r.getBody()));if(n.length===this.lastPath.length){for(t=n.length;t>=0&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1}}const EA=T("x-tinymce/html"),SA="\x3c!-- x-tinymce/html --\x3e",_A=e=>SA+e,CA=e=>-1!==e.indexOf(SA),AA="%MCEPASTEBIN%",kA=e=>e.dom.get("mcepastebin"),TA=e=>x(e)&&"mcepastebin"===e.id,PA=e=>e===AA,MA=(e,t)=>(Rt.each(t,(t=>{e=u(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])})),e),DA=e=>MA(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,r)=>t||r?lo:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),OA=(e,t)=>({content:e,cancelled:t}),IA=(e,t)=>(e.insertContent(t,{merge:Bc(e),paste:!0}),!0),RA=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),NA=(e,t,r)=>!(e.selection.isCollapsed()||!RA(t))&&((e,t,r)=>(e.undoManager.extra((()=>{r(e,t)}),(()=>{e.execCommand("mceInsertLink",!1,t)})),!0))(e,t,r),FA=(e,t,r)=>!!((e,t)=>RA(t)&&U(Yc(e),(e=>Ue(t.toLowerCase(),`.${e.toLowerCase()}`))))(e,t)&&((e,t,r)=>(e.undoManager.extra((()=>{r(e,t)}),(()=>{e.insertContent('<img src="'+t+'">')})),!0))(e,t,r),BA=(e=>{let t=0;return()=>"mceclip"+t++})(),LA=(e,t,r,n)=>{const o=((e,t,r)=>((e,t,r)=>{const n=((e,t,r)=>e.dispatch("PastePreProcess",{content:t,internal:r}))(e,t,r),o=((e,t)=>{const r=wb({sanitize:Kc(e)},e.schema);r.addNodeFilter("meta",(e=>{Rt.each(e,(e=>{e.remove()}))}));const n=r.parse(t,{forced_root_block:!1,isRootContent:!0});return Mf({validate:!0},e.schema).serialize(n)})(e,n.content);return e.hasEventListeners("PastePostProcess")&&!n.isDefaultPrevented()?((e,t,r)=>{const n=e.dom.create("div",{style:"display:none"},t),o=((e,t,r)=>e.dispatch("PastePostProcess",{node:t,internal:r}))(e,n,r);return OA(o.node.innerHTML,o.isDefaultPrevented())})(e,o,r):OA(o,n.isDefaultPrevented())})(e,t,r))(e,t,r);o.cancelled||((e,t,r)=>{r||!Lc(e)?IA(e,t):((e,t)=>{Rt.each([NA,FA,IA],(r=>!r(e,t,IA)))})(e,t)})(e,o.content,n)},VA=(e,t,r)=>{const n=r||CA(t);LA(e,(e=>e.replace(SA,""))(t),n,!1)},zA=(e,t)=>{const r=e.dom.encode(t).replace(/\r\n/g,"\n"),n=((e,t,r)=>{const n=e.split(/\n\n/),o=((e,t)=>{let r="<"+e;const n=xe(t,((e,t)=>t+'="'+qi.encodeAllRaw(e)+'"'));return n.length&&(r+=" "+n.join(" ")),r+">"})(t,r),i="</"+t+">",s=q(n,(e=>e.split(/\n/).join("<br />")));return 1===s.length?s[0]:q(s,(e=>o+e+i)).join("")})(ii(r,zc(e)),xl(e),El(e));LA(e,n,!1,!0)},HA=e=>{const t={};if(e&&e.types)for(let r=0;r<e.types.length;r++){const n=e.types[r];try{t[n]=e.getData(n)}catch(e){t[n]=""}}return t},jA=(e,t)=>t in e&&e[t].length>0,GA=e=>jA(e,"text/html")||jA(e,"text/plain"),UA=(e,t,r)=>{const n="paste"===t.type?t.clipboardData:t.dataTransfer;var o;if(Oc(e)&&n){const i=((e,t)=>{const r=t.items?re(de(t.items),(e=>"file"===e.kind?[e.getAsFile()]:[])):[],n=t.files?de(t.files):[];return K(r.length>0?r:n,(e=>{const t=Yc(e);return e=>Ge(e.type,"image/")&&U(t,(t=>(e=>{const t=e.toLowerCase(),r={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Rt.hasOwn(r,t)?"image/"+r[t]:"image/"+t})(t)===e.type))})(e))})(e,n);if(i.length>0)return t.preventDefault(),(o=i,Promise.all(q(o,(e=>ey(e).then((t=>({file:e,uri:t}))))))).then((t=>{r&&e.selection.setRng(r),W(t,(t=>{((e,t)=>{Jv(t.uri).each((({data:r,type:n,base64Encoded:o})=>{const i=o?r:btoa(r),s=t.file,a=e.editorUpload.blobCache,l=a.getByData(i,n),c=null!=l?l:((e,t,r,n)=>{const o=BA(),i=Pl(e)&&x(r.name),s=i?((e,t)=>{const r=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return x(r)?e.dom.encode(r[1]):void 0})(e,r.name):o,a=i?r.name:void 0,l=t.create(o,r,n,s,a);return t.add(l),l})(e,a,s,i);VA(e,`<img src="${c.blobUri()}">`,!1)}))})(e,t)}))})),!0}return!1},qA=(e,t,r,n)=>{let o=DA(r);const i=jA(t,EA())||CA(r),s=!i&&(e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e))(o),a=RA(o);(PA(o)||!o.length||s&&!a)&&(n=!0),(n||a)&&(o=jA(t,"text/plain")&&s?t["text/plain"]:(e=>{const t=os(),r=wb({},t);let n="";const o=t.getVoidElements(),i=Rt.makeMap("script noscript style textarea video audio iframe object"," "),s=t.getBlockElements(),a=e=>{const r=e.name,l=e;if("br"!==r){if("wbr"!==r)if(o[r]&&(n+=" "),i[r])n+=" ";else{if(3===e.type&&(n+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do{a(t)}while(t=t.next)}s[r]&&l.next&&(n+="\n","p"===r&&(n+="\n"))}}else n+="\n"};return e=MA(e,[/<!\[[^\]]+\]>/g]),a(r.parse(e)),n})(o)),PA(o)||(n?zA(e,o):VA(e,o,i))},WA=(e,t,r,n)=>{((e,t,r)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",r),e.setData(EA(),t),!0}catch(e){return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),n()):r(t.html,n)},$A=e=>(t,r)=>{const{dom:n,selection:o}=e,i=n.create("div",{contenteditable:"false","data-mce-bogus":"all"}),s=n.create("div",{contenteditable:"true"},t);n.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(s),n.add(e.getBody(),i);const a=o.getRng();s.focus();const l=n.createRng();l.selectNodeContents(s),o.setRng(l),Kp.setEditorTimeout(e,(()=>{o.setRng(a),n.remove(i),r()}),0)},ZA=e=>({html:_A(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),KA=e=>!e.selection.isCollapsed()||(e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()))(e),YA=(e,t)=>{var r,n;return gp.getCaretRangeFromPoint(null!==(r=t.clientX)&&void 0!==r?r:0,null!==(n=t.clientY)&&void 0!==n?n:0,e.getDoc())},XA=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},JA=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,QA=e=>Rt.trim(e).replace(JA,Od).toLowerCase(),ek=(e,t,r)=>{const n=Nc(e);if(r||"all"===n||!Fc(e))return t;const o=n?n.split(/[, ]/):[];if(o&&"none"!==n){const r=e.dom,n=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,((e,t,i,s)=>{const a=r.parseStyle(r.decode(i)),l={};for(let e=0;e<o.length;e++){const t=a[o[e]];let i=t,s=r.getStyle(n,o[e],!0);/color/.test(o[e])&&(i=QA(i),s=QA(s)),s!==i&&(l[o[e]]=t)}const c=r.serializeStyle(l,"span");return c?t+' style="'+c+'"'+s:t+s}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,((e,t,r,n)=>t+' style="'+r+'"'+n)),t},tk=Qn,rk=$n,nk=e=>ro(e.dom),ok=e=>t=>wr(gr(e),t),ik=(e,t)=>Zr(gr(e),nk,ok(t)),sk=(e,t,r)=>{const n=new Nn(e,t),o=r?n.next.bind(n):n.prev.bind(n);let i=e;for(let t=r?e:o();t&&!tk(t);t=o())Qo(t)&&(i=t);return i};var ak;!function(e){e.Before="before",e.After="after"}(ak||(ak={}));const lk=(e,t)=>Math.abs(e.left-t),ck=(e,t)=>Math.abs(e.right-t),hk=(e,t,r)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),dk=(e,t,r)=>{const n=e=>Qo(e.node)?L.some(e):Ln(e.node)?dk(de(e.node.childNodes),t,r):L.none(),o=(e,o)=>{const i=ae(e,((e,n)=>o(e,t,r)-o(n,t,r)));return((e,o)=>{if(e.length>=2){const i=n(e[0]).getOr(e[0]),s=n(e[1]).getOr(e[1]);if(Math.abs(o(i,t,r)-o(s,t,r))<2){if($n(i.node))return L.some(i);if($n(s.node))return L.some(s)}}return L.none()})(i,o).orThunk((()=>ue(i,n)))},[i,s]=((e,t)=>(e=>X(e,((e,t)=>e.fold((()=>L.some(t)),(e=>{const r=Math.min(t.left,e.left),n=Math.min(t.top,e.top),o=Math.max(t.right,e.right),i=Math.max(t.bottom,e.bottom);return L.some({top:n,right:o,bottom:i,left:r,width:o-r,height:i-n})}))),L.none()))(K(e,(e=>{return(r=t)>=(n=e).top&&r<=n.bottom;var r,n}))).fold((()=>[[],e]),(t=>{const{pass:r,fail:n}=Z(e,(e=>((e,t)=>{const r=((e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)))(e,t)/Math.min(e.height,t.height);return((e,t)=>e.top<t.bottom&&e.bottom>t.top)(e,t)&&r>.5})(e,t)));return[r,n]})))(SE(e),r),{pass:a,fail:l}=Z(s,(e=>e.top<r));return o(i,hk).orThunk((()=>o(l,aa))).orThunk((()=>o(a,aa)))},uk=(e,t,r)=>((e,t,r)=>{const n=gr(e),o=((e,t,r)=>L.from(e.dom.elementFromPoint(t,r)).map(ur))(Sr(n),t,r).filter((e=>xr(n,e))).getOr(n);return((e,t,r,n)=>{const o=(t,i)=>{const s=K(t.dom.childNodes,O((e=>Ln(e)&&e.classList.contains("mce-drag-container"))));return i.fold((()=>dk(s,r,n)),(e=>{const t=K(s,(t=>t!==e.dom));return dk(t,r,n)})).orThunk((()=>(wr(t,e)?L.none():Ar(t)).bind((e=>o(e,L.some(t))))))};return o(t,L.none())})(n,o,t,r)})(e,t,r).filter((e=>dh(e.node))).map((e=>((e,t)=>({node:e.node,position:lk(e,t)<ck(e,t)?ak.Before:ak.After}))(e,t))),pk=e=>{var t,r;const n=e.getBoundingClientRect(),o=e.ownerDocument,i=o.documentElement,s=o.defaultView;return{top:n.top+(null!==(t=null==s?void 0:s.scrollY)&&void 0!==t?t:0)-i.clientTop,left:n.left+(null!==(r=null==s?void 0:s.scrollX)&&void 0!==r?r:0)-i.clientLeft}},fk=e=>({target:e,srcElement:e}),mk=e=>(t,r)=>((e,t,r)=>({...t,dataTransfer:null,type:e,...r}))(e,t,fk(r)),gk=mk("dragstart"),vk=mk("drop"),yk=mk("dragend"),bk=ro,wk=((...e)=>t=>{for(let r=0;r<e.length;r++)if(e[r](t))return!0;return!1})(bk,to),xk=(e,t,r,n)=>{const o=e.dom,i=t.cloneNode(!0);o.setStyles(i,{width:r,height:n}),o.setAttrib(i,"data-mce-selected",null);const s=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(s,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:r,height:n}),o.setStyles(i,{margin:0,boxSizing:"border-box"}),s.appendChild(i),s},Ek=(e,t)=>r=>()=>{const n="left"===e?r.scrollX:r.scrollY;r.scroll({[e]:n+t,behavior:"smooth"})},Sk=Ek("left",-32),_k=Ek("left",32),Ck=Ek("top",-32),Ak=Ek("top",32),kk=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Tk=(e,t,r)=>{e.on((e=>{if(e.intervalId.clear(),e.dragging){const n=r.fold((()=>(e=>((e,t)=>{const r=I("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:"dragend",composedPath:r,initEvent:r,preventDefault:C,stopImmediatePropagation:C,stopPropagation:C,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:null,...t}})(0,fk(e)))(e.element)),(t=>yk(t,e.element)));t.dispatch("dragend",n)}})),Pk(e)},Pk=e=>{e.on((e=>{e.intervalId.clear(),kk(e.ghost)})),e.clear()},Mk=ro,Dk=(e,t)=>yg(e.getBody(),t),Ok=e=>{const t=e.selection,r=e.dom,n=e.getBody(),o=((e,t,r,n)=>{const o=Rs();let i,s;const a=xl(e),l=e.dom,c=()=>{(e=>{var t,r;const n=In(gr(e),"*[contentEditable=false],video,audio,embed,object");for(let e=0;e<n.length;e++){const o=n[e].dom;let i=o.previousSibling;if(jo(i)){const e=i.data;1===e.length?null===(t=i.parentNode)||void 0===t||t.removeChild(i):i.deleteData(e.length-1,1)}i=o.nextSibling,Ho(i)&&(1===i.data.length?null===(r=i.parentNode)||void 0===r||r.removeChild(i):i.deleteData(0,1))}})(t),s&&(oh(s),s=null),o.on((e=>{l.remove(e.caret),o.clear()})),i&&(clearInterval(i),i=void 0)};return{show:(e,h)=>{let d;if(c(),ah(h))return null;if(!r(h))return s=((e,t)=>{var r;const n=(null!==(r=e.ownerDocument)&&void 0!==r?r:document).createTextNode(Mo),o=e.parentNode;if(t){const t=e.previousSibling;if(Ro(t)){if(Bo(t))return t;if(jo(t))return t.splitText(t.data.length-1)}null==o||o.insertBefore(n,e)}else{const t=e.nextSibling;if(Ro(t)){if(Bo(t))return t;if(Ho(t))return t.splitText(1),t}e.nextSibling?null==o||o.insertBefore(n,e.nextSibling):null==o||o.appendChild(n)}return n})(h,e),d=h.ownerDocument.createRange(),hh(s.nextSibling)?(d.setStart(s,0),d.setEnd(s,0)):(d.setStart(s,1),d.setEnd(s,1)),d;{const r=((e,t,r)=>{var n;const o=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createElement(e);o.setAttribute("data-mce-caret",r?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(ko().dom);const i=t.parentNode;return r?null==i||i.insertBefore(o,t):t.nextSibling?null==i||i.insertBefore(o,t.nextSibling):null==i||i.appendChild(o),o})(a,h,e),c=lh(t,h,e);l.setStyle(r,"top",c.top),s=r;const u=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(u,{...c}),l.add(t,u),o.set({caret:u,element:h,before:e}),e&&l.addClass(u,"mce-visual-caret-before"),i=setInterval((()=>{o.on((e=>{n()?l.toggleClass(e.caret,"mce-visual-caret-hidden"):l.addClass(e.caret,"mce-visual-caret-hidden")}))}),500),d=h.ownerDocument.createRange(),d.setStart(r,0),d.setEnd(r,0)}return d},hide:c,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{o.on((e=>{const r=lh(t,e.element,e.before);l.setStyles(e.caret,{...r})}))},destroy:()=>clearInterval(i)}})(e,n,r.isBlock,(()=>sf(e))),i="sel-"+r.uniqueId(),s="data-mce-selected";let a;const l=e=>e!==n&&(Mk(e)||io(e))&&r.isChildOf(e,n)&&r.isEditable(e.parentNode),c=(r,n,i,s=!0)=>e.dispatch("ShowCaret",{target:n,direction:r,before:i}).isDefaultPrevented()?null:(s&&t.scrollIntoView(n,-1===r),o.show(i,n)),h=e=>Bo(e)||Ho(e)||jo(e),d=e=>h(e.startContainer)||h(e.endContainer),u=t=>{const n=e.schema.getVoidElements(),o=r.createRng(),i=t.startContainer,s=t.startOffset,a=t.endContainer,l=t.endOffset;return _e(n,i.nodeName.toLowerCase())?0===s?o.setStartBefore(i):o.setStartAfter(i):o.setStart(i,s),_e(n,a.nodeName.toLowerCase())?0===l?o.setEndBefore(a):o.setEndAfter(a):o.setEnd(a,l),o},p=(o,h)=>{if(!o)return null;if(o.collapsed){if(!d(o)){const e=h?1:-1,t=Nh(e,n,o),i=t.getNode(!h);if(x(i)){if(dh(i))return c(e,i,!!h&&!t.isAtEnd(),!1);if(Fo(i)&&ro(i.nextSibling)){const e=r.createRng();return e.setStart(i,0),e.setEnd(i,0),e}}const s=t.getNode(h);if(x(s)){if(dh(s))return c(e,s,!h&&!t.isAtEnd(),!1);if(Fo(s)&&ro(s.previousSibling)){const e=r.createRng();return e.setStart(s,1),e.setEnd(s,1),e}}}return null}let u=o.startContainer,p=o.startOffset;const f=o.endOffset;if($n(u)&&0===p&&Mk(u.parentNode)&&(u=u.parentNode,p=r.nodeIndex(u),u=u.parentNode),!Ln(u))return null;if(f===p+1&&u===o.endContainer){const n=u.childNodes[p];if(l(n))return(n=>{const o=n.cloneNode(!0),l=e.dispatch("ObjectSelected",{target:n,targetClone:o});if(l.isDefaultPrevented())return null;const c=((n,o)=>{const s=gr(e.getBody()),a=e.getDoc(),l=Yr(s,"#"+i).getOrThunk((()=>{const e=pr('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',a);return Yt(e,"id",i),pn(s,e),e})),c=r.createRng();gn(l),mn(l,[mr(lo,a),gr(o),mr(lo,a)]),c.setStart(l.dom.firstChild,1),c.setEnd(l.dom.lastChild,0),nn(l,{top:r.getPos(n,e.getBody()).y+"px"}),Bp(l);const h=t.getSel();return h&&(h.removeAllRanges(),h.addRange(c)),c})(n,l.targetClone),h=gr(n);return W(In(gr(e.getBody()),"*[data-mce-selected]"),(e=>{wr(h,e)||tr(e,s)})),r.getAttrib(n,s)||n.setAttribute(s,"1"),a=n,m(),c})(n)}return null},f=()=>{a&&a.removeAttribute(s),Yr(gr(e.getBody()),"#"+i).each(vn),a=null},m=()=>{o.hide()};return Kb(e)||(e.on("click",(t=>{r.isEditable(t.target)||(t.preventDefault(),e.focus())})),e.on("blur NewBlock",f),e.on("ResizeWindow FullscreenStateChanged",o.reposition),e.on("tap",(t=>{const r=t.target,n=Dk(e,r);Mk(n)?(t.preventDefault(),mx(e,n).each(p)):l(r)&&mx(e,r).each(p)}),!0),e.on("mousedown",(o=>{const i=o.target;if(i!==n&&"HTML"!==i.nodeName&&!r.isChildOf(i,n))return;if(!((e,t,r)=>{const n=gr(e.getBody()),o=e.inline?n:gr(Sr(n).dom.documentElement),i=((e,t,r,n)=>{const o=(e=>e.dom.getBoundingClientRect())(t);return{x:r-(e?o.left+t.dom.clientLeft+Sw(t):0),y:n-(e?o.top+t.dom.clientTop+Ew(t):0)}})(e.inline,o,t,r);return((e,t,r)=>{const n=ww(e),o=xw(e);return t>=0&&r>=0&&t<=n&&r<=o})(o,i.x,i.y)})(e,o.clientX,o.clientY))return;f(),m();const s=Dk(e,i);Mk(s)?(o.preventDefault(),mx(e,s).each(p)):uk(n,o.clientX,o.clientY).each((r=>{var n;o.preventDefault(),(n=c(1,r.node,r.position===ak.Before,!1))&&t.setRng(n),Ln(s)?s.focus():e.getBody().focus()}))})),e.on("keypress",(e=>{Vu.modifierPressed(e)||Mk(t.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(e=>{let t=e.range;if(a){if(!a.parentNode)return void(a=null);t=t.cloneRange(),t.selectNode(a),e.range=t}})),e.on("SetSelectionRange",(e=>{e.range=u(e.range);const t=p(e.range,e.forward);t&&(e.range=t)})),e.on("AfterSetSelectionRange",(e=>{const t=e.range,n=t.startContainer.parentElement;var o;d(t)||Ln(o=n)&&"mcepastebin"===o.id||m(),(e=>x(e)&&r.hasClass(e,"mce-offscreen-selection"))(n)||f()})),(e=>{(e=>{const t=Rs(),r=_s.DOM,n=document,o=((e,t)=>r=>{if((e=>0===e.button)(r)){const n=Q(t.dom.getParents(r.target),wk).getOr(null);if(x(n)&&((e,t,r)=>bk(r)&&r!==t&&e.isEditable(r.parentElement))(t.dom,t.getBody(),n)){const o=t.dom.getPos(n),i=t.getBody(),s=t.getDoc().documentElement;e.set({element:n,dragging:!1,screenX:r.screenX,screenY:r.screenY,maxX:(t.inline?i.scrollWidth:s.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:s.offsetHeight)-2,relX:r.pageX-o.x,relY:r.pageY-o.y,width:n.offsetWidth,height:n.offsetHeight,ghost:xk(t,n,n.offsetWidth,n.offsetHeight),intervalId:Is(100)})}}})(t,e),i=((e,t)=>{const r=Ns(((e,r)=>((e,t,r)=>{e._selectionOverrides.hideFakeCaret(),uk(e.getBody(),t,r).fold((()=>e.selection.placeCaretAt(t,r)),(n=>{const o=e._selectionOverrides.showCaret(1,n.node,n.position===ak.Before,!1);o?e.selection.setRng(o):e.selection.placeCaretAt(t,r)}))})(t,e,r)),0);t.on("remove",r.cancel);const n=e;return o=>e.on((e=>{const i=Math.max(Math.abs(o.screenX-e.screenX),Math.abs(o.screenY-e.screenY));if(!e.dragging&&i>10){if(t.dispatch("dragstart",gk(o,e.element)).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const i=o.currentTarget===t.getDoc().documentElement,l=((e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}))(e,((e,t)=>{return r=(e=>e.inline?pk(e.getBody()):{left:0,top:0})(e),n=(e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}})(e),o=((e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const r=pk(e.getContentAreaContainer()),n=(e=>{const t=e.getBody(),r=e.getDoc().documentElement,n={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||r.scrollLeft,top:t.scrollTop||r.scrollTop};return e.inline?n:o})(e);return{left:t.pageX-r.left+n.left,top:t.pageY-r.top+n.top}}return{left:t.pageX,top:t.pageY}})(e,t),{pageX:o.left-r.left+n.left,pageY:o.top-r.top+n.top};var r,n,o})(t,o));s=e.ghost,a=t.getBody(),s.parentNode!==a&&a.appendChild(s),((e,t,r,n,o,i,s,a,l,c,h,d)=>{let u=0,p=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+r>o&&(u=t.pageX+r-o),t.pageY+n>i&&(p=t.pageY+n-i),e.style.width=r-u+"px",e.style.height=n-p+"px";const f=l.clientHeight,m=l.clientWidth,g=s+l.getBoundingClientRect().top,v=a+l.getBoundingClientRect().left;h.on((e=>{e.intervalId.clear(),e.dragging&&d&&(s+8>=f?e.intervalId.set(Ak(c)):s-8<=0?e.intervalId.set(Ck(c)):a+8>=m?e.intervalId.set(_k(c)):a-8<=0?e.intervalId.set(Sk(c)):g+16>=window.innerHeight?e.intervalId.set(Ak(window)):g-16<=0?e.intervalId.set(Ck(window)):v+16>=window.innerWidth?e.intervalId.set(_k(window)):v-16<=0&&e.intervalId.set(Sk(window)))}))})(e.ghost,l,e.width,e.height,e.maxX,e.maxY,o.clientY,o.clientX,t.getContentAreaContainer(),t.getWin(),n,i),r.throttle(o.clientX,o.clientY)}var s,a}))})(t,e),s=((e,t)=>r=>{e.on((e=>{var n;if(e.intervalId.clear(),e.dragging){if(((e,t,r)=>!w(t)&&t!==r&&!e.dom.isChildOf(t,r)&&e.dom.isEditable(t))(t,(e=>{const t=e.getSel();if(x(t)){const e=t.getRangeAt(0).startContainer;return $n(e)?e.parentNode:e}return null})(t.selection),e.element)){const o=(e=>{const t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t})(e.element),i=null!==(n=t.getDoc().elementFromPoint(r.clientX,r.clientY))&&void 0!==n?n:t.getBody();t.dispatch("drop",vk(r,i)).isDefaultPrevented()||t.undoManager.transact((()=>{((e,t)=>{const r=e.getParent(t.parentNode,e.isBlock);kk(t),r&&r!==e.getRoot()&&e.isEmpty(r)&&To(gr(r))})(t.dom,e.element),t.insertContent(t.dom.getOuterHTML(o)),t._selectionOverrides.hideFakeCaret()}))}t.dispatch("dragend",yk(r,t.getBody()))}})),Pk(e)})(t,e),a=((e,t)=>r=>Tk(e,t,L.some(r)))(t,e);e.on("mousedown",o),e.on("mousemove",i),e.on("mouseup",s),r.bind(n,"mousemove",i),r.bind(n,"mouseup",a),e.on("remove",(()=>{r.unbind(n,"mousemove",i),r.unbind(n,"mouseup",a)})),e.on("keydown",(r=>{r.keyCode===Vu.ESC&&Tk(t,e,L.none())}))})(e),wc(e)&&(e=>{const t=t=>{if(!t.isDefaultPrevented()){const r=t.dataTransfer;r&&(G(r.types,"Files")||r.files.length>0)&&(t.preventDefault(),"drop"===t.type&&Pw(e,"Dropped file type is not supported"))}},r=r=>{Qp(e,r.target)&&t(r)},n=()=>{const n=_s.DOM,o=e.dom,i=document,s=e.inline?e.getBody():e.getDoc(),a=["drop","dragover"];W(a,(e=>{n.bind(i,e,r),o.bind(s,e,t)})),e.on("remove",(()=>{W(a,(e=>{n.unbind(i,e,r),o.unbind(s,e,t)}))}))};e.on("init",(()=>{Kp.setEditorTimeout(e,n,0)}))})(e)})(e),(e=>{const t=Ns((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const r=gx(e,t,!1);e.selection.setRng(r)}}}),0);e.on("focus",(()=>{t.throttle()})),e.on("blur",(()=>{t.cancel()}))})(e),(e=>{e.on("init",(()=>{e.on("focusin",(t=>{const r=t.target;if(io(r)){const t=yg(e.getBody(),r),n=ro(t)?t:r;e.selection.getNode()!==n&&mx(e,n).each((t=>e.selection.setRng(t)))}}))}))})(e)),{showCaret:c,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&(Go(e),t.scrollIntoView(e))},hideFakeCaret:m,destroy:()=>{o.destroy(),a=null}}},Ik=(e,t)=>{let r=t;for(let t=e.previousSibling;$n(t);t=t.previousSibling)r+=t.data.length;return r},Rk=(e,t,r,n,o)=>{if($n(r)&&(n<0||n>r.data.length))return[];const i=o&&$n(r)?[Ik(r,n)]:[n];let s=r;for(;s!==t&&s.parentNode;)i.push(e.nodeIndex(s,o)),s=s.parentNode;return s===t?i.reverse():[]},Nk=(e,t,r,n,o,i,s=!1)=>({start:Rk(e,t,r,n,s),end:Rk(e,t,o,i,s)}),Fk=(e,t)=>{const r=t.slice(),n=r.pop();return S(n)?X(r,((e,t)=>e.bind((e=>L.from(e.childNodes[t])))),L.some(e)).bind((e=>$n(e)&&(n<0||n>e.data.length)?L.none():L.some({node:e,offset:n}))):L.none()},Bk=(e,t)=>Fk(e,t.start).bind((({node:r,offset:n})=>Fk(e,t.end).map((({node:e,offset:t})=>{const o=document.createRange();return o.setStart(r,n),o.setEnd(e,t),o})))),Lk=(e,t,r)=>{if(t&&e.isEmpty(t)&&!r(t)){const n=t.parentNode;e.remove(t),Lk(e,n,r)}},Vk=(e,t,r,n=!0)=>{const o=t.startContainer.parentNode,i=t.endContainer.parentNode;t.deleteContents(),n&&!r(t.startContainer)&&($n(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),$n(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),Lk(e,o,r),o!==i&&Lk(e,i,r))},zk=(e,t)=>L.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),Hk=(e,t,r)=>{const n=e.dynamicPatternsLookup({text:r,block:t});return{...e,blockPatterns:ol(n).concat(e.blockPatterns),inlinePatterns:il(n).concat(e.inlinePatterns)}},jk=(e,t,r,n)=>{const o=e.createRng();return o.setStart(t,0),o.setEnd(r,n),o.toString()},Gk=(e,t,r)=>{((e,t,r)=>{if($n(e)&&0>=e.length)return L.some(a_(e,0));{const t=ea(l_);return L.from(t.forwards(e,0,c_(e),r)).map((e=>a_(e.container,0)))}})(t,0,t).each((n=>{const o=n.container;u_(o,r.start.length,t).each((r=>{const n=e.createRng();n.setStart(o,0),n.setEnd(r.container,r.offset),Vk(e,n,(e=>e===t))}));const i=gr(o),s=uo(i);/^\s[^\s]/.test(s)&&((e,t)=>{ho.set(e,t)})(i,s.slice(1))}))},Uk=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),qk=(e,t)=>{const r=e.createRng();return r.setStartAfter(t.start),r.setEndBefore(t.end),r},Wk=(e,t,r)=>{const n=Bk(e.getRoot(),r).getOrDie("Unable to resolve path range"),o=n.startContainer,i=n.endContainer,s=0===n.endOffset?i:i.splitText(n.endOffset),a=0===n.startOffset?o:o.splitText(n.startOffset),l=a.parentNode;return{prefix:t,end:s.parentNode.insertBefore(Uk(e,t+"-end"),s),start:l.insertBefore(Uk(e,t+"-start"),a)}},$k=(e,t,r)=>{Lk(e,e.get(t.prefix+"-end"),r),Lk(e,e.get(t.prefix+"-start"),r)},Zk=e=>0===e.start.length,Kk=(e,t,r,n)=>{const o=t.start;var i;return p_(e,n.container,n.offset,(i=o,(e,t)=>{const r=e.data.substring(0,t),n=r.lastIndexOf(i.charAt(i.length-1)),o=r.lastIndexOf(i);return-1!==o?o+i.length:-1!==n?n+1:-1}),r).bind((n=>{var i,s;const a=null!==(s=null===(i=r.textContent)||void 0===i?void 0:i.indexOf(o))&&void 0!==s?s:-1;if(-1!==a&&n.offset>=a+o.length){const t=e.createRng();return t.setStart(n.container,n.offset-o.length),t.setEnd(n.container,n.offset),L.some(t)}{const i=n.offset-o.length;return d_(n.container,i,r).map((t=>{const r=e.createRng();return r.setStart(t.container,t.offset),r.setEnd(n.container,n.offset),r})).filter((e=>e.toString()===o)).orThunk((()=>Kk(e,t,r,a_(n.container,0))))}}))},Yk=(e,t,r,n)=>{const o=e.dom,i=o.getRoot(),s=r.pattern,a=r.position.container,l=r.position.offset;return d_(a,l-r.pattern.end.length,t).bind((c=>{const h=Nk(o,i,c.container,c.offset,a,l,n);if(Zk(s))return L.some({matches:[{pattern:s,startRng:h,endRng:h}],position:c});{const a=Xk(e,r.remainingPatterns,c.container,c.offset,t,n),l=a.getOr({matches:[],position:c}),d=l.position,u=((e,t,r,n,o,i=!1)=>{if(0===t.start.length&&!i){const t=e.createRng();return t.setStart(r,n),t.setEnd(r,n),L.some(t)}return h_(r,n,o).bind((r=>Kk(e,t,o,r).bind((e=>{var t;if(i){if(e.endContainer===r.container&&e.endOffset===r.offset)return L.none();if(0===r.offset&&(null===(t=e.endContainer.textContent)||void 0===t?void 0:t.length)===e.endOffset)return L.none()}return L.some(e)}))))})(o,s,d.container,d.offset,t,a.isNone());return u.map((e=>{const t=((e,t,r,n=!1)=>Nk(e,t,r.startContainer,r.startOffset,r.endContainer,r.endOffset,n))(o,i,e,n);return{matches:l.matches.concat([{pattern:s,startRng:t,endRng:h}]),position:a_(e.startContainer,e.startOffset)}}))}}))},Xk=(e,t,r,n,o,i)=>{const s=e.dom;return h_(r,n,s.getRoot()).bind((a=>{const l=jk(s,o,r,n);for(let s=0;s<t.length;s++){const c=t[s];if(!Ue(l,c.end))continue;const h=t.slice();h.splice(s,1);const d=Yk(e,o,{pattern:c,remainingPatterns:h,position:a},i);if(d.isNone()&&n>0)return Xk(e,t,r,n-1,o,i);if(d.isSome())return d}return L.none()}))},Jk=(e,t,r)=>{e.selection.setRng(r),"inline-format"===t.type?W(t.format,(t=>{e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},Qk=(e,t,r,n,o,i)=>{var s;return((e,t)=>{const r=ne(e,(e=>U(t,(t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end))));return e.length===t.length?r?e:t:e.length>t.length?e:t})(Xk(e,o.inlinePatterns,r,n,t,i).fold((()=>[]),(e=>e.matches)),Xk(e,(s=o.inlinePatterns,ae(s,((e,t)=>t.end.length-e.end.length))),r,n,t,i).fold((()=>[]),(e=>e.matches)))},eT=(e,t)=>{if(0===t.length)return;const r=e.dom,n=e.selection.getBookmark(),o=((e,t)=>{const r=Ks("mce_textpattern"),n=Y(t,((t,n)=>{const o=Wk(e,r+`_end${t.length}`,n.endRng);return t.concat([{...n,endMarker:o}])}),[]);return Y(n,((t,o)=>{const i=n.length-t.length-1,s=Zk(o.pattern)?o.endMarker:Wk(e,r+`_start${i}`,o.startRng);return t.concat([{...o,startMarker:s}])}),[])})(r,t);W(o,(t=>{const n=r.getParent(t.startMarker.start,r.isBlock),o=e=>e===n;Zk(t.pattern)?((e,t,r,n)=>{const o=qk(e.dom,r);Vk(e.dom,o,n),Jk(e,t,o)})(e,t.pattern,t.endMarker,o):((e,t,r,n,o)=>{const i=e.dom,s=qk(i,n),a=qk(i,r);Vk(i,a,o),Vk(i,s,o);const l={prefix:r.prefix,start:r.end,end:n.start},c=qk(i,l);Jk(e,t,c)})(e,t.pattern,t.startMarker,t.endMarker,o),$k(r,t.endMarker,o),$k(r,t.startMarker,o)})),e.selection.moveToBookmark(n)},tT=(e,t,r)=>{for(let n=0;n<e.length;n++)if(r(e[n],t))return!0;return!1},rT=_s.DOM,nT=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,oT=e=>we(e,(e=>!1===b(e))),iT=e=>{const t=e.options.get,r=e.editorUpload.blobCache;return oT({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:nT(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:r,document:e.getDoc()})},sT=e=>{const t=e.options.get;return oT({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},aT=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,lT=e=>{const t=aT(e),r=ql(e),n=e.contentCSS,o=()=>{t.unloadAll(n),e.inline||e.ui.styleSheetLoader.unloadAll(r)},i=()=>{e.removed?o():e.on("remove",o)};if(e.contentStyles.length>0){let t="";Rt.each(e.contentStyles,(e=>{t+=e+"\r\n"})),e.dom.addStyle(t)}const s=Promise.all(((e,t,r)=>{const n=[aT(e).loadAll(t)];return e.inline?n:n.concat([e.ui.styleSheetLoader.loadAll(r)])})(e,n,r)).then(i).catch(i),a=Ul(e);return a&&((e,t)=>{const r=gr(e.getBody()),n=Hr(zr(r)),o=fr("style");Yt(o,"type","text/css"),pn(o,mr(t)),pn(n,o),e.on("remove",(()=>{vn(o)}))})(e,a),s},cT=e=>{!0!==e.removed&&((e=>{Kb(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})})(e),(e=>{e.bindPendingEventDelegates(),e.initialized=!0,(e=>{e.dispatch("Init")})(e),e.focus(!0),(e=>{const t=e.dom.getRoot();e.inline||Hd(e)&&e.selection.getStart(!0)!==t||sd(t).each((t=>{const r=t.getNode(),n=Un(r)?sd(r).getOr(t):t;e.selection.setRng(n.toRange())}))})(e),e.nodeChanged({initial:!0});const t=Ac(e);E(t)&&t.call(e,e),(e=>{const t=Tc(e);t&&Kp.setEditorTimeout(e,(()=>{let r;r=!0===t?e:e.editorManager.get(t),r&&!r.destroyed&&(r.focus(),r.selection.scrollIntoView())}),100)})(e)})(e))},hT=e=>{const t=e.getElement();let r=e.getDoc();e.inline&&(rT.addClass(t,"mce-content-body"),e.contentDocument=r=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const n=e.getBody();n.disabled=!0,e.readonly=gc(e),e.readonly||(e.inline&&"static"===rT.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable="true"),n.disabled=!1,e.editorUpload=(e=>{const t=(()=>{let e=[];const t=e=>{if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const t=e.id||"blobid"+Nw+++(()=>{const e=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+(new Date).getTime().toString(36)+e()+e()+e()})(),r=e.name||t,n=e.blob;var o;return{id:T(t),name:T(r),filename:T(e.filename||r+"."+(o=n.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[o.toLowerCase()]||"dat")),blob:T(n),base64:T(e.base64),blobUri:T(e.blobUri||URL.createObjectURL(n)),uri:T(e.uri)}},r=t=>Q(e,t).getOrUndefined(),n=e=>r((t=>t.id()===e));return{create:(e,r,n,o,i)=>{if(p(e))return t({id:e,name:o,filename:i,blob:r,base64:n});if(f(e))return t(e);throw new Error("Unknown input type")},add:t=>{n(t.id())||e.push(t)},get:n,getByUri:e=>r((t=>t.blobUri()===e)),getByData:(e,t)=>r((r=>r.base64()===e&&r.blob().type===t)),findFirst:r,removeByUri:t=>{e=K(e,(e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)))},destroy:()=>{W(e,(e=>{URL.revokeObjectURL(e.blobUri())})),e=[]}}})();let r,n;const o=Rw(),i=[],s=t=>r=>e.selection?t(r):[],a=(e,t,r)=>{let n=0;do{n=e.indexOf(t,n),-1!==n&&(e=e.substring(0,n)+r+e.substr(n+t.length),n+=r.length-t.length+1)}while(-1!==n);return e},l=(e,t,r)=>{const n=`src="${r}"${r===Mt.transparentSrc?' data-mce-placeholder="1"':""}`;return e=a(e,`src="${t}"`,n),a(e,'data-mce-src="'+t+'"','data-mce-src="'+r+'"')},c=(t,r)=>{W(e.undoManager.data,(e=>{"fragmented"===e.type?e.fragments=q(e.fragments,(e=>l(e,t,r))):e.content=l(e.content,t,r)}))},h=()=>(r||(r=Bw(e,o)),m().then(s((n=>{const o=q(n,(e=>e.blobInfo));return r.upload(o,Fw(e)).then(s((r=>{const o=[];let i=!1;const s=q(r,((r,s)=>{const{blobInfo:a,image:l}=n[s];let h=!1;return r.status&&Ml(e)?(r.url&&!je(l.src,r.url)&&(i=!0),t.removeByUri(l.src),Kb(e)||((t,r)=>{const n=e.convertURL(r,"src");var o;c(t.src,r),Xt(gr(t),{src:Pl(e)?(o=r,o+(-1===o.indexOf("?")?"?":"&")+(new Date).getTime()):r,"data-mce-src":n})})(l,r.url)):r.error&&(r.error.remove&&(c(l.src,Mt.transparentSrc),o.push(l),h=!0),((e,t)=>{Pw(e,Ds.translate(["Failed to upload image: {0}",t]))})(e,r.error.message)),{element:l,status:r.status,uploadUri:r.url,blobInfo:a,removed:h}}));return o.length>0&&!Kb(e)?e.undoManager.transact((()=>{W(o,(r=>{e.dom.remove(r),t.removeByUri(r.src)}))})):i&&e.undoManager.dispatchChange(),s})))})))),d=()=>Tl(e)?h():Promise.resolve([]),u=e=>ne(i,(t=>t(e))),m=()=>(n||(n=((e,t)=>{const r={};return{findAll:(n,o=B)=>{const i=K((e=>e?de(e.getElementsByTagName("img")):[])(n),(t=>{const r=t.src;return!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!r||r===Mt.transparentSrc)&&(Ge(r,"blob:")?!e.isUploaded(r)&&o(t):!!Ge(r,"data:")&&o(t))})),s=q(i,(e=>{const n=e.src;if(_e(r,n))return r[n].then((t=>p(t)?t:{image:e,blobInfo:t.blobInfo}));{const o=((e,t)=>{const r=()=>Promise.reject("Invalid data URI");if(Ge(t,"blob:")){const i=e.getByUri(t);return x(i)?Promise.resolve(i):(n=t,Ge(n,"blob:")?(e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`))))(n):Ge(n,"data:")?(o=n,new Promise(((e,t)=>{Jv(o).bind((({type:e,data:t,base64Encoded:r})=>Qv(e,t,r))).fold((()=>t("Invalid data URI")),e)}))):Promise.reject("Unknown URI format")).then((t=>ey(t).then((n=>ry(n,!1,(r=>L.some(ny(e,t,r)))).getOrThunk(r)))))}var n,o;return Ge(t,"data:")?oy(e,t).fold(r,(e=>Promise.resolve(e))):Promise.reject("Unknown image data format")})(t,n).then((t=>(delete r[n],{image:e,blobInfo:t}))).catch((e=>(delete r[n],e)));return r[n]=o,o}}));return Promise.all(s)}}})(o,t)),n.findAll(e.getBody(),u).then(s((t=>{const r=K(t,(t=>!p(t)||(Pw(e,t),!1)));return Kb(e)||W(r,(e=>{c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),r})))),g=r=>r.replace(/src="(blob:[^"]+)"/g,((r,n)=>{const i=o.getResultUri(n);if(i)return'src="'+i+'"';let s=t.getByUri(n);return s||(s=X(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)),void 0)),s?'src="data:'+s.blob().type+";base64,"+s.base64()+'"':r}));return e.on("SetContent",(()=>{Tl(e)?d():m()})),e.on("RawSaveContent",(e=>{e.content=g(e.content)})),e.on("GetContent",(e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=g(e.content))})),e.on("PostRender",(()=>{e.parser.addNodeFilter("img",(e=>{W(e,(e=>{const r=e.attr("src");if(!r||t.getByUri(r))return;const n=o.getResultUri(r);n&&e.attr("src",n)}))}))})),{blobCache:t,addFilter:e=>{i.push(e)},uploadImages:h,uploadImagesAuto:d,scanForImages:m,destroy:()=>{t.destroy(),o.destroy(),n=r=null}}})(e),e.schema=os(sT(e)),e.dom=_s(r,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Bl(e),referrerPolicy:Ll(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}}),e.parser=(e=>{const t=wb(iT(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",((t,r)=>{const n=e.dom,o="data-mce-"+r;let i=t.length;for(;i--;){const s=t[i];let a=s.attr(r);if(a&&!s.attr(o)){if(0===a.indexOf("data:")||0===a.indexOf("blob:"))continue;"style"===r?(a=n.serializeStyle(n.parseStyle(a),s.name),a.length||(a=null),s.attr(o,a),s.attr(r,a)):"tabindex"===r?(s.attr(o,a),s.attr(r,null)):s.attr(o,e.convertURL(a,r,s.name))}}})),t.addNodeFilter("script",(e=>{let t=e.length;for(;t--;){const r=e[t],n=r.attr("type")||"no/type";0!==n.indexOf("mce-")&&r.attr("type","mce-"+n)}})),$c(e)&&t.addNodeFilter("#cdata",(t=>{var r;let n=t.length;for(;n--;){const o=t[n];o.type=8,o.name="#comment",o.value="[CDATA["+e.dom.encode(null!==(r=o.value)&&void 0!==r?r:"")+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(t=>{let r=t.length;const n=e.schema.getNonEmptyElements();for(;r--;){const e=t[r];e.isEmpty(n)&&0===e.getAll("br").length&&e.append(new xf("br",1))}})),t})(e),e.serializer=iw((e=>{const t=e.options.get;return{...iT(e),...sT(e),...oT({url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}})(e),e),e.selection=nw(e.dom,e.getWin(),e.serializer,e),e.annotator=Mu(e),e.formatter=Zw(e),e.undoManager=Yw(e),e._nodeChangeDispatcher=new xA(e),e._selectionOverrides=Ok(e),(e=>{const t=Rs(),r=ks(!1),n=Fs((t=>{e.dispatch("longpress",{...t,type:"longpress"}),r.set(!0)}),400);e.on("touchstart",(e=>{uS(e).each((o=>{n.cancel();const i={x:o.clientX,y:o.clientY,target:e.target};n.throttle(e),r.set(!1),t.set(i)}))}),!0),e.on("touchmove",(o=>{n.cancel(),uS(o).each((n=>{t.on((o=>{((e,t)=>{const r=Math.abs(e.clientX-t.x),n=Math.abs(e.clientY-t.y);return r>5||n>5})(n,o)&&(t.clear(),r.set(!1),e.dispatch("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(o=>{n.cancel(),"touchcancel"!==o.type&&t.get().filter((e=>e.target.isEqualNode(o.target))).each((()=>{r.get()?o.preventDefault():e.dispatch("tap",{...o,type:"tap"})}))}),!0)})(e),(e=>{(e=>{e.on("click",(t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()}))})(e),(e=>{e.parser.addNodeFilter("details",(e=>{W(e,(e=>{e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(e=>{W(e,(e=>{const t=e.attr("data-mce-open");e.attr("open",p(t)?t:null),e.attr("data-mce-open",null)}))}))})(e)})(e),(e=>{const t="contenteditable",r=" "+Rt.trim(qc(e))+" ",n=" "+Rt.trim(Uc(e))+" ",o=bS(r),i=bS(n),s=Wc(e);s.length>0&&e.on("BeforeSetContent",(t=>{((e,t,r)=>{let n=t.length,o=r.content;if("raw"!==r.format){for(;n--;)o=o.replace(t[n],wS(e,o,Uc(e)));r.content=o}})(e,s,t)})),e.parser.addAttributeFilter("class",(e=>{let r=e.length;for(;r--;){const n=e[r];o(n)?n.attr(t,"true"):i(n)&&n.attr(t,"false")}})),e.serializer.addAttributeFilter(t,(e=>{let r=e.length;for(;r--;){const n=e[r];(o(n)||i(n))&&(s.length>0&&n.attr("data-mce-content")?(n.name="#text",n.type=3,n.raw=!0,n.value=n.attr("data-mce-content")):n.attr(t,null))}}))})(e),Kb(e)||((e=>{e.on("mousedown",(t=>{t.detail>=3&&(t.preventDefault(),(e=>{const t=((e,t)=>{const r=Pa.fromRangeStart(e).getNode(),n=((e,t)=>Zr(gr(e),(e=>(e=>to(e.dom))(e)||go(e)),ok(t)).getOr(gr(t)).dom)(r,t),o=sk(r,n,!1),i=sk(r,n,!0),s=document.createRange();return ik(o,n).fold((()=>{rk(o)?s.setStart(o,0):s.setStartBefore(o)}),(e=>s.setStartBefore(e.dom))),ik(i,n).fold((()=>{rk(i)?s.setEnd(i,i.data.length):s.setEndAfter(i)}),(e=>s.setEndAfter(e.dom))),s})(e.selection.getRng(),e.getBody());e.selection.setRng(Og(t))})(e))}))})(e),(e=>{(e=>{const t=[",",".",";",":","!","?"],r=[32],n=()=>{return t=jc(e),r=Gc(e),{inlinePatterns:il(t),blockPatterns:ol(t),dynamicPatternsLookup:r};var t,r},o=()=>(e=>e.options.isSet("text_patterns_lookup"))(e);e.on("keydown",(t=>{if(13===t.keyCode&&!Vu.modifierPressed(t)&&e.selection.isCollapsed()){const r=n();(r.inlinePatterns.length>0||r.blockPatterns.length>0||o())&&((e,t)=>{const r=e.selection.getRng();return zk(e,r).map((n=>{var o;const i=Math.max(0,r.startOffset),s=Hk(t,n,null!==(o=n.textContent)&&void 0!==o?o:""),a=Qk(e,n,r.startContainer,i,s,!0),l=((e,t,r,n)=>{var o;const i=e.dom,s=xl(e);if(!i.is(t,s))return[];const a=null!==(o=t.textContent)&&void 0!==o?o:"";return((e,t)=>{const r=(e=>ae(e,((e,t)=>t.start.length-e.start.length)))(e),n=t.replace(lo," ");return Q(r,(e=>0===t.indexOf(e.start)||0===n.indexOf(e.start)))})(r.blockPatterns,a).map((e=>Rt.trim(a).length===e.start.length?[]:[{pattern:e,range:Nk(i,i.getRoot(),t,0,t,0,!0)}])).getOr([])})(e,n,s);return(l.length>0||a.length>0)&&(e.undoManager.add(),e.undoManager.extra((()=>{e.execCommand("mceInsertNewLine")}),(()=>{e.insertContent(ao),eT(e,a),((e,t)=>{if(0===t.length)return;const r=e.selection.getBookmark();W(t,(t=>((e,t)=>{const r=e.dom,n=t.pattern,o=Bk(r.getRoot(),t.range).getOrDie("Unable to resolve path range");return zk(e,o).each((t=>{"block-format"===n.type?((e,t)=>{const r=t.get(e);return g(r)&&ce(r).exists((e=>_e(e,"block")))})(n.format,e.formatter)&&e.undoManager.transact((()=>{Gk(e.dom,t,n),e.formatter.apply(n.format)})):"block-command"===n.type&&e.undoManager.transact((()=>{Gk(e.dom,t,n),e.execCommand(n.cmd,!1,n.value)}))})),!0})(e,t))),e.selection.moveToBookmark(r)})(e,l);const t=e.selection.getRng(),r=h_(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),r.each((t=>{const r=t.container;r.data.charAt(t.offset-1)===ao&&(r.deleteData(t.offset-1,1),Lk(e.dom,r.parentNode,(t=>t===e.dom.getRoot())))}))})),!0)})).getOr(!1)})(e,r)&&t.preventDefault()}}),!0);const i=()=>{if(e.selection.isCollapsed()){const t=n();(t.inlinePatterns.length>0||o())&&((e,t)=>{const r=e.selection.getRng();zk(e,r).map((n=>{const o=Math.max(0,r.startOffset-1),i=jk(e.dom,n,r.startContainer,o),s=Hk(t,n,i),a=Qk(e,n,r.startContainer,o,s,!1);a.length>0&&e.undoManager.transact((()=>{eT(e,a)}))}))})(e,t)}};e.on("keyup",(e=>{tT(r,e,((e,t)=>e===t.keyCode&&!Vu.modifierPressed(t)))&&i()})),e.on("keypress",(r=>{tT(t,r,((e,t)=>e.charCodeAt(0)===t.charCode))&&Kp.setEditorTimeout(e,i)}))})(e)})(e));const o=wA(e);((e,t)=>{e.addCommand("delete",(()=>{((e,t)=>{dS(e,t,!1).fold((()=>{Gm(e),Wm(e)}),N)})(e,t)})),e.addCommand("forwardDelete",(()=>{((e,t)=>{dS(e,t,!0).fold((()=>(e=>jm(e,"ForwardDelete"))(e)),N)})(e,t)}))})(e,o),(e=>{e.on("NodeChange",D(vS,e))})(e),(e=>{var t;const r=e.dom,n=xl(e),o=null!==(t=Yl(e))&&void 0!==t?t:"",i=(t,s)=>{if((e=>{if(Qw(e)){const t=e.keyCode;return!ex(e)&&(Vu.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||G(Xw,t))}return!1})(t))return;const a=e.getBody(),l=!(e=>Qw(e)&&!(ex(e)||"keyup"===e.type&&229===e.keyCode))(t)&&((e,t,r)=>{if(hi(gr(t),!1)){const n=t.firstElementChild;return!n||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&r===n.nodeName.toLowerCase()}return!1})(r,a,n);(""!==r.getAttrib(a,Jw)!==l||s)&&(r.setAttrib(a,Jw,l?o:null),r.setAttrib(a,"aria-placeholder",l?o:null),((e,t)=>{e.dispatch("PlaceholderToggle",{state:t})})(e,l),e.on(l?"keydown":"keyup",i),e.off(l?"keyup":"keydown",i))};Ke(o)&&e.on("init",(t=>{i(t,!0),e.on("change SetContent ExecCommand",i),e.on("paste",(t=>Kp.setEditorTimeout(e,(()=>i(t)))))}))})(e),(e=>{const t=ks(!1),r=ks(Vc(e)?"text":"html"),n=(e=>{const t=ks(null);return{create:()=>((e,t)=>{const{dom:r,selection:n}=e,o=e.getBody();t.set(n.getRng());const i=r.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},AA);Mt.browser.isFirefox()&&r.setStyle(i,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(i,"beforedeactivate focusin focusout",(e=>{e.stopPropagation()})),i.focus(),n.select(i,!0)})(e,t),remove:()=>((e,t)=>{const r=e.dom;if(kA(e)){let n;const o=t.get();for(;n=kA(e);)r.remove(n),r.unbind(n);o&&e.selection.setRng(o)}t.set(null)})(e,t),getEl:()=>kA(e),getHtml:()=>(e=>{const t=e.dom,r=(e,r)=>{e.appendChild(r),t.remove(r,!0)},[n,...o]=K(e.getBody().childNodes,TA);W(o,(e=>{r(n,e)}));const i=t.select("div[id=mcepastebin]",n);for(let e=i.length-1;e>=0;e--){const o=t.create("div");n.insertBefore(o,i[e]),r(o,i[e])}return n?n.innerHTML:""})(e),getLastRng:t.get}})(e);(e=>{(Mt.browser.isChromium()||Mt.browser.isSafari())&&((e,t)=>{e.on("PastePreProcess",(r=>{r.content=t(e,r.content,r.internal)}))})(e,ek)})(e),((e,t)=>{e.addCommand("mceTogglePlainTextPaste",(()=>{((e,t)=>{"text"===t.get()?(t.set("html"),Lu(e,!1)):(t.set("text"),Lu(e,!0)),e.focus()})(e,t)})),e.addCommand("mceInsertClipboardContent",((t,r)=>{r.html&&VA(e,r.html,r.internal),r.text&&zA(e,r.text)}))})(e,r),(e=>{const t=t=>r=>{t(e,r)},r=Ic(e);E(r)&&e.on("PastePreProcess",t(r));const n=Rc(e);E(n)&&e.on("PastePostProcess",t(n))})(e),e.on("PreInit",(()=>{(e=>{e.on("cut",(e=>t=>{!t.isDefaultPrevented()&&KA(e)&&WA(t,ZA(e),$A(e),(()=>{if(Mt.browser.isChromium()||Mt.browser.isFirefox()){const t=e.selection.getRng();Kp.setEditorTimeout(e,(()=>{e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))})(e)),e.on("copy",(e=>t=>{!t.isDefaultPrevented()&&KA(e)&&WA(t,ZA(e),$A(e),C)})(e))})(e),((e,t)=>{Dc(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(e=>{e.preventDefault(),e.stopPropagation()})),Oc(e)||e.on("drop",(e=>{const t=e.dataTransfer;t&&(e=>U(e.files,(e=>/^image\//.test(e.type))))(t)&&e.preventDefault()})),e.on("drop",(r=>{if(r.isDefaultPrevented())return;const n=YA(e,r);if(w(n))return;const o=HA(r.dataTransfer),i=jA(o,EA());if((!GA(o)||(e=>{const t=e["text/plain"];return!!t&&0===t.indexOf("file://")})(o))&&UA(e,r,n))return;const s=o[EA()],a=s||o["text/html"]||o["text/plain"],l=((e,t,r,n)=>{const o=e.getParent(r,(e=>xi(t,e)));if(o&&_e(n,"text/html")){const e=(new DOMParser).parseFromString(n["text/html"],"text/html").body;return!v(e.querySelector(o.nodeName.toLowerCase()))}return!1})(e.dom,e.schema,n.startContainer,o);t.get()&&!l||a&&(r.preventDefault(),Kp.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{s&&e.execCommand("Delete"),XA(e,n);const t=DA(a);o["text/html"]?VA(e,t,i):zA(e,t)}))})))})),e.on("dragstart",(e=>{t.set(!0)})),e.on("dragover dragend",(r=>{Oc(e)&&!t.get()&&(r.preventDefault(),XA(e,YA(e,r))),"dragend"===r.type&&t.set(!1)}))})(e,t),((e,t,r)=>{((e,t,r)=>{let n;e.on("keydown",(e=>{(e=>Vu.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode)(e)&&!e.isDefaultPrevented()&&(n=e.shiftKey&&86===e.keyCode)})),e.on("paste",(o=>{if(o.isDefaultPrevented()||(e=>{var t,r;return Mt.os.isAndroid()&&0===(null===(r=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===r?void 0:r.length)})(o))return;const i="text"===r.get()||n;n=!1;const s=HA(o.clipboardData);!GA(s)&&UA(e,o,t.getLastRng()||e.selection.getRng())||(jA(s,"text/html")?(o.preventDefault(),qA(e,s,s["text/html"],i)):jA(s,"text/plain")&&jA(s,"text/uri-list")?(o.preventDefault(),qA(e,s,s["text/plain"],i)):(t.create(),Kp.setEditorTimeout(e,(()=>{const r=t.getHtml();t.remove(),qA(e,s,r,i)}),0)))}))})(e,t,r),(e=>{const t=e=>Ge(e,"webkit-fake-url"),r=e=>Ge(e,"data:");e.parser.addNodeFilter("img",((n,o,i)=>{if(!Oc(e)&&(e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)})(i))for(const o of n){const n=o.attr("src");p(n)&&!o.attr("data-mce-object")&&n!==Mt.transparentSrc&&(t(n)||!Hc(e)&&r(n))&&o.remove()}}))})(e)})(e,n,r)}))})(e);const i=(e=>{const t=e;return(e=>Se(e.plugins,"rtc").bind((e=>L.from(e.setup))))(e).fold((()=>(t.rtcInstance=Zb(e),L.none())),(e=>(t.rtcInstance=(()=>{const e=T(null),t=T("");return{init:{bindEvents:C},undoManager:{beforeChange:C,add:e,undo:e,redo:e,clear:C,reset:C,hasUndo:F,hasRedo:F,transact:e,ignore:C,extra:C},formatter:{match:F,matchAll:T([]),matchNode:T(void 0),canApply:F,closest:t,apply:C,remove:C,toggle:C,formatChanged:T({unbind:C})},editor:{getContent:t,setContent:T({content:"",html:""}),insertContent:T(""),addVisual:C},selection:{getContent:t},autocompleter:{addDecoration:C,removeDecoration:C},raw:{getModel:T(L.none())}}})(),L.some((()=>e().then((e=>(t.rtcInstance=(e=>{const t=e=>f(e)?e:{},{init:r,undoManager:n,formatter:o,editor:i,selection:s,autocompleter:a,raw:l}=e;return{init:{bindEvents:r.bindEvents},undoManager:{beforeChange:n.beforeChange,add:n.add,undo:n.undo,redo:n.redo,clear:n.clear,reset:n.reset,hasUndo:n.hasUndo,hasRedo:n.hasRedo,transact:(e,t,r)=>n.transact(r),ignore:(e,t)=>n.ignore(t),extra:(e,t,r,o)=>n.extra(r,o)},formatter:{match:(e,r,n,i)=>o.match(e,t(r),i),matchAll:o.matchAll,matchNode:o.matchNode,canApply:e=>o.canApply(e),closest:e=>o.closest(e),apply:(e,r,n)=>o.apply(e,t(r)),remove:(e,r,n,i)=>o.remove(e,t(r)),toggle:(e,r,n)=>o.toggle(e,t(r)),formatChanged:(e,t,r,n,i)=>o.formatChanged(t,r,n,i)},editor:{getContent:e=>i.getContent(e),setContent:(e,t)=>({content:i.setContent(e,t),html:""}),insertContent:(e,t)=>(i.insertContent(e),""),addVisual:i.addVisual},selection:{getContent:(e,t)=>s.getContent(t)},autocompleter:{addDecoration:a.addDecoration,removeDecoration:a.removeDecoration},raw:{getModel:()=>L.some(l.getRawModel())}}})(e),e.rtc.isRemote))))))))})(e);(e=>{const t=e.getDoc(),r=e.getBody();(e=>{e.dispatch("PreInit")})(e),Pc(e)||(t.body.spellcheck=!1,rT.setAttrib(r,"spellcheck","false")),e.quirks=(e=>{const t=Rt.each,r=Vu.BACKSPACE,n=Vu.DELETE,o=e.dom,i=e.selection,s=e.parser,a=Mt.browser,l=a.isFirefox(),c=a.isChromium()||a.isSafari(),h=Mt.deviceType.isiPhone()||Mt.deviceType.isiPad(),d=Mt.os.isMacOS()||Mt.os.isiOS(),u=(t,r)=>{try{e.getDoc().execCommand(t,!1,String(r))}catch(e){}},p=e=>e.isDefaultPrevented(),f=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},m=()=>{e.inline||o.bind(e.getDoc(),"mousedown mouseup",(t=>{let r;if(t.target===e.getDoc().documentElement)if(r=i.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Bo(r.startContainer))return;i.placeCaretAt(t.clientX,t.clientY)}else i.setRng(r)}))},g=()=>{Range.prototype.getClientRects||e.on("mousedown",(t=>{if(!p(t)&&"HTML"===t.target.nodeName){const t=e.getBody();t.blur(),Kp.setEditorTimeout(e,(()=>{t.focus()}))}}))},v=()=>{const t=Sc(e);e.on("click",(r=>{const n=r.target;/^(IMG|HR)$/.test(n.nodeName)&&o.isEditable(n.parentNode)&&(r.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&o.hasClass(n,t)&&0===n.childNodes.length&&o.isEditable(n.parentNode)&&(r.preventDefault(),i.select(n))}))},y=()=>{e.on("keydown",(e=>{if(!p(e)&&e.keyCode===r&&i.isCollapsed()&&0===i.getRng().startOffset){const t=i.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0}))},b=()=>{gc(e)||e.on("BeforeExecCommand mousedown",(()=>{u("StyleWithCSS",!1),u("enableInlineTableEditing",!1),Zl(e)||u("enableObjectResizing",!1)}))},w=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},x=()=>{e.inline||e.on("keydown",(()=>{document.activeElement===document.body&&e.getWin().focus()}))},E=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(t=>{let r;"HTML"===t.target.nodeName&&(r=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(r),e.selection.normalize(),e.nodeChanged())})))},S=()=>{d&&e.on("keydown",(t=>{!Vu.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))}))},_=()=>{e.on("click",(e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},A=()=>{e.on("init",(()=>{e.dom.bind(e.getBody(),"submit",(e=>{e.preventDefault()}))}))},k=C;return Kb(e)?(c&&(m(),v(),A(),f(),h&&(x(),E(),_())),l&&(g(),b(),w(),S())):(e.on("keydown",(t=>{if(p(t)||t.keyCode!==Vu.BACKSPACE)return;let r=i.getRng();const n=r.startContainer,s=r.startOffset,a=o.getRoot();let l=n;if(r.collapsed&&0===s){for(;l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==a;)l=l.parentNode;"BLOCKQUOTE"===l.nodeName&&(e.formatter.toggle("blockquote",void 0,l),r=o.createRng(),r.setStart(n,0),r.setEnd(n,0),i.setRng(r))}})),(()=>{const t=e=>{const t=o.create("body"),r=e.cloneContents();return t.appendChild(r),i.serializer.serialize(t,{format:"html"})};e.on("keydown",(i=>{const s=i.keyCode;if(!p(i)&&(s===n||s===r)&&e.selection.isEditable()){const r=e.selection.isCollapsed(),n=e.getBody();if(r&&!o.isEmpty(n))return;if(!r&&!(r=>{const n=t(r),i=o.createRng();return i.selectNode(e.getBody()),n===t(i)})(e.selection.getRng()))return;i.preventDefault(),e.setContent(""),n.firstChild&&o.isBlock(n.firstChild)?e.selection.setCursorLocation(n.firstChild,0):e.selection.setCursorLocation(n,0),e.nodeChanged()}}))})(),Mt.windowsPhone||e.on("keyup focusin mouseup",(t=>{Vu.modifierPressed(t)||(e=>{const t=e.getBody(),r=e.selection.getRng();return r.startContainer===r.endContainer&&r.startContainer===t&&0===r.startOffset&&r.endOffset===t.childNodes.length})(e)||i.normalize()}),!0),c&&(m(),v(),e.on("init",(()=>{u("DefaultParagraphSeparator",xl(e))})),A(),y(),s.addNodeFilter("br",(e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),h?(x(),E(),_()):f()),l&&(e.on("keydown",(t=>{if(!p(t)&&t.keyCode===r){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){const e=i.getNode(),r=e.previousSibling;if("HR"===e.nodeName)return o.remove(e),void t.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(o.remove(r),t.preventDefault())}}})),g(),(()=>{const r=()=>{const r=o.getAttribs(i.getStart().cloneNode(!1));return()=>{const n=i.getStart();n!==e.getBody()&&(o.setAttrib(n,"style",null),t(r,(e=>{n.setAttributeNode(e.cloneNode(!0))})))}},n=()=>!i.isCollapsed()&&o.getParent(i.getStart(),o.isBlock)!==o.getParent(i.getEnd(),o.isBlock);e.on("keypress",(t=>{let o;return!(!(p(t)||8!==t.keyCode&&46!==t.keyCode)&&n()&&(o=r(),e.getDoc().execCommand("delete",!1),o(),t.preventDefault(),1))})),o.bind(e.getDoc(),"cut",(t=>{if(!p(t)&&n()){const t=r();Kp.setEditorTimeout(e,(()=>{t()}))}}))})(),b(),e.on("SetContent ExecCommand",(e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||t(o.select("a:not([data-mce-block])"),(e=>{var t;let r=e.parentNode;const n=o.getRoot();if((null==r?void 0:r.lastChild)===e){for(;r&&!o.isBlock(r);){if((null===(t=r.parentNode)||void 0===t?void 0:t.lastChild)!==r||r===n)return;r=r.parentNode}o.add(r,"br",{"data-mce-bogus":1})}}))})),w(),S(),y())),{refreshContentEditable:k,isHidden:()=>{if(!l||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}})(e),(e=>{e.dispatch("PostRender")})(e);const n=Wl(e);void 0!==n&&(r.dir=n);const o=Mc(e);o&&e.on("BeforeSetContent",(e=>{Rt.each(o,(t=>{e.content=e.content.replace(t,(e=>"\x3c!--mce:protected "+escape(e)+"--\x3e"))}))})),e.on("SetContent",(()=>{e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(t=>{e.composing="compositionstart"===t.type}))})(e),i.fold((()=>{lT(e).then((()=>cT(e)))}),(t=>{e.setProgressState(!0),lT(e).then((()=>{t().then((t=>{e.setProgressState(!1),cT(e),Jb(e)}),(t=>{e.notificationManager.open({type:"error",text:String(t)}),cT(e),Jb(e)}))}))}))},dT=B,uT=_s.DOM,pT=_s.DOM,fT=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),mT=e=>{const t=e.getElement();return e.inline?fT(null):(e=>{const t=pT.create("div");return pT.insertAfter(t,e),fT(t,t)})(t)},gT=_s.DOM,vT=e=>"-"===e.charAt(0),yT=(e,t,r)=>L.from(t).filter((e=>Ke(e)&&!gw.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${r}.js`,name:L.some(t)}))),bT=St().deviceType,wT=bT.isPhone(),xT=bT.isTablet(),ET=e=>{if(w(e))return[];{const t=g(e)?e:e.split(/[ ,]/),r=q(t,We);return K(r,Ke)}},ST=(e,t)=>_e(e.sections(),t),_T=(e,t)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Se(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...t?{menubar:!1}:{}}),CT=(e,t)=>{var r;const n=null!==(r=t.external_plugins)&&void 0!==r?r:{};return e&&e.external_plugins?Rt.extend({},e.external_plugins,n):n},AT=(e,t)=>{const r=e.selection,n=e.dom;return/^ | $/.test(t)?((e,t,r)=>{const n=gr(e.getRoot());return r=ym(n,Pa.fromRangeStart(t))?r.replace(/^ /,"&nbsp;"):r.replace(/^&nbsp;/," "),bm(n,Pa.fromRangeEnd(t))?r.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):r.replace(/&nbsp;(<br( \/)?>)?$/," ")})(n,r.getRng(),t):t},kT=(e,t)=>{if(e.selection.isEditable()){const{content:r,details:n}=(e=>{if("string"!=typeof e){const t=Rt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}})(t);_b(e,{...n,content:AT(e,r),format:"html",set:!1,selection:!0}).each((t=>{const r=((e,t,r)=>Yb(e).editor.insertContent(t,r))(e,t.content,n);Cb(e,r,t),e.addVisual()}))}},TT={"font-size":"size","font-family":"face"},PT=Zt("font"),MT=e=>(t,r)=>L.from(r).map(gr).filter(Ut).bind((r=>((e,t,r)=>Hg(gr(r),(t=>(t=>an(t,e).orThunk((()=>PT(t)?Se(TT,e).bind((e=>Qt(t,e))):L.none())))(t)),(e=>wr(gr(t),e))))(e,t,r.dom).or(((e,t)=>L.from(_s.DOM.getStyle(t,e,!0)))(e,r.dom)))).getOr(""),DT=MT("font-size"),OT=A((e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")),MT("font-family")),IT=e=>sd(e.getBody()).bind((e=>{const t=e.container();return L.from($n(t)?t.parentNode:t)})),RT=(e,t)=>((e,t)=>(e=>L.from(e.selection.getRng()).bind((t=>{const r=e.getBody();return t.startContainer===r&&0===t.startOffset?L.none():L.from(e.selection.getStart(!0))})))(e).orThunk(D(IT,e)).map(gr).filter(Ut).bind(t))(e,k(L.some,t)),NT=(e,t)=>{if(/^[0-9.]+$/.test(t)){const r=parseInt(t,10);if(r>=1&&r<=7){const n=(e=>Rt.explode(e.options.get("font_size_style_values")))(e),o=(e=>Rt.explode(e.options.get("font_size_classes")))(e);return o.length>0?o[r-1]||t:n[r-1]||t}return t}return t},FT=e=>{const t=e.split(/\s*,\s*/);return q(t,(e=>-1===e.indexOf(" ")||Ge(e,'"')||Ge(e,"'")?e:`'${e}'`)).join(",")},BT=["toggleview"],LT=e=>G(BT,e.toLowerCase());class VT{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,r,n){const o=this.editor,i=e.toLowerCase(),s=null==n?void 0:n.skip_focus;if(o.removed)return!1;if("mcefocus"!==i&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(i)||s?(e=>{$p(e).each((t=>e.selection.setRng(t)))})(o):o.focus()),o.dispatch("BeforeExecCommand",{command:e,ui:t,value:r}).isDefaultPrevented())return!1;const a=this.commands.exec[i];return!!E(a)&&(a(i,t,r),o.dispatch("ExecCommand",{command:e,ui:t,value:r}),!0)}queryCommandState(e){if(!LT(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),r=this.commands.state[t];return!!E(r)&&r(t)}queryCommandValue(e){if(!LT(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const t=e.toLowerCase(),r=this.commands.value[t];return E(r)?r(t):""}addCommands(e,t="exec"){const r=this.commands;me(e,((e,n)=>{W(n.toLowerCase().split(","),(n=>{r[t][n]=e}))}))}addCommand(e,t,r){const n=e.toLowerCase();this.commands.exec[n]=(e,n,o)=>t.call(null!=r?r:this.editor,n,o)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,r){this.commands.state[e.toLowerCase()]=()=>t.call(null!=r?r:this.editor)}addQueryValueHandler(e,t,r){this.commands.value[e.toLowerCase()]=()=>t.call(null!=r?r:this.editor)}}const zT="data-mce-contenteditable",HT=(e,t,r)=>{try{e.getDoc().execCommand(t,!1,String(r))}catch(e){}},jT=(e,t)=>{e.dom.contentEditable=t?"true":"false"},GT=e=>e.readonly,UT=e=>{e.parser.addAttributeFilter("contenteditable",(t=>{GT(e)&&W(t,(e=>{e.attr(zT,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(zT,(t=>{GT(e)&&W(t,(e=>{e.attr("contenteditable",e.attr(zT))}))})),e.serializer.addTempAttr(zT)},qT=["copy"],WT=Rt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class $T{constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||F}static isNative(e){return!!WT[e.toLowerCase()]}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const r=e.toLowerCase(),n=ls(r,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(n);const o=this.bindings[r];if(o)for(let e=0,t=o.length;e<t;e++){const t=o[e];if(!t.removed){if(t.once&&this.off(r,t.func),n.isImmediatePropagationStopped())return n;if(!1===t.func.call(this.scope,n))return n.preventDefault(),n}}return n}on(e,t,r,n){if(!1===t&&(t=F),t){const o={func:t,removed:!1};n&&Rt.extend(o,n);const i=e.toLowerCase().split(" ");let s=i.length;for(;s--;){const e=i[s];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=r?[o,...t]:[...t,o],this.bindings[e]=t}}return this}off(e,t){if(e){const r=e.toLowerCase().split(" ");let n=r.length;for(;n--;){const o=r[n];let i=this.bindings[o];if(!o)return me(this.bindings,((e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]})),this;if(i){if(t){const e=Z(i,(e=>e.func===t));i=e.fail,this.bindings[o]=i,W(e.pass,(e=>{e.removed=!0}))}else i.length=0;i.length||(this.toggleEvent(e,!1),delete this.bindings[o])}}}else me(this.bindings,((e,t)=>{this.toggleEvent(t,!1)})),this.bindings={};return this}once(e,t,r){return this.on(e,t,r,{once:!0})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||0===t.length)}}const ZT=e=>(e._eventDispatcher||(e._eventDispatcher=new $T({scope:e,toggleEvent:(t,r)=>{$T.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,r)}})),e._eventDispatcher),KT={fire(e,t,r){return this.dispatch(e,t,r)},dispatch(e,t,r){const n=this;if(n.removed&&"remove"!==e&&"detach"!==e)return ls(e.toLowerCase(),null!=t?t:{},n);const o=ZT(n).dispatch(e,t);if(!1!==r&&n.parent){let t=n.parent();for(;t&&!o.isPropagationStopped();)t.dispatch(e,o,!1),t=t.parent?t.parent():void 0}return o},on(e,t,r){return ZT(this).on(e,t,r)},off(e,t){return ZT(this).off(e,t)},once(e,t){return ZT(this).once(e,t)},hasEventListeners(e){return ZT(this).has(e)}},YT=_s.DOM;let XT;const JT=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const r=Xl(e);return r?(e.eventRoot||(e.eventRoot=YT.select(r)[0]),e.eventRoot):e.getBody()},QT=(e,t,r)=>{(e=>!e.hidden&&!GT(e))(e)?e.dispatch(t,r):GT(e)&&((e,t)=>{if((e=>"click"===e.type)(t)&&!Vu.metaKeyPressed(t)){const r=gr(t.target);((e,t)=>Xr(t,"a",(t=>wr(t,gr(e.getBody())))).bind((e=>Qt(e,"href"))))(e,r).each((r=>{if(t.preventDefault(),/^#/.test(r)){const t=e.dom.select(`${r},[name="${He(r,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}else(e=>G(qT,e.type))(t)&&e.dispatch(t.type,t)})(e,r)},eP=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const r=JT(e,t);if(Xl(e)){if(XT||(XT={},e.editorManager.on("removeEditor",(()=>{e.editorManager.activeEditor||XT&&(me(XT,((t,r)=>{e.dom.unbind(JT(e,r))})),XT=null)}))),XT[t])return;const n=r=>{const n=r.target,o=e.editorManager.get();let i=o.length;for(;i--;){const e=o[i].getBody();(e===n||YT.isChildOf(n,e))&&QT(o[i],t,r)}};XT[t]=n,YT.bind(r,t,n)}else{const n=r=>{QT(e,t,r)};YT.bind(r,t,n),e.delegates[t]=n}},tP={...KT,bindPendingEventDelegates(){const e=this;Rt.each(e._pendingNativeEvents,(t=>{eP(e,t)}))},toggleNativeEvent(e,t){const r=this;"focus"!==e&&"blur"!==e&&(r.removed||(t?r.initialized?eP(r,e):r._pendingNativeEvents?r._pendingNativeEvents.push(e):r._pendingNativeEvents=[e]:r.initialized&&r.delegates&&(r.dom.unbind(JT(r,e),e,r.delegates[e]),delete r.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),r=e.dom;e.delegates&&(me(e.delegates,((t,r)=>{e.dom.unbind(JT(e,r),r,t)})),delete e.delegates),!e.inline&&t&&r&&(t.onload=null,r.unbind(e.getWin()),r.unbind(e.getDoc())),r&&(r.unbind(t),r.unbind(e.getContainer()))}},rP=e=>p(e)?{value:e.split(/[ ,]/),valid:!0}:_(e,p)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},nP=(e,t)=>e+(Ye(t.message)?"":`. ${t.message}`),oP=e=>e.valid,iP=(e,t,r="")=>{const n=t(e);return y(n)?n?{value:e,valid:!0}:{valid:!1,message:r}:n},sP=["design","readonly"],aP=(e,t,r,n)=>{const o=r[t.get()],i=r[n];try{i.activate()}catch(e){return void console.error(`problem while activating editor mode ${n}:`,e)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&((e,t)=>{const r=gr(e.getBody());((e,t,r)=>{dr(e,t)&&!r?hr(e,t):r&&lr(e,t)})(r,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),(e=>{L.from(e.selection.getNode()).each((e=>{e.removeAttribute("data-mce-selected")}))})(e),e.readonly=!0,jT(r,!1),W(In(r,'*[contenteditable="true"]'),(e=>{Yt(e,zT,"true"),jT(e,!1)}))):(e.readonly=!1,jT(r,!0),W(In(r,'*[data-mce-contenteditable="true"]'),(e=>{tr(e,zT),jT(e,!0)})),HT(e,"StyleWithCSS",!1),HT(e,"enableInlineTableEditing",!1),HT(e,"enableObjectResizing",!1),(e=>sf(e)||(e=>{const t=zr(gr(e.getElement()));return Vp(t).filter((t=>!Jp(t.dom)&&Qp(e,t.dom))).isSome()})(e))(e)&&e.focus(),(e=>{e.selection.setRng(e.selection.getRng())})(e),e.nodeChanged())})(e,i.editorReadOnly),t.set(n),((e,t)=>{e.dispatch("SwitchMode",{mode:t})})(e,n)},lP=Rt.each,cP=Rt.explode,hP={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},dP=Rt.makeMap("alt,ctrl,shift,meta,access"),uP=e=>{const t={},r=Mt.os.isMacOS()||Mt.os.isiOS();lP(cP(e.toLowerCase(),"+"),(e=>{(e=>e in dP)(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=hP[e]||e.toUpperCase().charCodeAt(0))}));const n=[t.keyCode];let o;for(o in dP)t[o]?n.push(o):t[o]=!1;return t.id=n.join(","),t.access&&(t.alt=!0,r?t.ctrl=!0:t.shift=!0),t.meta&&(r?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class pP{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on("keyup keypress keydown",(e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(lP(t.shortcuts,(r=>{t.matchShortcut(e,r)&&(t.pendingPatterns=r.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(r))})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}add(e,t,r,n){const o=this,i=o.normalizeCommandFunc(r);return lP(cP(Rt.trim(e)),(e=>{const r=o.createShortcut(e,t,i,n);o.shortcuts[r.id]=r})),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,r=e;return"string"==typeof r?()=>{t.editor.execCommand(r,!1,null)}:Rt.isArray(r)?()=>{t.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(e,t,r,n){const o=Rt.map(cP(e,">"),uP);return o[o.length-1]=Rt.extend(o[o.length-1],{func:r,scope:n||this.editor}),Rt.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const fP=()=>{const e=(()=>{const e={},t={},r={},n={},o={},i={},s={},a={},l=(e,t)=>(r,n)=>{e[r.toLowerCase()]={...n,type:t}};return{addButton:l(e,"button"),addGroupToolbarButton:l(e,"grouptoolbarbutton"),addToggleButton:l(e,"togglebutton"),addMenuButton:l(e,"menubutton"),addSplitButton:l(e,"splitbutton"),addMenuItem:l(t,"menuitem"),addNestedMenuItem:l(t,"nestedmenuitem"),addToggleMenuItem:l(t,"togglemenuitem"),addAutocompleter:l(r,"autocompleter"),addContextMenu:l(o,"contextmenu"),addContextToolbar:l(i,"contexttoolbar"),addContextForm:l(i,"contextform"),addSidebar:l(s,"sidebar"),addView:l(a,"views"),addIcon:(e,t)=>n[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:n,popups:r,contextMenus:o,contextToolbars:i,sidebars:s,views:a})}})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},mP=_s.DOM,gP=Rt.extend,vP=Rt.each;class yP{constructor(e,t,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,gP(this,tP);const n=this;this.id=e,this.hidden=!1;const o=((e,t)=>((e,t,r,n,o)=>{var i;const s=e?{mobile:_T(null!==(i=o.mobile)&&void 0!==i?i:{},t)}:{},a=((e,t)=>{const r=((t,r)=>{const n={},o={};return be(t,((t,r)=>G(e,r)),ye(n),ye(o)),{t:n,f:o}})(t);return n=r.t,o=r.f,{sections:T(n),options:T(o)};var n,o})(["mobile"],P_(s,o)),l=Rt.extend(r,n,a.options(),((e,t)=>e&&ST(t,"mobile"))(e,a)?((e,t,r={})=>{const n=e.sections(),o=Se(n,t).getOr({});return Rt.extend({},r,o)})(a,"mobile"):{},{external_plugins:CT(n,a.options())});return((e,t,r,n)=>{const o=ET(r.forced_plugins),i=ET(n.plugins),s=((e,t)=>ST(e,t)?e.sections()[t]:{})(t,"mobile"),a=((e,t,r,n)=>e&&ST(t,"mobile")?n:r)(e,t,i,s.plugins?ET(s.plugins):i),l=((e,t)=>[...ET(e),...ET(t)])(o,a);return Rt.extend(n,{forced_plugins:o,plugins:l})})(e,a,n,l)})(wT||xT,wT,t,e,t))(r.defaultOptions,t);this.options=((e,t)=>{const r={},n={},o=(e,t,r)=>{const o=iP(t,r);return oP(o)?(n[e]=o.value,!0):(console.warn(nP(`Invalid value passed for the ${e} option`,o)),!1)},i=e=>_e(r,e);return{register:(e,i)=>{const s=(e=>p(e.processor))(i)?(e=>{const t=(()=>{switch(e){case"array":return g;case"boolean":return y;case"function":return E;case"number":return S;case"object":return f;case"string":return p;case"string[]":return rP;case"object[]":return e=>_(e,f);case"regexp":return e=>u(e,RegExp);default:return B}})();return r=>iP(r,t,`The value must be a ${e}.`)})(i.processor):i.processor,a=((e,t,r)=>{if(!b(t)){const n=iP(t,r);if(oP(n))return n.value;console.error(nP(`Invalid default value passed for the "${e}" option`,n))}})(e,i.default,s);r[e]={...i,default:a,processor:s},Se(n,e).orThunk((()=>Se(t,e))).each((t=>o(e,t,s)))},isRegistered:i,get:e=>Se(n,e).orThunk((()=>Se(r,e).map((e=>e.default)))).getOrUndefined(),set:(e,t)=>{if(i(e)){const n=r[e];return n.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):o(e,t,n.processor)}return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:e=>{const t=i(e);return t&&delete n[e],t},isSet:e=>_e(n,e)}})(0,o),(e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:pl(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:pl(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{const t=p(e)&&Ke(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{const t=G(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>y(e)||p(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{const t=!1===e||p(e)||_(e,p);return t?p(e)?{value:q(e.split(","),We),valid:t}:g(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:cc(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{const t=p(e)||_(e,p);return t?{value:g(e)?e:q(e.split(","),We),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{const t=y(e)||p(e);return t?!1===e||al.isiPhone()||al.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!ll}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||p(e)||E(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{const t=!1===e||p(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean"}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:ul}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:ul}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:ul}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>p(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>_(e,f)||!1===e?{value:sl(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:e=>{return E(e)?{value:(t=e,e=>{const r=t(e);return sl(r)}),valid:!0}:{valid:!1,message:"Must be a single function"};var t},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>_(e,hl)?{value:e,valid:!0}:hl(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",(()=>{t("directionality",{processor:"string",default:Ds.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:cl.getAttrib(e.getElement(),"placeholder")})}))})(n);const i=this.options.get;i("deprecation_warnings")&&((e,t)=>{((e,t)=>{const r=(e=>{const t=dw(e,aw),r=e.forced_root_block;return!1!==r&&""!==r||t.push("forced_root_block (false only)"),ae(t)})(e),n=(e=>uw(e,cw))(t),o=n.length>0,i=r.length>0,s="mobile"===t.theme;if(o||i||s){const e="\n- ",t=s?`\n\nThemes:${e}mobile`:"",a=o?`\n\nPlugins:${e}${n.join(e)}`:"",l=i?`\n\nOptions:${e}${r.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+a+l)}})(e,t),((e,t)=>{const r=(e=>dw(e,lw))(e),n=(e=>uw(e,hw.map((e=>e.name))))(t),o=n.length>0,i=r.length>0;if(o||i){const e="\n- ",t=o?`\n\nPlugins:${e}${n.map(pw).join(e)}`:"",s=i?`\n\nOptions:${e}${r.join(e)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+t+s)}})(e,t)})(t,o);const s=i("suffix");s&&(r.suffix=s),this.suffix=r.suffix;const a=i("base_url");a&&r._setBaseUrl(a),this.baseUri=r.baseURI;const l=Ll(n);l&&(As.ScriptLoader._setReferrerPolicy(l),_s.DOM.styleSheetLoader._setReferrerPolicy(l));const c=vc(n);x(c)&&_s.DOM.styleSheetLoader._setContentCssCors(c),Os.languageLoad=i("language_load"),Os.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new lb(gl(n),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=cc(n),this.hasVisual=xc(n),this.shortcuts=new pP(this),this.editorCommands=new VT(this),(e=>{(e=>{(e=>{const t=t=>()=>{W("left,center,right,justify".split(","),(r=>{t!==r&&e.formatter.remove("align"+r)})),"none"!==t&&((t,r)=>{e.formatter.toggle(t,void 0),e.nodeChanged()})("align"+t)};e.editorCommands.addCommands({JustifyLeft:t("left"),JustifyCenter:t("center"),JustifyRight:t("right"),JustifyFull:t("justify"),JustifyNone:t("none")})})(e),(e=>{const t=t=>()=>{const r=e.selection,n=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return U(n,(r=>x(e.formatter.matchNode(r,t))))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")})(e)})(e),(e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const r=e.getDoc();let n;try{r.execCommand(t)}catch(e){n=!0}if("paste"!==t||r.queryCommandEnabled(t)||(n=!0),n||!r.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Mt.os.isMacOS()||Mt.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:t,type:"error"})}}})})(e),(e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})})(e),(e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,r,n)=>{let o=0;e.dom.getParent(e.selection.getNode(),(t=>!Ln(t)||o++!==n||(e.selection.select(t),!1)),e.getBody())},mceSelectNode:(t,r,n)=>{e.selection.select(n)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),to);if(t){const r=e.dom.createRng();r.selectNodeContents(t),e.selection.setRng(r)}}})})(e),(e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,r,n)=>{kT(e,e.dom.createHTML("img",{src:n}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,r,n)=>{kT(e,e.dom.encode(n))},insertHTML:(t,r,n)=>{kT(e,n)},mceInsertContent:(t,r,n)=>{kT(e,n)},mceSetContent:(t,r,n)=>{e.setContent(n)},mceReplaceContent:(t,r,n)=>{e.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})})(e),(e=>{const t=(t,r,n)=>{const o=p(n)?{href:n}:n,i=e.dom.getParent(e.selection.getNode(),"a");f(o)&&p(o.href)&&(o.href=o.href.replace(/ /g,"%20"),i&&o.href||e.formatter.remove("link"),o.href&&e.formatter.apply("link",o,i))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},mceInsertLink:t,createLink:t})})(e),(e=>{e.editorCommands.addCommands({Indent:()=>{(e=>{lS(e,"indent")})(e)},Outdent:()=>{cS(e)}}),e.editorCommands.addCommands({Outdent:()=>iS(e)},"state")})(e),(e=>{e.editorCommands.addCommands({insertParagraph:()=>{cA(jC,e)},mceInsertNewLine:(t,r,n)=>{hA(e,n)},InsertLineBreak:(t,r,n)=>{cA(YC,e)}})})(e),(e=>{(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const r=e.dom.getParent(e.selection.getNode(),"ol,ul");if(r){const t=r.parentNode;if(t&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){const n=e.selection.getBookmark();e.dom.split(t,r),e.selection.moveToBookmark(n)}}}})})(e),(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const r=e.dom.getParent(e.selection.getNode(),"ul,ol");return r&&("insertunorderedlist"===t&&"UL"===r.tagName||"insertorderedlist"===t&&"OL"===r.tagName)}},"state")})(e)})(e),(e=>{(e=>{const t=(t,r)=>{e.formatter.toggle(t,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,r,n)=>{t(e,{value:n})},BackColor:(e,r,n)=>{t("hilitecolor",{value:n})},FontName:(t,r,n)=>{((e,t)=>{const r=NT(e,t);e.formatter.toggle("fontname",{value:FT(r)}),e.nodeChanged()})(e,n)},FontSize:(t,r,n)=>{((e,t)=>{e.formatter.toggle("fontsize",{value:NT(e,t)}),e.nodeChanged()})(e,n)},LineHeight:(t,r,n)=>{((e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()})(e,n)},Lang:(e,r,n)=>{var o;t(e,{value:n.code,customValue:null!==(o=n.customCode)&&void 0!==o?o:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,r,n)=>{t(p(n)?n:"p")},mceToggleFormat:(e,r,n)=>{t(n)}})})(e),(e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",(()=>(e=>RT(e,(t=>OT(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("FontSize",(()=>(e=>RT(e,(t=>DT(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("LineHeight",(()=>(e=>RT(e,(t=>{const r=gr(e.getBody()),n=Hg(t,(e=>an(e,"line-height")),D(wr,r));return n.getOrThunk((()=>{const e=parseFloat(on(t,"line-height")),r=parseFloat(on(t,"font-size"));return String(e/r)}))})).getOr(""))(e)))})(e)})(e),(e=>{e.editorCommands.addCommands({mceRemoveNode:(t,r,n)=>{const o=null!=n?n:e.selection.getNode();if(o!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(o,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,r,n)=>{((e,t)=>{e.removed||(t?af(e):(e=>{const t=e.selection,r=e.getBody();let n=t.getRng();e.quirks.refreshContentEditable(),x(e.bookmark)&&!sf(e)&&$p(e).each((t=>{e.selection.setRng(t),n=t}));const o=((e,t)=>e.dom.getParent(t,(t=>"true"===e.dom.getContentEditable(t))))(e,t.getNode());if(o&&e.dom.isChildOf(o,r))return of(o),nf(e,n),void af(e);e.inline||(Mt.browser.isOpera()||of(r),e.getWin().focus()),(Mt.browser.isFirefox()||e.inline)&&(of(r),nf(e,n)),af(e)})(e))})(e,!0===n)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})})(e)})(this);const h=i("cache_suffix");h&&(Mt.cacheSuffix=h.replace(/^[\?\&]+/,"")),this.ui={registry:fP(),styleSheetLoader:void 0,show:C,hide:C,setEnabled:C,isEnabled:B},this.mode=(e=>{const t=ks("design"),r=ks({design:{activate:C,deactivate:C,editorReadOnly:!1},readonly:{activate:C,deactivate:C,editorReadOnly:!0}});return(e=>{e.serializer?UT(e):e.on("PreInit",(()=>{UT(e)}))})(e),(e=>{e.on("ShowCaret",(t=>{GT(e)&&t.preventDefault()})),e.on("ObjectSelected",(t=>{GT(e)&&t.preventDefault()}))})(e),{isReadOnly:()=>GT(e),set:n=>((e,t,r,n)=>{if(n!==r.get()){if(!_e(t,n))throw new Error(`Editor mode '${n}' is invalid`);e.initialized?aP(e,r,t,n):e.on("init",(()=>aP(e,r,t,n)))}})(e,r.get(),t,n),get:()=>t.get(),register:(e,t)=>{r.set(((e,t,r)=>{if(G(sP,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...r,deactivate:()=>{try{r.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}})(r.get(),e,t))}}})(n),r.dispatch("SetupEditor",{editor:this});const d=Cc(n);E(d)&&d.call(n,n)}render(){(e=>{const t=e.id;Ds.setCode(Vl(e));const r=()=>{gT.unbind(window,"ready",r),e.render()};if(!fs.Event.domLoaded)return void gT.bind(window,"ready",r);if(!e.getElement())return;const n=gr(e.getElement()),o=rr(n);e.on("remove",(()=>{$(n.dom.attributes,(e=>tr(n,e.name))),Xt(n,o)})),e.ui.styleSheetLoader=((e,t)=>Ti.forElement(e,{contentCssCors:vc(t),referrerPolicy:Ll(t)}))(n,e),cc(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const i=e.getElement().form||gT.getParent(t,"form");i&&(e.formElement=i,hc(e)&&!Wn(e.getElement())&&(gT.insertAfter(gT.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},gT.bind(i,"submit reset",e.formEventDelegate),e.on("reset",(()=>{e.resetContent()})),!dc(e)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)))),e.windowManager=kw(e),e.notificationManager=_w(e),(e=>"xml"===e.options.get("encoding"))(e)&&e.on("GetContent",(e=>{e.save&&(e.content=gT.encode(e.content))})),uc(e)&&e.on("submit",(()=>{e.initialized&&e.save()})),pc(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),((e,t)=>{const r=As.ScriptLoader,n=()=>{!e.removed&&(e=>{const t=Ql(e);return!p(t)||x(Aw.get(t))})(e)&&(e=>{const t=tc(e);return x(vw.get(t))})(e)&&(async e=>{e.dispatch("ScriptsLoaded"),(e=>{const t=Rt.trim(Dl(e)),r=e.ui.registry.getAll().icons,n={...gw.get("default").icons,...gw.get(t).icons};me(n,((t,n)=>{_e(r,n)||e.ui.registry.addIcon(n,t)}))})(e),(e=>{const t=Ql(e);if(p(t)){const r=Aw.get(t);e.theme=r(e,Aw.urls[t])||{},E(e.theme.init)&&e.theme.init(e,Aw.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}})(e),(e=>{const t=tc(e),r=vw.get(t);e.model=r(e,vw.urls[t])})(e),(e=>{const t=[];W(yc(e),(r=>{((e,t,r)=>{const n=Cw.get(r),o=Cw.urls[r]||e.documentBaseUrl.replace(/\/$/,"");if(r=Rt.trim(r),n&&-1===Rt.inArray(t,r)){if(e.plugins[r])return;try{const i=n(e,o)||{};e.plugins[r]=i,E(i.init)&&(i.init(e,o),t.push(r))}catch(t){((e,t,r)=>{const n=Ds.translate(["Failed to initialize plugin: {0}",t]);Iu(e,"PluginLoadError",{message:n}),Ow(n,r),Pw(e,n)})(e,r,t)}}})(e,t,(e=>e.replace(/^\-/,""))(r))}))})(e);const t=await(e=>{const t=e.getElement();return e.orgDisplay=t.style.display,p(Ql(e))?(e=>{const t=e.theme.renderUI;return t?t():mT(e)})(e):E(Ql(e))?(e=>{const t=e.getElement(),r=Ql(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r})(e):mT(e)})(e);((e,t)=>{const r={show:L.from(t.show).getOr(C),hide:L.from(t.hide).getOr(C),isEnabled:L.from(t.isEnabled).getOr(B),setEnabled:r=>{e.mode.isReadOnly()||L.from(t.setEnabled).each((e=>e(r)))}};e.ui={...e.ui,...r}})(e,L.from(t.api).getOr({})),e.editorContainer=t.editorContainer,(e=>{e.contentCSS=e.contentCSS.concat((e=>Iw(e,Gl(e)))(e),(e=>Iw(e,ql(e)))(e))})(e),e.inline?hT(e):((e,t)=>{((e,t)=>{const r=e.translate("Rich Text Area"),n=Qt(gr(e.getElement()),"tabindex").bind(Xe),o=((e,t,r,n)=>{const o=fr("iframe");return n.each((e=>Yt(o,"tabindex",e))),Xt(o,r),Xt(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),lr(o,"tox-edit-area__iframe"),o})(e.id,r,fl(e),n).dom;o.onload=()=>{o.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=o,e.iframeHTML=(e=>{let t=ml(e)+"<html><head>";gl(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const r=vl(e),n=yl(e),o=e.translate(_c(e));return bl(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+bl(e)+'" />'),t+=`</head><body id="${r}" class="mce-content-body ${n}" data-id="${e.id}" aria-label="${o}"><br></body></html>`,t})(e),uT.add(t.iframeContainer,o)})(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=uT.isHidden(t.editorContainer)),e.getElement().style.display="none",uT.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,(e=>{const t=e.iframeElement,r=((e,t,r,n)=>((e,t,r,n,o)=>{const i=((e,t)=>r=>{e(r)&&t((e=>{const t=gr(Gr(e).getOr(e.target)),r=()=>e.stopPropagation(),n=()=>e.preventDefault(),o=A(n,r);return((e,t,r,n,o,i,s)=>({target:e,x:t,y:r,stop:n,prevent:o,kill:i,raw:s}))(t,e.clientX,e.clientY,r,n,o,e)})(r))})(r,n);return e.dom.addEventListener(t,i,!1),{unbind:D(En,e,t,i,!1)}})(e,"load",r,n))(gr(t),0,dT,(()=>{r.unbind(),e.contentDocument=t.contentDocument,hT(e)}));if(Mt.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close()}else t.srcdoc=e.iframeHTML})(e)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})})(e)};((e,t)=>{const r=Ql(e);if(p(r)&&!vT(r)&&!_e(Aw.urls,r)){const n=ec(e),o=n?e.documentBaseURI.toAbsolute(n):`themes/${r}/theme${t}.js`;Aw.load(r,o).catch((()=>{((e,t,r)=>{Mw(e,"ThemeLoadError",Dw("theme",t,r))})(e,o,r)}))}})(e,t),((e,t)=>{const r=tc(e);if("plugin"!==r&&!_e(vw.urls,r)){const n=rc(e),o=p(n)?e.documentBaseURI.toAbsolute(n):`models/${r}/model${t}.js`;vw.load(r,o).catch((()=>{((e,t,r)=>{Mw(e,"ModelLoadError",Dw("model",t,r))})(e,o,r)}))}})(e,t),((e,t)=>{const r=Vl(t),n=zl(t);if(!Ds.hasCode(r)&&"en"!==r){const o=Ke(n)?n:`${t.editorManager.baseURL}/langs/${r}.js`;e.add(o).catch((()=>{((e,t,r)=>{Mw(e,"LanguageLoadError",Dw("language",t,r))})(t,o,r)}))}})(r,e),((e,t,r)=>{const n=yT(t,"default",r),o=(e=>L.from(Ol(e)).filter(Ke).map((e=>({url:e,name:L.none()}))))(t).orThunk((()=>yT(t,Dl(t),"")));W((e=>{const t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t})([n,o]),(r=>{e.add(r.url).catch((()=>{((e,t,r)=>{Mw(e,"IconsLoadError",Dw("icons",t,r))})(t,r.url,r.name.getOrUndefined())}))}))})(r,e,t),((e,t)=>{const r=(t,r)=>{Cw.load(t,r).catch((()=>{((e,t,r)=>{Mw(e,"PluginLoadError",Dw("plugin",t,r))})(e,r,t)}))};me(bc(e),((t,n)=>{r(n,t),e.options.set("plugins",yc(e).concat(n))})),W(yc(e),(e=>{!(e=Rt.trim(e))||Cw.urls[e]||vT(e)||r(e,`plugins/${e}/plugin${t}.js`)}))})(e,t),r.loadQueue().then(n,n)})(e,e.suffix)})(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return sf(this)}translate(e){return Ds.translate(e)}getParam(e,t,r){const n=this.options;return n.isRegistered(e)||(x(r)?n.register(e,{processor:r,default:t}):n.register(e,{processor:B,default:t})),n.isSet(e)||b(t)?n.get(e):t}hasPlugin(e,t){return!(!G(yc(this),e)||t&&void 0===Cw.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,r){this.editorCommands.addCommand(e,t,r)}addQueryStateHandler(e,t,r){this.editorCommands.addQueryStateHandler(e,t,r)}addQueryValueHandler(e,t,r){this.editorCommands.addQueryValueHandler(e,t,r)}addShortcut(e,t,r,n){this.shortcuts.add(e,t,r,n)}execCommand(e,t,r,n){return this.editorCommands.execCommand(e,t,r,n)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(mP.show(e.getContainer()),mP.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(mP.hide(e.getContainer()),mP.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this,r=t.getElement();if(t.removed)return"";if(r){const n={...e,load:!0},o=Wn(r)?r.value:r.innerHTML,i=t.setContent(o,n);return n.no_events||t.dispatch("LoadContent",{...n,element:r}),i}return""}save(e={}){const t=this;let r=t.getElement();if(!r||!t.initialized||t.removed)return"";const n={...e,save:!0,element:r};let o=t.getContent(n);const i={...n,content:o};if(i.no_events||t.dispatch("SaveContent",i),"raw"===i.format&&t.dispatch("RawSaveContent",i),o=i.content,Wn(r))r.value=o;else{!e.is_removing&&t.inline||(r.innerHTML=o);const n=mP.getParent(t.id,"form");n&&vP(n.elements,(e=>e.name!==t.id||(e.value=o,!1)))}return i.element=n.element=r=null,!1!==i.set_dirty&&t.setDirty(!1),o}setContent(e,t){return sw(this,e,t)}getContent(e){return((e,t={})=>{const r=((e,t)=>({...e,format:t,get:!0,getInner:!0}))(t,t.format?t.format:"html");return Eb(e,r).fold(P,(t=>{const r=((e,t)=>Yb(e).editor.getContent(t))(e,t);return Sb(e,r,t)}))})(this,e)}insertContent(e,t){t&&(e=gP({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?sw(this,this.startContent,{format:"raw"}):sw(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=e.editorContainer||mP.get(e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=mP.get(this.id)),this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){var e,t;const r=this.getDoc();return null!==(t=null!==(e=this.bodyElement)&&void 0!==e?e:null==r?void 0:r.body)&&void 0!==t?t:null}convertURL(e,t,r){const n=this,o=n.options.get,i=kc(n);return E(i)?i.call(n,e,r,!0,t):!o("convert_urls")||"link"===r||f(r)&&"LINK"===r.nodeName||0===e.indexOf("file:")||0===e.length?e:o("relative_urls")?n.documentBaseURI.toRelative(e):e=n.documentBaseURI.toAbsolute(e,o("remove_script_host"))}addVisual(e){((e,t)=>{((e,t)=>{Xb(this).editor.addVisual(t)})(0,t)})(0,e)}remove(){(e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:r}=e,n=e.getBody(),o=e.getElement();n&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&x(null==o?void 0:o.nextSibling)&&fw.remove(o.nextSibling),(e=>{e.dispatch("remove")})(e),e.editorManager.remove(e),!e.inline&&n&&(e=>{fw.setStyle(e.id,"display",e.orgDisplay)})(e),(e=>{e.dispatch("detach")})(e),fw.remove(e.getContainer()),mw(t),mw(r),e.destroy()}})(this)}destroy(e){((e,t)=>{const{selection:r,dom:n}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),mw(r),mw(n)),(e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),fw.unbind(t,"submit reset",e.formEventDelegate))})(e),(e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const r=e.selection;if(r){const e=r.dom;t.selection=r.win=r.dom=e.doc=null}})(e),e.destroyed=!0):e.remove())})(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const bP=_s.DOM,wP=Rt.each;let xP,EP=!1,SP=[];const _P=e=>{const t=e.type;wP(TP.get(),(r=>{switch(t){case"scroll":r.dispatch("ScrollWindow",e);break;case"resize":r.dispatch("ResizeWindow",e)}}))},CP=e=>{if(e!==EP){const t=_s.DOM;e?(t.bind(window,"resize",_P),t.bind(window,"scroll",_P)):(t.unbind(window,"resize",_P),t.unbind(window,"scroll",_P)),EP=e}},AP=e=>{const t=SP;return SP=K(SP,(t=>e!==t)),TP.activeEditor===e&&(TP.activeEditor=SP.length>0?SP[0]:null),TP.focusedEditor===e&&(TP.focusedEditor=null),t.length!==SP.length},kP="CSS1Compat"!==document.compatMode,TP={...KT,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.1",releaseDate:"2023-03-29",i18n:Ds,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",r="",n=lb.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));const o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,r=o.suffix;else{const e=document.getElementsByTagName("script");for(let n=0;n<e.length;n++){const o=e[n].src||"";if(""===o)continue;const i=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!==i.indexOf(".min")&&(r=".min"),t=o.substring(0,o.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(".min")&&(r=".min"),t=e.substring(0,e.lastIndexOf("/"))}}var i;e.baseURL=new lb(n).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new lb(e.baseURL),e.suffix=r,(i=e).on("AddEditor",D(tf,i)),i.on("RemoveEditor",D(rf,i))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const r=e.suffix;r&&(this.suffix=r),this.defaultOptions=e;const n=e.plugin_base_urls;void 0!==n&&me(n,((e,t)=>{Os.PluginManager.urls[t]=e}))},init(e){const t=this;let r;const n=Rt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let o=e=>{r=e};const i=()=>{let r=0;const s=[];let a;bP.unbind(window,"ready",i),(r=>{const n=e.onpageload;n&&n.apply(t,[])})(),a=((e,t)=>{const r=[],n=E(t)?e=>U(r,(r=>t(r,e))):e=>G(r,e);for(let t=0,o=e.length;t<o;t++){const o=e[t];n(o)||r.push(o)}return r})((e=>Mt.browser.isIE()||Mt.browser.isEdge()?(Ow("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):kP?(Ow("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):p(e.selector)?bP.select(e.selector):x(e.target)?[e.target]:[])(e)),Rt.each(a,(e=>{var r;(r=t.get(e.id))&&r.initialized&&!(r.getContainer()||r.getBody()).parentNode&&(AP(r),r.unbindAllNativeEvents(),r.destroy(!0),r.removed=!0)})),a=Rt.grep(a,(e=>!t.get(e.id))),0===a.length?o([]):wP(a,(i=>{((e,t)=>e.inline&&t.tagName.toLowerCase()in n)(e,i)?Ow("Could not initialize inline editor on invalid inline target element",i):((e,n,i)=>{const l=new yP(e,n,t);s.push(l),l.on("init",(()=>{++r===a.length&&o(s)})),l.targetElm=l.targetElm||i,l.render()})((e=>{let t=e.id;return t||(t=Se(e,"name").filter((e=>!bP.get(e))).getOrThunk(bP.uniqueId),e.setAttribute("id",t)),t})(i),e,i)}))};return bP.bind(window,"ready",i),new Promise((e=>{r?e(r):o=t=>{e(t)}}))},get(e){return 0===arguments.length?SP.slice(0):p(e)?Q(SP,(t=>t.id===e)).getOr(null):S(e)&&SP[e]?SP[e]:null},add(e){const t=this,r=t.get(e.id);return r===e||(null===r&&SP.push(e),CP(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),xP||(xP=e=>{const r=t.dispatch("BeforeUnload");if(r.returnValue)return e.preventDefault(),e.returnValue=r.returnValue,r.returnValue},window.addEventListener("beforeunload",xP))),e},createEditor(e,t){return this.add(new yP(e,t,this))},remove(e){const t=this;let r;if(e){if(!p(e))return r=e,v(t.get(r.id))?null:(AP(r)&&t.dispatch("RemoveEditor",{editor:r}),0===SP.length&&window.removeEventListener("beforeunload",xP),r.remove(),CP(SP.length>0),r);wP(bP.select(e),(e=>{r=t.get(e.id),r&&t.remove(r)}))}else for(let e=SP.length-1;e>=0;e--)t.remove(SP[e])},execCommand(e,t,r){var n;const o=this,i=f(r)?null!==(n=r.id)&&void 0!==n?n:r.index:r;switch(e){case"mceAddEditor":if(!o.get(i)){const e=r.options;new yP(i,e,o).render()}return!0;case"mceRemoveEditor":{const e=o.get(i);return e&&e.remove(),!0}case"mceToggleEditor":{const e=o.get(i);return e?(e.isHidden()?e.show():e.hide(),!0):(o.execCommand("mceAddEditor",!1,r),!0)}}return!!o.activeEditor&&o.activeEditor.execCommand(e,t,r)},triggerSave:()=>{wP(SP,(e=>{e.save()}))},addI18n:(e,t)=>{Ds.add(e,t)},translate:e=>Ds.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new lb(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new lb(this.baseURL)}};TP.setup();const PP=(()=>{const e=Rs();return{FakeClipboardItem:e=>({items:e,types:pe(e),getType:t=>Se(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),MP=Math.min,DP=Math.max,OP=Math.round,IP=(e,t,r)=>{let n=t.x,o=t.y;const i=e.w,s=e.h,a=t.w,l=t.h,c=(r||"").split("");return"b"===c[0]&&(o+=l),"r"===c[1]&&(n+=a),"c"===c[0]&&(o+=OP(l/2)),"c"===c[1]&&(n+=OP(a/2)),"b"===c[3]&&(o-=s),"r"===c[4]&&(n-=i),"c"===c[3]&&(o-=OP(s/2)),"c"===c[4]&&(n-=OP(i/2)),RP(n,o,i,s)},RP=(e,t,r,n)=>({x:e,y:t,w:r,h:n}),NP={inflate:(e,t,r)=>RP(e.x-t,e.y-r,e.w+2*t,e.h+2*r),relativePosition:IP,findBestRelativePosition:(e,t,r,n)=>{for(let o=0;o<n.length;o++){const i=IP(e,t,n[o]);if(i.x>=r.x&&i.x+i.w<=r.w+r.x&&i.y>=r.y&&i.y+i.h<=r.h+r.y)return n[o]}return null},intersect:(e,t)=>{const r=DP(e.x,t.x),n=DP(e.y,t.y),o=MP(e.x+e.w,t.x+t.w),i=MP(e.y+e.h,t.y+t.h);return o-r<0||i-n<0?null:RP(r,n,o-r,i-n)},clamp:(e,t,r)=>{let n=e.x,o=e.y,i=e.x+e.w,s=e.y+e.h;const a=t.x+t.w,l=t.y+t.h,c=DP(0,t.x-n),h=DP(0,t.y-o),d=DP(0,i-a),u=DP(0,s-l);return n+=c,o+=h,r&&(i+=c,s+=h,n-=d,o-=u),i-=d,s-=u,RP(n,o,i-n,s-o)},create:RP,fromClientRect:e=>RP(e.left,e.top,e.width,e.height)},FP=(()=>{const e={},t={};return{load:(r,n)=>{const o=`Script at URL "${n}" failed to load`,i=`Script at URL "${n}" did not call \`tinymce.Resource.add('${r}', data)\` within 1 second`;if(void 0!==e[r])return e[r];{const s=new Promise(((e,s)=>{const a=((e,t,r=1e3)=>{let n=!1,o=null;const i=e=>(...t)=>{n||(n=!0,null!==o&&(clearTimeout(o),o=null),e.apply(null,t))},s=i(e),a=i(t);return{start:(...e)=>{n||null!==o||(o=setTimeout((()=>a.apply(null,e)),r))},resolve:s,reject:a}})(e,s);t[r]=a.resolve,As.ScriptLoader.loadScript(n).then((()=>a.start(i)),(()=>a.reject(o)))}));return e[r]=s,s}},add:(r,n)=>{void 0!==t[r]&&(t[r](n),delete t[r]),e[r]=Promise.resolve(n)},unload:t=>{delete e[t]}}})();let BP;try{const e="__storage_test__";BP=window.localStorage,BP.setItem(e,e),BP.removeItem(e)}catch(t){BP=(()=>{let e={},t=[];const r={getItem:t=>e[t]||null,setItem:(r,n)=>{t.push(r),e[r]=String(n)},key:e=>t[e],removeItem:r=>{t=t.filter((e=>e===r)),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(r,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),r})()}const LP={geom:{Rect:NP},util:{Delay:Kp,Tools:Rt,VK:Vu,URI:lb,EventDispatcher:$T,Observable:KT,I18n:Ds,LocalStorage:BP,ImageUploader:e=>{const t=Rw(),r=Bw(e,t);return{upload:(t,n=!0)=>r.upload(t,n?Fw(e):void 0)}}},dom:{EventUtils:fs,TreeWalker:Nn,TextSeeker:ea,DOMUtils:_s,ScriptLoader:As,RangeUtils:gp,Serializer:iw,StyleSheetLoader:ki,ControlSelection:Uu,BookmarkManager:Du,Selection:nw,Event:fs.Event},html:{Styles:is,Entities:qi,Node:xf,Schema:os,DomParser:wb,Writer:Pf,Serializer:Mf},Env:Mt,AddOnManager:Os,Annotator:Mu,Formatter:Zw,UndoManager:Yw,EditorCommands:VT,WindowManager:kw,NotificationManager:_w,EditorObservable:tP,Shortcuts:pP,Editor:yP,FocusManager:Zp,EditorManager:TP,DOM:_s.DOM,ScriptLoader:As.ScriptLoader,PluginManager:Cw,ThemeManager:Aw,ModelManager:vw,IconManager:gw,Resource:FP,FakeClipboard:PP,trim:Rt.trim,isArray:Rt.isArray,is:Rt.is,toArray:Rt.toArray,makeMap:Rt.makeMap,each:Rt.each,map:Rt.map,grep:Rt.grep,inArray:Rt.inArray,extend:Rt.extend,walk:Rt.walk,resolve:Rt.resolve,explode:Rt.explode,_addCacheSuffix:Rt._addCacheSuffix},VP=Rt.extend(TP,LP);(e=>{window.tinymce=e,window.tinyMCE=e})(VP),(t=>{try{e.exports=t}catch(t){}})(VP)}()},2995:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n,o,i=Object.create,s=Object.defineProperty,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertyDescriptor,d=(n=(e,t)=>{var r,n;r=e,n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){(function(t){var n=function(e,t){var r=this,o=!1;if("string"==typeof e?(r.element=document.querySelector(e),o=document.querySelectorAll(e).length>1):void 0!==e.length&&e.length>0?(r.element=e[0],o=e.length>1):r.element=e,!r.element)throw new Error("[cleave.js] Please check the element");if(o)try{console.warn("[cleave.js] Multiple input fields matched, cleave.js will only take the first one.")}catch(e){}t.initValue=r.element.value,r.properties=n.DefaultProperties.assign({},t),r.init()};n.prototype={init:function(){var e=this,t=e.properties;t.numeral||t.phone||t.creditCard||t.time||t.date||0!==t.blocksLength||t.prefix?(t.maxLength=n.Util.getMaxLength(t.blocks),e.isAndroid=n.Util.isAndroid(),e.lastInputValue="",e.isBackward="",e.onChangeListener=e.onChange.bind(e),e.onKeyDownListener=e.onKeyDown.bind(e),e.onFocusListener=e.onFocus.bind(e),e.onCutListener=e.onCut.bind(e),e.onCopyListener=e.onCopy.bind(e),e.initSwapHiddenInput(),e.element.addEventListener("input",e.onChangeListener),e.element.addEventListener("keydown",e.onKeyDownListener),e.element.addEventListener("focus",e.onFocusListener),e.element.addEventListener("cut",e.onCutListener),e.element.addEventListener("copy",e.onCopyListener),e.initPhoneFormatter(),e.initDateFormatter(),e.initTimeFormatter(),e.initNumeralFormatter(),(t.initValue||t.prefix&&!t.noImmediatePrefix)&&e.onInput(t.initValue)):e.onInput(t.initValue)},initSwapHiddenInput:function(){var e=this;if(e.properties.swapHiddenInput){var t=e.element.cloneNode(!0);e.element.parentNode.insertBefore(t,e.element),e.elementSwapHidden=e.element,e.elementSwapHidden.type="hidden",e.element=t,e.element.id=""}},initNumeralFormatter:function(){var e=this.properties;e.numeral&&(e.numeralFormatter=new n.NumeralFormatter(e.numeralDecimalMark,e.numeralIntegerScale,e.numeralDecimalScale,e.numeralThousandsGroupStyle,e.numeralPositiveOnly,e.stripLeadingZeroes,e.prefix,e.signBeforePrefix,e.tailPrefix,e.delimiter))},initTimeFormatter:function(){var e=this.properties;e.time&&(e.timeFormatter=new n.TimeFormatter(e.timePattern,e.timeFormat),e.blocks=e.timeFormatter.getBlocks(),e.blocksLength=e.blocks.length,e.maxLength=n.Util.getMaxLength(e.blocks))},initDateFormatter:function(){var e=this.properties;e.date&&(e.dateFormatter=new n.DateFormatter(e.datePattern,e.dateMin,e.dateMax),e.blocks=e.dateFormatter.getBlocks(),e.blocksLength=e.blocks.length,e.maxLength=n.Util.getMaxLength(e.blocks))},initPhoneFormatter:function(){var e=this.properties;if(e.phone)try{e.phoneFormatter=new n.PhoneFormatter(new e.root.Cleave.AsYouTypeFormatter(e.phoneRegionCode),e.delimiter)}catch(e){throw new Error("[cleave.js] Please include phone-type-formatter.{country}.js lib")}},onKeyDown:function(e){var t=this,r=e.which||e.keyCode;t.lastInputValue=t.element.value,t.isBackward=8===r},onChange:function(e){var t=this,r=t.properties,o=n.Util;t.isBackward=t.isBackward||"deleteContentBackward"===e.inputType;var i=o.getPostDelimiter(t.lastInputValue,r.delimiter,r.delimiters);t.isBackward&&i?r.postDelimiterBackspace=i:r.postDelimiterBackspace=!1,this.onInput(this.element.value)},onFocus:function(){var e=this,t=e.properties;e.lastInputValue=e.element.value,t.prefix&&t.noImmediatePrefix&&!e.element.value&&this.onInput(t.prefix),n.Util.fixPrefixCursor(e.element,t.prefix,t.delimiter,t.delimiters)},onCut:function(e){n.Util.checkFullSelection(this.element.value)&&(this.copyClipboardData(e),this.onInput(""))},onCopy:function(e){n.Util.checkFullSelection(this.element.value)&&this.copyClipboardData(e)},copyClipboardData:function(e){var t,r=this.properties,o=n.Util,i=this.element.value;t=r.copyDelimiter?i:o.stripDelimiters(i,r.delimiter,r.delimiters);try{e.clipboardData?e.clipboardData.setData("Text",t):window.clipboardData.setData("Text",t),e.preventDefault()}catch(e){}},onInput:function(e){var t=this,r=t.properties,o=n.Util,i=o.getPostDelimiter(e,r.delimiter,r.delimiters);return r.numeral||!r.postDelimiterBackspace||i||(e=o.headStr(e,e.length-r.postDelimiterBackspace.length)),r.phone?(!r.prefix||r.noImmediatePrefix&&!e.length?r.result=r.phoneFormatter.format(e):r.result=r.prefix+r.phoneFormatter.format(e).slice(r.prefix.length),void t.updateValueState()):r.numeral?(r.prefix&&r.noImmediatePrefix&&0===e.length?r.result="":r.result=r.numeralFormatter.format(e),void t.updateValueState()):(r.date&&(e=r.dateFormatter.getValidatedDate(e)),r.time&&(e=r.timeFormatter.getValidatedTime(e)),e=o.stripDelimiters(e,r.delimiter,r.delimiters),e=o.getPrefixStrippedValue(e,r.prefix,r.prefixLength,r.result,r.delimiter,r.delimiters,r.noImmediatePrefix,r.tailPrefix,r.signBeforePrefix),e=r.numericOnly?o.strip(e,/[^\d]/g):e,e=r.uppercase?e.toUpperCase():e,e=r.lowercase?e.toLowerCase():e,r.prefix&&(r.tailPrefix?e+=r.prefix:e=r.prefix+e,0===r.blocksLength)?(r.result=e,void t.updateValueState()):(r.creditCard&&t.updateCreditCardPropsByValue(e),e=o.headStr(e,r.maxLength),r.result=o.getFormattedValue(e,r.blocks,r.blocksLength,r.delimiter,r.delimiters,r.delimiterLazyShow),void t.updateValueState()))},updateCreditCardPropsByValue:function(e){var t,r=this.properties,o=n.Util;o.headStr(r.result,4)!==o.headStr(e,4)&&(t=n.CreditCardDetector.getInfo(e,r.creditCardStrictMode),r.blocks=t.blocks,r.blocksLength=r.blocks.length,r.maxLength=o.getMaxLength(r.blocks),r.creditCardType!==t.type&&(r.creditCardType=t.type,r.onCreditCardTypeChanged.call(this,r.creditCardType)))},updateValueState:function(){var e=this,t=n.Util,r=e.properties;if(e.element){var o=e.element.selectionEnd,i=e.element.value,s=r.result;o=t.getNextCursorPosition(o,i,s,r.delimiter,r.delimiters),e.isAndroid?window.setTimeout((function(){e.element.value=s,t.setSelection(e.element,o,r.document,!1),e.callOnValueChanged()}),1):(e.element.value=s,r.swapHiddenInput&&(e.elementSwapHidden.value=e.getRawValue()),t.setSelection(e.element,o,r.document,!1),e.callOnValueChanged())}},callOnValueChanged:function(){var e=this,t=e.properties;t.onValueChanged.call(e,{target:{name:e.element.name,value:t.result,rawValue:e.getRawValue()}})},setPhoneRegionCode:function(e){var t=this;t.properties.phoneRegionCode=e,t.initPhoneFormatter(),t.onChange()},setRawValue:function(e){var t=this,r=t.properties;e=null!=e?e.toString():"",r.numeral&&(e=e.replace(".",r.numeralDecimalMark)),r.postDelimiterBackspace=!1,t.element.value=e,t.onInput(e)},getRawValue:function(){var e=this.properties,t=n.Util,r=this.element.value;return e.rawValueTrimPrefix&&(r=t.getPrefixStrippedValue(r,e.prefix,e.prefixLength,e.result,e.delimiter,e.delimiters,e.noImmediatePrefix,e.tailPrefix,e.signBeforePrefix)),e.numeral?e.numeralFormatter.getRawValue(r):t.stripDelimiters(r,e.delimiter,e.delimiters)},getISOFormatDate:function(){var e=this.properties;return e.date?e.dateFormatter.getISOFormatDate():""},getISOFormatTime:function(){var e=this.properties;return e.time?e.timeFormatter.getISOFormatTime():""},getFormattedValue:function(){return this.element.value},destroy:function(){var e=this;e.element.removeEventListener("input",e.onChangeListener),e.element.removeEventListener("keydown",e.onKeyDownListener),e.element.removeEventListener("focus",e.onFocusListener),e.element.removeEventListener("cut",e.onCutListener),e.element.removeEventListener("copy",e.onCopyListener)},toString:function(){return"[Cleave Object]"}},n.NumeralFormatter=r(1),n.DateFormatter=r(2),n.TimeFormatter=r(3),n.PhoneFormatter=r(4),n.CreditCardDetector=r(5),n.Util=r(6),n.DefaultProperties=r(7),("object"==typeof t&&t?t:window).Cleave=n,e.exports=n}).call(t,function(){return this}())},function(e,t){var r=function(e,t,n,o,i,s,a,l,c,h){var d=this;d.numeralDecimalMark=e||".",d.numeralIntegerScale=t>0?t:0,d.numeralDecimalScale=n>=0?n:2,d.numeralThousandsGroupStyle=o||r.groupStyle.thousand,d.numeralPositiveOnly=!!i,d.stripLeadingZeroes=!1!==s,d.prefix=a||""===a?a:"",d.signBeforePrefix=!!l,d.tailPrefix=!!c,d.delimiter=h||""===h?h:",",d.delimiterRE=h?new RegExp("\\"+h,"g"):""};r.groupStyle={thousand:"thousand",lakh:"lakh",wan:"wan",none:"none"},r.prototype={getRawValue:function(e){return e.replace(this.delimiterRE,"").replace(this.numeralDecimalMark,".")},format:function(e){var t,n,o,i,s=this,a="";switch(e=e.replace(/[A-Za-z]/g,"").replace(s.numeralDecimalMark,"M").replace(/[^\dM-]/g,"").replace(/^\-/,"N").replace(/\-/g,"").replace("N",s.numeralPositiveOnly?"":"-").replace("M",s.numeralDecimalMark),s.stripLeadingZeroes&&(e=e.replace(/^(-)?0+(?=\d)/,"$1")),n="-"===e.slice(0,1)?"-":"",o=void 0!==s.prefix?s.signBeforePrefix?n+s.prefix:s.prefix+n:n,i=e,e.indexOf(s.numeralDecimalMark)>=0&&(i=(t=e.split(s.numeralDecimalMark))[0],a=s.numeralDecimalMark+t[1].slice(0,s.numeralDecimalScale)),"-"===n&&(i=i.slice(1)),s.numeralIntegerScale>0&&(i=i.slice(0,s.numeralIntegerScale)),s.numeralThousandsGroupStyle){case r.groupStyle.lakh:i=i.replace(/(\d)(?=(\d\d)+\d$)/g,"$1"+s.delimiter);break;case r.groupStyle.wan:i=i.replace(/(\d)(?=(\d{4})+$)/g,"$1"+s.delimiter);break;case r.groupStyle.thousand:i=i.replace(/(\d)(?=(\d{3})+$)/g,"$1"+s.delimiter)}return s.tailPrefix?n+i.toString()+(s.numeralDecimalScale>0?a.toString():"")+s.prefix:o+i.toString()+(s.numeralDecimalScale>0?a.toString():"")}},e.exports=r},function(e,t){var r=function(e,t,r){var n=this;n.date=[],n.blocks=[],n.datePattern=e,n.dateMin=t.split("-").reverse().map((function(e){return parseInt(e,10)})),2===n.dateMin.length&&n.dateMin.unshift(0),n.dateMax=r.split("-").reverse().map((function(e){return parseInt(e,10)})),2===n.dateMax.length&&n.dateMax.unshift(0),n.initBlocks()};r.prototype={initBlocks:function(){var e=this;e.datePattern.forEach((function(t){"Y"===t?e.blocks.push(4):e.blocks.push(2)}))},getISOFormatDate:function(){var e=this,t=e.date;return t[2]?t[2]+"-"+e.addLeadingZero(t[1])+"-"+e.addLeadingZero(t[0]):""},getBlocks:function(){return this.blocks},getValidatedDate:function(e){var t=this,r="";return e=e.replace(/[^\d]/g,""),t.blocks.forEach((function(n,o){if(e.length>0){var i=e.slice(0,n),s=i.slice(0,1),a=e.slice(n);switch(t.datePattern[o]){case"d":"00"===i?i="01":parseInt(s,10)>3?i="0"+s:parseInt(i,10)>31&&(i="31");break;case"m":"00"===i?i="01":parseInt(s,10)>1?i="0"+s:parseInt(i,10)>12&&(i="12")}r+=i,e=a}})),this.getFixedDateString(r)},getFixedDateString:function(e){var t,r,n,o=this,i=o.datePattern,s=[],a=0,l=0,c=0,h=0,d=0,u=0,p=!1;return 4===e.length&&"y"!==i[0].toLowerCase()&&"y"!==i[1].toLowerCase()&&(d=2-(h="d"===i[0]?0:2),t=parseInt(e.slice(h,h+2),10),r=parseInt(e.slice(d,d+2),10),s=this.getFixedDate(t,r,0)),8===e.length&&(i.forEach((function(e,t){switch(e){case"d":a=t;break;case"m":l=t;break;default:c=t}})),u=2*c,h=a<=c?2*a:2*a+2,d=l<=c?2*l:2*l+2,t=parseInt(e.slice(h,h+2),10),r=parseInt(e.slice(d,d+2),10),n=parseInt(e.slice(u,u+4),10),p=4===e.slice(u,u+4).length,s=this.getFixedDate(t,r,n)),4!==e.length||"y"!==i[0]&&"y"!==i[1]||(u=2-(d="m"===i[0]?0:2),r=parseInt(e.slice(d,d+2),10),n=parseInt(e.slice(u,u+2),10),p=2===e.slice(u,u+2).length,s=[0,r,n]),6!==e.length||"Y"!==i[0]&&"Y"!==i[1]||(u=2-.5*(d="m"===i[0]?0:4),r=parseInt(e.slice(d,d+2),10),n=parseInt(e.slice(u,u+4),10),p=4===e.slice(u,u+4).length,s=[0,r,n]),s=o.getRangeFixedDate(s),o.date=s,0===s.length?e:i.reduce((function(e,t){switch(t){case"d":return e+(0===s[0]?"":o.addLeadingZero(s[0]));case"m":return e+(0===s[1]?"":o.addLeadingZero(s[1]));case"y":return e+(p?o.addLeadingZeroForYear(s[2],!1):"");case"Y":return e+(p?o.addLeadingZeroForYear(s[2],!0):"")}}),"")},getRangeFixedDate:function(e){var t=this,r=t.datePattern,n=t.dateMin||[],o=t.dateMax||[];return!e.length||n.length<3&&o.length<3||r.find((function(e){return"y"===e.toLowerCase()}))&&0===e[2]?e:o.length&&(o[2]<e[2]||o[2]===e[2]&&(o[1]<e[1]||o[1]===e[1]&&o[0]<e[0]))?o:n.length&&(n[2]>e[2]||n[2]===e[2]&&(n[1]>e[1]||n[1]===e[1]&&n[0]>e[0]))?n:e},getFixedDate:function(e,t,r){return e=Math.min(e,31),t=Math.min(t,12),r=parseInt(r||0,10),(t<7&&t%2==0||t>8&&t%2==1)&&(e=Math.min(e,2===t?this.isLeapYear(r)?29:28:30)),[e,t,r]},isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},addLeadingZero:function(e){return(e<10?"0":"")+e},addLeadingZeroForYear:function(e,t){return t?(e<10?"000":e<100?"00":e<1e3?"0":"")+e:(e<10?"0":"")+e}},e.exports=r},function(e,t){var r=function(e,t){var r=this;r.time=[],r.blocks=[],r.timePattern=e,r.timeFormat=t,r.initBlocks()};r.prototype={initBlocks:function(){var e=this;e.timePattern.forEach((function(){e.blocks.push(2)}))},getISOFormatTime:function(){var e=this,t=e.time;return t[2]?e.addLeadingZero(t[0])+":"+e.addLeadingZero(t[1])+":"+e.addLeadingZero(t[2]):""},getBlocks:function(){return this.blocks},getTimeFormatOptions:function(){return"12"===String(this.timeFormat)?{maxHourFirstDigit:1,maxHours:12,maxMinutesFirstDigit:5,maxMinutes:60}:{maxHourFirstDigit:2,maxHours:23,maxMinutesFirstDigit:5,maxMinutes:60}},getValidatedTime:function(e){var t=this,r="";e=e.replace(/[^\d]/g,"");var n=t.getTimeFormatOptions();return t.blocks.forEach((function(o,i){if(e.length>0){var s=e.slice(0,o),a=s.slice(0,1),l=e.slice(o);switch(t.timePattern[i]){case"h":parseInt(a,10)>n.maxHourFirstDigit?s="0"+a:parseInt(s,10)>n.maxHours&&(s=n.maxHours+"");break;case"m":case"s":parseInt(a,10)>n.maxMinutesFirstDigit?s="0"+a:parseInt(s,10)>n.maxMinutes&&(s=n.maxMinutes+"")}r+=s,e=l}})),this.getFixedTimeString(r)},getFixedTimeString:function(e){var t,r,n,o=this,i=o.timePattern,s=[],a=0,l=0,c=0,h=0,d=0,u=0;return 6===e.length&&(i.forEach((function(e,t){switch(e){case"s":a=2*t;break;case"m":l=2*t;break;case"h":c=2*t}})),u=c,d=l,h=a,t=parseInt(e.slice(h,h+2),10),r=parseInt(e.slice(d,d+2),10),n=parseInt(e.slice(u,u+2),10),s=this.getFixedTime(n,r,t)),4===e.length&&o.timePattern.indexOf("s")<0&&(i.forEach((function(e,t){switch(e){case"m":l=2*t;break;case"h":c=2*t}})),u=c,d=l,t=0,r=parseInt(e.slice(d,d+2),10),n=parseInt(e.slice(u,u+2),10),s=this.getFixedTime(n,r,t)),o.time=s,0===s.length?e:i.reduce((function(e,t){switch(t){case"s":return e+o.addLeadingZero(s[2]);case"m":return e+o.addLeadingZero(s[1]);case"h":return e+o.addLeadingZero(s[0])}}),"")},getFixedTime:function(e,t,r){return r=Math.min(parseInt(r||0,10),60),t=Math.min(t,60),[e=Math.min(e,60),t,r]},addLeadingZero:function(e){return(e<10?"0":"")+e}},e.exports=r},function(e,t){var r=function(e,t){var r=this;r.delimiter=t||""===t?t:" ",r.delimiterRE=t?new RegExp("\\"+t,"g"):"",r.formatter=e};r.prototype={setFormatter:function(e){this.formatter=e},format:function(e){var t=this;t.formatter.clear();for(var r,n="",o=!1,i=0,s=(e=(e=(e=e.replace(/[^\d+]/g,"")).replace(/^\+/,"B").replace(/\+/g,"").replace("B","+")).replace(t.delimiterRE,"")).length;i<s;i++)r=t.formatter.inputDigit(e.charAt(i)),/[\s()-]/g.test(r)?(n=r,o=!0):o||(n=r);return(n=n.replace(/[()]/g,"")).replace(/[\s-]/g,t.delimiter)}},e.exports=r},function(e,t){var r={blocks:{uatp:[4,5,6],amex:[4,6,5],diners:[4,6,4],discover:[4,4,4,4],mastercard:[4,4,4,4],dankort:[4,4,4,4],instapayment:[4,4,4,4],jcb15:[4,6,5],jcb:[4,4,4,4],maestro:[4,4,4,4],visa:[4,4,4,4],mir:[4,4,4,4],unionPay:[4,4,4,4],general:[4,4,4,4]},re:{uatp:/^(?!1800)1\d{0,14}/,amex:/^3[47]\d{0,13}/,discover:/^(?:6011|65\d{0,2}|64[4-9]\d?)\d{0,12}/,diners:/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/,mastercard:/^(5[1-5]\d{0,2}|22[2-9]\d{0,1}|2[3-7]\d{0,2})\d{0,12}/,dankort:/^(5019|4175|4571)\d{0,12}/,instapayment:/^63[7-9]\d{0,13}/,jcb15:/^(?:2131|1800)\d{0,11}/,jcb:/^(?:35\d{0,2})\d{0,12}/,maestro:/^(?:5[0678]\d{0,2}|6304|67\d{0,2})\d{0,12}/,mir:/^220[0-4]\d{0,12}/,visa:/^4\d{0,15}/,unionPay:/^(62|81)\d{0,14}/},getStrictBlocks:function(e){var t=e.reduce((function(e,t){return e+t}),0);return e.concat(19-t)},getInfo:function(e,t){var n=r.blocks,o=r.re;for(var i in t=!!t,o)if(o[i].test(e)){var s=n[i];return{type:i,blocks:t?this.getStrictBlocks(s):s}}return{type:"unknown",blocks:t?this.getStrictBlocks(n.general):n.general}}};e.exports=r},function(e,t){var r={noop:function(){},strip:function(e,t){return e.replace(t,"")},getPostDelimiter:function(e,t,r){if(0===r.length)return e.slice(-t.length)===t?t:"";var n="";return r.forEach((function(t){e.slice(-t.length)===t&&(n=t)})),n},getDelimiterREByDelimiter:function(e){return new RegExp(e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g")},getNextCursorPosition:function(e,t,r,n,o){return t.length===e?r.length:e+this.getPositionOffset(e,t,r,n,o)},getPositionOffset:function(e,t,r,n,o){var i,s,a;return i=this.stripDelimiters(t.slice(0,e),n,o),s=this.stripDelimiters(r.slice(0,e),n,o),0!=(a=i.length-s.length)?a/Math.abs(a):0},stripDelimiters:function(e,t,r){var n=this;if(0===r.length){var o=t?n.getDelimiterREByDelimiter(t):"";return e.replace(o,"")}return r.forEach((function(t){t.split("").forEach((function(t){e=e.replace(n.getDelimiterREByDelimiter(t),"")}))})),e},headStr:function(e,t){return e.slice(0,t)},getMaxLength:function(e){return e.reduce((function(e,t){return e+t}),0)},getPrefixStrippedValue:function(e,t,r,n,o,i,s,a,l){if(0===r)return e;if(e===t&&""!==e)return"";if(l&&"-"==e.slice(0,1)){var c="-"==n.slice(0,1)?n.slice(1):n;return"-"+this.getPrefixStrippedValue(e.slice(1),t,r,c,o,i,s,a,l)}if(n.slice(0,r)!==t&&!a)return s&&!n&&e?e:"";if(n.slice(-r)!==t&&a)return s&&!n&&e?e:"";var h=this.stripDelimiters(n,o,i);return e.slice(0,r)===t||a?e.slice(-r)!==t&&a?h.slice(0,-r-1):a?e.slice(0,-r):e.slice(r):h.slice(r)},getFirstDiffIndex:function(e,t){for(var r=0;e.charAt(r)===t.charAt(r);)if(""===e.charAt(r++))return-1;return r},getFormattedValue:function(e,t,r,n,o,i){var s="",a=o.length>0,l="";return 0===r?e:(t.forEach((function(t,c){if(e.length>0){var h=e.slice(0,t),d=e.slice(t);l=a?o[i?c-1:c]||l:n,i?(c>0&&(s+=l),s+=h):(s+=h,h.length===t&&c<r-1&&(s+=l)),e=d}})),s)},fixPrefixCursor:function(e,t,r,n){if(e){var o=e.value,i=r||n[0]||" ";if(e.setSelectionRange&&t&&!(t.length+i.length<=o.length)){var s=2*o.length;setTimeout((function(){e.setSelectionRange(s,s)}),1)}}},checkFullSelection:function(e){try{return(window.getSelection()||document.getSelection()||{}).toString().length===e.length}catch(e){}return!1},setSelection:function(e,t,r){if(e===this.getActiveElement(r)&&!(e&&e.value.length<=t))if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else try{e.setSelectionRange(t,t)}catch(e){console.warn("The input element type does not support selection")}},getActiveElement:function(e){var t=e.activeElement;return t&&t.shadowRoot?this.getActiveElement(t.shadowRoot):t},isAndroid:function(){return navigator&&/android/i.test(navigator.userAgent)},isAndroidBackspaceKeydown:function(e,t){return!!(this.isAndroid()&&e&&t)&&t===e.slice(0,-1)}};e.exports=r},function(e,t){(function(t){var r={assign:function(e,r){return r=r||{},(e=e||{}).creditCard=!!r.creditCard,e.creditCardStrictMode=!!r.creditCardStrictMode,e.creditCardType="",e.onCreditCardTypeChanged=r.onCreditCardTypeChanged||function(){},e.phone=!!r.phone,e.phoneRegionCode=r.phoneRegionCode||"AU",e.phoneFormatter={},e.time=!!r.time,e.timePattern=r.timePattern||["h","m","s"],e.timeFormat=r.timeFormat||"24",e.timeFormatter={},e.date=!!r.date,e.datePattern=r.datePattern||["d","m","Y"],e.dateMin=r.dateMin||"",e.dateMax=r.dateMax||"",e.dateFormatter={},e.numeral=!!r.numeral,e.numeralIntegerScale=r.numeralIntegerScale>0?r.numeralIntegerScale:0,e.numeralDecimalScale=r.numeralDecimalScale>=0?r.numeralDecimalScale:2,e.numeralDecimalMark=r.numeralDecimalMark||".",e.numeralThousandsGroupStyle=r.numeralThousandsGroupStyle||"thousand",e.numeralPositiveOnly=!!r.numeralPositiveOnly,e.stripLeadingZeroes=!1!==r.stripLeadingZeroes,e.signBeforePrefix=!!r.signBeforePrefix,e.tailPrefix=!!r.tailPrefix,e.swapHiddenInput=!!r.swapHiddenInput,e.numericOnly=e.creditCard||e.date||!!r.numericOnly,e.uppercase=!!r.uppercase,e.lowercase=!!r.lowercase,e.prefix=e.creditCard||e.date?"":r.prefix||"",e.noImmediatePrefix=!!r.noImmediatePrefix,e.prefixLength=e.prefix.length,e.rawValueTrimPrefix=!!r.rawValueTrimPrefix,e.copyDelimiter=!!r.copyDelimiter,e.initValue=void 0!==r.initValue&&null!==r.initValue?r.initValue.toString():"",e.delimiter=r.delimiter||""===r.delimiter?r.delimiter:r.date?"/":r.time?":":r.numeral?",":(r.phone," "),e.delimiterLength=e.delimiter.length,e.delimiterLazyShow=!!r.delimiterLazyShow,e.delimiters=r.delimiters||[],e.blocks=r.blocks||[],e.blocksLength=e.blocks.length,e.root="object"==typeof t&&t?t:window,e.document=r.document||e.root.document,e.maxLength=0,e.backspace=!1,e.result="",e.onValueChanged=r.onValueChanged||function(){},e}};e.exports=r}).call(t,function(){return this}())}])},"object"==typeof e&&"object"==typeof t?t.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof e?e.Cleave=n():r.Cleave=n()},()=>(o||n((o={exports:{}}).exports,o),o.exports)),u=(e=>{return((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of c(t))l.call(e,n)||"default"===n||s(e,n,{get:()=>t[n],enumerable:!(r=h(t,n))||r.enumerable});return e})((t=s(null!=e?i(a(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),s(t,"__esModule",{value:!0})),e);var t})(d()),p=(e,t,r=1)=>e[e.indexOf(t)+r],f=(e,t,r)=>{const n={};return e.includes("card")?(n.creditCard=!0,n.creditCardStrictMode=e.includes("strict")):e.includes("date")?(n.date=!0,n.datePattern=t?r(t):null):e.includes("time")?(n.time=!0,n.timePattern=t?r(t):null):e.includes("numeral")?(n.numeral=!0,e.includes("thousands")&&(n.numeralThousandsGroupStyle=p(e,"thousands")),e.includes("delimiter")&&(n.delimiter="dot"===p(e,"delimiter")?".":","),e.includes("decimal")&&(n.numeralDecimalMark="comma"===p(e,"decimal")?",":"."),e.includes("positive")&&(n.numeralPositiveOnly=!0),e.includes("prefix")&&(n.prefix=p(e,"prefix"))):e.includes("blocks")&&(n.blocks=r(t)),n},m=e=>t=>{e._x_model&&e._x_model.set(t.target.rawValue)},g=function(e){e.magic("mask",(e=>{if(e.__cleave)return e.__cleave})),e.directive("mask",((t,{modifiers:r,expression:n},{effect:o,evaluate:i})=>{if(t._x_model){const r=e.prefixed("model");Object.keys(t._x_attributeCleanups).forEach((e=>{e.startsWith(r)&&(t._x_attributeCleanups[r][0](),delete t._x_attributeCleanups[r])})),t._x_forceModelUpdate=()=>{}}const s=0===r.length?{...i(n),onValueChanged:m(t)}:{...f(r,n,i),onValueChanged:m(t)};t.__cleave||(t.__cleave=new u.default(t,s)),t._x_model&&o((()=>{e.mutateDom((()=>t.__cleave.setRawValue(t._x_model.get())))}))}))}},2029:(e,t,r)=>{"use strict";function n(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function o(e={},t={}){Object.keys(t).forEach((r=>{void 0===e[r]?e[r]=t[r]:n(t[r])&&n(e[r])&&Object.keys(t[r]).length>0&&o(e[r],t[r])}))}r.d(t,{ZP:()=>$});const i={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function s(){const e="undefined"!=typeof document?document:{};return o(e,i),e}const a={document:i,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function l(){const e="undefined"!=typeof window?window:{};return o(e,a),e}function c(e,t=0){return setTimeout(e,t)}function h(){return Date.now()}function d(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function u(...e){const t=Object(e[0]),r=["__proto__","constructor","prototype"];for(let o=1;o<e.length;o+=1){const i=e[o];if(null!=i&&(n=i,!("undefined"!=typeof window&&void 0!==window.HTMLElement?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)))){const e=Object.keys(Object(i)).filter((e=>r.indexOf(e)<0));for(let r=0,n=e.length;r<n;r+=1){const n=e[r],o=Object.getOwnPropertyDescriptor(i,n);void 0!==o&&o.enumerable&&(d(t[n])&&d(i[n])?i[n].__swiper__?t[n]=i[n]:u(t[n],i[n]):!d(t[n])&&d(i[n])?(t[n]={},i[n].__swiper__?t[n]=i[n]:u(t[n],i[n])):t[n]=i[n])}}}var n;return t}function p(e,t,r){e.style.setProperty(t,r)}function f({swiper:e,targetPosition:t,side:r}){const n=l(),o=-e.translate;let i,s=null;const a=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const c=t>o?"next":"prev",h=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,d=()=>{i=(new Date).getTime(),null===s&&(s=i);const l=Math.max(Math.min((i-s)/a,1),0),c=.5-Math.cos(l*Math.PI)/2;let u=o+c*(t-o);if(h(u,t)&&(u=t),e.wrapperEl.scrollTo({[r]:u}),h(u,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout((()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:u})})),void n.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=n.requestAnimationFrame(d)};d()}function m(e,t=""){return[...e.children].filter((e=>e.matches(t)))}function g(e,t){return l().getComputedStyle(e,null).getPropertyValue(t)}function v(e){let t,r=e;if(r){for(t=0;null!==(r=r.previousSibling);)1===r.nodeType&&(t+=1);return t}}function y(e,t,r){const n=l();return r?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}let b,w,x;function E(){return b||(b=function(){const e=l(),t=s();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),b}const S={on(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;const o=r?"unshift":"push";return e.split(" ").forEach((e=>{n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][o](t)})),n},once(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;function o(...r){n.off(e,o),o.__emitterProxy&&delete o.__emitterProxy,t.apply(n,r)}return o.__emitterProxy=t,n.on(e,o,r)},onAny(e,t){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof e)return r;const n=t?"unshift":"push";return r.eventsAnyListeners.indexOf(e)<0&&r.eventsAnyListeners[n](e),r},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const r=t.eventsAnyListeners.indexOf(e);return r>=0&&t.eventsAnyListeners.splice(r,1),t},off(e,t){const r=this;return!r.eventsListeners||r.destroyed?r:r.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?r.eventsListeners[e]=[]:r.eventsListeners[e]&&r.eventsListeners[e].forEach(((n,o)=>{(n===t||n.__emitterProxy&&n.__emitterProxy===t)&&r.eventsListeners[e].splice(o,1)}))})),r):r},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsListeners)return t;let r,n,o;return"string"==typeof e[0]||Array.isArray(e[0])?(r=e[0],n=e.slice(1,e.length),o=t):(r=e[0].events,n=e[0].data,o=e[0].context||t),n.unshift(o),(Array.isArray(r)?r:r.split(" ")).forEach((e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach((t=>{t.apply(o,[e,...n])})),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach((e=>{e.apply(o,n)}))})),t}},_=(e,t)=>{if(!e||e.destroyed||!e.params)return;const r=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(r){const t=r.querySelector(`.${e.params.lazyPreloaderClass}`);t&&t.remove()}},C=(e,t)=>{if(!e.slides[t])return;const r=e.slides[t].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},A=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const r=e.slides.length;if(!r||!t||t<0)return;t=Math.min(t,r);const n="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),o=e.activeIndex,i=o+n-1;if(e.params.rewind)for(let n=o-t;n<=i+t;n+=1){const t=(n%r+r)%r;t!==o&&t>i&&C(e,t)}else for(let n=Math.max(i-t,0);n<=Math.min(i+t,r-1);n+=1)n!==o&&n>i&&C(e,n)},k={updateSize:function(){const e=this;let t,r;const n=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:n.clientWidth,r=void 0!==e.params.height&&null!==e.params.height?e.params.height:n.clientHeight,0===t&&e.isHorizontal()||0===r&&e.isVertical()||(t=t-parseInt(g(n,"padding-left")||0,10)-parseInt(g(n,"padding-right")||0,10),r=r-parseInt(g(n,"padding-top")||0,10)-parseInt(g(n,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(r)&&(r=0),Object.assign(e,{width:t,height:r,size:e.isHorizontal()?t:r}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function r(e,r){return parseFloat(e.getPropertyValue(t(r))||0)}const n=e.params,{wrapperEl:o,slidesEl:i,size:s,rtlTranslate:a,wrongRTL:l}=e,c=e.virtual&&n.virtual.enabled,h=c?e.virtual.slides.length:e.slides.length,d=m(i,`.${e.params.slideClass}, swiper-slide`),u=c?e.virtual.slides.length:d.length;let f=[];const v=[],b=[];let w=n.slidesOffsetBefore;"function"==typeof w&&(w=n.slidesOffsetBefore.call(e));let x=n.slidesOffsetAfter;"function"==typeof x&&(x=n.slidesOffsetAfter.call(e));const E=e.snapGrid.length,S=e.slidesGrid.length;let _=n.spaceBetween,C=-w,A=0,k=0;if(void 0===s)return;"string"==typeof _&&_.indexOf("%")>=0&&(_=parseFloat(_.replace("%",""))/100*s),e.virtualSize=-_,d.forEach((e=>{a?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),n.centeredSlides&&n.cssMode&&(p(o,"--swiper-centered-offset-before",""),p(o,"--swiper-centered-offset-after",""));const T=n.grid&&n.grid.rows>1&&e.grid;let P;T&&e.grid.initSlides(u);const M="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter((e=>void 0!==n.breakpoints[e].slidesPerView)).length>0;for(let o=0;o<u;o+=1){let i;if(P=0,d[o]&&(i=d[o]),T&&e.grid.updateSlide(o,i,u,t),!d[o]||"none"!==g(i,"display")){if("auto"===n.slidesPerView){M&&(d[o].style[t("width")]="");const s=getComputedStyle(i),a=i.style.transform,l=i.style.webkitTransform;if(a&&(i.style.transform="none"),l&&(i.style.webkitTransform="none"),n.roundLengths)P=e.isHorizontal()?y(i,"width",!0):y(i,"height",!0);else{const e=r(s,"width"),t=r(s,"padding-left"),n=r(s,"padding-right"),o=r(s,"margin-left"),a=r(s,"margin-right"),l=s.getPropertyValue("box-sizing");if(l&&"border-box"===l)P=e+o+a;else{const{clientWidth:r,offsetWidth:s}=i;P=e+t+n+o+a+(s-r)}}a&&(i.style.transform=a),l&&(i.style.webkitTransform=l),n.roundLengths&&(P=Math.floor(P))}else P=(s-(n.slidesPerView-1)*_)/n.slidesPerView,n.roundLengths&&(P=Math.floor(P)),d[o]&&(d[o].style[t("width")]=`${P}px`);d[o]&&(d[o].swiperSlideSize=P),b.push(P),n.centeredSlides?(C=C+P/2+A/2+_,0===A&&0!==o&&(C=C-s/2-_),0===o&&(C=C-s/2-_),Math.abs(C)<.001&&(C=0),n.roundLengths&&(C=Math.floor(C)),k%n.slidesPerGroup==0&&f.push(C),v.push(C)):(n.roundLengths&&(C=Math.floor(C)),(k-Math.min(e.params.slidesPerGroupSkip,k))%e.params.slidesPerGroup==0&&f.push(C),v.push(C),C=C+P+_),e.virtualSize+=P+_,A=P,k+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+x,a&&l&&("slide"===n.effect||"coverflow"===n.effect)&&(o.style.width=`${e.virtualSize+n.spaceBetween}px`),n.setWrapperSize&&(o.style[t("width")]=`${e.virtualSize+n.spaceBetween}px`),T&&e.grid.updateWrapperSize(P,f,t),!n.centeredSlides){const t=[];for(let r=0;r<f.length;r+=1){let o=f[r];n.roundLengths&&(o=Math.floor(o)),f[r]<=e.virtualSize-s&&t.push(o)}f=t,Math.floor(e.virtualSize-s)-Math.floor(f[f.length-1])>1&&f.push(e.virtualSize-s)}if(c&&n.loop){const t=b[0]+_;if(n.slidesPerGroup>1){const r=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),o=t*n.slidesPerGroup;for(let e=0;e<r;e+=1)f.push(f[f.length-1]+o)}for(let r=0;r<e.virtual.slidesBefore+e.virtual.slidesAfter;r+=1)1===n.slidesPerGroup&&f.push(f[f.length-1]+t),v.push(v[v.length-1]+t),e.virtualSize+=t}if(0===f.length&&(f=[0]),0!==n.spaceBetween){const r=e.isHorizontal()&&a?"marginLeft":t("marginRight");d.filter(((e,t)=>!(n.cssMode&&!n.loop)||t!==d.length-1)).forEach((e=>{e.style[r]=`${_}px`}))}if(n.centeredSlides&&n.centeredSlidesBounds){let e=0;b.forEach((t=>{e+=t+(n.spaceBetween?n.spaceBetween:0)})),e-=n.spaceBetween;const t=e-s;f=f.map((e=>e<0?-w:e>t?t+x:e))}if(n.centerInsufficientSlides){let e=0;if(b.forEach((t=>{e+=t+(n.spaceBetween?n.spaceBetween:0)})),e-=n.spaceBetween,e<s){const t=(s-e)/2;f.forEach(((e,r)=>{f[r]=e-t})),v.forEach(((e,r)=>{v[r]=e+t}))}}if(Object.assign(e,{slides:d,snapGrid:f,slidesGrid:v,slidesSizesGrid:b}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){p(o,"--swiper-centered-offset-before",-f[0]+"px"),p(o,"--swiper-centered-offset-after",e.size/2-b[b.length-1]/2+"px");const t=-e.snapGrid[0],r=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+r))}if(u!==h&&e.emit("slidesLengthChange"),f.length!==E&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),v.length!==S&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),!(c||n.cssMode||"slide"!==n.effect&&"fade"!==n.effect)){const t=`${n.containerModifierClass}backface-hidden`,r=e.el.classList.contains(t);u<=n.maxBackfaceHiddenSlides?r||e.el.classList.add(t):r&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,r=[],n=t.virtual&&t.params.virtual.enabled;let o,i=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const s=e=>n?t.getSlideIndexByData(e):t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{r.push(e)}));else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const e=t.activeIndex+o;if(e>t.slides.length&&!n)break;r.push(s(e))}else r.push(s(t.activeIndex));for(o=0;o<r.length;o+=1)if(void 0!==r[o]){const e=r[o].offsetHeight;i=e>i?e:i}(i||0===i)&&(t.wrapperEl.style.height=`${i}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,r=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=(e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop)-r},updateSlidesProgress:function(e=this&&this.translate||0){const t=this,r=t.params,{slides:n,rtlTranslate:o,snapGrid:i}=t;if(0===n.length)return;void 0===n[0].swiperSlideOffset&&t.updateSlidesOffset();let s=-e;o&&(s=e),n.forEach((e=>{e.classList.remove(r.slideVisibleClass)})),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let e=0;e<n.length;e+=1){const a=n[e];let l=a.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(l-=n[0].swiperSlideOffset);const c=(s+(r.centeredSlides?t.minTranslate():0)-l)/(a.swiperSlideSize+r.spaceBetween),h=(s-i[0]+(r.centeredSlides?t.minTranslate():0)-l)/(a.swiperSlideSize+r.spaceBetween),d=-(s-l),u=d+t.slidesSizesGrid[e];(d>=0&&d<t.size-1||u>1&&u<=t.size||d<=0&&u>=t.size)&&(t.visibleSlides.push(a),t.visibleSlidesIndexes.push(e),n[e].classList.add(r.slideVisibleClass)),a.progress=o?-c:c,a.originalProgress=o?-h:h}},updateProgress:function(e){const t=this;if(void 0===e){const r=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*r||0}const r=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:i,isEnd:s,progressLoop:a}=t;const l=i,c=s;if(0===n)o=0,i=!0,s=!0;else{o=(e-t.minTranslate())/n;const r=Math.abs(e-t.minTranslate())<1,a=Math.abs(e-t.maxTranslate())<1;i=r||o<=0,s=a||o>=1,r&&(o=0),a&&(o=1)}if(r.loop){const r=t.getSlideIndexByData(0),n=t.getSlideIndexByData(t.slides.length-1),o=t.slidesGrid[r],i=t.slidesGrid[n],s=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);a=l>=o?(l-o)/s:(l+s-i)/s,a>1&&(a-=1)}Object.assign(t,{progress:o,progressLoop:a,isBeginning:i,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),i&&!l&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(l&&!i||c&&!s)&&t.emit("fromEdge"),t.emit("progress",o)},updateSlidesClasses:function(){const e=this,{slides:t,params:r,slidesEl:n,activeIndex:o}=e,i=e.virtual&&r.virtual.enabled,s=e=>m(n,`.${r.slideClass}${e}, swiper-slide${e}`)[0];let a;if(t.forEach((e=>{e.classList.remove(r.slideActiveClass,r.slideNextClass,r.slidePrevClass)})),i)if(r.loop){let t=o-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),a=s(`[data-swiper-slide-index="${t}"]`)}else a=s(`[data-swiper-slide-index="${o}"]`);else a=t[o];if(a){a.classList.add(r.slideActiveClass);let e=function(e,t){const r=[];for(;e.nextElementSibling;){const n=e.nextElementSibling;t?n.matches(t)&&r.push(n):r.push(n),e=n}return r}(a,`.${r.slideClass}, swiper-slide`)[0];r.loop&&!e&&(e=t[0]),e&&e.classList.add(r.slideNextClass);let n=function(e,t){const r=[];for(;e.previousElementSibling;){const n=e.previousElementSibling;t?n.matches(t)&&r.push(n):r.push(n),e=n}return r}(a,`.${r.slideClass}, swiper-slide`)[0];r.loop&&0===!n&&(n=t[t.length-1]),n&&n.classList.add(r.slidePrevClass)}e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,r=t.rtlTranslate?t.translate:-t.translate,{snapGrid:n,params:o,activeIndex:i,realIndex:s,snapIndex:a}=t;let l,c=e;const h=e=>{let r=e-t.virtual.slidesBefore;return r<0&&(r=t.virtual.slides.length+r),r>=t.virtual.slides.length&&(r-=t.virtual.slides.length),r};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:r}=e,n=e.rtlTranslate?e.translate:-e.translate;let o;for(let e=0;e<t.length;e+=1)void 0!==t[e+1]?n>=t[e]&&n<t[e+1]-(t[e+1]-t[e])/2?o=e:n>=t[e]&&n<t[e+1]&&(o=e+1):n>=t[e]&&(o=e);return r.normalizeSlideIndex&&(o<0||void 0===o)&&(o=0),o}(t)),n.indexOf(r)>=0)l=n.indexOf(r);else{const e=Math.min(o.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/o.slidesPerGroup)}if(l>=n.length&&(l=n.length-1),c===i)return l!==a&&(t.snapIndex=l,t.emit("snapIndexChange")),void(t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=h(c)));let d;d=t.virtual&&o.virtual.enabled&&o.loop?h(c):t.slides[c]?parseInt(t.slides[c].getAttribute("data-swiper-slide-index")||c,10):c,Object.assign(t,{snapIndex:l,realIndex:d,previousIndex:i,activeIndex:c}),t.initialized&&A(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),s!==d&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,r=t.params,n=e.closest(`.${r.slideClass}, swiper-slide`);let o,i=!1;if(n)for(let e=0;e<t.slides.length;e+=1)if(t.slides[e]===n){i=!0,o=e;break}if(!n||!i)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=n,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(n.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=o,r.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}};function T({swiper:e,runCallbacks:t,direction:r,step:n}){const{activeIndex:o,previousIndex:i}=e;let s=r;if(s||(s=o>i?"next":o<i?"prev":"reset"),e.emit(`transition${n}`),t&&o!==i){if("reset"===s)return void e.emit(`slideResetTransition${n}`);e.emit(`slideChangeTransition${n}`),"next"===s?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`)}}const P={slideTo:function(e=0,t=this.params.speed,r=!0,n,o){"string"==typeof e&&(e=parseInt(e,10));const i=this;let s=e;s<0&&(s=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:h,activeIndex:d,rtlTranslate:u,wrapperEl:p,enabled:m}=i;if(i.animating&&a.preventInteractionOnTransition||!m&&!n&&!o)return!1;const g=Math.min(i.params.slidesPerGroupSkip,s);let v=g+Math.floor((s-g)/i.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const y=-l[v];if(a.normalizeSlideIndex)for(let e=0;e<c.length;e+=1){const t=-Math.floor(100*y),r=Math.floor(100*c[e]),n=Math.floor(100*c[e+1]);void 0!==c[e+1]?t>=r&&t<n-(n-r)/2?s=e:t>=r&&t<n&&(s=e+1):t>=r&&(s=e)}if(i.initialized&&s!==d){if(!i.allowSlideNext&&y<i.translate&&y<i.minTranslate())return!1;if(!i.allowSlidePrev&&y>i.translate&&y>i.maxTranslate()&&(d||0)!==s)return!1}let b;if(s!==(h||0)&&r&&i.emit("beforeSlideChangeStart"),i.updateProgress(y),b=s>d?"next":s<d?"prev":"reset",u&&-y===i.translate||!u&&y===i.translate)return i.updateActiveIndex(s),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==a.effect&&i.setTranslate(y),"reset"!==b&&(i.transitionStart(r,b),i.transitionEnd(r,b)),!1;if(a.cssMode){const e=i.isHorizontal(),r=u?y:-y;if(0===t){const t=i.virtual&&i.params.virtual.enabled;t&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),t&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{p[e?"scrollLeft":"scrollTop"]=r}))):p[e?"scrollLeft":"scrollTop"]=r,t&&requestAnimationFrame((()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1}))}else{if(!i.support.smoothScroll)return f({swiper:i,targetPosition:r,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:r,behavior:"smooth"})}return!0}return i.setTransition(t),i.setTranslate(y),i.updateActiveIndex(s),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,n),i.transitionStart(r,b),0===t?i.transitionEnd(r,b):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(r,b))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e=0,t=this.params.speed,r=!0,n){"string"==typeof e&&(e=parseInt(e,10));const o=this;let i=e;return o.params.loop&&(o.virtual&&o.params.virtual.enabled?i+=o.virtual.slidesBefore:i=o.getSlideIndexByData(i)),o.slideTo(i,t,r,n)},slideNext:function(e=this.params.speed,t=!0,r){const n=this,{enabled:o,params:i,animating:s}=n;if(!o)return n;let a=i.slidesPerGroup;"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(a=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<i.slidesPerGroupSkip?1:a,c=n.virtual&&i.virtual.enabled;if(i.loop){if(s&&!c&&i.loopPreventsSliding)return!1;n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft}return i.rewind&&n.isEnd?n.slideTo(0,e,t,r):n.slideTo(n.activeIndex+l,e,t,r)},slidePrev:function(e=this.params.speed,t=!0,r){const n=this,{params:o,snapGrid:i,slidesGrid:s,rtlTranslate:a,enabled:l,animating:c}=n;if(!l)return n;const h=n.virtual&&o.virtual.enabled;if(o.loop){if(c&&!h&&o.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const u=d(a?n.translate:-n.translate),p=i.map((e=>d(e)));let f=i[p.indexOf(u)-1];if(void 0===f&&o.cssMode){let e;i.forEach(((t,r)=>{u>=t&&(e=r)})),void 0!==e&&(f=i[e>0?e-1:e])}let m=0;if(void 0!==f&&(m=s.indexOf(f),m<0&&(m=n.activeIndex-1),"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(m=m-n.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),o.rewind&&n.isBeginning){const o=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(o,e,t,r)}return n.slideTo(m,e,t,r)},slideReset:function(e=this.params.speed,t=!0,r){return this.slideTo(this.activeIndex,e,t,r)},slideToClosest:function(e=this.params.speed,t=!0,r,n=.5){const o=this;let i=o.activeIndex;const s=Math.min(o.params.slidesPerGroupSkip,i),a=s+Math.floor((i-s)/o.params.slidesPerGroup),l=o.rtlTranslate?o.translate:-o.translate;if(l>=o.snapGrid[a]){const e=o.snapGrid[a];l-e>(o.snapGrid[a+1]-e)*n&&(i+=o.params.slidesPerGroup)}else{const e=o.snapGrid[a-1];l-e<=(o.snapGrid[a]-e)*n&&(i-=o.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,o.slidesGrid.length-1),o.slideTo(i,e,t,r)},slideToClickedSlide:function(){const e=this,{params:t,slidesEl:r}=e,n="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let o,i=e.clickedIndex;const s=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;o=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?i<e.loopedSlides-n/2||i>e.slides.length-e.loopedSlides+n/2?(e.loopFix(),i=e.getSlideIndex(m(r,`${s}[data-swiper-slide-index="${o}"]`)[0]),c((()=>{e.slideTo(i)}))):e.slideTo(i):i>e.slides.length-n?(e.loopFix(),i=e.getSlideIndex(m(r,`${s}[data-swiper-slide-index="${o}"]`)[0]),c((()=>{e.slideTo(i)}))):e.slideTo(i)}else e.slideTo(i)}};function M(e){const t=this,r=s(),n=l(),o=t.touchEventsData;o.evCache.push(e);const{params:i,touches:a,enabled:c}=t;if(!c)return;if(!i.simulateTouch&&"mouse"===e.pointerType)return;if(t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let d=e;d.originalEvent&&(d=d.originalEvent);let u=d.target;if("wrapper"===i.touchEventsTarget&&!t.wrapperEl.contains(u))return;if("which"in d&&3===d.which)return;if("button"in d&&d.button>0)return;if(o.isTouched&&o.isMoved)return;const p=!!i.noSwipingClass&&""!==i.noSwipingClass,f=e.composedPath?e.composedPath():e.path;p&&d.target&&d.target.shadowRoot&&f&&(u=f[0]);const m=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,g=!(!d.target||!d.target.shadowRoot);if(i.noSwiping&&(g?function(e,t=this){return function t(r){if(!r||r===s()||r===l())return null;r.assignedSlot&&(r=r.assignedSlot);const n=r.closest(e);return n||r.getRootNode?n||t(r.getRootNode().host):null}(t)}(m,u):u.closest(m)))return void(t.allowClick=!0);if(i.swipeHandler&&!u.closest(i.swipeHandler))return;a.currentX=d.pageX,a.currentY=d.pageY;const v=a.currentX,y=a.currentY,b=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,w=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(b&&(v<=w||v>=n.innerWidth-w)){if("prevent"!==b)return;e.preventDefault()}Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=v,a.startY=y,o.touchStartTime=h(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(o.allowThresholdMove=!1);let x=!0;u.matches(o.focusableElements)&&(x=!1,"SELECT"===u.nodeName&&(o.isTouched=!1)),r.activeElement&&r.activeElement.matches(o.focusableElements)&&r.activeElement!==u&&r.activeElement.blur();const E=x&&t.allowTouchMove&&i.touchStartPreventDefault;!i.touchStartForcePreventDefault&&!E||u.isContentEditable||d.preventDefault(),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",d)}function D(e){const t=s(),r=this,n=r.touchEventsData,{params:o,touches:i,rtlTranslate:a,enabled:l}=r;if(!l)return;if(!o.simulateTouch&&"mouse"===e.pointerType)return;let c=e;if(c.originalEvent&&(c=c.originalEvent),!n.isTouched)return void(n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",c));const d=n.evCache.findIndex((e=>e.pointerId===c.pointerId));d>=0&&(n.evCache[d]=c);const u=n.evCache.length>1?n.evCache[0]:c,p=u.pageX,f=u.pageY;if(c.preventedByNestedSwiper)return i.startX=p,void(i.startY=f);if(!r.allowTouchMove)return c.target.matches(n.focusableElements)||(r.allowClick=!1),void(n.isTouched&&(Object.assign(i,{startX:p,startY:f,prevX:r.touches.currentX,prevY:r.touches.currentY,currentX:p,currentY:f}),n.touchStartTime=h()));if(o.touchReleaseOnEdges&&!o.loop)if(r.isVertical()){if(f<i.startY&&r.translate<=r.maxTranslate()||f>i.startY&&r.translate>=r.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(p<i.startX&&r.translate<=r.maxTranslate()||p>i.startX&&r.translate>=r.minTranslate())return;if(t.activeElement&&c.target===t.activeElement&&c.target.matches(n.focusableElements))return n.isMoved=!0,void(r.allowClick=!1);if(n.allowTouchCallbacks&&r.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;i.currentX=p,i.currentY=f;const m=i.currentX-i.startX,g=i.currentY-i.startY;if(r.params.threshold&&Math.sqrt(m**2+g**2)<r.params.threshold)return;if(void 0===n.isScrolling){let e;r.isHorizontal()&&i.currentY===i.startY||r.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:m*m+g*g>=25&&(e=180*Math.atan2(Math.abs(g),Math.abs(m))/Math.PI,n.isScrolling=r.isHorizontal()?e>o.touchAngle:90-e>o.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",c),void 0===n.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(n.startMoving=!0)),n.isScrolling||r.zoom&&r.params.zoom&&r.params.zoom.enabled&&n.evCache.length>1)return void(n.isTouched=!1);if(!n.startMoving)return;r.allowClick=!1,!o.cssMode&&c.cancelable&&c.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&c.stopPropagation();let v=r.isHorizontal()?m:g,y=r.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;o.oneWayMovement&&(v=Math.abs(v)*(a?1:-1),y=Math.abs(y)*(a?1:-1)),i.diff=v,v*=o.touchRatio,a&&(v=-v,y=-y);const b=r.touchesDirection;r.swipeDirection=v>0?"prev":"next",r.touchesDirection=y>0?"prev":"next";const w=r.params.loop&&!o.cssMode;if(!n.isMoved){if(w&&r.loopFix({direction:r.swipeDirection}),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});r.wrapperEl.dispatchEvent(e)}n.allowMomentumBounce=!1,!o.grabCursor||!0!==r.allowSlideNext&&!0!==r.allowSlidePrev||r.setGrabCursor(!0),r.emit("sliderFirstMove",c)}let x;n.isMoved&&b!==r.touchesDirection&&w&&Math.abs(v)>=1&&(r.loopFix({direction:r.swipeDirection,setTranslate:!0}),x=!0),r.emit("sliderMove",c),n.isMoved=!0,n.currentTranslate=v+n.startTranslate;let E=!0,S=o.resistanceRatio;if(o.touchReleaseOnEdges&&(S=0),v>0?(w&&!x&&n.currentTranslate>(o.centeredSlides?r.minTranslate()-r.size/2:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>r.minTranslate()&&(E=!1,o.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+v)**S))):v<0&&(w&&!x&&n.currentTranslate<(o.centeredSlides?r.maxTranslate()+r.size/2:r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-("auto"===o.slidesPerView?r.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),n.currentTranslate<r.maxTranslate()&&(E=!1,o.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-v)**S))),E&&(c.preventedByNestedSwiper=!0),!r.allowSlideNext&&"next"===r.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&"prev"===r.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),r.allowSlidePrev||r.allowSlideNext||(n.currentTranslate=n.startTranslate),o.threshold>0){if(!(Math.abs(v)>o.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,void(i.diff=r.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}o.followFinger&&!o.cssMode&&((o.freeMode&&o.freeMode.enabled&&r.freeMode||o.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),r.params.freeMode&&o.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function O(e){const t=this,r=t.touchEventsData,n=r.evCache.findIndex((t=>t.pointerId===e.pointerId));if(n>=0&&r.evCache.splice(n,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&("pointercancel"!==e.type||!t.browser.isSafari&&!t.browser.isWebView))return;const{params:o,touches:i,rtlTranslate:s,slidesGrid:a,enabled:l}=t;if(!l)return;if(!o.simulateTouch&&"mouse"===e.pointerType)return;let d=e;if(d.originalEvent&&(d=d.originalEvent),r.allowTouchCallbacks&&t.emit("touchEnd",d),r.allowTouchCallbacks=!1,!r.isTouched)return r.isMoved&&o.grabCursor&&t.setGrabCursor(!1),r.isMoved=!1,void(r.startMoving=!1);o.grabCursor&&r.isMoved&&r.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const u=h(),p=u-r.touchStartTime;if(t.allowClick){const e=d.path||d.composedPath&&d.composedPath();t.updateClickedSlide(e&&e[0]||d.target),t.emit("tap click",d),p<300&&u-r.lastClickTime<300&&t.emit("doubleTap doubleClick",d)}if(r.lastClickTime=h(),c((()=>{t.destroyed||(t.allowClick=!0)})),!r.isTouched||!r.isMoved||!t.swipeDirection||0===i.diff||r.currentTranslate===r.startTranslate)return r.isTouched=!1,r.isMoved=!1,void(r.startMoving=!1);let f;if(r.isTouched=!1,r.isMoved=!1,r.startMoving=!1,f=o.followFinger?s?t.translate:-t.translate:-r.currentTranslate,o.cssMode)return;if(t.params.freeMode&&o.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:f});let m=0,g=t.slidesSizesGrid[0];for(let e=0;e<a.length;e+=e<o.slidesPerGroupSkip?1:o.slidesPerGroup){const t=e<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;void 0!==a[e+t]?f>=a[e]&&f<a[e+t]&&(m=e,g=a[e+t]-a[e]):f>=a[e]&&(m=e,g=a[a.length-1]-a[a.length-2])}let v=null,y=null;o.rewind&&(t.isBeginning?y=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(v=0));const b=(f-a[m])/g,w=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(b>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?v:m+w):t.slideTo(m)),"prev"===t.swipeDirection&&(b>1-o.longSwipesRatio?t.slideTo(m+w):null!==y&&b<0&&Math.abs(b)>o.longSwipesRatio?t.slideTo(y):t.slideTo(m))}else{if(!o.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||d.target!==t.navigation.nextEl&&d.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==v?v:m+w),"prev"===t.swipeDirection&&t.slideTo(null!==y?y:m)):d.target===t.navigation.nextEl?t.slideTo(m+w):t.slideTo(m)}}let I;function R(){const e=this,{params:t,el:r}=e;if(r&&0===r.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:o,snapGrid:i}=e,s=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const a=s&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||a?e.params.loop&&!s?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(I),I=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=o,e.allowSlideNext=n,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function N(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function F(){const e=this,{wrapperEl:t,rtlTranslate:r,enabled:n}=e;if(!n)return;let o;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const i=e.maxTranslate()-e.minTranslate();o=0===i?0:(e.translate-e.minTranslate())/i,o!==e.progress&&e.updateProgress(r?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function B(e){_(this,e.target),this.update()}let L=!1;function V(){}const z=(e,t)=>{const r=s(),{params:n,el:o,wrapperEl:i,device:a}=e,l=!!n.nested,c="on"===t?"addEventListener":"removeEventListener",h=t;o[c]("pointerdown",e.onTouchStart,{passive:!1}),r[c]("pointermove",e.onTouchMove,{passive:!1,capture:l}),r[c]("pointerup",e.onTouchEnd,{passive:!0}),r[c]("pointercancel",e.onTouchEnd,{passive:!0}),r[c]("pointerout",e.onTouchEnd,{passive:!0}),r[c]("pointerleave",e.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&o[c]("click",e.onClick,!0),n.cssMode&&i[c]("scroll",e.onScroll),n.updateOnWindowResize?e[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",R,!0):e[h]("observerUpdate",R,!0),o[c]("load",e.onLoad,{capture:!0})},H=(e,t)=>e.grid&&t.grid&&t.grid.rows>1,j={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function G(e,t){return function(r={}){const n=Object.keys(r)[0],o=r[n];"object"==typeof o&&null!==o?(["navigation","pagination","scrollbar"].indexOf(n)>=0&&!0===e[n]&&(e[n]={auto:!0}),n in e&&"enabled"in o?(!0===e[n]&&(e[n]={enabled:!0}),"object"!=typeof e[n]||"enabled"in e[n]||(e[n].enabled=!0),e[n]||(e[n]={enabled:!1}),u(t,r)):u(t,r)):u(t,r)}}const U={eventsEmitter:S,update:k,translate:{getTranslate:function(e=(this.isHorizontal()?"x":"y")){const{params:t,rtlTranslate:r,translate:n,wrapperEl:o}=this;if(t.virtualTranslate)return r?-n:n;if(t.cssMode)return n;let i=function(e,t="x"){const r=l();let n,o,i;const s=function(e){const t=l();let r;return t.getComputedStyle&&(r=t.getComputedStyle(e,null)),!r&&e.currentStyle&&(r=e.currentStyle),r||(r=e.style),r}(e);return r.WebKitCSSMatrix?(o=s.transform||s.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map((e=>e.replace(",","."))).join(", ")),i=new r.WebKitCSSMatrix("none"===o?"":o)):(i=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=i.toString().split(",")),"x"===t&&(o=r.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(o=r.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),o||0}(o,e);return r&&(i=-i),i||0},setTranslate:function(e,t){const r=this,{rtlTranslate:n,params:o,wrapperEl:i,progress:s}=r;let a,l=0,c=0;r.isHorizontal()?l=n?-e:e:c=e,o.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),o.cssMode?i[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-l:-c:o.virtualTranslate||(i.style.transform=`translate3d(${l}px, ${c}px, 0px)`),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?l:c;const h=r.maxTranslate()-r.minTranslate();a=0===h?0:(e-r.minTranslate())/h,a!==s&&r.updateProgress(e),r.emit("setTranslate",r.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e=0,t=this.params.speed,r=!0,n=!0,o){const i=this,{params:s,wrapperEl:a}=i;if(i.animating&&s.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let h;if(h=n&&e>l?l:n&&e<c?c:e,i.updateProgress(h),s.cssMode){const e=i.isHorizontal();if(0===t)a[e?"scrollLeft":"scrollTop"]=-h;else{if(!i.support.smoothScroll)return f({swiper:i,targetPosition:-h,side:e?"left":"top"}),!0;a.scrollTo({[e?"left":"top"]:-h,behavior:"smooth"})}return!0}return 0===t?(i.setTransition(0),i.setTranslate(h),r&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(h),r&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,r&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${e}ms`),r.emit("setTransition",e,t)},transitionStart:function(e=!0,t){const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),T({swiper:r,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e=!0,t){const r=this,{params:n}=r;r.animating=!1,n.cssMode||(r.setTransition(0),T({swiper:r,runCallbacks:e,direction:t,step:"End"}))}},slide:P,loop:{loopCreate:function(e){const t=this,{params:r,slidesEl:n}=t;!r.loop||t.virtual&&t.params.virtual.enabled||(m(n,`.${r.slideClass}, swiper-slide`).forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t)})),t.loopFix({slideRealIndex:e,direction:r.centeredSlides?void 0:"next"}))},loopFix:function({slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:n,activeSlideIndex:o,byController:i,byMousewheel:s}={}){const a=this;if(!a.params.loop)return;a.emit("beforeLoopFix");const{slides:l,allowSlidePrev:c,allowSlideNext:h,slidesEl:d,params:u}=a;if(a.allowSlidePrev=!0,a.allowSlideNext=!0,a.virtual&&u.virtual.enabled)return t&&(u.centeredSlides||0!==a.snapIndex?u.centeredSlides&&a.snapIndex<u.slidesPerView?a.slideTo(a.virtual.slides.length+a.snapIndex,0,!1,!0):a.snapIndex===a.snapGrid.length-1&&a.slideTo(a.virtual.slidesBefore,0,!1,!0):a.slideTo(a.virtual.slides.length,0,!1,!0)),a.allowSlidePrev=c,a.allowSlideNext=h,void a.emit("loopFix");const p="auto"===u.slidesPerView?a.slidesPerViewDynamic():Math.ceil(parseFloat(u.slidesPerView,10));let f=u.loopedSlides||p;f%u.slidesPerGroup!=0&&(f+=u.slidesPerGroup-f%u.slidesPerGroup),a.loopedSlides=f;const m=[],g=[];let v=a.activeIndex;void 0===o?o=a.getSlideIndex(a.slides.filter((e=>e.classList.contains(u.slideActiveClass)))[0]):v=o;const y="next"===r||!r,b="prev"===r||!r;let w=0,x=0;if(o<f){w=Math.max(f-o,u.slidesPerGroup);for(let e=0;e<f-o;e+=1){const t=e-Math.floor(e/l.length)*l.length;m.push(l.length-t-1)}}else if(o>a.slides.length-2*f){x=Math.max(o-(a.slides.length-2*f),u.slidesPerGroup);for(let e=0;e<x;e+=1){const t=e-Math.floor(e/l.length)*l.length;g.push(t)}}if(b&&m.forEach((e=>{d.prepend(a.slides[e])})),y&&g.forEach((e=>{d.append(a.slides[e])})),a.recalcSlides(),u.watchSlidesProgress&&a.updateSlidesOffset(),t)if(m.length>0&&b)if(void 0===e){const e=a.slidesGrid[v],t=a.slidesGrid[v+w]-e;s?a.setTranslate(a.translate-t):(a.slideTo(v+w,0,!1,!0),n&&(a.touches[a.isHorizontal()?"startX":"startY"]+=t))}else n&&a.slideToLoop(e,0,!1,!0);else if(g.length>0&&y)if(void 0===e){const e=a.slidesGrid[v],t=a.slidesGrid[v-x]-e;s?a.setTranslate(a.translate-t):(a.slideTo(v-x,0,!1,!0),n&&(a.touches[a.isHorizontal()?"startX":"startY"]+=t))}else a.slideToLoop(e,0,!1,!0);if(a.allowSlidePrev=c,a.allowSlideNext=h,a.controller&&a.controller.control&&!i){const t={slideRealIndex:e,slideTo:!1,direction:r,setTranslate:n,activeSlideIndex:o,byController:!0};Array.isArray(a.controller.control)?a.controller.control.forEach((e=>{!e.destroyed&&e.params.loop&&e.loopFix(t)})):a.controller.control instanceof a.constructor&&a.controller.control.params.loop&&a.controller.control.loopFix(t)}a.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const n=[];e.slides.forEach((e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;n[t]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),n.forEach((e=>{r.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}},grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const r="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}},events:{attachEvents:function(){const e=this,t=s(),{params:r}=e;e.onTouchStart=M.bind(e),e.onTouchMove=D.bind(e),e.onTouchEnd=O.bind(e),r.cssMode&&(e.onScroll=F.bind(e)),e.onClick=N.bind(e),e.onLoad=B.bind(e),L||(t.addEventListener("touchstart",V),L=!0),z(e,"on")},detachEvents:function(){z(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{realIndex:t,initialized:r,params:n,el:o}=e,i=n.breakpoints;if(!i||i&&0===Object.keys(i).length)return;const s=e.getBreakpoint(i,e.params.breakpointsBase,e.el);if(!s||e.currentBreakpoint===s)return;const a=(s in i?i[s]:void 0)||e.originalParams,l=H(e,n),c=H(e,a),h=n.enabled;l&&!c?(o.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!l&&c&&(o.classList.add(`${n.containerModifierClass}grid`),(a.grid.fill&&"column"===a.grid.fill||!a.grid.fill&&"column"===n.grid.fill)&&o.classList.add(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((t=>{const r=n[t]&&n[t].enabled,o=a[t]&&a[t].enabled;r&&!o&&e[t].disable(),!r&&o&&e[t].enable()}));const d=a.direction&&a.direction!==n.direction,p=n.loop&&(a.slidesPerView!==n.slidesPerView||d);d&&r&&e.changeDirection(),u(e.params,a);const f=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),h&&!f?e.disable():!h&&f&&e.enable(),e.currentBreakpoint=s,e.emit("_beforeBreakpoint",a),p&&r&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",a)},getBreakpoint:function(e,t="window",r){if(!e||"container"===t&&!r)return;let n=!1;const o=l(),i="window"===t?o.innerHeight:r.clientHeight,s=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:i*t,point:e}}return{value:e,point:e}}));s.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<s.length;e+=1){const{point:i,value:a}=s[e];"window"===t?o.matchMedia(`(min-width: ${a}px)`).matches&&(n=i):a<=r.clientWidth&&(n=i)}return n||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:r}=e,{slidesOffsetBefore:n}=r;if(n){const t=e.slides.length-1,r=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*n;e.isLocked=e.size>r}else e.isLocked=1===e.snapGrid.length;!0===r.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===r.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:r,rtl:n,el:o,device:i}=e,s=function(e,t){const r=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((n=>{e[n]&&r.push(t+n)})):"string"==typeof e&&r.push(t+e)})),r}(["initialized",r.direction,{"free-mode":e.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&"column"===r.grid.fill},{android:i.android},{ios:i.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);t.push(...s),o.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e.classList.remove(...t),this.emitContainerClasses()}}},q={};class W{constructor(...e){let t,r;1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?r=e[0]:[t,r]=e,r||(r={}),r=u({},r),t&&!r.el&&(r.el=t);const n=s();if(r.el&&"string"==typeof r.el&&n.querySelectorAll(r.el).length>1){const e=[];return n.querySelectorAll(r.el).forEach((t=>{const n=u({},r,{el:t});e.push(new W(n))})),e}const o=this;o.__swiper__=!0,o.support=E(),o.device=function(e={}){return w||(w=function({userAgent:e}={}){const t=E(),r=l(),n=r.navigator.platform,o=e||r.navigator.userAgent,i={ios:!1,android:!1},s=r.screen.width,a=r.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/);let h=o.match(/(iPad).*OS\s([\d_]+)/);const d=o.match(/(iPod)(.*OS\s([\d_]+))?/),u=!h&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===n;let f="MacIntel"===n;return!h&&f&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${s}x${a}`)>=0&&(h=o.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),f=!1),c&&!p&&(i.os="android",i.android=!0),(h||u||d)&&(i.os="ios",i.ios=!0),i}(e)),w}({userAgent:r.userAgent}),o.browser=(x||(x=function(){const e=l();let t=!1;function r(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(r()){const r=String(e.navigator.userAgent);if(r.includes("Version/")){const[e,n]=r.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));t=e<16||16===e&&n<2}}return{isSafari:t||r(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),x),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],r.modules&&Array.isArray(r.modules)&&o.modules.push(...r.modules);const i={};o.modules.forEach((e=>{e({params:r,swiper:o,extendParams:G(r,i),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})}));const a=u({},j,i);return o.params=u({},a,q,r),o.originalParams=u({},o.params),o.passedParams=u({},r),o.params&&o.params.on&&Object.keys(o.params.on).forEach((e=>{o.on(e,o.params.on[e])})),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===o.params.direction,isVertical:()=>"vertical"===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getSlideIndex(e){const{slidesEl:t,params:r}=this,n=v(m(t,`.${r.slideClass}, swiper-slide`)[0]);return v(e)-n}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0])}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=m(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const n=r.minTranslate(),o=(r.maxTranslate()-n)*e+n;r.translateTo(o,void 0===t?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((r=>{const n=e.getSlideClasses(r);t.push({slideEl:r,classNames:n}),e.emit("_slideClass",r,n)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const{params:r,slides:n,slidesGrid:o,slidesSizesGrid:i,size:s,activeIndex:a}=this;let l=1;if(r.centeredSlides){let e,t=n[a].swiperSlideSize;for(let r=a+1;r<n.length;r+=1)n[r]&&!e&&(t+=n[r].swiperSlideSize,l+=1,t>s&&(e=!0));for(let r=a-1;r>=0;r-=1)n[r]&&!e&&(t+=n[r].swiperSlideSize,l+=1,t>s&&(e=!0))}else if("current"===e)for(let e=a+1;e<n.length;e+=1)(t?o[e]+i[e]-o[a]<s:o[e]-o[a]<s)&&(l+=1);else for(let e=a-1;e>=0;e-=1)o[a]-o[e]<s&&(l+=1);return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;function n(){const t=e.rtlTranslate?-1*e.translate:e.translate,r=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(r),e.updateActiveIndex(),e.updateSlidesClasses()}let o;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((t=>{t.complete&&_(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(n(),e.params.autoHeight&&e.updateAutoHeight()):(o=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),o||n()),r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const r=this,n=r.params.direction;return e||(e="horizontal"===n?"vertical":"horizontal"),e===n||"horizontal"!==e&&"vertical"!==e||(r.el.classList.remove(`${r.params.containerModifierClass}${n}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach((t=>{"vertical"===e?t.style.width="":t.style.height=""})),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if("string"==typeof r&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.shadowEl&&(t.isElement=!0);const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(n()):m(r,n())[0];return!o&&t.params.createElements&&(o=function(e,t=[]){const r=document.createElement(e);return r.classList.add(...Array.isArray(t)?t:[t]),r}("div",t.params.wrapperClass),r.append(o),m(r,`.${t.params.slideClass}`).forEach((e=>{o.append(e)}))),Object.assign(t,{el:r,wrapperEl:o,slidesEl:t.isElement?r:o,mounted:!0,rtl:"rtl"===r.dir.toLowerCase()||"rtl"===g(r,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===r.dir.toLowerCase()||"rtl"===g(r,"direction")),wrongRTL:"-webkit-box"===g(o,"display")}),!0}init(e){const t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach((e=>{e.complete?_(t,e):e.addEventListener("load",(e=>{_(t,e.target)}))})),A(t),t.initialized=!0,A(t),t.emit("init"),t.emit("afterInit")),t}destroy(e=!0,t=!0){const r=this,{params:n,el:o,wrapperEl:i,slides:s}=r;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),n.loop&&r.loopDestroy(),t&&(r.removeClasses(),o.removeAttribute("style"),i.removeAttribute("style"),s&&s.length&&s.forEach((e=>{e.classList.remove(n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),r.emit("destroy"),Object.keys(r.eventsListeners).forEach((e=>{r.off(e)})),!1!==e&&(r.el.swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(r)),r.destroyed=!0),null}static extendDefaults(e){u(q,e)}static get extendedDefaults(){return q}static get defaults(){return j}static installModule(e){W.prototype.__modules__||(W.prototype.__modules__=[]);const t=W.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>W.installModule(e))),W):(W.installModule(e),W)}}Object.keys(U).forEach((e=>{Object.keys(U[e]).forEach((t=>{W.prototype[t]=U[e][t]}))})),W.use([function({swiper:e,on:t,emit:r}){const n=l();let o=null,i=null;const s=()=>{e&&!e.destroyed&&e.initialized&&(r("beforeResize"),r("resize"))},a=()=>{e&&!e.destroyed&&e.initialized&&r("orientationchange")};t("init",(()=>{e.params.resizeObserver&&void 0!==n.ResizeObserver?e&&!e.destroyed&&e.initialized&&(o=new ResizeObserver((t=>{i=n.requestAnimationFrame((()=>{const{width:r,height:n}=e;let o=r,i=n;t.forEach((({contentBoxSize:t,contentRect:r,target:n})=>{n&&n!==e.el||(o=r?r.width:(t[0]||t).inlineSize,i=r?r.height:(t[0]||t).blockSize)})),o===r&&i===n||s()}))})),o.observe(e.el)):(n.addEventListener("resize",s),n.addEventListener("orientationchange",a))})),t("destroy",(()=>{i&&n.cancelAnimationFrame(i),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null),n.removeEventListener("resize",s),n.removeEventListener("orientationchange",a)}))},function({swiper:e,extendParams:t,on:r,emit:n}){const o=[],i=l(),s=(t,r={})=>{const s=new(i.MutationObserver||i.WebkitMutationObserver)((t=>{if(e.__preventObserver__)return;if(1===t.length)return void n("observerUpdate",t[0]);const r=function(){n("observerUpdate",t[0])};i.requestAnimationFrame?i.requestAnimationFrame(r):i.setTimeout(r,0)}));s.observe(t,{attributes:void 0===r.attributes||r.attributes,childList:void 0===r.childList||r.childList,characterData:void 0===r.characterData||r.characterData}),o.push(s)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(()=>{if(e.params.observer){if(e.params.observeParents){const t=function(e,t){const r=[];let n=e.parentElement;for(;n;)r.push(n),n=n.parentElement;return r}(e.el);for(let e=0;e<t.length;e+=1)s(t[e])}s(e.el,{childList:e.params.observeSlideChildren}),s(e.wrapperEl,{attributes:!1})}})),r("destroy",(()=>{o.forEach((e=>{e.disconnect()})),o.splice(0,o.length)}))}]);const $=W}}]);
//# sourceMappingURL=186.7454792c.js.map